<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>实证｜双重差分法的安慰剂检验</title>
      <link href="/posts/1706/"/>
      <url>/posts/1706/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>引用信息：</strong></p><p>陈强, 齐霁, 颜冠鹏. 双重差分法的安慰剂检验：一个实践的指南[J].管理世界, 2025, 41(02): 181-220.</p></blockquote><p>双重差分法（difference-in-differences，DID）是实证研究中最常用的因果推断方法之一。越来越多的研究通过“安慰剂检验”进一步探讨遗漏混杂因素及其可能引发的偏差。一般而言，安慰剂检验主要通过伪造干预组和伪造干预时间进行。</p><p>陈强等（2025）《双重差分法的安慰剂检验：一个实践的指南》一文系统梳理了标准DID、交叠 DID、连续 DID、队列 DID等多种差分法的安慰剂检验思路和方法，并提供了标准 DID 和交叠 DID的安慰剂检验程序，本文对该文章提供的安慰剂检验程序进行梳理和复现。<strong>推荐大家先阅读原论文，然后使用下面程序进行复现。</strong></p><h2 id="一标准-did">一、标准 DID</h2><p>在标准 DID模型中，政策冲击同步发生，且不存在政策退出，一旦受到处理，则在样本期间一直受到处理。这种DID设计包含两组（即干预组和控制组）与两时段（干预前和干预后）的数据。</p><p>标准 DID 估计下，处理组的平均处理效应：</p><p><span class="math display">\[\begin{align}ATT = \text{E} [y_{it}(1) -y_{it}(0) \ | \ D_{it}=1 ]\end{align}\]</span></p><p>对于标准 DID，我们通常使用双重固定效应模型进行估计：</p><p><span class="math display">\[\begin{align}y_{it}= \delta D_{it} + \beta Z_{it} + u_{it} + \lambda _t +\varepsilon_{it}\end{align}\]</span></p><p>其中，<span class="math inline">\(y_{it}\)</span>表示被解释变量，<span class="math inline">\(D_{it}\)</span>表示政策干预，<span class="math inline">\(Z_{it}\)</span>表示控制变量；<span class="math inline">\(\delta\)</span> 即为上面待估计ATT；<span class="math inline">\(u_{it}\)</span> 为个体固定效应，<spanclass="math inline">\(\lambda_t\)</span> 为时间固定效应，<spanclass="math inline">\(\varepsilon_{it}\)</span> 为随机扰动项。</p><h2 id="二标准-did-的安慰剂检验">二、标准 DID 的安慰剂检验</h2><p>一般而言，安慰剂检验主要通过伪造干预组和伪造干预时间进行。陈强等（2025）将安慰剂检验总结为四种类型：时间安慰剂、个体安慰剂、混合安慰剂和外部安慰剂。通常情况下，前三种安慰剂检验不需要收集外部数据集，因此适用范围较广，并且有标准化的检验程序。外部安慰剂检验则需要根据研究选题和数据结构灵活调整，往往没有标准化的检验程序。因此，本文重点介绍前三种安慰剂检验的步骤和代码实现。</p><h3 id="标准-did-的时间安慰剂检验">1. 标准 DID 的时间安慰剂检验</h3><h4 id="简要原理">1.1 简要原理</h4><p><strong>时间安慰剂检验的本质是伪造干预时间。</strong>在进行时间安慰剂检验时，可选择除第 1 期外的处理前某期（比如第 <spanclass="math inline">\(s\)</span>期）作为伪干预时间，从而定义如下伪处理变量：</p><p><span class="math display">\[\begin{align}D_{it}^* =\begin{cases}1 &amp; \text{若 } i \in \text{处理组, 且 } t \geq s \\0 &amp; \text{其他}\end{cases}\end{align}\]</span></p><p>对于处理前样本，恒有 <span class="math inline">\(D_{it}=0\)</span>。因此，对于处理前样本，<span class="math inline">\(D_{it}^ *=1\)</span>仅表明接受了安慰剂（比如吃了没有药物的糖丸），但并未受到处理，故本文将伪处理变量<span class="math inline">\(D_{it}^ *\)</span> 称为“安慰剂变量”（placebovariable）。 更一般地，<span class="math inline">\(D_{it}^ * =1\)</span>仅表示个体 <span class="math inline">\(i\)</span> 在时期 <spanclass="math inline">\(t\)</span>接受了安慰剂，而无论其是否受到处理（也可能受到处理）。将上述方程所定义的安慰剂变量 <span class="math inline">\(D_{it}^*\)</span>代入方程（2），且限制仅使用处理前样本，即可进行时间安慰剂检验。</p><p>如下图所示，假定从 <span class="math inline">\(t=6\)</span>期开始，样本 <span class="math inline">\(i=3\)</span> 和 <spanclass="math inline">\(i=4\)</span> 接受干预。我们可以使用 <spanclass="math inline">\(1 \leq t \leq 5\)</span>的样本进行时间安慰剂检验，将未接受干预的 <spanclass="math inline">\(t=4\)</span> 和 <spanclass="math inline">\(t=5\)</span>设置为伪干预时间，检验干预组在伪干预时间内是否有显著的效应。如果伪干预时间的效应显著，则说明可能存在时变的遗漏因素。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250629165320-lhk5fby.png" style="width:700px" alt="标准 DID 的时间安慰剂检验" /></p><h4 id="代码实现">1.2 代码实现</h4><p>使用陈强等（2025）开发的命令 <code>didplacebo</code> ，可以对标准 DID进行时间安慰剂检验。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 安装 didplacebo 命令</span></span><br><span class="line"><span class="keyword">ssc</span> install didplacebo, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 调用 Cao and Chen (2022) 的《漕粮海运》数据集</span></span><br><span class="line"><span class="keyword">use</span> cao_chen.dta, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">xtset</span> county year</span><br><span class="line"></span><br><span class="line"><span class="comment">** DID 估计和时间安慰剂检验</span></span><br><span class="line">reghdfe rebel canal_post, absorb(i.county i.year) <span class="keyword">cluster</span>(county)</span><br><span class="line"><span class="keyword">estimates</span> store did_cao_chen</span><br><span class="line">didplacebo did_cao_chen, treatvar(canal_post) pbotime(1(1)10)</span><br></pre></td></tr></table></figure><p>我们使用了 <code>ssc install didplacebo, replace</code> 安装<code>didplacebo</code> 命令，而没有使用原论文中的<code>all</code>选项来同时安装命令和下载数据集。这是因为数据集文件较大，网络不佳可能导致Stata 卡死甚至崩溃。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250628151238-2gj594q.png" style="width:600px" alt="安装程序和下载数据" /></p><blockquote><p><strong>注意：</strong>使用<code>ssc install</code>安装的<code>reghdfe</code>命令，在计算过程中会出现问题，建议前往作者Github主页下载<code>reghdfe</code>命令。该主页中包含<code>reghdfe</code>的安装方法。</p><p><strong>链接：</strong> https://github.com/sergiocorreia/reghdfe</p></blockquote><h4 id="结果展示">1.3 结果展示</h4><p>下面是使用高维固定效应估计 <code>reghdfe</code> 的估计结果：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">. reghdfe rebel canal_post, absorb(i.county i.year) <span class="keyword">cluster</span>(county)</span><br><span class="line">(MWFE estimator converged <span class="keyword">in</span> 2 iterations)</span><br><span class="line"></span><br><span class="line">HDFE Linear regression                            Number of obs   =    140,432</span><br><span class="line">Absorbing 2 HDFE groups                           <span class="built_in">F</span>(   1,    535) =       5.23</span><br><span class="line">Statistics robust to heteroskedasticity           <span class="keyword">Prob</span> &gt; F        =     0.0226</span><br><span class="line">                                                  R-squared       =     0.0308</span><br><span class="line">                                                  Adj R-squared   =     0.0253</span><br><span class="line">                                                  Within R-sq.    =     0.0002</span><br><span class="line">Number of clusters (county)  =        536         Root MSE        =     0.3848</span><br><span class="line"></span><br><span class="line">                               (Std. <span class="keyword">err</span>. adjusted <span class="keyword">for</span> 536 clusters <span class="keyword">in</span> county)</span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line">             |               Robust</span><br><span class="line">       rebel | Coefficient  std. <span class="keyword">err</span>.      t    P&gt;|t|     [95% <span class="keyword">conf</span>. interval]</span><br><span class="line">-------------+----------------------------------------------------------------</span><br><span class="line">  canal_post |   .0380143    .016621     2.29   0.023     .0053639    .0706647</span><br><span class="line">       _cons |   .0313251   .0007227    43.35   0.000     .0299054    .0327447</span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">Absorbed degrees of freedom:</span><br><span class="line">-----------------------------------------------------+</span><br><span class="line"> Absorbed FE | Categories  - Redundant  = Num. Coefs |</span><br><span class="line">-------------+---------------------------------------|</span><br><span class="line">      county |       536         536           0    *|</span><br><span class="line">        year |       262           0         262     |</span><br><span class="line">-----------------------------------------------------+</span><br><span class="line"><span class="comment">* = FE nested within cluster; treated as redundant for DoF computation</span></span><br></pre></td></tr></table></figure><p>我们将上述实证结果保存至<code>did_cao_chen.dta</code>数据集，然后将处理时间分别滞后 1 至 10期，使用 <code>didplacebo</code>命令对上述实证结果进行时间安慰剂检验。</p><blockquote><p><strong>补充：什么是滞后？什么是提前？</strong></p><ul><li>“滞后”是某个变量的过去取值，即用过去的信息来解释当前或未来的结果。对<span class="math inline">\(X\)</span> 滞后 1 期，其估计方程通常表示为<span class="math inline">\(Y _t = \beta_0 +\beta_1 X_{t-1} +\varepsilon_t\)</span>。</li><li>“提前”是某个变量的未来取值，即用未来的信息来解释当前或过去的结果。对<span class="math inline">\(X\)</span> 提前 1 期，其估计方程通常表示为<span class="math inline">\(Y _t = \beta_0 +\beta_1 X_{t+1} +\varepsilon_t\)</span>。</li></ul></blockquote><p>使用 <code>didplacebo</code>命令进行时间安慰剂检验，会得到一个实证结果表和包含置信区间的检验结果图。下面的实证结果表显示，如果将干预时间滞后1-10期，回归结果均不显著。从下方的图中可以更加直观地时间安慰剂检验结果，各个滞后期的95% 结果置信区间均包含 0，表明滞后 1-10期后，干预政策均无显著的影响，通过了安慰剂检验。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">. didplacebo did_cao_chen, treatvar(canal_post) pbotime(1(1)10)</span><br><span class="line"></span><br><span class="line">Implementing <span class="keyword">in</span>-time placebo <span class="keyword">test</span> using fake treatment time shifted back <span class="keyword">by</span> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 periods respectively.</span><br><span class="line"></span><br><span class="line">Results of <span class="keyword">in</span>-time placebo <span class="keyword">test</span> using fake treatment times:</span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line">             | Coefficient  Std. <span class="keyword">err</span>.      z    P&gt;|z|     [95% <span class="keyword">conf</span>. interval]</span><br><span class="line">-------------+----------------------------------------------------------------</span><br><span class="line">  canal_post |</span><br><span class="line">         L1. |   .0237488   .0323933     0.73   0.463     -.039741    .0872386</span><br><span class="line">         L2. |  -.0018263   .0177129    -0.10   0.918    -.0365429    .0328903</span><br><span class="line">         L3. |  -.0072098   .0123804    -0.58   0.560    -.0314749    .0170552</span><br><span class="line">         L4. |   .0365355   .0313244     1.17   0.243    -.0248592    .0979302</span><br><span class="line">         L5. |   .0193318   .0257651     0.75   0.453    -.0311668    .0698304</span><br><span class="line">         L6. |   .0085124   .0216505     0.39   0.694    -.0339218    .0509467</span><br><span class="line">         L7. |   .0156334   .0202899     0.77   0.441    -.0241341     .055401</span><br><span class="line">         L8. |   .0412773   .0259976     1.59   0.112    -.0096771    .0922318</span><br><span class="line">         L9. |   .0348408   .0231507     1.50   0.132    -.0105337    .0802153</span><br><span class="line">        L10. |   .0283695    .020891     1.36   0.174    -.0125762    .0693151</span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line"><span class="keyword">Note</span>: The standard errors are computed using the same method <span class="keyword">as</span> specified <span class="keyword">by</span> the Stata command previously used <span class="keyword">for</span> DID estimation.</span><br><span class="line">      <span class="keyword">For</span> example, <span class="keyword">if</span> <span class="string">&quot;xtreg, r&quot;</span> or <span class="string">&quot;reghdfe, cluster(clustvar)&quot;</span> is used, then <span class="keyword">cluster</span>-robust standard errors are reported.</span><br><span class="line"></span><br><span class="line">Finished.</span><br></pre></td></tr></table></figure><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/placebo_time-20250629173835-o5vaxu0.png" style="width:700px" alt="标准 DID 的时间安慰剂检验图" /></p><h3 id="标准-did-的个体安慰剂检验">2. 标准 DID 的个体安慰剂检验</h3><h4 id="简要原理-1">2.1 简要原理</h4><p><strong>个体安慰剂检验（论文中称为“空间安慰剂检验”）的本质是伪造干预组。</strong>该检验关注“精确原假设”（sharp nullhypothesis），<strong>原假设为所有处理个体的处理效应均为0</strong>，即：</p><p><span class="math display">\[H_0: \ y_{it}(1) - y_{it}(0) = 0 \quad \text{（对于所有 } D_{it} = 1\text{）}\]</span></p><p>在此精确原假设下，所有个体的处理效应都是0，而潜在结果均等于观测结果。此时，原估计方程的 <spanclass="math inline">\(\delta =0\)</span>，因此该假设可以被转化为 <spanclass="math inline">\(H_0:\ \delta = 0\)</span>。</p><p>个体安慰剂检验可以使用“随机”或“非随机”的方式构造伪干预组。<strong>这里使用更加常见的随机抽样产生的安慰剂样本进行DID 估计。</strong>为保证上述的个体安慰剂检验结果不依赖于特定样本，可以使用 Bootstrap重复抽样 500 次或者 1000 次进行估计。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250629174658-3244r7i.png" style="width:700px" alt="标准 DID 的个体安慰剂检验" /></p><h4 id="代码实现-1">2.2 代码实现</h4><p>我们仍然使用 Cao and Chen (2022)的《漕粮海运》数据集进行个体安慰剂检验。检验时，设置 Bootstrap 次数为500 次。为保证结果可复现，将随机种子设置为 <code>seed(1)</code>。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">didplacebo did_cao_chen, treatvar(canal_post) pbounit rep(500) seed(1)</span><br></pre></td></tr></table></figure><h4 id="结果展示-1">2.3 结果展示</h4><p>个体安慰剂检验的结果会提供一个估计结果表和估计系数的密度分布图。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">. didplacebo did_cao_chen, treatvar(canal_post) pbounit rep(500) seed(1)</span><br><span class="line"></span><br><span class="line">Implementing <span class="keyword">in</span>-space placebo <span class="keyword">test</span> using fake treatment units:</span><br><span class="line">Simulations (500):.........10.........20.........30.........40.........50.........60.........70.........80.........90.........100......</span><br><span class="line">&gt; ...110.........120.........130.........140.........150.........160.........170.........180.........190.........200.........210.......</span><br><span class="line">&gt; ..220.........230.........240.........250.........260.........270.........280.........290.........300.........310.........320........</span><br><span class="line">&gt; .330.........340.........350.........360.........370.........380.........390.........400.........410.........420.........430.........</span><br><span class="line">&gt; 440.........450.........460.........470.........480.........490.........500</span><br><span class="line">Results of <span class="keyword">in</span>-space placebo <span class="keyword">test</span> results using fake treatment units:</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line">           |             |               P-value             </span><br><span class="line">           | Coefficient |  <span class="keyword">Two</span>-sided  Left-sided  right-sided</span><br><span class="line">-----------+-------------+------------------------------------</span><br><span class="line">canal_post |    0.038014 |     0.0080      0.9920       0.0080</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line"><span class="keyword">Note</span>: (1) The <span class="keyword">two</span>-sided p-value is the frequency that the absolute values of the placebo effects are greater than or equal to the</span><br><span class="line">      absolute value of estimated treatment effect.</span><br><span class="line">      (2) The left-sided (right-sided) p-value is the frequency that the placebo effects are smaller (greater) than or equal to the</span><br><span class="line">      estimated treatment effect.</span><br><span class="line"></span><br><span class="line">Finished.</span><br></pre></td></tr></table></figure><p><strong>需要注意的是，估计结果表的重点不在于前面的估计系数</strong><strong>​<code>0.038014</code>​</strong>​ <strong>，而是后面的 P值。</strong></p><ul><li>结果表中的系数是上面使用 <code>reghdfe</code> 命令进行 DID估计得到的系数。</li><li>上表中包含三个 P 值，分别是双边检验、左边检验和右边检验的 P值。双边检验的目的是估计系数的绝对值 <span class="math inline">\(|\hat{\delta}^*|\)</span> 是否显著区别于 0，左边检验是检验估计系数是否满足<span class="math inline">\(\hat {\delta}^* \lt0\)</span>，右边检验是检验估计系数是否满足 <spanclass="math inline">\(\hat {\delta}^* \gt 0\)</span>。</li></ul><p><strong>上面的估计系数为正数，我们应该关注双边检验和右边检验的结果。</strong>估计结果表显示，双边检验和右侧检验均在 1%水平上显著，表明基准回归系数为正是稳健的。同时基于绘制的个体安慰剂检验密度分布图，可以发现真实的回归系数（黑色竖线）位于检验结果模拟分布的右侧长尾处，表明基准回归结果为正是稳健的。</p><p>同理，如果估计系数是负数，我们应该关注双边检验和左边检验的结果。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/placebo_unit-20250629180436-r3fah1d.png" style="width:700px" alt="标准 DID 的个体安慰剂检验图" /></p><h3 id="标准-did-的混合安慰剂检验">3. 标准 DID 的混合安慰剂检验</h3><h4 id="简要原理-2">3.1 简要原理</h4><p>做完上面的时间和个体的安慰剂检验还是不够过瘾，是不是还存在同时随个体和时间变化的特征影响估计结果呢？我们可以将上面时间和个体安慰剂检验组合起来，<strong>同时构造伪干预组和干预时间，进行混合安慰剂检验。</strong></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250629174730-h6tc5ot.png" style="width:700px" alt="标准 DID 的混合安慰剂检验" /></p><h4 id="代码实现-2">3.2 代码实现</h4><p><code>didplacebo</code> 命令可以用于标准 DID 和交叠 DID的安慰剂检验，在进行混合安慰剂检验时，需要指定 DID 的类型。我们设置<code>pbomix()</code> 选项为 <code>pbomix(1)</code>，即适用于标准 DID的混合安慰剂检验。为保证结果可复现，将随机种子设置为<code>seed(1)</code>。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">didplacebo did_cao_chen, treatvar(canal_post) pbomix(1) seed(1)</span><br></pre></td></tr></table></figure><h4 id="结果展示-2">3.3 结果展示</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">. didplacebo did_cao_chen, treatvar(canal_post) pbomix(1) seed(1)</span><br><span class="line"></span><br><span class="line">Implementing mixed placebo <span class="keyword">test</span> <span class="keyword">for</span> standard DID (<span class="keyword">version</span> 1) using both fake treatment units and times:</span><br><span class="line">-------------------------------------------------------------------------</span><br><span class="line">   The number of units randomly   |     The <span class="keyword">range</span> within <span class="keyword">which</span> fake      </span><br><span class="line"> selected <span class="keyword">as</span> fake treatment units | treatment times are randomly selected</span><br><span class="line">----------------------------------+--------------------------------------</span><br><span class="line">                73                |             [1651, 1911]             </span><br><span class="line">-------------------------------------------------------------------------</span><br><span class="line">Simulations (500):.........10.........20.........30.........40.........50.........60.........70.........80.........90.........100......</span><br><span class="line">&gt; ...110.........120.........130.........140.........150.........160.........170.........180.........190.........200.........210.......</span><br><span class="line">&gt; ..220.........230.........240.........250.........260.........270.........280.........290.........300.........310.........320........</span><br><span class="line">&gt; .330.........340.........350.........360.........370.........380.........390.........400.........410.........420.........430.........</span><br><span class="line">&gt; 440.........450.........460.........470.........480.........490.........500</span><br><span class="line">Results of mixed placebo <span class="keyword">test</span> <span class="keyword">for</span> standard DID (<span class="keyword">version</span> 1) using both fake treatment units and times:</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line">           |             |               P-value             </span><br><span class="line">           | Coefficient |  <span class="keyword">Two</span>-sided  Left-sided  right-sided</span><br><span class="line">-----------+-------------+------------------------------------</span><br><span class="line">canal_post |    0.038014 |     0.0060      0.9960       0.0040</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line"><span class="keyword">Note</span>: (1) The <span class="keyword">two</span>-sided p-value is the frequency that the absolute values of the placebo effects are greater than or equal to the</span><br><span class="line">      absolute value of estimated treatment effect.</span><br><span class="line">      (2) The left-sided (right-sided) p-value is the frequency that the placebo effects are smaller (greater) than or equal to the</span><br><span class="line">      estimated treatment effect.</span><br><span class="line"></span><br><span class="line">Finished.</span><br></pre></td></tr></table></figure><p>上面混合安慰剂检验结果的解读方法，和个体安慰剂检验是基本一致的。由于基准回归系数是正的，因此我们重点关注双边检验和右边检验，可以发现其P 值均小于 0.01，在 1%水平上通过了混合安慰剂检验，即基准回归估计的正系数是稳健的。同时我们将真实的估计系数放到密度分布图中，可以发现真实的估计系数位于右侧长尾处，再次验证基准回归结果是稳健的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/placebo_mix-20250629182208-olssfb3.png" style="width:700px" alt="标准 DID 的混合安慰剂检验图" /></p><h3 id="标准-did-的外部安慰剂检验">4. 标准 DID 的外部安慰剂检验</h3><p>外部安慰剂检验则利用样本之外的外部信息进行安慰剂检验，具体包括 3种方式，即更换结果变量、更换处理变量与更换样本。</p><p><strong>更换结果变量：</strong>在理论上，可以预期处理变量对于其他结果变量不应有任何作用。若更换结果变量后，依然发现显著的处理效应（而理论上此处理效应为0），则说明此结果可能为时变的混杂因素所驱动。</p><p><strong>更换处理变量：</strong>其本质是考察竞争性政策的影响，用检验竞争性政策对结果变量无显著影响来论证原处理变量是有效的。若更换处理变量后未发现显著效应（而理论上应为正向或负向显著），则表明原处理效应结果不太可能由样本间不可观测差异所驱动。这一检验的思路与工具变量的排他性检验类似。</p><p><strong>更换样本：</strong>若更换样本后处理效应不再显著（而理论上应为0），则表明原估计结果较难由特定样本选择或时间设定所驱动。</p><h2 id="三交叠-did-的安慰剂检验">三、交叠 DID 的安慰剂检验</h2><h3 id="交叠-did">1. 交叠 DID</h3><p>与标准 DID 不同，交叠 DID允许个体在不同时间受到处理，但一旦进入处理状态，则在样本期间持续受到处理，不允许政策退出。比如，新一轮承包耕地确权登记就是适合交叠DID评估的政策，一个地区在纳入承包耕地确权登记试点地区后，不会退出试点名单。</p><blockquote><p><strong>补充：新一轮承包耕地确权登记</strong></p><p>2009 年，全国有 3 个村开始试点承包耕地确权登记；到 2010 年，共有 8个村参与试点；2011-2013年期间，全国共有上百个县成为试点，一个县一般选取一个或多个乡镇进行试点；2014年，山东、安徽和四川开始整省试点，2015年新增江苏、江西、湖北、湖南、甘肃、宁夏、吉林、贵州、河南等 9个省份作为试点整省推进，此时已有累计 12个省份整省推进承包耕地确权。随后，承包耕地确权的范围逐步扩大，到 2019年，全国农村承包耕地确权登记颁证工作基本进入收尾阶段，仅有少数地区未完成。</p><p><strong>参考：</strong> 杨广亮, 王军辉.新一轮农地确权、农地流转与规模经营——来自 CHFS 的证据[J]. 经济学(季刊),2022, 22(01): 129-152.</p></blockquote><p>交叠 DID的回归方程仍可采用标准形式表达，但由于每个个体的处理起始时间不同，处理变量<span class="math inline">\(D_{it}\)</span> 无法表示为统一的交互项 <spanclass="math inline">\(\text{treat}_i \times\text{post}_t\)</span>；因此，其传统估计方法为双向固定效应（TWFE）估计量，对应的安慰剂检验也通常基于TWFE 实施。与标准 DID 类似，交叠 DID的安慰剂检验也可分为时间、空间、混合与外部安慰剂检验四种类型。由于标准DID 是交叠 DID的特例（前者只有两个组群，即处理组与控制组；而后者可有多个组群，根据受处理时间而分类），故标准DID 的安慰剂检验也可视为交叠 DID 安慰剂检验的特例。</p><p><span class="math display">\[\begin{align}y_{it}= \delta  D_{it} + \beta Z_{it} + u_{it} + \lambda _t +\varepsilon_{it}\end{align}\]</span></p><p>其中，<span class="math inline">\(y_{it}\)</span>表示被解释变量，<span class="math inline">\(D_{it}\)</span>表示政策干预，<span class="math inline">\(Z_{it}\)</span>表示控制变量；<span class="math inline">\(\delta\)</span> 即为上面待估计ATT；<span class="math inline">\(u_{it}\)</span> 为个体固定效应，<spanclass="math inline">\(\lambda_t\)</span> 为时间固定效应，而 <spanclass="math inline">\(\varepsilon_{it}\)</span> 为随机扰动项。</p><h4 id="交叠-did-的时间安慰剂检验">1.1 交叠 DID 的时间安慰剂检验</h4><p>交叠 DID的时间安慰剂检验通过滞后处理时间设定伪处理期，在剔除真实处理后观测值后进行DID估计，以检验在未实际受处理前是否已存在显著效应，从而识别潜在的时变混杂因素。如下图所示，删除原干预组处理后的样本（<spanclass="math inline">\(i=3\)</span>，<span class="math inline">\(5 \leqt\leq  8\)</span> 和 <span class="math inline">\(i=4\)</span>，<spanclass="math inline">\(7 \leq t\leq  8\)</span>），并将干预时间滞后 2期。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250701121349-qdqj9kc.png" style="width:700px" alt="交叠 DID 的时间安慰剂检验" /></p><h4 id="交叠-did-的个体安慰剂检验">1.2 交叠 DID 的个体安慰剂检验</h4><p>类似于标准 DID，在交叠 DID中，也可以通过重新分配干预组和控制组，实现个体安慰剂检验。具体来看，根据样本中个体开始接受处理的不同时间，可将个体分为若干“组群”（cohorts）。<strong>交叠DID 的空间安慰剂检验使用伪处理组，但不改变处理时间。</strong> 与标准 DID类似，根据产生伪处理组的不同方式，交叠 DID的空间安慰剂检验分为“非随机”与“随机”两种。下图是使用“随机”置换手段伪造干预组，将个体<span class="math inline">\(i=3\)</span> 的干预行为置换到样本 <spanclass="math inline">\(i=4\)</span> 上，将个体 <spanclass="math inline">\(i=4\)</span> 的干预行为置换到样本 <spanclass="math inline">\(i=2\)</span>上，然后检验政策干预的效果是否仍然显著。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250701122016-fh2ppv4.png" style="width:700px" alt="交叠 DID 的个体安慰剂检验" /></p><h4 id="交叠-did-的混合安慰剂检验">1.3 交叠 DID 的混合安慰剂检验</h4><p>交叠 DID的混合安慰剂检验有两种方法：一是不再保持“组群”结构，实行“无约束”的混合安慰剂检验；二是保持“组群”结构，实行“有约束”的混合安慰剂检验。</p><h5 id="无约束的混合安慰剂检验">1.3.1 无约束的混合安慰剂检验</h5><p>对于无约束的混合安慰剂检验，其原理是：对于样本中的每位个体，在指定范围内随机抽取一个伪干预时间<span class="math inline">\(t^*_{i}\)</span> 得到安慰剂样本，进行 DID估计，并使用安慰剂效应的分布进行统计推断。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250701122609-8vfycwe.png" style="width:700px" alt="交叠 DID 的无约束混合安慰剂检验" /></p><h5 id="有约束的混合安慰剂检验">1.3.2 有约束的混合安慰剂检验</h5><p>有约束的混合安慰剂检验通过在保持组群规模不变的前提下随机分配伪干预时间，构造安慰剂样本并重复估计，以检验真实处理效应的显著性是否超过随机扰动所致。例如，Lietal.（2016）采用有约束的混合安慰剂检验，虽使用了伪干预时间，但仍保持组群结构<span class="math inline">\(\{N_1, \ldots, N_G\}\)</span>不变。该文使用我国 1995～2012年县级面板数据，考察分批推出的“省管县”改革对各县经济绩效的影响，交叠 DID估计结果发现显著的负效应。在进行有约束的混合安慰剂检验时，首先从1996～2011 年区间随机抽取 8 个伪干预时间 <spanclass="math inline">\(\{t_1, \ldots,t_8\}\)</span>（原始样本中省管县改革仅发生于 8个年份）。其次，从全样本中随机抽取 <spanclass="math inline">\(N_1\)</span> 个县，将其伪干预时间设为 <spanclass="math inline">\(t_1\)</span>；再从剩余 <spanclass="math inline">\((N - N_1)\)</span> 个县中随机抽取 <spanclass="math inline">\(N_2\)</span> 个县，将其伪干预时间设为 <spanclass="math inline">\(t_2\)</span>；以此类推。重复此过程 500 次，经 DID估计得到安慰剂效应的分布。结果发现处理效应估计值小于所有安慰剂效应的取值，故强烈拒绝“处理效应为0”的原假设。</p><h3 id="代码实现-3">2. 代码实现</h3><p>由于 DID 系列方法更新太快，陈强等（2025）主要基于 <code>xtreg</code>命令，开发 <code>didplacebo</code> 命令进行安慰剂检验。本章使用基于<code>xtreg</code> 开发的高维固定效应 <code>reghdfe</code> 命令进行 DID估计。<strong>交叠 DID 中更常用的</strong><strong>​<code>csdid</code>​</strong><strong>命令的安慰剂检验，相关代码和结果将在第四章中展示。</strong></p><p>在进行混合安慰剂检验时，针对交叠 DID，需要指定 <code>pbomix()</code>​选项为 <code>pbomix(2)</code> ​或<code>pbomix(3)</code>。其中，<code>pbomix(2)</code> ​适用于交叠 DID的无约束情形 <code>pbomix(3)</code> ​适用于交叠 DID 的有约束情形。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 调用案例数据集</span></span><br><span class="line"><span class="keyword">use</span> bbb.dta, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">xtset</span> statefip wrkyr</span><br><span class="line"></span><br><span class="line"><span class="comment">** 交叠 DID 估计</span></span><br><span class="line"><span class="keyword">global</span> cov <span class="string">&quot;gsp_pc_growth prop_blacks prop_dropouts prop_female_headed unemploymentrate&quot;</span></span><br><span class="line"><span class="keyword">xtreg</span> log_gini _intra <span class="variable">$cov</span> i.wrkyr, fe r</span><br><span class="line">reghdfe log_gini _intra <span class="variable">$cov</span>, absorb(statefip wrkyr) <span class="keyword">vce</span>(robust)</span><br><span class="line"><span class="keyword">estimates</span> store did_bbb</span><br><span class="line"></span><br><span class="line"><span class="comment">** 时间安慰剂检验</span></span><br><span class="line">didplacebo did_bbb, treatvar(_intra) pbotime(1(1)10)</span><br><span class="line"></span><br><span class="line"><span class="comment">** 个体安慰剂检验</span></span><br><span class="line">didplacebo did_bbb, treatvar(_intra) pbounit rep(500) seed(1)</span><br><span class="line"></span><br><span class="line"><span class="comment">** 无约束的混合安慰剂检验</span></span><br><span class="line">didplacebo did_bbb, treatvar(_intra) pbomix(2) seed(1)</span><br><span class="line"></span><br><span class="line"><span class="comment">** 有约束的混合安慰剂检验</span></span><br><span class="line">didplacebo did_bbb, treatvar(_intra) pbomix(3) seed(1)</span><br></pre></td></tr></table></figure><h3 id="结果展示-3">3. 结果展示</h3><h4 id="交叠-did-的时间安慰剂检验-1">3.1 交叠 DID 的时间安慰剂检验</h4><p>交叠 DID 时间安慰剂检验的命令和结果汇报与标准 DID一致。从下面的表可以发现，在滞后 2、3 和 6 年的时候，<spanclass="math inline">\(P\lt0.05\)</span>，但在滞后其他年份是不显著的。这说明平行趋势可能并不完全满足，大多数年份通过了安慰剂检验。在下面的图中，可以更直观地看到估计系数和95% 置信区间。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">. didplacebo did_bbb, treatvar(_intra) pbotime(1(1)10)</span><br><span class="line"></span><br><span class="line">Implementing <span class="keyword">in</span>-time placebo <span class="keyword">test</span> using fake treatment time shifted back <span class="keyword">by</span> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 periods respectively.</span><br><span class="line"></span><br><span class="line">Results of <span class="keyword">in</span>-time placebo <span class="keyword">test</span> using fake treatment times:</span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line">             | Coefficient  Std. <span class="keyword">err</span>.      z    P&gt;|z|     [95% <span class="keyword">conf</span>. interval]</span><br><span class="line">-------------+----------------------------------------------------------------</span><br><span class="line">      _intra |</span><br><span class="line">         L1. |   .0068046    .006336     1.07   0.283    -.0056136    .0192228</span><br><span class="line">         L2. |   .0134762   .0045357     2.97   0.003     .0045865     .022366</span><br><span class="line">         L3. |   .0112213   .0044049     2.55   0.011     .0025879    .0198546</span><br><span class="line">         L4. |   .0053115   .0045254     1.17   0.241     -.003558     .014181</span><br><span class="line">         L5. |   .0071231   .0046218     1.54   0.123    -.0019354    .0161816</span><br><span class="line">         L6. |   .0113446   .0051368     2.21   0.027     .0012767    .0214126</span><br><span class="line">         L7. |    .002451   .0051785     0.47   0.636    -.0076986    .0126007</span><br><span class="line">         L8. |  -.0009252    .005231    -0.18   0.860    -.0111778    .0093275</span><br><span class="line">         L9. |   .0040415   .0054689     0.74   0.460    -.0066773    .0147603</span><br><span class="line">        L10. |   .0071297   .0059886     1.19   0.234    -.0046078    .0188671</span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line"><span class="keyword">Note</span>: The standard errors are computed using the same method <span class="keyword">as</span> specified <span class="keyword">by</span> the Stata command previously used <span class="keyword">for</span> DID estimation. <span class="keyword">For</span> example, <span class="keyword">if</span> &quot;<span class="keyword">xtreg</span>,</span><br><span class="line">      r<span class="string">&quot; or &quot;</span>reghdfe, <span class="keyword">cluster</span>(clustvar)&quot; is used, then <span class="keyword">cluster</span>-robust standard errors are reported.</span><br><span class="line"></span><br><span class="line">Finished.</span><br></pre></td></tr></table></figure><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/placebo_time-20250701130907-eyrur49.png" style="width:700px" alt="交叠 DID 的时间安慰剂检验图" /></p><h4 id="交叠-did-的个体安慰剂检验-1">3.2 交叠 DID 的个体安慰剂检验</h4><p>使用 <code>pbounit</code> ​指定进行个体安慰剂检验，然后将 Bootstrap次数设置为 500 次，估计结果如下所示。</p><p>交叠 DID 个体安慰剂检验结果解读与上面标准 DID 类似，也是关注表中的 p值、图中黑色实线的位置。基准回归的估计系数是<code>-0.017724</code>，为负数，因此这里关注双边检验和左边检验的 p值。双边检验 <span class="math inline">\(P=0.0120\)</span>，表明在 5%水平上，估计系数的绝对值是显著区别于 0 的；左边检验 <spanclass="math inline">\(P=0.0060\)</span>，表明在 1%水平上，估计系数是显著小于 0的。同时，基于绘制的个体安慰剂检验密度分布图，可以发现真实的回归系数（黑色竖线）位于检验结果模拟分布的左侧长尾处，表明基准回归结果为负是稳健的。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">. didplacebo did_bbb, treatvar(_intra) pbounit rep(500) seed(1)</span><br><span class="line"></span><br><span class="line">Implementing <span class="keyword">in</span>-space placebo <span class="keyword">test</span> using fake treatment units:</span><br><span class="line">Simulations (500):.........10.........20.........30.........40.........50.........60.........70.........80.........90.........100.........110.........120.....</span><br><span class="line">&gt; ....130.........140.........150.........160.........170.........180.........190.........200.........210.........220.........230.........240.........250.....</span><br><span class="line">&gt; ....260.........270.........280.........290.........300.........310.........320.........330.........340.........350.........360.........370.........380.....</span><br><span class="line">&gt; ....390.........400.........410.........420.........430.........440.........450.........460.........470.........480.........490.........500</span><br><span class="line">Results of <span class="keyword">in</span>-space placebo <span class="keyword">test</span> results using fake treatment units:</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line">           |             |               P-value             </span><br><span class="line">           | Coefficient |  <span class="keyword">Two</span>-sided  Left-sided  right-sided</span><br><span class="line">-----------+-------------+------------------------------------</span><br><span class="line">    _intra |   -0.017724 |     0.0120      0.0060       0.9940</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line"><span class="keyword">Note</span>: (1) The <span class="keyword">two</span>-sided p-value is the frequency that the absolute values of the placebo effects are greater than or equal to the absolute value of</span><br><span class="line">      estimated treatment effect.</span><br><span class="line">      (2) The left-sided (right-sided) p-value is the frequency that the placebo effects are smaller (greater) than or equal to the estimated treatment</span><br><span class="line">      effect.</span><br><span class="line"></span><br><span class="line">Finished.</span><br></pre></td></tr></table></figure><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/placebo_unit-20250701130919-qlnyf5j.png" style="width:700px" alt="交叠 DID 的个体安慰剂检验图" /></p><h4 id="交叠-did-的混合安慰剂检验-1">3.3 交叠 DID 的混合安慰剂检验</h4><h5 id="无约束的混合安慰剂检验-1">3.3.1<strong>无约束的混合安慰剂检验</strong></h5><p>指定 <code>pbomix(2)</code>​以进行无约束的混合安慰剂检验，结果展示与交叠 DID的个体安慰剂检验类似。</p><p>在每一次的估计中，都抽取了 49 个伪干预组个体，伪造的时间范围是1976-2000 年，同时估计系数在双边检验和左边检验中在 1%水平上显著。结合下方的核密度估计图，可以发现黑色实线代表的真实估计系数在模拟结果的左侧长尾处，表明“基准回归的系数显著为负”这一结果是稳健的。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">. didplacebo did_bbb, treatvar(_intra) pbomix(2) seed(1)</span><br><span class="line"></span><br><span class="line">Implementing unrestricted mixed placebo <span class="keyword">test</span> <span class="keyword">for</span> staggered DID (<span class="keyword">version</span> 2) using both fake treatment units and times:</span><br><span class="line">-------------------------------------------------------------------------</span><br><span class="line">   The number of units randomly   |     Th <span class="keyword">range</span> within <span class="keyword">which</span> fake      </span><br><span class="line"> selected <span class="keyword">as</span> fake treatment units | treatment times are randomly selected</span><br><span class="line">----------------------------------+--------------------------------------</span><br><span class="line">                49                |             [1976, 2000]             </span><br><span class="line">-------------------------------------------------------------------------</span><br><span class="line">Simulations (500):.........10.........20.........30.........40.........50.........60.........70.........80.........90.........100.........110.........120.....</span><br><span class="line">&gt; ....130.........140.........150.........160.........170.........180.........190.........200.........210.........220.........230.........240.........250.....</span><br><span class="line">&gt; ....260.........270.........280.........290.........300.........310.........320.........330.........340.........350.........360.........370.........380.....</span><br><span class="line">&gt; ....390.........400.........410.........420.........430.........440.........450.........460.........470.........480.........490.........500</span><br><span class="line">Results of unrestricted mixed placebo <span class="keyword">test</span> <span class="keyword">for</span> staggered DID (<span class="keyword">version</span> 2) using both fake treatment units and times:</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line">           |             |               P-value             </span><br><span class="line">           | Coefficient |  <span class="keyword">Two</span>-sided  Left-sided  right-sided</span><br><span class="line">-----------+-------------+------------------------------------</span><br><span class="line">    _intra |   -0.017724 |     0.0040      0.0040       0.9960</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line"><span class="keyword">Note</span>: (1) The <span class="keyword">two</span>-sided p-value is the frequency that the absolute values of the placebo effects are greater than or equal to the absolute value of</span><br><span class="line">      estimated treatment effect.</span><br><span class="line">      (2) The left-sided (right-sided) p-value is the frequency that the placebo effects are smaller (greater) than or equal to the estimated treatment</span><br><span class="line">      effect.</span><br><span class="line"></span><br><span class="line">Finished.</span><br></pre></td></tr></table></figure><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/placebo_mix-20250701130934-vpn0dww.png" style="width:700px" alt="交叠 DID 的混合安慰剂检验图：无约束情形" /></p><h5 id="有约束的混合安慰剂检验-1"><strong>3.3.2有约束的混合安慰剂检验</strong></h5><p>指定 <code>pbomix(3)</code>​以进行有约束的混合安慰剂检验，结果展示与交叠 DID的个体安慰剂检验类似。</p><p>由于约束了组群不能随机分配，因此不再汇报虚拟的个体数量，伪造的时间范围是1976-2000 年。在双侧和右侧检验中，估计系数均在 1%水平上显著，同事黑色实线代表的真实估计系数在模拟结果的左侧长尾处，表明回归系数为负是稳健的。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">. didplacebo did_bbb, treatvar(_intra) pbomix(3) seed(1)</span><br><span class="line"></span><br><span class="line">Implementing restricted mixed placebo <span class="keyword">test</span> <span class="keyword">for</span> staggered DID (<span class="keyword">version</span> 3) using both fake treatment units and times:</span><br><span class="line">--------------------------------------</span><br><span class="line">     The <span class="keyword">range</span> within <span class="keyword">which</span> fake      </span><br><span class="line"> treatment times are randomly selected</span><br><span class="line">--------------------------------------</span><br><span class="line">             [1976, 2000]             </span><br><span class="line">--------------------------------------</span><br><span class="line">Simulations (500):.........10.........20.........30.........40.........50.........60.........70.........80.........90.........100.........110.........120.....</span><br><span class="line">&gt; ....130.........140.........150.........160.........170.........180.........190.........200.........210.........220.........230.........240.........250.....</span><br><span class="line">&gt; ....260.........270.........280.........290.........300.........310.........320.........330.........340.........350.........360.........370.........380.....</span><br><span class="line">&gt; ....390.........400.........410.........420.........430.........440.........450.........460.........470.........480.........490.........500</span><br><span class="line">Results of restricted mixed placebo <span class="keyword">test</span> <span class="keyword">for</span> staggered DID (<span class="keyword">version</span> 3) using both fake treatment units and times:</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line">           |             |               P-value             </span><br><span class="line">           | Coefficient |  <span class="keyword">Two</span>-sided  Left-sided  right-sided</span><br><span class="line">-----------+-------------+------------------------------------</span><br><span class="line">    _intra |   -0.017724 |     0.0000      0.0000       1.0000</span><br><span class="line">--------------------------------------------------------------</span><br><span class="line"><span class="keyword">Note</span>: (1) The <span class="keyword">two</span>-sided p-value is the frequency that the absolute values of the placebo effects are greater than or equal to the absolute value of</span><br><span class="line">      estimated treatment effect.</span><br><span class="line">      (2) The left-sided (right-sided) p-value is the frequency that the placebo effects are smaller (greater) than or equal to the estimated treatment</span><br><span class="line">      effect.</span><br><span class="line"></span><br><span class="line">Finished.</span><br></pre></td></tr></table></figure><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/placebo_mix2-20250701130948-4omhome.png" style="width:700px" alt="交叠 DID 的混合安慰剂检验图：有约束情形" /></p><h2 id="四基于-csdid-估计的交叠-did-的安慰剂检验">四、基于<code>csdid</code> 估计的交叠 DID 的安慰剂检验</h2><h3 id="csdid-估计结果">1. <code>csdid</code> 估计结果</h3><p>使用 Callaway and Sant’Anna（2021）开发的 <code>csdid</code>命令，可以实现进行多个干预时点的 DID 估计。<code>csdid</code> 命令基于<code>drdid</code> 命令开发，并在后续的绘图中需要使用<code>coefplot</code>​命令，这几个命令都是外部命令，在首次使用前需要进行安装。下面是基于<code>bbb.dta</code> 数据集使用 <code>csdid</code>命令进行估计的代码。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 安装命令包</span></span><br><span class="line"><span class="keyword">ssc</span> install csdid, <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">ssc</span> install drdid, <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">ssc</span> install coefplot, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">* csdid 估计</span></span><br><span class="line">csdid log_gini <span class="variable">$cov</span>, ivar(statefip) time(wrkyr) gvar(branch_reform) method(dripw) wboot rseed(1) agg(simple)</span><br></pre></td></tr></table></figure><p>下面是 <code>csdid</code> ​的估计结果，汇报的 ATT为-0.0007548，并且该结果是在 10% 水平上显著的。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">. csdid log_gini <span class="variable">$cov</span>, ivar(statefip) time(wrkyr) gvar(branch_reform) method(dripw) wboot rseed(1) agg(simple)</span><br><span class="line"><span class="keyword">No</span> never treated observations found. Using Not yet treated data</span><br><span class="line">Units always treated found. These will be ignored</span><br><span class="line">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx...........xxxxxxxxx</span><br><span class="line">xxxxxxxxxx..........xxxxxxxxxxxxxxxxxxxx...x......</span><br><span class="line">.xxxxxxxxxxxxxxxxxxx..............xxxxxxxxxxxxxxxx</span><br><span class="line">.............xxxxxxxxxxxxxxxxx......xxxxxxxxxxxxxx</span><br><span class="line">xxxxxxxxxxx.x...x...xxxxxxxxxxxxxxxxxxxx..........</span><br><span class="line">.......xxxxxxxxxxxxx................xxxxxxxxxxxxxx</span><br><span class="line">......................xxxxxxxx....................</span><br><span class="line">..xxxxxxxxx..xxxx...x...xxxxxxxxxxxxxxxx..........</span><br><span class="line">.......xxxxxxxxxxxxx.x.xx.xxx.xxxx...xxxxxxxxxxxxx</span><br><span class="line">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">Difference-<span class="keyword">in</span>-difference with Multiple Time Periods</span><br><span class="line"></span><br><span class="line">                                                           Number of obs = 636</span><br><span class="line">Outcome model  : least squares</span><br><span class="line">Treatment model: inverse probability</span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">            | Coefficient  Std. <span class="keyword">err</span>.      t      [95% <span class="keyword">conf</span>. interval]</span><br><span class="line">------------+--------------------------------------------------------</span><br><span class="line">        ATT |  -.0007548   .0085642    -0.09    -.0174154    .0159058</span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">Control: Not yet Treated</span><br><span class="line"></span><br><span class="line">See Callaway and Sant&#x27;Anna (2021) <span class="keyword">for</span> details</span><br></pre></td></tr></table></figure><h3 id="交叠-did-的时间安慰剂检验-2">2. 交叠 DID 的时间安慰剂检验</h3><p>首先，来看看使用基于 <code>csdid</code> ​命令估计交叠 DID的时间安慰剂检验。我们手动生成一个滞后 1期的干预时间变量，作为伪干预时间用于时间安慰剂检验。使用<code>if wrkyr &lt; branch_reform</code>将回归限定在干预前的样本中进行，以进行滞后 1 期的伪干预时间<code>branch_reform_1</code> ​的影响。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">gen</span> branch_reform_1 = branch_reform-1</span><br><span class="line">csdid log_gini <span class="variable">$cov</span> <span class="keyword">if</span> wrkyr &lt; branch_reform, ivar(statefip) time(wrkyr) gvar(branch_reform_1) wboot rseed(1) agg(simple)</span><br></pre></td></tr></table></figure><p>我们可以发现，结果中 t 值仅为-0.45，并未达到 5%水平显著性的临界值，同时 95% 置信区间也包括了 0，表明滞后 1期的伪干预时间的影响不显著，可以认为通过了安慰剂检验。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">. csdid log_gini <span class="variable">$cov</span> <span class="keyword">if</span> wrkyr &lt; branch_reform, ivar(statefip) time(wrkyr) gvar(branch_reform_1) wboot rseed(1) agg(simple)</span><br><span class="line"><span class="keyword">No</span> never treated observations found. Using Not yet treated data</span><br><span class="line">Units always treated found. These will be ignored</span><br><span class="line">Panel is not balanced</span><br><span class="line">Will <span class="keyword">use</span> observations with Pair balanced (observed at t0 and t1)</span><br><span class="line">.xxxxxxxxxxxxxxxxxxxxx..xxxxxxxxxxxxxxxxxxxx...xxx</span><br><span class="line">xxxxxxxxxxxxxxxx....xxxxxxxxxxxxxxxxxx.....xxxxxxx</span><br><span class="line">xxxxxxxxxx......xxxxxxxxxxxxxxxxx.x...xxxxxxxxxxxx</span><br><span class="line">xxxx........xxxxxxxxxxxxxx.........xxxxxxxxxxxxx..</span><br><span class="line">........xxxxxxxxxxxx...........xxxxxxxxxxxx..xxxx.</span><br><span class="line">..x.xxxxxxxxxx.............xxxxxxxxx.x.xx.xxx.xxxx</span><br><span class="line">xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">xxxxxxxxxxxxxxxxxxxxxxxx</span><br><span class="line">Difference-<span class="keyword">in</span>-difference with Multiple Time Periods</span><br><span class="line"></span><br><span class="line">                                                           Number of obs = 361</span><br><span class="line">Outcome model  : least squares</span><br><span class="line">Treatment model: inverse probability</span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">            | Coefficient  Std. <span class="keyword">err</span>.      t      [95% <span class="keyword">conf</span>. interval]</span><br><span class="line">------------+--------------------------------------------------------</span><br><span class="line">        ATT |  -.0060173   .0132436    -0.45    -.0333741    .0213396</span><br><span class="line">---------------------------------------------------------------------</span><br><span class="line">Control: Not yet Treated</span><br><span class="line"></span><br><span class="line">See Callaway and Sant&#x27;Anna (2021) <span class="keyword">for</span> details</span><br></pre></td></tr></table></figure><p>当然，我们可以使用循环语句，批量做滞后 1-10期的时间安慰剂检验，参考代码如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 输出表格: 时间安慰剂检验</span></span><br><span class="line"><span class="comment">// 估计滞后1-10期的结果</span></span><br><span class="line"><span class="keyword">global</span> K = 10</span><br><span class="line"><span class="keyword">matrix</span> att_b = <span class="built_in">J</span>(1,<span class="variable">$K</span>,0)</span><br><span class="line"><span class="keyword">matrix</span> att_V = <span class="built_in">J</span>(<span class="variable">$K</span>,<span class="variable">$K</span>,0)</span><br><span class="line"><span class="keyword">forvalues</span> i = 1(1)<span class="variable">$K</span> &#123; </span><br><span class="line"><span class="keyword">cap</span> <span class="keyword">drop</span> branch_reform_new</span><br><span class="line"><span class="keyword">qui</span> <span class="keyword">g</span> branch_reform_new = branch_reform - <span class="symbol">`i&#x27;</span></span><br><span class="line"><span class="keyword">qui</span> csdid log_gini <span class="variable">$cov</span> <span class="keyword">if</span> wrkyr &lt; branch_reform, ivar(statefip) time(wrkyr) gvar(branch_reform_new) wboot rseed(1) agg (simple)</span><br><span class="line"><span class="keyword">matrix</span> att_b[1,<span class="symbol">`i&#x27;</span>] = <span class="built_in">e</span>(b)[., <span class="string">&quot;ATT&quot;</span>]</span><br><span class="line"><span class="keyword">matrix</span> att_V[<span class="symbol">`i&#x27;</span>,<span class="symbol">`i&#x27;</span>] = <span class="built_in">e</span>(V)[<span class="string">&quot;ATT&quot;</span>, <span class="string">&quot;ATT&quot;</span>]</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">mata</span>: st_local(<span class="string">&quot;names&quot;</span>,invtokens(<span class="string">&quot;L&quot;</span>:+<span class="built_in">strofreal</span>(1..<span class="variable">$K</span>):+<span class="string">&quot;.ATT&quot;</span>)) </span><br><span class="line"><span class="comment">// 输出为表格展示</span></span><br><span class="line"><span class="keyword">matrix</span> colnames att_b = <span class="symbol">`names&#x27;</span> </span><br><span class="line"><span class="keyword">matrix</span> colnames att_V = <span class="symbol">`names&#x27;</span> </span><br><span class="line"><span class="keyword">matrix</span> rownames att_V = <span class="symbol">`names&#x27;</span> </span><br><span class="line"><span class="keyword">ereturn</span> <span class="keyword">post</span> att_b att_V </span><br><span class="line"><span class="keyword">ereturn</span> <span class="keyword">display</span></span><br></pre></td></tr></table></figure><p>上述代码主要包括两个模块，一是估计滞后 1-10期时间安慰剂检验，并将估计的 ATT 及其方差存储在矩阵 <code>att_b</code>​和 <code>att_V</code>​中。二是将矩阵中的结果绘制成表格，然后展示出来。最后得到的结果如下所示。我们可以发现，滞后1-10 年的估计结果均在 5% 水平上不显著，但滞后 5 年和滞后 10 年在 10%水平上显著。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">. <span class="keyword">ereturn</span> <span class="keyword">display</span></span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line">             | Coefficient  Std. <span class="keyword">err</span>.      z    P&gt;|z|     [95% <span class="keyword">conf</span>. interval]</span><br><span class="line">-------------+----------------------------------------------------------------</span><br><span class="line">         ATT |</span><br><span class="line">         L1. |  -.0060173   .0132436    -0.45   0.650    -.0319743    .0199398</span><br><span class="line">         L2. |  -.0137552   .0191677    -0.72   0.473    -.0513233    .0238128</span><br><span class="line">         L3. |  -.0033001   .0095432    -0.35   0.729    -.0220045    .0154043</span><br><span class="line">         L4. |   .0008408   .0113579     0.07   0.941    -.0214203    .0231018</span><br><span class="line">         L5. |   .0237718   .0130823     1.82   0.069    -.0018691    .0494127</span><br><span class="line">         L6. |  -.0066938    .014051    -0.48   0.634    -.0342333    .0208456</span><br><span class="line">         L7. |   .0075708   .0176524     0.43   0.668    -.0270272    .0421688</span><br><span class="line">         L8. |  -.0013085   .0106612    -0.12   0.902    -.0222041    .0195871</span><br><span class="line">         L9. |  -.0077957   .0128759    -0.61   0.545     -.033032    .0174405</span><br><span class="line">        L10. |   .0363283   .0193316     1.88   0.060    -.0015608    .0742175</span><br><span class="line">------------------------------------------------------------------------------</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>我们也可以使用将上面的结果绘制成带有 95%置信区间的图，可以更加直观地看到时间安慰剂检验的结果。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/csdid_placebo_time-20250726193046-smwdxz9.png" style="width:700px" /></p><h3 id="交叠-did-的个体安慰剂检验-2">3. 交叠 DID 的个体安慰剂检验</h3><p>再来看看个体安慰剂检验。<strong>​<code>didplacebo</code>​</strong>​<strong>命令无法检验针对</strong><strong>​<code>csdid</code>​</strong>​<strong>的结果进行个体安慰剂和混合安慰剂检验，因此这里定义一个</strong><code>InSpacePlaceboTest</code> ​程序，然后使用 <code>simulate</code>​命令运行 <code>InSpacePlaceboTest</code> ​程序 500 次，并将估计结果存储到<code>bbb_InSpacePbo.dta</code>​数据集中，用于后续绘制安慰剂检验结果的直方图和核密度图。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 编写程序</span></span><br><span class="line"><span class="keyword">capture</span> <span class="keyword">drop</span> branch_reform_new</span><br><span class="line"><span class="keyword">capture</span> <span class="keyword">program</span> <span class="keyword">drop</span> InSpacePlaceboTest</span><br><span class="line"><span class="keyword">program</span> def InSpacePlaceboTest, rclass</span><br><span class="line"><span class="keyword">preserve</span></span><br><span class="line">xtshuffle branch_reform, <span class="keyword">gen</span>(branch_reform_new)</span><br><span class="line"><span class="keyword">qui</span> csdid log_gini <span class="variable">$cov</span>, ivar(statefip) time(wrkyr) gvar(branch_reform_new) agg(simple) </span><br><span class="line"><span class="keyword">return</span> <span class="keyword">scalar</span> pbo_eff = _b[ATT]</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="comment">** 调用程序检验：个体安慰剂检验</span></span><br><span class="line"><span class="keyword">simulate</span> pbo_eff = <span class="built_in">r</span>(pbo_eff), seed(1) reps(500): InSpacePlaceboTest</span><br><span class="line"><span class="keyword">save</span> 数据和代码/tmp_data/bbb_InSpacePbo, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 绘制直方图和核密度图</span></span><br><span class="line"><span class="keyword">graph</span> <span class="keyword">twoway</span> (<span class="keyword">kdensity</span> pbo_eff) (<span class="keyword">histogram</span> pbo_eff, fcolor(gs8%50) lcolor(white) lalign(center) below), <span class="comment">///</span></span><br><span class="line">    xline(0, lp(dash)) xline(<span class="variable">$tr_eff</span>) xtitle(<span class="string">&quot;distribution of placebo effects&quot;</span>)                         <span class="comment">///</span></span><br><span class="line">    ytitle(<span class="string">&quot;density&quot;</span>) title(<span class="string">&quot;In-space Placebo Test&quot;</span>)                                                    <span class="comment">///</span></span><br><span class="line">    legend(<span class="keyword">order</span>(1 <span class="string">&quot;Kernel density estimate&quot;</span> 2 <span class="string">&quot;Histogram&quot;</span>) rows(1) position(6) region(lstyle(none)))   <span class="comment">///</span></span><br><span class="line">    aspect(0.4) graphregion(margin(10 10 20 10)) name(pbounit, <span class="keyword">replace</span>)</span><br></pre></td></tr></table></figure><p>从下图可以发现，安慰剂效应的平均水平和取值为 0的黑色竖线几乎重合，表明个体安慰剂效应并不显著。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/csdid_placebo_unit-20250726194202-1x1u4tf.png" style="width:700px" /></p><p>上面的图片中没有用于判别显著性的 p 值，这里仍然使用 500 次自举法得到ATT 的 <code>pbo_eff</code> ​和真实估计系数 <code>$tr_eff</code>​进行比较，对其进行描述性统计即可得到个体安慰剂的 p 值。具体来看：</p><ul><li>双边检验：是否满足<code>abs(pbo_eff)&gt;=abs($tr_eff)</code>，即是否安慰剂检验 ATT绝对值大于等于真实估计系数绝对值。</li><li>左边检验：是否满足<code>pbo_eff&lt;=$tr_eff)</code>，即是否安慰剂检验 ATT绝对值小于等于真实估计系数绝对值。</li><li>右边检验：是否满足<code>pbo_eff&gt;=$tr_eff)</code>，即是否安慰剂检验 ATT绝对值大于等于真实估计系数绝对值。</li></ul><p>其代码实现如下所示：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 双边检验</span></span><br><span class="line"><span class="keyword">g</span> extreme_abs = (<span class="built_in">abs</span>(pbo_eff)&gt;=<span class="built_in">abs</span>(<span class="variable">$tr_eff</span>))</span><br><span class="line"><span class="keyword">sum</span> extreme_abs</span><br><span class="line"><span class="comment">// 左边检验</span></span><br><span class="line"><span class="keyword">g</span> extreme_left = (pbo_eff&lt;=<span class="variable">$tr_eff</span>)</span><br><span class="line"><span class="keyword">sum</span> extreme_left</span><br><span class="line"><span class="comment">// 右边检验</span></span><br><span class="line"><span class="keyword">g</span> extreme_right = (pbo_eff&gt;=<span class="variable">$tr_eff</span>)</span><br><span class="line"><span class="keyword">sum</span> extreme_right</span><br></pre></td></tr></table></figure><p>上面双边检验、左边检验和右边检验的第一步本质是生成了 500个虚拟变量（因为自举法重复了 500次）。双边检验、左边检验和右边检验的均值即为显著性水平 p值，表明不论在哪一个检验中均不显著，个体安慰剂检验通过。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 双边检验</span></span><br><span class="line">    Variable |        Obs        <span class="keyword">Mean</span>    Std. dev.       Min        Max</span><br><span class="line">-------------+---------------------------------------------------------</span><br><span class="line"> extreme_abs |        500        .956    .2053005          0          1</span><br><span class="line"></span><br><span class="line"><span class="comment">// 左边检验</span></span><br><span class="line">    Variable |        Obs        <span class="keyword">Mean</span>    Std. dev.       Min        Max</span><br><span class="line">-------------+---------------------------------------------------------</span><br><span class="line">extreme_left |        500        .492    .5004367          0          1</span><br><span class="line"></span><br><span class="line"><span class="comment">// 右边检验</span></span><br><span class="line">    Variable |        Obs        <span class="keyword">Mean</span>    Std. dev.       Min        Max</span><br><span class="line">-------------+---------------------------------------------------------</span><br><span class="line">extreme_ri~t |        500        .508    .5004367          0          1</span><br></pre></td></tr></table></figure><h3 id="交叠-did-的混合安慰剂检验-2">4. 交叠 DID 的混合安慰剂检验</h3><p>上文已述，<code>didplacebo</code> ​命令无法针对 <code>csdid</code>的估计结果进行混合安慰剂检验，因此需要手动编写检验程序，并重复运行 500次。</p><h4 id="无约束的混合安慰剂检验-2">4.1 无约束的混合安慰剂检验</h4><p>针对无约束的混合安慰剂检验，设定种群结构可以发生变化。此时编写手动检验程序<code>MixedPlaceboTest2</code>，并使用 <code>simulate</code>​命令重复运行 <code>MixedPlaceboTest2</code> ​程序 500 次，将结果保存在<code>bbb_MixedPbo2.dta</code> ​数据集中，以方便下面作图和制表。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 编写程序: 无约束的混合安慰剂检验</span></span><br><span class="line"><span class="keyword">capture</span> <span class="keyword">program</span> <span class="keyword">drop</span> MixedPlaceboTest2</span><br><span class="line"><span class="keyword">prog</span> def MixedPlaceboTest2, rclass</span><br><span class="line"><span class="keyword">preserve</span></span><br><span class="line">xtrantreat _intra, method(2) <span class="keyword">gen</span>(_intra_new)</span><br><span class="line">tofirsttreat _intra_new, <span class="keyword">gen</span>(branch_reform_new) </span><br><span class="line"><span class="keyword">qui</span> csdid log_gini <span class="variable">$cov</span>, ivar(statefip) time(wrkyr) gvar(branch_reform_new) agg(simple) </span><br><span class="line"><span class="keyword">return</span> <span class="keyword">scalar</span> pbo_eff = _b[ATT]</span><br><span class="line">end</span><br><span class="line"><span class="comment">** 调用程序检验</span></span><br><span class="line"><span class="keyword">simulate</span> pbo_eff = <span class="built_in">r</span>(pbo_eff), seed(1) reps(500): MixedPlaceboTest2</span><br><span class="line"><span class="keyword">save</span> 数据和代码/tmp_data/bbb_MixedPbo2, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 绘图</span></span><br><span class="line"><span class="keyword">graph</span> <span class="keyword">twoway</span> (<span class="keyword">kdensity</span> pbo_eff) (<span class="keyword">histogram</span> pbo_eff, fcolor(gs8%50) lcolor(white) lalign(center) below),  <span class="comment">///</span></span><br><span class="line">xline(0, lp(dash)) xline(<span class="variable">$tr_eff</span>) xtitle(<span class="string">&quot;distribution of placebo effect&quot;</span>)                           <span class="comment">///</span></span><br><span class="line">ytitle(<span class="string">&quot;density&quot;</span>) title(<span class="string">&quot;Unrestricted Mixed Placebo Test&quot;</span>)                                           <span class="comment">///</span></span><br><span class="line">legend(<span class="keyword">order</span>(1 <span class="string">&quot;Kernel density estimate&quot;</span> 2 <span class="string">&quot;Histo⁃ gram&quot;</span>) rows(1) position(6) region(lstyle(none)))  <span class="comment">///</span></span><br><span class="line">aspect(0.4) graphregion(margin(10 10 20 10)) name(pbomix, <span class="keyword">replace</span>)</span><br><span class="line"><span class="keyword">graph</span> <span class="keyword">save</span> <span class="string">&quot;graph/交叠DID/csdid_placebo_mix&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">graph</span> export <span class="string">&quot;graph/交叠DID/csdid_placebo_mix.png&quot;</span>, <span class="keyword">replace</span></span><br></pre></td></tr></table></figure><p>使用 <code>graph twoway</code>​命令绘制无约束混合安慰剂效应的直方图和核密度图，结果如下所示，真实估计系数位于安慰剂效应分布的左侧极端值处，表明真实的估计系数为负是可信的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/placebo_mix-20250726200441-oxjb6fr.png" style="width:700px" /></p><p>绘图只能查看安慰剂效应的中间情况，不能直观观察到其极端值的分布。因此我们进一步根据真实系数和安慰剂效应的比较，计算无约束混合安慰剂检验的显著性，代码如下所示。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 双边检验</span></span><br><span class="line"><span class="keyword">gen</span> extreme_abs = (<span class="built_in">abs</span>(pbo_eff)&gt;=<span class="built_in">abs</span>(<span class="variable">$tr_eff</span>))</span><br><span class="line"><span class="keyword">sum</span> extreme_abs</span><br><span class="line"><span class="comment">// 左边检验</span></span><br><span class="line"><span class="keyword">gen</span> extreme_left = (pbo_eff&lt;=<span class="variable">$tr_eff</span>)</span><br><span class="line"><span class="keyword">sum</span> extreme_left</span><br><span class="line"><span class="comment">// 右边检验</span></span><br><span class="line"><span class="keyword">gen</span> extreme_right = (pbo_eff&gt;=<span class="variable">$tr_eff</span>)</span><br><span class="line"><span class="keyword">sum</span> extreme_right</span><br></pre></td></tr></table></figure><p>结果如下所示，双边检验、左侧检验和右侧检验的均值均超过了 0.1，表明在10% 水平上安慰剂效应不显著，无约束混合安慰剂检验通过。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 双边检验</span></span><br><span class="line">    Variable |        Obs        <span class="keyword">Mean</span>    Std. dev.       Min        Max</span><br><span class="line">-------------+---------------------------------------------------------</span><br><span class="line"> extreme_abs |        500        .952    .2139803          0          1</span><br><span class="line"></span><br><span class="line"><span class="comment">// 左边检验</span></span><br><span class="line">    Variable |        Obs        <span class="keyword">Mean</span>    Std. dev.       Min        Max</span><br><span class="line">-------------+---------------------------------------------------------</span><br><span class="line">extreme_left |        500        .454    .4983781          0          1</span><br><span class="line"></span><br><span class="line"><span class="comment">// 右边检验</span></span><br><span class="line">    Variable |        Obs        <span class="keyword">Mean</span>    Std. dev.       Min        Max</span><br><span class="line">-------------+---------------------------------------------------------</span><br><span class="line">extreme_ri~t |        500        .546    .4983781          0          1</span><br></pre></td></tr></table></figure><h4 id="有约束的混合安慰剂检验-2">4.2 有约束的混合安慰剂检验</h4><p>对于有约束的混合安慰剂检验，其设定是种群结构受到约束不能变化。我们编写检验程序<code>MixedPlaceboTest3</code>，并使用 <code>simulate</code>​命令重复运行检验程序 500 次，代码如下所示。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 编写程序: 有约束的混合安慰剂检验</span></span><br><span class="line"><span class="keyword">capture</span> <span class="keyword">program</span> <span class="keyword">drop</span> MixedPlaceboTest3</span><br><span class="line"><span class="keyword">prog</span> def MixedPlaceboTest3, rclass</span><br><span class="line"><span class="keyword">preserve</span></span><br><span class="line">xtrantreat _intra, method(3) <span class="keyword">gen</span>(_intra_new)</span><br><span class="line">tofirsttreat _intra_new, <span class="keyword">gen</span>(branch_reform_new)</span><br><span class="line"><span class="keyword">qui</span> csdid log_gini <span class="variable">$cov</span>, ivar(statefip) time(wrkyr) gvar(branch_reform_new) agg(simple)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">scalar</span> pbo_eff = _b[ATT]</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="comment">** 调用程序检验</span></span><br><span class="line"><span class="keyword">simulate</span> pbo_eff = <span class="built_in">r</span>(pbo_eff), seed(1) reps(500): MixedPlaceboTest3</span><br><span class="line"><span class="keyword">save</span> 数据和代码/tmp_data/bbb_MixedPbo3.dta, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 绘图</span></span><br><span class="line"><span class="keyword">graph</span> <span class="keyword">twoway</span> (<span class="keyword">kdensity</span> pbo_eff) (<span class="keyword">histogram</span> pbo_eff, fcolor(gs8%50) lcolor(white) lalign(center) below),  <span class="comment">///</span></span><br><span class="line">xline(0, lp(dash)) xline(<span class="variable">$tr_eff</span>) xtitle(<span class="string">&quot;distribution of placebo effect&quot;</span>)                           <span class="comment">///</span></span><br><span class="line">ytitle(<span class="string">&quot;density&quot;</span>) title(<span class="string">&quot;Restricted Mixed Placebo Test&quot;</span>)                                             <span class="comment">///</span></span><br><span class="line">legend(<span class="keyword">order</span>(1 <span class="string">&quot;Kernel density estimate&quot;</span> 2 <span class="string">&quot;Histo⁃ gram&quot;</span>) rows(1) position(6) region(lstyle(none)))  <span class="comment">///</span></span><br><span class="line">aspect(0.4) graphregion(margin(10 10 20 10)) name(pbomix, <span class="keyword">replace</span>)</span><br></pre></td></tr></table></figure><p>上面绘图的结果如下所示，真实估计系数位于安慰剂效应分布的左侧长尾处，表明真实效应和安慰剂效应的中间水平存在显著区别。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/placebo_mix2-20250726201418-3pgf97b.png" style="width:700px" /></p><p>我们进一步看看制表的代码。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 双边检验</span></span><br><span class="line"><span class="keyword">gen</span> extreme_abs = (<span class="built_in">abs</span>(pbo_eff)&gt;=<span class="built_in">abs</span>(<span class="variable">$tr_eff</span>))</span><br><span class="line"><span class="keyword">sum</span> extreme_abs</span><br><span class="line"><span class="comment">// 左边检验</span></span><br><span class="line"><span class="keyword">gen</span> extreme_left = (pbo_eff&lt;=<span class="variable">$tr_eff</span>)</span><br><span class="line"><span class="keyword">sum</span> extreme_left</span><br><span class="line"><span class="comment">// 右边检验</span></span><br><span class="line"><span class="keyword">gen</span> extreme_right = (pbo_eff&gt;=<span class="variable">$tr_eff</span>)</span><br><span class="line"><span class="keyword">sum</span> extreme_right</span><br></pre></td></tr></table></figure><p>上面基于比较结果得到的虚拟变量均值，即为混合安慰剂效应双边、左边和右边检验的p 值。从下面的表中可以发现，三个检验值的均值都超过了 0.1，表明在 10%水平上安慰剂效应不显著，即有约束的混合安慰剂检验通过。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 双边检验</span></span><br><span class="line">    Variable |        Obs        <span class="keyword">Mean</span>    Std. dev.       Min        Max</span><br><span class="line">-------------+---------------------------------------------------------</span><br><span class="line"> extreme_abs |        500        .966    .1814106          0          1</span><br><span class="line"></span><br><span class="line"><span class="comment">// 左边检验</span></span><br><span class="line">    Variable |        Obs        <span class="keyword">Mean</span>    Std. dev.       Min        Max</span><br><span class="line">-------------+---------------------------------------------------------</span><br><span class="line">extreme_left |        500        .474    .4998236          0          1</span><br><span class="line"></span><br><span class="line"><span class="comment">// 右边检验</span></span><br><span class="line">    Variable |        Obs        <span class="keyword">Mean</span>    Std. dev.       Min        Max</span><br><span class="line">-------------+---------------------------------------------------------</span><br><span class="line">extreme_ri~t |        500        .526    .4998236          0          1</span><br></pre></td></tr></table></figure><h2 id="五写在后面">五、写在后面</h2><p>本根据陈强等（2025）提供的代码和数据，对标准 DID 和交叠 DID进行了时间安慰剂、个体安慰剂和混合安慰剂检验。其中交叠 DID包括有约束和无约束的混合安慰剂检验。针对标准 DID 和使用基于<code>xtreg</code> ​开发的命令（例如 <code>reghdfe</code>）进行交叠 DID估计的结果，陈强等（2025）开发的 <code>didplacebo</code>​命令可以用于安慰剂检验。对于更加常见的使用 <code>csdid</code>​命令进行交叠 DID估计的结果，陈强等（2025）也给出了参考的代码用于检验。</p><p>当然，DID 系列方法发展迅速，例如放宽样本不允许退出假设的一般DID、放宽干预行为同质（即存在干预强度差别）的连续 DID、DDD 等 DID方法不断更新，<code>didplacebo</code> ​命令也不可能服务于如此之多的 DID类型。更加可行的方法是，参考陈强等对 <code>csdid</code> ​命令估计交叠 DID结果的安慰剂检验思路，设计一个符合自己研究需要的安慰检验代码。</p><p>‍</p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> Stata </tag>
            
            <tag> 双重差分 </tag>
            
            <tag> DID </tag>
            
            <tag> 安慰剂检验 </tag>
            
            <tag> 命令 </tag>
            
            <tag> 代码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜工具变量法的原理、使用和检验</title>
      <link href="/posts/32992/"/>
      <url>/posts/32992/</url>
      
        <content type="html"><![CDATA[<p><strong>工具变量法并非特指 2SLS估计，与其说是一种具体方法，更像是一种解决内生性问题的思路，许多方法都借鉴了IV 的思路来解决潜在的内生性问题。</strong></p><p>本文从工具变量的原理和选择入手，着重讨论怎么使用工具变量法、怎么检验工具变量的有效性。在文章的第五章，讨论了工具变量估计的外部有效性，该部分内容来自连享会。</p><h2 id="一工具变量法原理">一、工具变量法原理</h2><h3 id="因果推断中的工具变量法">1. 因果推断中的工具变量法</h3><p>在因果推断中，为得到干预行为的净效应，干预行为 <spanclass="math inline">\(D_i\)</span> 需满足条件独立性假设（ConditionalIndependence Assumption, CIA）：</p><p><span class="math display">\[\begin{align}(Y_{0i},Y_{1i}) \perp D_i \  | \ X_i\end{align}\]</span></p><p>在满足条件独立性假设的前提下，使用 OLS 回归或者 PSM都可以得到干预行为的净效应，即 ATT 或 ATE。然而在现实中，受制于数据的可得性，遗漏变量问题无法避免，OLS 法和 PSM估计难以满足 CIA假设，通过添加变量来控制差异的做法可能无法得到真实的干预行为净效应。</p><p>例如在探究教育年限 <span class="math inline">\(D\)</span> 对收入<span class="math inline">\(Y\)</span> 的影响时，学生的能力 <spanclass="math inline">\(A\)</span>可能是一种混杂因素，即学生的能力越强，其接受教育的年限可能越高，同时收入也可能会越大。传统PSM法估计无法解决学生能力等内部混杂因素与政策环境等外部混杂因素对因果识别结果的扭曲，这也是工具变量法区别于PSM 的关键。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/net-img-image-20221018182903-oq4blvn-20221021221423-dp6aln3.png" style="width:550px" alt="工具变量法的有相无环图" /></p><p>在工具变量法 (右图 b) 中，如有向无环图所示，如果存在一个工具变量<span class="math inline">\(Z\)</span>满足相关性与外生性的条件，就可以消除混杂因素 <spanclass="math inline">\(A\)</span> 对结果的扭曲。</p><p><strong>工具变量的三个假设：</strong></p><ul><li><strong>相关性：</strong><span class="math inline">\(Cov(D_i, Z_i)\ne 0\)</span>，即工具变量 <span class="math inline">\(Z\)</span>与干预变量 <span class="math inline">\(D\)</span> 相关</li><li><strong>外生性：</strong><span class="math inline">\(Cov(\eta_i,Z_i) = 0\)</span>，即工具变量与 <span class="math inline">\(Z\)</span>与包含混杂因素 <span class="math inline">\(A\)</span> 的残差项 <spanclass="math inline">\(\eta\)</span> 不相关，其中 <spanclass="math inline">\(\eta_i = A^{&#39;}_i \gamma +v_i\)</span>。( <ahref="https://www.lianxh.cn/news/541a6992f92b0.html"title="工具变量的外部有效性">工具变量的外部有效性</a> )</li><li><strong>排他性：</strong> 工具变量 <spanclass="math inline">\(Z_i\)</span> 仅能通过干预变量 <spanclass="math inline">\(D_i\)</span> 影响 <spanclass="math inline">\(Y_i\)</span>​</li></ul><p>（工具变量的假设其实只包含“相关性”和“外生性”，但是在实际检验过程中，由于外生性比较难直接检验，一些研究采取排除其他影响路径可能性的做法，用于检验“外生性”。“外生性”与“排他性”实质是相同的，但是在实际研究中，讨论和检验“外生性”的步骤往往更加简单，使用排他流程往往更加复杂。）</p><p><strong>工具变量可以消除混杂因素影响的原理是：</strong></p><p>阻断后门路径 <span class="math inline">\(D \leftarrow A \rightarrowY\)</span>，从其中分离出 <span class="math inline">\(D \rightarrowY\)</span>。</p><p>在实证中，为保证因果效应被准确识别，如果存在 <spanclass="math inline">\(m\)</span> 个混杂因素，应当需要不少于 <spanclass="math inline">\(m\)</span> 个工具变量。</p><h3 id="非因果推断中的工具变量法">2. 非因果推断中的工具变量法</h3><p>在因果推断中，常将干预变量 <span class="math inline">\(D_i\)</span>设定为一个 0-1变量，然而，干预变量为连续变量或多分类变量的情况更为常见。在连续变量和多分类变量的条件下，满足工具变量的三个假设，同样也可以用于模型中排除遗漏变量导致的估计偏误。</p><h2 id="二常用的工具变量">二、常用的工具变量</h2><p><strong>查看前的强烈推荐：</strong>​<strong><ahref="https://sangmino.notion.site/1a897b8106ca44eeaf31dcd5ae5a61b1?v=ff7dc75862c6427eb4243e91836e077e">超过1600 篇外文顶刊文章的工具变量汇总，还在动态更新!</a></strong></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20240713164251-ygrl9iw.png" style="width:550px" alt="工具变量选择方法" /></p><p>来源：《<a href="https://www.lianxh.cn/details/1351.html">IV的标准动作：工具变量法实用指南</a>》，连享会</p><p>本节参考资料：<ahref="https://mp.weixin.qq.com/s/H-HhAA89ITBhJYqJ3dokGw">计量经济圈推文</a></p><h3 id="截面数据中常用的工具变量">1. 截面数据中常用的工具变量</h3><h4 id="自然或地理特征">1.1 自然或地理特征</h4><p>由于经济系统的内生性很强，在许多研究中，为了规避内生性问题，会选择找看起来“严格外生”、不受经济系统干预和人类行为影响的变量作为工具变量。例如，天气、降水、温度（积温）、自然灾害、地形地貌、地理距离。</p><p>这类工具变量又可以分为两类：</p><ul><li><p>人类完全无法控制其变化的自然因素：天气、降水、温度（积温）、自然灾害等。这类工具变量受到质疑其外生性的可能性较小，但往往会受到研究主题限制，适用范围较小，需要严格根据选题来确定。</p></li><li><p>客观存在且很难改变的特征：地形地貌、地理距离（地理距离、驾车距离）等。</p><ul><li><strong>高程：</strong>常用于研究基础设施建设、交通等内生变量的影响，认为高程不会（直接）影响经济发展等。然而城市扩张、经济发展往往优先在平原地区进行。高程并非严格外生。</li><li><strong>距离河流、山脉等自然地貌的地理距离：</strong>与高程类似，地理距离往往不会直接影响经济系统，但是经济系统的构建往往依赖于自然地貌。看似地理距离也非严格外省。（例如：《科举万岁》的文章中，用到竹子产地的距离作为工具变量。）</li><li><strong>距离行政中心、经济中心的地理/驾车距离：</strong>更加常用，与自然地貌相比，由于其目的地是行政中心、经济中心，这种影响路径更加复杂，距离本身可能也是影响结果变量的重要因素。</li></ul></li></ul><p>虽然这么说，但是还是值得计算到行政中心/经济中心的距离。可以使用<ahref="https://lbs.amap.com/">高德地图</a>或<ahref="https://lbsyun.baidu.com/">百度地图</a>的开发者账号，通过指定的函数计算出需要的内容。</p><ul><li>获取开发者账号权限，获得秘钥</li><li>使用软件输入格式化的函数（<ahref="https://zhuanlan.zhihu.com/p/78690883">教程链接</a>），在函数对应位置填写秘钥</li><li>根据出发地和目的地的地址名称，调用地图平台的api，计算出出发地和目的地的经纬度</li><li>基于两个经纬度，自动计算导航距离/时间。</li></ul><h3 id="关联特征">1.2 关联特征</h3><h4 id="与内生变量关联">1.2.1 <strong>与内生变量关联</strong></h4><p><strong>案例 1：与制度相关的教会（文化影响）</strong>​<strong><ahref="https://kns.cnki.net/kcms2/article/abstract?v=YRsOmSesWzYwGnP_B8U6D6h8_ragH3bE2wjW3c1tFmlCAPihgNWuyUGlYEEFYLipsz-UtVr0INCnTMsjmm2yW16zh47hwtm2tBYj1waH6CUwiH7xBpwb3MTUHJb77c0cP1KjJv65oTMggBvQSbT9_A==&amp;uniplatform=NZKPT&amp;language=CHS">知网链接</a></strong></p><p>方颖和赵扬(2011)在各地产权保护制度对经济增长影响的研究中，将 1919年中国不同城市基督教初级教会小学注册人数占当地人口比例作为工具变量，主要原因是，该比例可在一定程度上代表在历史上该地区受西方影响的程度，入读教会小学的比例越高，表明该地区受西方影响越大，建立产权保护制度的意识较强，而建立教会小学的初衷是布道，与经济发展水平并不直接相关。</p><p><strong>案例 2：与历史相关的基础设施（地理位置）</strong>​<strong><ahref="https://kns.cnki.net/kcms2/article/abstract?v=YRsOmSesWzb96n2ec0eniPtcX8wZi7cLq__yvibfJ6Ae54-QzOS0NYqKlq-YNXMksmEBiOiIKMH_zrLelOQ_l0qFS0LUE7OdkaJ_Iq-Qa0I0b8VkE0enXZDVaApWuhK3N5jKKaUDoiagFGfd-AkcrrRigGWRCXf_&amp;uniplatform=NZKPT&amp;language=CHS">知网链接</a></strong></p><p>谭伟杰等（2024）在政府数字采购政策对企业商业信用融资能力的影响的研究中，使用明朝驿站和时间趋势项的交互项作为工具变量。原因是驿站往往建在古代信息条件好、通讯基础设施更加完善的地区，驿站数量与当代的数字经济有正向关联；但是，古代驿站建设主要出于军事考虑，与企业的商业信用关联较小。</p><h4 id="与受访个体关联">1.2.2 <strong>与受访个体关联</strong></h4><p><strong>家庭内关联：</strong>子女的教育程度与父母的挂钩，用父母的教育教育程度作为工具变量；用双胞胎另一个孩子的情况作为工具变量。</p><p><strong>区域内关联：</strong>邻居的情况，邻居是否加入合作社，会影响受访者的加入意愿。</p><h4 id="同侪效应">1.3 同侪效应</h4><p>同侪效应是一种特殊额度关联个体的指标。</p><p><strong>同侪效应 / 同伴效应 / 伙伴效应：</strong>同一组内其他样本的行为或状态可能会影响受访者的行为与状态。</p><p>同侪效应常用作工具变量，原因是：本组内其他样本的行为和状态会对受访者产生影响，但是并不会直接影响受访者的结果变量<span class="math inline">\(y_i\)</span>。</p><p>假设某一组内共有 <span class="math inline">\(m\)</span>个样本，对于受访者 <span class="math inline">\(i\)</span>​，其同侪效应$X_p $ (组内其他样本均值) 可以表示为：</p><p><span class="math display">\[\begin {align}X_p= \frac {\sum _{j \ne i} X_j} {m-1}= \frac {\sum _{j =1}^n X_j \ - \ X_i} {m-1}\end{align}\]</span></p><p>计算步骤包括：</p><ul><li>计算组内样本数量 <span class="math inline">\(m\)</span>；</li><li>计算组内所有样本变量 <span class="math inline">\(X\)</span>的取值之和；</li><li>代入上式计算同侪效应 <span class="math inline">\(X_p\)</span>。</li></ul><p>因此，可以按如下过程计算：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 使用 count 和 total 函数:</span></span><br><span class="line"><span class="keyword">egen</span> count_num=<span class="keyword">count</span>(X), <span class="keyword">by</span>(CID)    <span class="comment">// 分组计算变量 X 的非缺失值样本数量</span></span><br><span class="line"><span class="keyword">egen</span> X_total=<span class="keyword">total</span>(X), <span class="keyword">by</span>(CID)      <span class="comment">// 对 X 的分组求和</span></span><br><span class="line"><span class="keyword">gen</span> X_p=(X_total-X)/(count_num-1)</span><br></pre></td></tr></table></figure><p>上述计算过程比较麻烦，也有学者开发了 <code>peers</code>​函数，可以等效替代上面的命令：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 使用 peers 函数: 以 CID 分组, 组内其他受访者的 X 均值</span></span><br><span class="line"><span class="keyword">ssc</span> install _peers, <span class="keyword">replace</span>       <span class="comment">//安装 peers 函数，仅首次使用需要安装</span></span><br><span class="line"><span class="keyword">egen</span> X_peers=peers(X), <span class="keyword">by</span>(CID)             <span class="comment">//CID 为分组变量, 包含 X 为缺失值的样本</span></span><br></pre></td></tr></table></figure><p><code>peers</code>​函数对存在缺失值的情况应对并不好，因此需要做一点小处理。即确保分组的<code>CID</code>​ 和待计算的 <code>X</code>​ 不能是缺失值：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> X_peers=peers(X) <span class="keyword">if</span> X!=. &amp; CID!=., <span class="keyword">by</span>(CID)</span><br></pre></td></tr></table></figure><h3 id="面板数据中常用的工具变量">2. 面板数据中常用的工具变量</h3><h4 id="时变变量作工具变量">2.1 时变变量作工具变量</h4><p><strong>自然因素、地理特征或外部冲击：</strong></p><p>《<ahref="https://www.journals.uchicago.edu/doi/abs/10.1086/715590?journalCode=jop">农业比较优势与立法者对贸易协定的支持</a>》农业比较优势对贸易协定的影响，天气与土壤因素作为工具变量，属于外生自然因素。</p><p>《<ahref="https://www.nber.org/papers/w31594">警察知道该拦截谁吗？</a>》美国警察拦截车辆或者行人，检验检查点数量对犯罪率的影响，工具变量是COVID-19 和 George Floyd遇害后全国抗议活动，这两个外生的事件爆发导致了检查点增加，但并没有降低犯罪率。</p><p><strong>内生变量的滞后项：</strong></p><p>《<ahref="https://www.sciencedirect.com/science/article/abs/pii/S0140988321002887">超越大火：森林火灾对能源贫困的影响</a>》滞后的森林火灾作为工具变量。</p><h4 id="非时变变量作工具变量">2.2 非时变变量作工具变量</h4><p><strong>非时变变量往往无法直接作为工具变量，常见做法是和时变变量作交互项，构成时变的工具变量。</strong></p><p><strong>做法一：非时变变量与时间趋势的交互项</strong></p><p><ahref="https://kns.cnki.net/kcms2/article/abstract?v=YRsOmSesWzb96n2ec0eniPtcX8wZi7cLq__yvibfJ6Ae54-QzOS0NYqKlq-YNXMksmEBiOiIKMH_zrLelOQ_l0qFS0LUE7OdkaJ_Iq-Qa0I0b8VkE0enXZDVaApWuhK3N5jKKaUDoiagFGfd-AkcrrRigGWRCXf_&amp;uniplatform=NZKPT&amp;language=CHS">谭伟杰等（2024）</a>在政府数字采购政策对企业商业信用融资能力的影响的研究中，使用明朝驿站和时间趋势项的交互项作为工具变量。原因是驿站往往建在古代信息条件好、通讯基础设施更加完善的地区，驿站数量与当代的数字经济有正向关联；但是，古代驿站建设主要出于军事考虑，与企业的商业信用关联较小。</p><p><strong>做法二：非时变变量与时变变量的交互项</strong></p><p><ahref="https://kns.cnki.net/kcms2/article/abstract?v=YRsOmSesWzZPH5kFgbPsJD9PAtUaeJ8QCI_taiwBkwrGuZLwKvhqnP4qUx0VxUh3QdSBYO3ZHKBROwa0OvO4x8vp2GY3capqyowfFihVSYgANhbjb0thPS2Yb7qclh5OjGkkMALNvKeT9kwDyOnPBg==&amp;uniplatform=NZKPT&amp;language=CHS">任劼（2024）</a>探究营商环境对城乡收入差距的影响，参考<ahref="https://www.aeaweb.org/articles?id=10.1257/aer.104.6.1630">Nunn&amp; Qian（2014）</a>的做法，引入一个随时间变化的变量——当地普通高等学校人数的滞后一期，与 2007年财产保险的赔付支出相乘构造交互项组成面板数据，形成营商环境的最终工具变量。</p><h2 id="三常用的工具变量法">三、常用的工具变量法</h2><h3 id="基于两步估计的工具变量法">1. 基于两步估计的工具变量法</h3><h4 id="最为常见的两阶段估计两阶段最小二乘法2sls">1.1最为常见的两阶段估计：两阶段最小二乘法（2SLS）</h4><p><span class="math display">\[\begin{align}x_i &amp;= \gamma z_i + \lambda w_i + \xi_i  \\y_i &amp;= \beta \hat x_i + \delta w_i + \mu_i\end{align}\]</span></p><p>2SLS 的本质是将第一阶段计算出的工具变量 <spanclass="math inline">\(z_i\)</span> 对内生变量 <spanclass="math inline">\(x_i\)</span> 的拟合值 <spanclass="math inline">\(\hat x_i\)</span>，代入第二阶段，用拟合值 <spanclass="math inline">\(\hat x_i\)</span> 对 <spanclass="math inline">\(y_i\)</span> 的估计系数进行替代。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 最常见的2SLS</span></span><br><span class="line">ivregress 2sls y <span class="variable">$varlist1</span> (x = <span class="variable">$ivlist</span>), r</span><br><span class="line"><span class="comment">** 对弱工具变量更不敏感的LIML(有限信息最大似然法)</span></span><br><span class="line">ivregress liml y <span class="variable">$varlist1</span> (x = <span class="variable">$ivlist</span>), r</span><br><span class="line"><span class="comment">** 如果存在异方差, 用gmm估计比2sls更有效率</span></span><br><span class="line">ivregress gmm y <span class="variable">$varlist1</span> (x = <span class="variable">$ivlist</span>)</span><br></pre></td></tr></table></figure><h4 id="两阶段模型的修正与补充2sps-与-2sri">1.2两阶段模型的修正与补充：2SPS 与 2SRI</h4><p><strong>推荐阅读：</strong> <ahref="https://kns.cnki.net/kcms2/article/abstract?v=YRsOmSesWzYrUgQrir9hfnlRovRrfAFci4ESQpFVDHJgUc_AxYgcsbQY6_zjz5LdRsDXMyW3DPLDiPOrrTJC7DzoK0M-0FQoJjljRn6cidyM9c2pzGVacHj2hKv7SLpnFjk_K88abNWclQTOyYi9RfqJgxkPxRWJ&amp;uniplatform=NZKPT&amp;language=CHS">赵娜,洪广彬.多项分布内生回归元计数模型的两阶段估计方法研究[J].统计与信息论坛,2018,33(08):19-30.</a></p><p>2SPS（Two-stage Predictor Substitution, 两阶段预测值替代估计）与 2SLS类似，都是在第一阶段工具变量对内生变量进行估计，得到拟合值替代内生变量进行第二阶段估计（<ahref="https://kns.cnki.net/kcms2/article/abstract?v=YRsOmSesWzZ017R8nEj1kbQ5yJs5TS-u12pe10RHCGTfdt3XG4KvMdmeZmswINmPOr97KTQL7PaMTEAaZ3TLw8eTz6wyFveLehQHBp1f4EMFAT5B4n6pxHRoevIueLf7N7Wx2T8VtfhXy7_4AmuFxA==&amp;uniplatform=NZKPT&amp;language=CHS">杨玉萍，2014</a>）。但是随着计量经济学的发展和微观统计数据的完善，现代社会科学领域的经验性研究越来越多地开始使用非线性计量模型，如离散选择模型、计数模型和受限因变量模型等。当内生变量为服从某一特定分布的离散型变量时，忽略内生变量的特殊性质而仍然采用2SLS 法，就会导致非一致的参数估计量（<ahref="https://kns.cnki.net/kcms2/article/abstract?v=YRsOmSesWzYrUgQrir9hfnlRovRrfAFci4ESQpFVDHJgUc_AxYgcsbQY6_zjz5LdRsDXMyW3DPLDiPOrrTJC7DzoK0M-0FQoJjljRn6cidyM9c2pzGVacHj2hKv7SLpnFjk_K88abNWclQTOyYi9RfqJgxkPxRWJ&amp;uniplatform=NZKPT&amp;language=CHS">赵娜、洪广彬，2018</a>）。</p><h4 id="两阶段残差包含法twostage-residual-inclusion-2sri">1.3两阶段残差包含法（Twostage Residual Inclusion, 2SRI）</h4><p><span class="math display">\[\begin{align}x_i &amp;= \gamma z_i + \lambda w_i + \xi_i    \\y_i &amp;= \beta x_i +  \delta w_i + \hat R_i  + \mu_i\end{align}\]</span></p><p>2SRI 本质是将第一阶段得到的估计残差 <span class="math inline">\(\hatR_i\)</span> 代入第二阶段，以消除内生性影响。</p><p><strong>注意事项：</strong></p><ul><li>2SRI 模型没有集成的命令包，需要手动调整变量和参数。</li><li>2SRI 模型涉及矩阵运算，在使用前需要确保模型使用到的所有变量（<spanclass="math inline">\(y_i\)</span>、<spanclass="math inline">\(x_i\)</span>、<spanclass="math inline">\(z_i\)</span> 和控制变量 <spanclass="math inline">\(w_i\)</span>）均没有缺失值。</li><li>2SRI的第一阶段估计和第二阶段估计的控制变量需要完全相同，否则无法进行矩阵运算。</li></ul><p><strong>模型优点：</strong></p><ul><li>可以通过第一阶段估计模型的设定，针对内生变量不同分布选择 2SRI类型</li><li>当模型存在忽略模型非线性、内生性或错误设定计数数据分布时，2SLS 和2SPS 会存在较大的估计偏差，但 2SRI 具有良好的有限样本特性（<ahref="https://kns.cnki.net/kcms2/article/abstract?v=YRsOmSesWzYrUgQrir9hfnlRovRrfAFci4ESQpFVDHJgUc_AxYgcsbQY6_zjz5LdRsDXMyW3DPLDiPOrrTJC7DzoK0M-0FQoJjljRn6cidyM9c2pzGVacHj2hKv7SLpnFjk_K88abNWclQTOyYi9RfqJgxkPxRWJ&amp;uniplatform=NZKPT&amp;language=CHS">赵娜、洪广彬，2018</a>）</li></ul><p><strong>2SRI 的用法可以参考下面的文章：</strong></p><ol type="1"><li><ahref="https://journals.sagepub.com/doi/10.1177/1536867X1601600206">TerzaJ V. Simpler standard errors for two-stage optimization estimators[J].The Stata Journal, 2016, 16(2): 368-385.</a></li><li><ahref="https://journals.sagepub.com/doi/abs/10.1177/1536867X1801700409">TerzaJ V. Two-stage residual inclusion estimation: A practitioners guide toStata implementation[J]. The Stata Journal, 2017, 17(4):916-938.</a></li></ol><h3 id="内生转换模型-esr">2. 内生转换模型 ESR</h3><p>在截面数据中，当内生变量 <span class="math inline">\(x_i\)</span>为二分类变量时，例如“是否加入合作社”，可以使用内生转换模型处理内生性问题。根据结果变量<span class="math inline">\(y_i\)</span>的类型不同，应当使用不同的内生转换模型。</p><ul><li><span class="math inline">\(y_i\)</span>为二分变量，使用内生转换概率模型（ESP），使用 <code>switch_probit</code>命令即可实现</li><li><span class="math inline">\(y_i\)</span>为连续变量，使用内生转换回归模型（ESR），使用 <code>movestay</code>命令即可实现</li></ul><p><strong>拓展链接：</strong></p><ul><li><p><ahref="https://www.lianxh.cn/news/3b3bfdad7e106.html">连享会：内生转换模型及其应用-movestay-mspredict</a></p></li><li><p>多项内生转换模型（MESR）的两篇文章：</p><ul><li>代码复现：Khonje M G, Manda J, Mkandawire P, et al. <ahref="https://onlinelibrary.wiley.com/doi/abs/10.1111/agec.12445">Adoptionand welfare impacts of multiple agricultural technologies: evidence fromeastern Zambia</a>[J]. Agricultural Economics, 2018, 49(5):599-609.</li><li>使用<code>selmlog</code>​和<code>mtreatreg</code>​估计ATT：Amankwah A,Gwatidzo T.<ahref="https://www.sciencedirect.com/science/article/pii/S030691922400040X">Foodsecurity and poverty reduction effects of agricultural technologiesadoption− a multinomial endogenous switching regression application inrural Zimbabwe</a>[J]. Food Policy, 2024, 125: 102629.</li></ul></li></ul><h3 id="拓展回归模型-erm">3. 拓展回归模型 ERM</h3><p><strong>需要明确的是：拓展回归模型 ERM是一类模型，不是一个具体的模型。</strong></p><p><strong>拓展回归模型“拓展”了什么？</strong></p><ul><li><strong>拓展的模型种类：</strong> 相对<code>regress</code>​、<code>probit</code>​、<code>oprobit</code>​、<code>logit</code>​、<code>tobit</code>​、<code>intreg</code>​等基础模型的内生性拓展</li><li><strong>拓展内生性：</strong>与常用的解决内生性的模型可以得到相同的估计结果，但在多内生变量、工具变量等情形下，可以设置不同的工具变量和控制变量，得到不同的估计结果</li><li><strong>拓展样本选择：</strong> 解决样本选择问题</li><li><strong>拓展处理效应：</strong>添加处理效应模块，可以计算非随机条件下的处理效应</li><li><strong>检验值：</strong> 自动汇报比常规模型更多的检验值</li></ul><p>以 <code>reg</code> ​的拓展 <code>eregress</code> ​为例：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 内生协变量 (Basic linear regression with endogenous covariates)</span></span><br><span class="line">eregress y [indepvars], endogenous(depvars_en = varlist_en)   <span class="comment">// _en后缀为内生变量, indepvars 与varlist_en可以相同, 也可以不同</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 内生处理效应 (Basic linear regression with endogenous treatment assignment)</span></span><br><span class="line">eregress y [indepvars], entreat(depvar_tr [= varlist_tr])    <span class="comment">// _tr 后缀为内生处理变量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 外生处理效应 (Basic linear regression with exogenous treatment assignment)</span></span><br><span class="line">eregress y [indepvars], extreat(tvar)                      <span class="comment">// tvar 处理变量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 样本选择问题 (Basic linear regression with sample selection)</span></span><br><span class="line">eregress y [indepvars], select(depvar_s = varlist_s)       <span class="comment">// _s 后缀为样本选择变量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 内生协变量 + 处理效应 + 样本选择</span></span><br><span class="line">eregress y [indepvars] [, extensions options]</span><br></pre></td></tr></table></figure><p>以 <code>xtreg</code> ​的扩展 <code>xtregress</code> ​为例：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 随机效应模型 (Basic linear regression with random effects)</span></span><br><span class="line">xteregress y [indepvars] [, options]</span><br><span class="line"></span><br><span class="line"><span class="comment">** 随机效应 + 内生协变量 + 处理效应 + 样本选择</span></span><br><span class="line">xteregress y [indepvars] [, extensions options]</span><br></pre></td></tr></table></figure><h3 id="其他工具变量法">4. 其他工具变量法</h3><p><strong>放松假设、对原有扩展模型扩展：</strong></p><ul><li>不可识别情况下的工具变量估计：<code>mmeiv</code>​，<ahref="https://www.lianxh.cn/news/0ae09a74e477f.html">工具变量数量少于内生变量数量时的估计方法</a></li><li>连享会-常用工具变量法的介绍：<ahref="https://www.lianxh.cn/details/1351.html">链接</a>，例如：结构方程模型SEM、增广回归（augmented regression，如：控制函数法 CF）</li><li>多个(弱)工具变量的估计方法：<code>mivreg</code>​，<ahref="https://journals.sagepub.com/doi/10.1177/1536867X19893627?icid=int.sj-full-text.similar-articles.3">AnatolyevS, Skolkova A. Many instruments: Implementation in Stata[J]. The StataJournal, 2019, 19(4): 849-866.</a>，<ahref="https://www.lianxh.cn/news/807b616b11aae.html">连享会链接</a></li><li>无需工具变量的内生性问题处理（敏感性分析）：<code>kinkreg</code>​，<ahref="https://journals.sagepub.com/doi/full/10.1177/1536867X211045575">KripfganzS, Kiviet J F. kinkyreg: Instrument-free inference for linear regressionmodels with endogenous regressors[J]. The Stata Journal, 2021, 21(3):772-813.</a></li></ul><p><strong>工具变量方法在其他模型、数据的应用：</strong></p><ul><li>带有工具变量的因果中介分析：<code>ivmediate</code>​，<ahref="https://journals.sagepub.com/doi/full/10.1177/1536867X20953572">DippelC, Ferrara A, Heblich S. Causal mediation analysis ininstrumental-variables regressions[J]. The Stata Journal, 2020, 20(3):613-626.</a>j</li><li>基于多中心随机试验的中介变量工具变量法：<ahref="https://www.jstor.org/stable/43966330">Reardon S F, Unlu F, Zhu P,et al. Bias and bias correction in multisite instrumental variablesanalysis of heterogeneous mediator effects[J]. Journal of Educationaland Behavioral Statistics, 2014, 39(1): 53-86.</a></li><li>截断数据的工具变量法：<code>ivtobit</code>​，<ahref="https://www.sciencedirect.com/science/article/pii/S0304407623000258">ChesherA, Kim D, Rosen A M. IV methods for Tobit models[J]. Journal ofEconometrics, 2023, 235(2): 1700-1724.</a></li><li>2SLS 和 GMM 估计的扩展工具变量回归：<code>ivreg2</code>​，<ahref="https://econpapers.repec.org/software/bocbocode/s4254010.htm">IVREG2:Stata module for extended instrumental variables/2SLS and GMMestimation</a></li><li>工具变量处理效应模型：<code>ivtreatreg</code>​，<ahref="https://journals.sagepub.com/doi/pdf/10.1177/1536867X1401400301">CerulliG. ivtreatreg: A command for fitting binary treatment models withheterogeneous response to treatment and unobservable selection[J]. TheStata Journal, 2014, 14(3): 453-480.</a></li><li>基于工具变量的平滑分位数估计：<code>sivqr</code>​，Kaplan D M, Sun Y.Smoothed estimating equations for instrumental variables quantileregression[J]. Econometric Theory, 2017, 33(1): 105-157.，<ahref="https://www.cambridge.org/core/journals/econometric-theory/article/abs/smoothed-estimating-equations-for-instrumental-variables-quantile-regression/59EE6581C077098DDBB87F3E98F9BF90">原理</a>、<ahref="https://journals.sagepub.com/doi/abs/10.1177/1536867X221106404">代码使用</a></li><li>删失或未删失数据的工具变量分位数回归：<code>cqiv</code>​，<ahref="https://journals.sagepub.com/doi/10.1177/1536867X19893615">ChernozhukovV, Fernández-Val I, Han S, et al. Censored quantileinstrumental-variable estimation with Stata[J]. The Stata Journal, 2019,19(4): 768-781.</a></li><li>基于面板数据的工具变量分位数回归：<ahref="file:///C:/Users/wugan/Documents/wugang/zotero/storage/XAPZAU4E/S0165176509001554.html">HardingM, Lamarche C. A quantile regression approach for estimating panel datamodels using instrumental variables[J]. Economics Letters, 2009, 104(3):133-135.</a></li><li>两阶段面板工具变量估计：<code>xtivdfreg</code>​，<ahref="https://journals.sagepub.com/doi/10.1177/1536867X211045558">KripfganzS, Sarafidis V. Instrumental-variable estimation of large-T panel-datamodels with common factors[J]. The Stata Journal, 2021, 21(3):659-686.</a>，<ahref="https://www.lianxh.cn/details/1229.html">连享会链接</a></li><li>工具变量在门槛回归中的应用：<ahref="https://www.cambridge.org/core/journals/econometric-theory/article/abs/instrumental-variable-estimation-of-a-threshold-model/E5BF8D1E8498E3FB578A053C330CB4FD">CanerM, Hansen B E. Instrumental variable estimation of a threshold model[J].Econometric theory, 2004, 20(5): 813-843.</a></li><li>基于非参数估计的时变系数工具变量法：<ahref="https://www.sciencedirect.com/science/article/abs/pii/S0304407620303754">GiraitisL, Kapetanios G, Marcellino M. Time-varying instrumental variableestimation[J]. Journal of Econometrics, 2021, 224(2): 394-415.</a></li></ul><h2 id="四工具变量的检验">四、工具变量的检验</h2><h3 id="常见检验项目四大项目">1. 常见检验项目：四大项目</h3><p><strong>豪斯曼检验（Hausman test）：</strong>检验解释变量内生性，需要同方差假设，因此不能使用稳健标准误</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">qui</span> <span class="keyword">reg</span> y x <span class="variable">$varlist1</span></span><br><span class="line"><span class="keyword">est</span> store ols </span><br><span class="line"><span class="keyword">qui</span> ivregress 2sls y <span class="variable">$varlist1</span> (x = <span class="variable">$ivlist</span>)</span><br><span class="line"><span class="keyword">est</span> store iv </span><br><span class="line"><span class="keyword">hausman</span> iv ols, constant sigmamore</span><br></pre></td></tr></table></figure><p><strong>不可识别检验（Underidentification test）：</strong>使用工具变量法的前提之一是秩条件成立，即 <spanclass="math inline">\(L\)</span> 个工具变量的秩为 <spanclass="math inline">\(z_i\)</span>，<spanclass="math inline">\(K\)</span> 个内生变量（解释变量）的秩为 <spanclass="math inline">\(x_i\)</span>，那么要求 <spanclass="math inline">\(z_i\)</span> 与 <spanclass="math inline">\(x_i\)</span> 有重叠元素，且 <spanclass="math inline">\(L &gt;=K\)</span>。对于不满足列满秩的情况，可以使用 <code>ivreg2</code>​命令进行检验，可以查看 <strong>Kleibergen-Parp rk LM统计量</strong>。</p><p><strong>弱工具变量检验（Weak instruments test）：</strong>如果内生变量与工具变量的仅微弱相关，工具变量中与内生变量相关的信息很少，就会存在弱工具变量问题，可以使用四种方法判别：</p><ul><li>方法一：偏 R<sup>2</sup>（Shea's partialR<sup>2</sup>），Shea（1997）提出</li><li>方法二：最小特征值统计量（minimum eigenvalue statistics），Stock andYogo（2005）提出。在只有一个内生解释变量的条件下，该统计量还原为 F统计量</li><li>方法三：假设扰动项独立同分布（iid），使用 Cragg-Donald Wald F统计量（Cragg and Donald，2005），临界值由 Stock andYogo（2005）提供</li><li>方法四：如果扰动项不满足 iid 假设，使用 Kleibergen-Paap Wald rk F统计量，临界值来自 Stock and Yogo（2005）</li><li>其他检验方法：弱工具变量检验：<code>twostepweakiv</code>​，<ahref="https://www.lianxh.cn/news/2e36ddefa9f76.html">使用两步法检验线性工具变量估计中工具变量的稳健性</a></li></ul><p><strong>过度识别检验（Overidentification test）：</strong>工具变量比内生变量多，则需要做过度识别检验。原假设：“<em>H</em>​<em><sub>0</sub></em>：所有工具变量都是外生的”。</p><h4 id="命令">1.1 <strong>命令：</strong></h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 在ivregress 2SLS下的弱工具变量检验</span></span><br><span class="line">ivregress 2sls y <span class="variable">$varlist1</span> (x = <span class="variable">$ivlist</span>), r</span><br><span class="line"><span class="keyword">estat</span> firststage, all forcenonrobust</span><br><span class="line"><span class="keyword">estat</span> overid</span><br><span class="line"></span><br><span class="line"><span class="comment">** 在ivreg2下的弱工具变量检验</span></span><br><span class="line">ivreg2 y <span class="variable">$varlist1</span> (x = <span class="variable">$ivlist</span>), r</span><br></pre></td></tr></table></figure><h4 id="ivregress-2sls-下的工具变量检验示例">1.2<strong>​<code>ivregress 2SLS</code>​</strong>​<strong>下的工具变量检验示例：</strong></h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 案例数据: 陈强《高级计量》案例数据, 链接: https://fgzfgz.github.io/posts/16796/</span></span><br><span class="line"><span class="keyword">use</span> grilic, <span class="keyword">clear</span></span><br><span class="line">ivregress 2sls lw s expr tenure rns smsa (iq = med kww mrt age), r</span><br><span class="line"></span><br><span class="line"><span class="comment">** 1. 弱工具变量</span></span><br><span class="line"><span class="keyword">estat</span> firststage, all forcenonrobust</span><br><span class="line"><span class="comment">/*  First-stage regression summary statistics</span></span><br><span class="line"><span class="comment">  --------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">               |            Adjusted      Partial       Robust</span></span><br><span class="line"><span class="comment">      Variable |   R-sq.       R-sq.        R-sq.      F(4,748)   Prob &gt; F</span></span><br><span class="line"><span class="comment">  -------------+------------------------------------------------------------</span></span><br><span class="line"><span class="comment">            iq |  0.3175      0.3093       0.0533       9.58518    0.0000</span></span><br><span class="line"><span class="comment">  --------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  Shea&#x27;s partial R-squared     // 弱工具变量方法一</span></span><br><span class="line"><span class="comment">  --------------------------------------------------</span></span><br><span class="line"><span class="comment">               |     Shea&#x27;s             Shea&#x27;s</span></span><br><span class="line"><span class="comment">      Variable |  partial R-sq.   adj. partial R-sq.</span></span><br><span class="line"><span class="comment">  -------------+------------------------------------</span></span><br><span class="line"><span class="comment">            iq |     0.0533             0.0432</span></span><br><span class="line"><span class="comment">  --------------------------------------------------</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  Minimum eigenvalue statistic = 10.5383    // 弱工具变量方法二  </span></span><br><span class="line"><span class="comment">  Critical Values                      # of endogenous regressors:    1</span></span><br><span class="line"><span class="comment">  H0: Instruments are weak             # of excluded instruments:     4</span></span><br><span class="line"><span class="comment">  ---------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">                                     |    5%     10%     20%     30%</span></span><br><span class="line"><span class="comment">  2SLS relative bias                 |  16.85   10.27    6.71    5.34</span></span><br><span class="line"><span class="comment">  -----------------------------------+---------------------------------</span></span><br><span class="line"><span class="comment">                                     |   10%     15%     20%     25%</span></span><br><span class="line"><span class="comment">  2SLS size of nominal 5% Wald test  |  24.58   13.96   10.26    8.31</span></span><br><span class="line"><span class="comment">  LIML size of nominal 5% Wald test  |   5.44    3.87    3.30    2.98</span></span><br><span class="line"><span class="comment">  ---------------------------------------------------------------------   */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. 过度识别检验</span></span><br><span class="line"><span class="keyword">estat</span> overid</span><br><span class="line"><span class="comment">/* Test of overidentifying restrictions:</span></span><br><span class="line"><span class="comment">  Score chi2(3)          =  51.5449  (p = 0.0000)  */</span></span><br></pre></td></tr></table></figure><h4 id="ivreg2-下的工具变量检验示例">1.3<strong>​<code>ivreg2</code>​</strong>​<strong>下的工具变量检验示例：</strong></h4><p>使用 <code>ivreg2</code>​ 可以直接汇报更多的检验结果：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 案例数据: 陈强《高级计量》案例数据, 链接: https://fgzfgz.github.io/posts/16796/</span></span><br><span class="line"><span class="keyword">use</span> grilic, <span class="keyword">clear</span></span><br><span class="line">ivreg2 lw s expr tenure rns smsa (iq = med kww mrt age), r</span><br><span class="line"></span><br><span class="line"><span class="comment">** 1. 弱工具变量检验</span></span><br><span class="line"><span class="comment">/* Estimates efficient for homoskedasticity only</span></span><br><span class="line"><span class="comment">Statistics robust to heteroskedasticity</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">                                                      Number of obs =      758</span></span><br><span class="line"><span class="comment">                                                      F(  6,   751) =    58.74</span></span><br><span class="line"><span class="comment">                                                      Prob &gt; F      =   0.0000</span></span><br><span class="line"><span class="comment">Total (centered) SS     =  139.2861498                Centered R2   =   0.2002</span></span><br><span class="line"><span class="comment">Total (uncentered) SS   =  24652.24662                Uncentered R2 =   0.9955</span></span><br><span class="line"><span class="comment">Residual SS             =    111.39959                Root MSE      =    .3834</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">             |               Robust</span></span><br><span class="line"><span class="comment">          lw | Coefficient  std. err.      z    P&gt;|z|     [95% conf. interval]</span></span><br><span class="line"><span class="comment">-------------+----------------------------------------------------------------</span></span><br><span class="line"><span class="comment">          iq |  -.0115468   .0056376    -2.05   0.041    -.0225962   -.0004974</span></span><br><span class="line"><span class="comment">           s |   .1373477   .0174989     7.85   0.000     .1030506    .1716449</span></span><br><span class="line"><span class="comment">        expr |   .0338041   .0074844     4.52   0.000      .019135    .0484732</span></span><br><span class="line"><span class="comment">      tenure |    .040564   .0095848     4.23   0.000     .0217781      .05935</span></span><br><span class="line"><span class="comment">         rns |  -.1176984   .0359582    -3.27   0.001    -.1881751   -.0472216</span></span><br><span class="line"><span class="comment">        smsa |    .149983   .0322276     4.65   0.000     .0868182    .2131479</span></span><br><span class="line"><span class="comment">       _cons |   4.837875   .3799432    12.73   0.000       4.0932     5.58255</span></span><br><span class="line"><span class="comment">------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">Underidentification test (Kleibergen-Paap rk LM statistic):             33.294    // 不可识别检验</span></span><br><span class="line"><span class="comment">                                                   Chi-sq(4) P-val =    0.0000</span></span><br><span class="line"><span class="comment">------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">Weak identification test (Cragg-Donald Wald F statistic):               10.538    // 弱工具变量方法三</span></span><br><span class="line"><span class="comment">                         (Kleibergen-Paap rk Wald F statistic):          9.585    // 弱工具变量方法四</span></span><br><span class="line"><span class="comment">Stock-Yogo weak ID test critical values:  5% maximal IV relative bias    16.85</span></span><br><span class="line"><span class="comment">                                         10% maximal IV relative bias    10.27</span></span><br><span class="line"><span class="comment">                                         20% maximal IV relative bias     6.71</span></span><br><span class="line"><span class="comment">                                         30% maximal IV relative bias     5.34</span></span><br><span class="line"><span class="comment">                                         10% maximal IV size             24.58</span></span><br><span class="line"><span class="comment">                                         15% maximal IV size             13.96</span></span><br><span class="line"><span class="comment">                                         20% maximal IV size             10.26</span></span><br><span class="line"><span class="comment">                                         25% maximal IV size              8.31</span></span><br><span class="line"><span class="comment">Source: Stock-Yogo (2005).  Reproduced by permission.</span></span><br><span class="line"><span class="comment">NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.</span></span><br><span class="line"><span class="comment">------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">Hansen J statistic (overidentification test of all instruments):        51.545    // 过度识别检验</span></span><br><span class="line"><span class="comment">                                                   Chi-sq(3) P-val =    0.0000</span></span><br><span class="line"><span class="comment">------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">Instrumented:         iq</span></span><br><span class="line"><span class="comment">Included instruments: s expr tenure rns smsa</span></span><br><span class="line"><span class="comment">Excluded instruments: med kww mrt age</span></span><br><span class="line"><span class="comment">------------------------------------------------------------------------------   */</span></span><br></pre></td></tr></table></figure><h3 id="工具变量的假设检验">2.工具变量的假设检验</h3><h4 id="截面数据的工具变量假设检验">2.1 截面数据的工具变量假设检验</h4><h5 id="相关性的假设检验">2.1.1 <strong>相关性的假设检验</strong></h5><p>含义：内生变量 <span class="math inline">\(x\)</span> 与工具变量<span class="math inline">\(z\)</span> 之间有关联，而且非弱关联。</p><ul><li>使用弱工具变量检验结果论证内生变量 <spanclass="math inline">\(x\)</span> 与工具变量 <spanclass="math inline">\(z\)</span> 之间的关系不是弱关联</li><li>回归法：构建 <span class="math inline">\(z\)</span> 对 <spanclass="math inline">\(x\)</span> 的简单 OLS回归，例如：<code>reg x z</code>​</li><li>第一阶段回归结果：两步估计（2SLS、2SPS、2SRI）第一阶段工具变量 <spanclass="math inline">\(z\)</span> 对内生变量 <spanclass="math inline">\(x\)</span> 显著性</li></ul><h5 id="外生性的假设检验"><strong>2.1.2 外生性的假设检验</strong></h5><p>含义：结果变量 <span class="math inline">\(y\)</span> 与工具变量<span class="math inline">\(z\)</span>之间无关联，或者说无直接关联。</p><ul><li>无关联情况：<code>reg y z</code>​，<spanclass="math inline">\(z\)</span> 不显著</li><li>无直接关联情况：<code>reg y z</code>​，<spanclass="math inline">\(z\)</span> 显著；<code>reg y x z</code>​，<spanclass="math inline">\(z\)</span> 不显著。说明 <spanclass="math inline">\(z\)</span> 的显著性来仅自于 <spanclass="math inline">\(x\)</span>。（<ahref="https://fgzfgz.github.io/posts/15538/">Link</a>）</li></ul><p>第二种“无直接关联情况”，需要注意的是，<strong>​<code>reg y x z</code>​</strong>​<strong>，</strong>​<strong><spanclass="math inline">\(z\)</span></strong><strong>不显著，是外生性假设成立的充分非必要条件</strong>​<strong>！</strong> （<ahref="https://fgzfgz.github.io/posts/15538/">赵西亮，2017，《基本有用的计量经济学》</a>）</p><ul><li><strong>充分：</strong>​<code>reg y x z</code>​，<spanclass="math inline">\(z\)</span> 不显著，说明 <spanclass="math inline">\(z\)</span> 的显著性来仅自于 <spanclass="math inline">\(x\)</span>，外生性成立。</li><li><strong>非必要：</strong>​<code>reg y x z</code>​，<spanclass="math inline">\(z\)</span> 显著，<strong>不能说明</strong><strong><span class="math inline">\(z\)</span></strong><strong>不满足外生性</strong>。</li></ul><h5 id="排他性的假设检验"><strong>2.1.3 排他性的假设检验</strong></h5><p>在传统的因果推断相关教材中，并不包含排他性的这一假设。排他性假设本质是外生性假设的外延。</p><p>当工具变量满足外生性的充分条件（“无直接关联”情况）时，一般情况下无需进行排他性检验。然而，外生性的充分条件尝尝难以满足。通过排他性来论证工具变量<span class="math inline">\(z\)</span> 对结果变量 <spanclass="math inline">\(y\)</span> 的影响仅来自内生变量 <spanclass="math inline">\(x\)</span>，就是一种可选的做法。</p><ul><li>排除其他影响路径的做法：<ahref="https://www.lianxh.cn/news/d4e7734f4d10d.html">经典文献</a>​</li><li>控制函数法下的排他性检验：<code>testex</code>​，<ahref="https://mp.weixin.qq.com/s/SmBVZJRidQslE5TkP28ojg?spm_id_from=444.41.rich-text.link.click&amp;poc_token=HBhhkmajpMhPbctPNnBfdQeO-2viZZzjn1EmXQZl">链接</a></li></ul><h4 id="面板数据的工具变量假设检验">2.2 面板数据的工具变量假设检验</h4><p>滞后项做工具变量的前提（<ahref="https://www.lianxh.cn/news/c45f6113e2c2a.html">链接</a>）：</p><ul><li>不可观测因素不存在序列相关：<span class="math inline">\(U_{t-1}\nrightarrow U_t\)</span>，无法检验</li><li>内生变量是平稳的自回归过程：<span class="math inline">\(X_{t-1}\rightarrow X_t\)</span>，可以检验</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20240713200118-j6uk6pq.png" style="width:550px" alt="面板数据中滞后项做工具变量的有向无环图" /></p><h4 id="常用工具变量的检验">2.3 常用工具变量的检验</h4><p><strong>同侪效应检验：</strong>​<code>snreghnet</code>​可以考察模型的行异质性和列异质性。<code>snregenet</code>​计算模型的两阶段工具变量估计，并采用野蛮自举计算标准误差。<strong>(</strong>​<strong><ahref="http://www.uone-tech.cn/ChinaStataConference2024/">2024 年 Stata中国用户大会</a></strong>​ <strong>，目前尚未发布)</strong></p><h3 id="其他内生性与工具变量检验">3. 其他内生性与工具变量检验</h3><h4 id="遗漏变量检验">3.1 遗漏变量检验</h4><ul><li>Article: <ahref="https://www.tandfonline.com/doi/full/10.1080/07350015.2016.1227711">OsterE. Unobservable selection and coefficient stability: Theory andevidence[J]. Journal of Business &amp; Economic Statistics, 2019, 37(2):187-204.</a></li><li>Package: <ahref="https://econpapers.repec.org/software/bocbocode/S457677.htm">PSACALC:Stata module to calculate treatment effects and relative degree ofselection under proportional selection of observables andunobservables</a></li></ul><p><strong>案例：</strong><ahref="https://kns.cnki.net/kcms2/article/abstract?v=YRsOmSesWzbM-XMWq17Bq1X4-RXofhaIYkOQ3VuGBOSuH--qG0sr-G1tr4wDbhqH_YHXxkkQgecccuongfF5ojQggOr1jI6AcN6NMP9i4aeP65y8j71R8riC_QzuP9sFjvmBe7Mfm72IqpKcn71pdfGr7QMcqfNUtuAiYoufqwQYKQ9IHNHM5RZC1kMnOIp3&amp;uniplatform=NZKPT&amp;language=CHS">吴刚,钟钰.地块规模与化肥投入：减施逻辑及其证据[J].华中农业大学学报,2024,43(03):27-38.</a></p><p>为考察可能存在的遗漏变量及其对回归的影响，可以使用 Oster (2019)的提出的做法进行稳健性检验。当模型可能存在不可观测变量时，可以使用 <spanclass="math inline">\(β^{\*}=β^{\*} (R_{max},\delta)\)</span>获得真实系数的一致估计，其中 <spanclass="math inline">\(R_{max}\)</span>表示所有不可观测变量均能够被观测时回归方程的最大拟合优度；<spanclass="math inline">\(\delta\)</span>为选择比例，用于衡量相较于可观测变量和不可观测变量分别同核心解释变量之间相关关系的强弱，<spanclass="math inline">\(\delta=1\)</span>表示可观测变量与不可观测变量同等重要。参考 Oster (2019) 的参数设置，设定<span class="math inline">\(R_{max} =1.3R\)</span>，即为当前回归方程拟合优度的 1.3倍，然后采用以下两种方法进行检验：</p><ul><li>方法（1）：当 <span class="math inline">\(\delta=1\)</span> 时，计算<span class="math inline">\(β^{\* }(R_{max},\delta)\)</span>，若 <spanclass="math inline">\(β^{\*}\)</span> 落在了估计系数的 95%置信区间内，则估计系数是稳健的；</li><li>方法（2）：当 <span class="math inline">\(\beta =0\)</span> 时，计算<span class="math inline">\(\delta\)</span> 的取值，若 <spanclass="math inline">\(\delta\)</span> 的取值大于临界值1，则通过检验。</li></ul><p>检验结果如表 8 所示：</p><ul><li>当 <span class="math inline">\(R_{max} = 1.3R\)</span>，<spanclass="math inline">\(\delta=1\)</span> 时，估计系数 <spanclass="math inline">\(β^{\*}\)</span> 均落在 95%置信区间内，由于置信区间不包括 0，且 <spanclass="math inline">\(β^{\*}\)</span>的估计结果符号为负，方法（1）检验通过；</li><li>当 <span class="math inline">\(R_{max} = 1.3R\)</span>，<spanclass="math inline">\(\beta =0\)</span> 时，此时，<spanclass="math inline">\(\delta &gt; 1\)</span>，方法（2）检验通过。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20240714033713-2wxhs1y.png" style="width:550px" alt="遗漏变量检验" /></p><h4 id="近似外生工具变量检验">3.2 近似外生工具变量检验</h4><p>工具变量完全外生是一种理想状态，现实中估计模型仍然可能存在轻微的内生性问题。由于工具变量的外生性难以检验，可以使用 <ahref="https://www.jstor.org/stable/41349174">Conley et al. (2012)</a>提出的近似零（local to zero, LTZ）和置信区间集合（union of confidenceintervals,UCI），检验工具变量在近似外生的条件下估计结果是否具有稳健性。</p><p>使用 <code>plausexog</code> 命令（<ahref="https://www.lianxh.cn/details/496.html">连享会链接</a>），可以进行近似工具变量检验，包括置信区间方法（UCI）和近似零方法（LTZ）。</p><p><strong>案例：</strong><ahref="https://kns.cnki.net/kcms2/article/abstract?v=YRsOmSesWzbM-XMWq17Bq1X4-RXofhaIYkOQ3VuGBOSuH--qG0sr-G1tr4wDbhqH_YHXxkkQgecccuongfF5ojQggOr1jI6AcN6NMP9i4aeP65y8j71R8riC_QzuP9sFjvmBe7Mfm72IqpKcn71pdfGr7QMcqfNUtuAiYoufqwQYKQ9IHNHM5RZC1kMnOIp3&amp;uniplatform=NZKPT&amp;language=CHS">吴刚,钟钰.地块规模与化肥投入：减施逻辑及其证据[J].华中农业大学学报,2024,43(03):27-38.</a></p><p>LTZ 的结果表明，地块规模对化肥施用强度与化肥施用效率的影响在 1%水平上显著为负；使用 UCI估计工具变量近似外生条件下置信区间，可以发现主回归的估计系数均落在 UCI法计算出的置信区间内。因此，当工具变量是近似外生时，估计结果仍然具有稳健性。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20240714032317-2hokv5u.png" style="width:550px" alt="近似外生工具变量检验" /></p><h2id="五工具变量估计中外部有效性的讨论">五、工具变量估计中外部有效性的讨论</h2><blockquote><p>本节内容主要来自：<ahref="https://www.lianxh.cn/details/634.html">连享会 - IV估计中的外部有效性 (External Validity)</a></p></blockquote><h3 id="什么是外部有效应">1. 什么是外部有效应？</h3><h4 id="含义">1.1 含义</h4><p>在政策评估中，对政策效应的估计大多集中在处理效应为常数，或者说平均处理效应(ATE)的情形。此时，隐含地假设了因果效应具有同质性，即所有个体处理效应都一样。然而，如果放宽这个假设，引入处理效应的异质性，那么就需要考虑一个问题：当类似于以下情况发生变化时，研究结论是否会改变？</p><ul><li>当有新个体加入实验，研究结论是否会改变？</li><li>A 州减税政策的评估结果，是否能直接用来指导 B 州的减税政策设计？</li><li>如果不能直接使用，那么是否可以通过调整后使用？</li></ul><h4 id="案例">1.2 案例</h4><ul><li>研究一：利用随机抽取的参军资格作为工具变量IV，来估计越战服役对收入的影响；</li><li>研究二：估计志愿参军人员的参军经历对收入的影响。</li></ul><p><strong>研究一的估计结果不能用在研究二中。</strong>这是由于两个样本中个体并不相同，即研究一中更接近随机，而研究二中那些志愿参军的人员，可能本身就是收入偏低的劳动人群。</p><h3 id="局部平均处理效应-late">2. 局部平均处理效应 (LATE)</h3><p>在 IV分析框架中，我们尝试通过引入工具变脸来创造因果链条：通过工具变量 Z影响我们感兴趣的变量 <span class="math inline">\(D\)</span>，然后 <spanclass="math inline">\(D\)</span> 再去影响潜在结果 <spanclass="math inline">\(Y\)</span>。</p><p>需要注意的是，不论干预变量 <span class="math inline">\(D_i\)</span>是何种类型，工具变量法的结果都不可作为因果效应（ATE），仅可将结果解释为局部平均处理效应（LocalAverage Treatment Effect，LATE）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/net-img-image-20221018182903-oq4blvn-20221021221423-dp6aln3.png" style="width:550px" alt="工具变量法的有相无环图" /></p><p>在参军的例子中，工具变量 <span class="math inline">\(Z\)</span>为随机抽取的参军资格，干预变量 <span class="math inline">\(D\)</span>为是否参军，那么根据是否有参军资格、是否参军，可以将人群划分为四大类：</p><ul><li>如果有参军资格（<spanclass="math inline">\(Z=1\)</span>），则参军（<spanclass="math inline">\(D=1\)</span>）；</li><li>如果没有参军资格（<spanclass="math inline">\(Z=0\)</span>），则不参军（<spanclass="math inline">\(D=0\)</span>）；</li><li>如果没有参军资格（<spanclass="math inline">\(Z=0\)</span>），也会参军（<spanclass="math inline">\(D=1\)</span>）；</li><li>如果有参军资格（<spanclass="math inline">\(Z=1\)</span>），也不参军（<spanclass="math inline">\(D=0\)</span>）。</li></ul><p><strong>工具变量估计到底是对什么群人的估计？</strong></p><ul><li><p>IV估计可以解释的两类人群（<strong>依从工具变量者，compliers</strong>）：</p><ul><li>如果有参军资格 (<span class="math inline">\(Z=1\)</span>)，则参军(<span class="math inline">\(D=1\)</span> )；</li><li>如果没有参军资格 (<spanclass="math inline">\(Z=0\)</span>)，则不参军 (<spanclass="math inline">\(D=0\)</span>)。</li></ul></li><li><p>IV 估计不能解释的两类人均：</p><ul><li><strong>始终接受者（always-takers）：</strong>不论是否有参军资格（<span class="math inline">\(Z=0 \ \ or \ \Z=1\)</span>），都要参军（<spanclass="math inline">\(D=1\)</span>）；</li><li><strong>始终不接受者（never-takers）：</strong>不论是否有参军资格（<span class="math inline">\(Z=0 \ \ or \ \Z=1\)</span>），都不参军（<spanclass="math inline">\(D=0\)</span>）。</li></ul></li></ul><p>当依从工具变量者（compliers）只占实验人群一部分时：</p><ul><li>IV 估计出来平均因果效应往往不等于所有 <spanclass="math inline">\(D=1\)</span> 的人的平均处理效应；</li><li>IV 估计出来的未受处理的个体的平均处理效应也不等于所有 <spanclass="math inline">\(D=0\)</span> 的人的平均处理效应。</li></ul><h3 id="late-的外部有效性">3. LATE 的外部有效性</h3><p>当随机实验中不只是 compliers人群时，如何在工具变量局部因果框架下，去估计所有实验组个体的平均因果效应呢？或者说，如何评估该实验中LATE 的外部有效性呢？</p><p>利用异质性因果效应和边际处理效应 (MTE) 可以识别 IV估计下的内部效度和外部效度（外部有效性）问题。</p><h4 id="边际处理效应">3.1 边际处理效应</h4><p>Kowalski 编写了 <code>mtebinary</code>​ 和 <code>mtemore</code>​命令，用于估计二元工具变量下的边际处理效应。</p><blockquote><p>[1] <ahref="https://ideas.repec.org/c/boc/bocode/s458285.html">Kowalski A,Tran Y, Ristovska L. MTEBINARY: Stata module to compute MarginalTreatment Effects (MTE) With a Binary Instrument, Statistical SoftwareComponents, 2018.</a></p><p>[2] <ahref="https://ideas.repec.org/c/boc/bocode/s458503.html">Kowalski A,Tran Y, Ristovska L. MTEMORE: Stata module to compute Marginal TreatmentEffects (MTE) With a Binary Instrument, Statistical Software Components,2018.</a></p></blockquote><blockquote><p><strong>工具变量是一种思想：</strong>工具变量的边际处理效应，是结合了二元变量的边际效应估计和工具变量解决内生性的思路。</p></blockquote><h3 id="删失数据的工具变量分位数回归">3.2删失数据的工具变量分位数回归</h3><p>在内生性或外生性情况下，使用 <code>cqiv</code>​命令，可以估计删失和未删失数据数据的估计。</p><blockquote><p><strong>工具变量是一种思想：</strong>结合分位数回归和工具变量估计，可以在删失数据和未删失数据中考察异质性的因果效应估计。</p><p>文献来源：<ahref="https://journals.sagepub.com/doi/10.1177/1536867X19893615">ChernozhukovV, Fernández-Val I, Han S, et al. Censored quantileinstrumental-variable estimation with Stata[J]. The Stata Journal, 2019,19(4): 768-781.</a></p></blockquote><h4 id="拓展材料">3.3 拓展材料：</h4><ul><li>政策干预的外部有效应问题的文献回归：<ahref="https://www.opensaldru.uct.ac.za/handle/11090/691">Muller S.Randomised trials for policy: a review of the external validity oftreatment effects[M]. 2014.</a></li><li>政策干预中，分析基于工具变量的始终接受者和始终不接受者的外部有效性检验：<ahref="https://www.cambridge.org/core/journals/political-analysis/article/profiling-compliers-and-noncompliers-for-instrumentalvariable-analysis/0E2AA51F9BD436A5DB5A84462732A9C3">MarbachM, Hangartner D. Profiling compliers and noncompliers forinstrumental-variable analysis[J]. Political Analysis, 2020, 28(3):435-444.</a></li></ul><h4 id="为什么普适性">3.4 为什么？普适性？</h4><p><strong>问题一：</strong> 为什么要考察 LATE 的外部有效性？</p><p>上面的很多回答都在尝试估计准确的二元政策干预效果。</p><ul><li><p>LATE的本质是忽略异质性影响得到的估计，主要关注估计结果的内部有效性；</p></li><li><p>LATE 的外部有效性，本质是关注异质性干预行为：</p><ul><li>干预行为的异质性：参军的例子中，考察随机抽取下受试群体的自选择行为，本质是其他未控制因素的异质性；</li><li>结果的异质性：<code>cqiv</code>​命令的例子中，考察（结果变量的）不同分位点处的异质性影响。</li></ul></li><li><p>结合机器学习的例子：张宏亮（2014,JDE）的例子，针对留守儿童随机干预的差异，结果“是否女孩儿”和“基线成绩”是影响干预行为效果的重要因素。</p></li></ul><p><strong>问题二：</strong> 为什么要针对二元干预变量考虑LATE？在连续的干预行为里，没有普适性吗？</p><ul><li><p>在二元干预的估计里，将估计结果解释为因果效应已经尤为困难；在连续干预的估计里，估计结果更加难以解释为因果效应。</p></li><li><p>二元干预估计的外部有效性讨论，对连续干预估计的最大启发是：</p><ul><li>需要关注工具变量和内生干预行为的相关性，工具变量包含内生变量的信息较少会导致弱工具变量问题，降低估计结果的可信度；</li><li>连续干预估计中，工具变量既与内生干预变量相关、又与结果变量不直接相关非常困难。因此，多数工具变量往往不够外生，要关注工具变量的外生性检验。</li></ul></li></ul><p><strong>外部有效性是回归方法的固有问题，难以完全回避。在解决外部有效性问题上</strong>，<strong>擅长预测的机器学习是否有更好的表现？</strong></p><h2 id="外部有效性识别的-stata-命令">4. 外部有效性识别的 Stata 命令</h2><h3 id="针对二元工具变量的边际效应估计mtebinary-命令">4.1针对二元工具变量的边际效应估计：<code>mtebinary</code>​ 命令</h3><h4 id="命令简介">4.1.1 命令简介</h4><p><code>mtebinary</code>​ 命令安装如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ssc</span> install mtebinary, <span class="keyword">replace</span></span><br></pre></td></tr></table></figure><p><code>mtebinary</code> ​的语法格式为：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mtebinary outcome  (endogvar = instrumen)  [covariates] [, options]</span><br></pre></td></tr></table></figure><p>其中，</p><ul><li><code>outcome</code>​ 为结果变量，可以是二元、离散或者连续变量；</li><li><code>endogvar</code>​ 为内生变量，必须是二元变量；</li><li><code>instrument</code>​ 为工具变量，必须是二元变量；</li><li><code>covariates</code>​ 为协变量。</li></ul><p><code>opitions</code>​ 主要包括两类：</p><ul><li><p>第一类为 <code>Estimation</code>​ 设置的选项，其中，</p><ul><li><code>poly(#)</code>​ 括号里填估计时回归函数的幂，默认为 1次，即线性；</li><li><code>reps(#)</code>​ 括号里填 <code>bootstrap</code>​ 的次数，默认为200；</li><li><code>seed(#)</code>​ 括号里填 <code>bootstrap</code>​的随机种子数，默认是 6574358；</li><li><code>bootsample(opt)</code>​ 括号里填 <code>bootstrap</code>​的方式，可以是<code>strata(varlist)</code>​，<code>cluster(varlist)</code>​，或者<code>weight</code>​；</li><li><code>weightvar(varname)</code>​括号里填需要赋予权重的变量名，默认没有赋予权重；</li></ul></li><li><p>第二类为 <code>Post-Estimation</code>​ 的相关选项，其中，</p><ul><li><code>summarize(varlist)</code>​括号里填协变量名称，输出这些协变量的三类人群的统计描述；</li><li><code>graphsave(graphsave)</code>​ 括号里填输出图像的名称，默认名称为mtegrapha。</li></ul></li></ul><h4 id="命令用法示例">4.1.2 命令用法示例</h4><p>下面以没有协变量、MTE效应为线性为例来展示命令的用法和结果。相关代码如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">net</span> get mtebinary       <span class="comment">//下载数据 mtebinary_data.dta 到当前文件夹</span></span><br><span class="line"><span class="keyword">use</span> mtebinary_data.dta, <span class="keyword">clear</span></span><br><span class="line">mtebinary Y2 (<span class="keyword">D</span> = Z), reps (0) <span class="keyword">summarize</span> (age female) graphsave (mte)</span><br></pre></td></tr></table></figure><p>其中：</p><ul><li><code>Y2</code>​ 为急救室使用情况，<code>D</code>​为是否接受医疗服务，<code>Z</code>​ 为是否有资格医疗补助；</li><li><code>reps(0)</code>​ 表示 <code>bootstrap</code>​ 次数为 0；</li><li><code>summarize(age female)</code>​ 表示显示 compliers、always-takers和 never-takers 这三类人群的 <code>age</code>​ 和 <code>female</code>​的统计性质；</li><li><code>graphsave (mte)</code>​ 将图形结果保存名为 mte 的 pdf文件。</li></ul><p>主要回归结果为三个表和两个图，具体来看。</p><p>第一个表格为 "Average Characteristics of Always Takers, Compliers andNever Takers"，如下所示。其中第一列显示了所有人群的结果，第二列显示了always-takers 人群的结果，第三列显示了 never-takers 人群的结果，第四列为always-takers 人群和 compliers 人群的差异，第五列为 compliers 人群和never-takers 人群的差异。从变量的统计结果，可以计算出 <spanclass="math inline">\(P_C=175/500=0.375\)</span>，<spanclass="math inline">\(P_I=0.375+125/500=0.625\)</span>。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Beginning Estimation of Marginal Treatment Effects (MTE) with a Binary Instrument.</span><br><span class="line">MTE has been specified <span class="keyword">as</span> a polynomial of <span class="keyword">order</span> 1.</span><br><span class="line">The number of <span class="keyword">bootstrap</span> replication is 0</span><br><span class="line"><span class="keyword">NOTE</span>: <span class="variable">$Y</span><span class="variable">$ou</span> have specified zero <span class="keyword">bootstrap</span> replication. <span class="keyword">No</span> standard <span class="keyword">error</span> will be computed</span><br><span class="line"></span><br><span class="line">Average Characteristics of Always Takers, Compliers and Never Takers</span><br><span class="line">-------------------------------------------------------------------</span><br><span class="line">           All     (1)       (2)      (3)    Differences  </span><br><span class="line">                  Always  Compliers  Never     (1)-(2)    (2)-(3) </span><br><span class="line">                  Takers             Takers               </span><br><span class="line">-------------------------------------------------------------------</span><br><span class="line"> age      49.25   54.32    50.00     44.65      4.32       5.35   </span><br><span class="line"> female    0.56    0.27     1.00      0.79      -0.73      0.21   </span><br><span class="line"> <span class="keyword">Count</span>   500.00  175.00   125.00    200.00               </span><br><span class="line">-------------------------------------------------------------------</span><br></pre></td></tr></table></figure><p>可以发现，不同类型人群间存在较为明显的统计差异。比如对于年龄而言，always-takers人群年平均龄大于 compliers 人群 4.32 岁，约 8.6%；而 compliers人群年龄平均大于 never-takers 人群 5.35 岁，约10.67%。在这里，always-takers人群最大，他们本身对医疗补助的需求也最大，而 never-takers人群年龄最小，他们对医疗补助需求最小。</p><p>实际上，他们是否参与，部分可能是逆向选择的结果。可见，如果忽略不同类别间人群的显著差异，将LATE效应当成全部人群的平均处理效应，很有可能导致高估或低估的错误。同样，性别变量的组间差异也存在类似的性质。</p><p>第二个表格为 "Marginal Treated Outcome, Untreated Outcome, andTreatmentEffect"，分别给出了三种效应的斜率和截距。有了斜率和截距，我们就可以将仅适用于compliers 人群的 LATE 效应外推到 never-takers 人群和 always-takers人群。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Marginal Treated Outcome, Untreated Outcome, and Treatment Effect</span><br><span class="line">           ---------------------------</span><br><span class="line">                  Intercept   Slope  </span><br><span class="line">           ---------------------------</span><br><span class="line">            MTO    965.00    -600.00 </span><br><span class="line">            MUO    550.00    -400.00 </span><br><span class="line">            MTE    415.00    -200.00 </span><br><span class="line">           ---------------------------</span><br></pre></td></tr></table></figure><p>第三个表格为 "Average Outcome of Always Takers, Compliers, and NeverTakers"，给出不同人群的处理效应和非处理效应。计算方法为利用第二个表中的结果，分别计算 MTO，MUO 和 MTE 在 <span class="math inline">\([0,P_C]\)</span>，<span class="math inline">\([P_C, P_I]\)</span>，<spanclass="math inline">\([P_C, 1]\)</span> 三个区间上的期望。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Average Outcome of Always Takers, Compliers, and Never Takers</span><br><span class="line">----------------------------------------------------------------------------</span><br><span class="line">                     Always  Compliers  Never    Untreated      Treated  </span><br><span class="line">                     Takers             Takers  Outcome <span class="keyword">Test</span>  Outcome <span class="keyword">Test</span> </span><br><span class="line">                      (1)       (2)      (3)      (2)-(3)       (1)-(2)  </span><br><span class="line">----------------------------------------------------------------------------</span><br><span class="line"> Treated Outcome     860.00   680.00    485.00                   180.00  </span><br><span class="line"> Untreated Outcome   480.00   360.00    230.00     130.00            </span><br><span class="line"> Treatment Effect    380.00   320.00    255.00                       </span><br><span class="line">----------------------------------------------------------------------------</span><br></pre></td></tr></table></figure><p>对于 IV 计算出来的 LATE，在这里就等于第（2）列中 <spanclass="math inline">\(680-360=320\)</span>。我们同样可以用 IV回归方法来检验一下结果是否相符。IV 回归的语法和结果如下所示，再次验证了IV 回归结果仅仅是识别了 compliers 人群的处理效应。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">. ivregress 2sls Y2 (<span class="keyword">D</span>=Z)</span><br><span class="line"></span><br><span class="line">Instrumental variables (2SLS) regression </span><br><span class="line">                                         Number of obs =    500</span><br><span class="line">                                         Wald <span class="built_in">chi2</span>(1)  =  52.50</span><br><span class="line">                                         <span class="keyword">Prob</span> &gt; chi2   = 0.0000</span><br><span class="line">                                         R-squared     = 0.8103</span><br><span class="line">                                         Root MSE      = 120.95</span><br><span class="line">---------------------------------------------------------------</span><br><span class="line">    Y2 |   Coef.  Std. <span class="keyword">Err</span>.    z    P&gt;|z|  [95% <span class="keyword">Conf</span>. Interval]</span><br><span class="line">-------+-------------------------------------------------------</span><br><span class="line">     <span class="keyword">D</span> | 320.000    44.165   7.25   0.000   233.439     406.561</span><br><span class="line"> _cons | 371.000    20.597  18.01   0.000   330.631     411.369</span><br><span class="line">---------------------------------------------------------------</span><br><span class="line">Instrumented:  <span class="keyword">D</span></span><br><span class="line">Instruments:   Z</span><br></pre></td></tr></table></figure><p>此外，回归结果还包含了两个图形，如下所示。左图为 "Averageoutcomes"，对应第三个表的结果。右图为 "MTO(p), MUO(p),MTE(p)"，对应第二个表的结果。观察右图，利用处理效应连续性的假定，对于始终<span class="math inline">\(D\)</span>=1 的 alwaysTakers，我们也能获得出他的对照组结果 MUO(p) 和处理效应MTE(p)。而对于始终 <span class="math inline">\(D\)</span>=0 的 neverTakers，我们也能获得他的实验组结果 MTO(p) 和处理效应 MTE(p)。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/net-img-MTEbinary：LATE效应的外部效度_Fig2_命令结果_张子楠-20240726104139-umly9bm.png" style="width:700px" alt="近似外生工具变量检验" /></p><h3 id="针对二元工具变量的边际处理效应估计mtemore-命令">4.2针对二元工具变量的边际处理效应估计：<code>mtemore</code>​ 命令</h3><p><code>mtemore</code>​ 命令安装如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ssc</span> install mtemore, <span class="keyword">replace</span></span><br></pre></td></tr></table></figure><p><code>mtemore</code>​ 命令语法如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mtemore outcome (endogvar = instrument) [covariates] [, options]</span><br></pre></td></tr></table></figure><p>需要注意的是，<code>mtemore</code>​ 中 <code>bootstrap</code>​次数不能为 0，最低为 2 次。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> mtebinary_data.dta, <span class="keyword">clear</span></span><br><span class="line">mtemore Y2 (<span class="keyword">D</span> = Z), <span class="keyword">summarize</span>(age female) reps(2) graphsave(mtemore)</span><br></pre></td></tr></table></figure><h3 id="针对删失数据的工具变量分位数估计cqiv-命令">4.3针对删失数据的工具变量分位数估计：<code>cqiv</code>​ 命令</h3><p><code>cqiv</code>​ 命令安装如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ssc</span> install cqiv, <span class="keyword">replace</span></span><br></pre></td></tr></table></figure><p><code>cqiv</code>​ 命令语法如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cqiv depvar [<span class="keyword">varlist</span>] (endogvar = instrument) [<span class="keyword">if</span>] [<span class="keyword">in</span>] [weight] [, options]</span><br></pre></td></tr></table></figure><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">net</span> get cqiv   <span class="comment">//下载数据 alcoholengel.dta 到当前文件夹</span></span><br><span class="line"><span class="keyword">use</span> alcoholengel, <span class="keyword">clear</span></span><br><span class="line">cqiv alcohol logexp2 nkids (logexp = logwages nkids), quantiles(25 50 75)</span><br></pre></td></tr></table></figure><h2 id="六重要资料和参考链接汇总">六、重要资料和参考链接汇总</h2><ul><li><ahref="https://sangmino.notion.site/1a897b8106ca44eeaf31dcd5ae5a61b1?v=ff7dc75862c6427eb4243e91836e077e">[Notion笔记 - Sangmino] 超过 1600篇外文顶刊文章的工具变量汇总，还在动态更新!</a></li><li><a href="https://www.lianxh.cn/details/1351.html">[连享会] IV的标准动作：工具变量法实用指南</a></li><li><ahref="https://kns.cnki.net/kcms2/article/abstract?v=YRsOmSesWzYrUgQrir9hfnlRovRrfAFci4ESQpFVDHJgUc_AxYgcsbQY6_zjz5LdRsDXMyW3DPLDiPOrrTJC7DzoK0M-0FQoJjljRn6cidyM9c2pzGVacHj2hKv7SLpnFjk_K88abNWclQTOyYi9RfqJgxkPxRWJ&amp;uniplatform=NZKPT&amp;language=CHS">[两阶段模型的比较]赵娜,洪广彬.多项分布内生回归元计数模型的两阶段估计方法研究[J].统计与信息论坛,2018,33(08):19-30.</a></li><li><a href="https://www.lianxh.cn/details/634.html">连享会 - IV估计中的外部有效性 (External Validity)</a></li></ul><p>‍</p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 代码 </tag>
            
            <tag> 工具变量 </tag>
            
            <tag> 工具变量检验 </tag>
            
            <tag> 遗漏变量 </tag>
            
            <tag> 近似外生工具变量 </tag>
            
            <tag> 相关性 </tag>
            
            <tag> 外生性 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜变系数随机前沿分析的简明教程</title>
      <link href="/posts/47822/"/>
      <url>/posts/47822/</url>
      
        <content type="html"><![CDATA[<blockquote><p>引用信息：Gong Binlei. Agricultural reforms and production in China:Changes in provincial production function and productivity in1978–2015[J]. Journal of Development Economics, 2018, 132: 18-31.</p></blockquote><p>在传统的效率分析中，通常使用随机前沿分析（SFA）和数据包络分析（DEA）测算效率。SFA的生产函数通常设置为 Cobb-Dougles 或者 Translog形式，并且引入随机误差项来解决外生冲击的影响，例如农业生产中的天气变化。DEA则不假设生产前沿的具体函数形式，但没有考虑到经济活动具有一定的随机性。</p><p>有一些研究对 SFA 和 DEA进行了改进，尝试解决面板数据中传统效率分析方法的问题，例如 TFE-SFA（TrueFixed Effect SFA）、内生 SFA（Endog-SFA）等。然而，这些基于 SFA方法的改进仍然未解决一个问题：<strong>SFA通常假设投入和产出关系固定不变，其回归系数不能反映随时间变化的投入产出关系。</strong>改革开放以来，我国农业生产关系和生产力水平发生了巨大变化，使用传统的 SFA方法不能很好反映制度变革和技术变化等带来的农业生产变化。</p><p>2018 年，龚斌磊在《 <em>Journal of Development Economics</em>》上发表《<ahref="https://www.sciencedirect.com/science/article/abs/pii/S0304387817301189">Agriculturalreforms and production in China: Changes in provincial productionfunction and productivity in1978–2015</a>》，提出了一种新的效率分析方法——<strong>变系数 SFA（VaryingCoefficient SFA）</strong> 。变系数 SFA通过半参数方法，可以估计随时间和个体变化的要素产出弹性和 TFP。</p><h2 id="一变系数-sfa-的简单介绍">一、变系数 SFA 的简单介绍</h2><h3 id="适用范围与特点">1. 适用范围与特点</h3><p><strong>弹性生产函数。</strong> 传统的 SFA假设生产函数是固定的，无法捕捉随时间变化的投入产出关系。变系数 SFA允许生产函数的系数随时间变化，能够更好地反映农业生产中随着制度改革、技术进步等因素的变化。</p><p><strong>控制外生冲击影响。</strong> 与传统 SFA 一样，由于使用 SFA估计，变系数 SFA仍然可以通过引入残差项控制外生冲击对投入产出关系的影响，这种估计方程设定更加适合运用在农业的效率分析中。</p><p><strong>半参数估计方法。</strong> 变系数 SFA为两步估计，在估计变系数时，需要引入额外的变量来进行半参数估计，这篇文章通过引入各地区农业、林业、牧业、渔业的增加值占比来估计变系数。</p><h3 id="分析内容">2. 分析内容</h3><p>与传统 SFA 相同，<strong>变系数 SFA可以估计要素产出弹性和技术效率，并进一步计算 TFP 和 TFP增长率。</strong></p><p>简单介绍一下变系数 SFA 的估计方程。</p><p>Hastie and Tibshirani (1993)首先引入了变系数模型（VCM），其中变系数是某些“阈值”变量 <spanclass="math inline">\(\theta\)</span> 的非参数函数。</p><p><span class="math display">\[\begin{align}y = x_1 h_1(\theta_1) + \dots + x_p h_p(\theta_p) + \varepsilon\end{align}\]</span></p><p>其中，<span class="math inline">\(\theta_1, \dots, \theta_p\)</span>通过未指定函数形式的 <span class="math inline">\(h_1(\cdot), \dots,h_p(\cdot)\)</span>，改变 <span class="math inline">\(x_1, \dots ,x_p\)</span> 系数。</p><p><span class="math display">\[\begin{align}y_{it} &amp; = \alpha_{it} + \sum_{k=1}^{p} \beta_{it}^k x_{it}^k + \tauZ + \nu_{it} - u_i \notag  \\\       &amp; = h_0(\theta_{it}) + \sum_{k=1}^{p} h_k(\theta_{it})x_{it}^k + \tau Z + \nu_{it} - u_i\end{align}\]</span></p><p>其中：</p><ul><li><span class="math inline">\(y_{it}\)</span> 表示产出；</li><li><span class="math inline">\(x_{it}^k\)</span> 表示第 <spanclass="math inline">\(k\)</span> 种投入要素；</li><li><span class="math inline">\(h_k(\theta_{it})\)</span>表示非参数函数，用于估计第 <span class="math inline">\(k\)</span>种投入要素的变弹性 <spanclass="math inline">\(\beta_{it}^k\)</span>。</li></ul><h2 id="二变系数-sfa-的简明教程">二、变系数 SFA 的简明教程</h2><p>我们重点关注怎么使用变系数 SFA 方法。</p><h3 id="基础处理">1. 基础处理</h3><p>基础处理包括：（1）导入相关 <code>R</code>​包；（2）简单处理数据。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;gss&#x27;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;Matrix&#x27;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;np&#x27;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;frontier&#x27;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;plm&#x27;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;mgcv&#x27;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;gamlss&#x27;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;assist&#x27;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;sca&#x27;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span><span class="string">&#x27;AER&#x27;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span>bootBCa<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line">setwd<span class="punctuation">(</span><span class="string">&quot;/Users/fgz/Desktop/变系数SFA/Code and Data (JDE)&quot;</span><span class="punctuation">)</span>  <span class="comment"># 设置工作路径</span></span><br><span class="line">t1<span class="operator">=</span><span class="number">1978</span>  <span class="comment"># 开始时间</span></span><br><span class="line">t2<span class="operator">=</span><span class="number">2015</span>  <span class="comment"># 结束时间</span></span><br><span class="line">data<span class="operator">=</span>read.csv<span class="punctuation">(</span><span class="string">&quot;data.csv&quot;</span><span class="punctuation">,</span>header<span class="operator">=</span><span class="built_in">T</span><span class="punctuation">,</span>fileEncoding <span class="operator">=</span> <span class="string">&quot;GBK&quot;</span><span class="punctuation">)</span>  <span class="comment"># 读取CSV数据</span></span><br><span class="line"><span class="comment"># 生成投入和产出的对数值</span></span><br><span class="line">data<span class="operator">$</span>Y<span class="operator">=</span><span class="built_in">log</span><span class="punctuation">(</span>data<span class="operator">$</span>GVAO<span class="operator">/</span>data<span class="operator">$</span>PPI<span class="operator">/</span><span class="number">10</span><span class="punctuation">)</span></span><br><span class="line">data<span class="operator">$</span>Lr<span class="operator">=</span><span class="built_in">log</span><span class="punctuation">(</span>data<span class="operator">$</span>labor<span class="operator">/</span><span class="number">100</span><span class="punctuation">)</span></span><br><span class="line">data<span class="operator">$</span>Ld<span class="operator">=</span><span class="built_in">log</span><span class="punctuation">(</span>data<span class="operator">$</span>land<span class="operator">/</span><span class="number">1000</span><span class="punctuation">)</span></span><br><span class="line">data<span class="operator">$</span>Fr<span class="operator">=</span><span class="built_in">log</span><span class="punctuation">(</span>data<span class="operator">$</span>fertiliser<span class="operator">/</span><span class="number">100</span><span class="punctuation">)</span></span><br><span class="line">data<span class="operator">$</span>Kp<span class="operator">=</span><span class="built_in">log</span><span class="punctuation">(</span>data<span class="operator">$</span>machinery<span class="operator">/</span><span class="number">100</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 生成新变量</span></span><br><span class="line">data<span class="operator">$</span>total<span class="operator">=</span>data<span class="operator">$</span>farming<span class="operator">+</span>data<span class="operator">$</span>forestry<span class="operator">+</span>data<span class="operator">$</span>animalhusbandry<span class="operator">+</span>data<span class="operator">$</span>fisheries  <span class="comment"># 农林牧渔总产值</span></span><br><span class="line">data<span class="operator">$</span>ratio1<span class="operator">=</span>data<span class="operator">$</span>farming<span class="operator">/</span>data<span class="operator">$</span>total<span class="operator">*</span><span class="number">100</span>   <span class="comment"># 农业占比</span></span><br><span class="line">data<span class="operator">$</span>ratio2<span class="operator">=</span>data<span class="operator">$</span>forestry<span class="operator">/</span>data<span class="operator">$</span>total<span class="operator">*</span><span class="number">100</span>  <span class="comment"># 林业占比</span></span><br><span class="line">data<span class="operator">$</span>ratio3<span class="operator">=</span>data<span class="operator">$</span>animalhusbandry<span class="operator">/</span>data<span class="operator">$</span>total<span class="operator">*</span><span class="number">100</span>  <span class="comment">#牧业占比</span></span><br><span class="line">data<span class="operator">$</span>ratio4<span class="operator">=</span>data<span class="operator">$</span>fisheries<span class="operator">/</span>data<span class="operator">$</span>total<span class="operator">*</span><span class="number">100</span>  <span class="comment"># 渔业占比</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 选定指定时间范围的数据</span></span><br><span class="line">data<span class="operator">=</span>data<span class="punctuation">[</span>which<span class="punctuation">(</span>data<span class="operator">$</span>Year<span class="operator">&gt;=</span>t1<span class="operator">&amp;</span>data<span class="operator">$</span>Year<span class="operator">&lt;=</span>t2<span class="punctuation">)</span><span class="punctuation">,</span><span class="punctuation">]</span></span><br><span class="line">data<span class="operator">$</span>t<span class="operator">=</span>data<span class="operator">$</span>Year  <span class="comment"># 生成一个新变量t, 取值等于year</span></span><br><span class="line">second<span class="operator">=</span>data<span class="punctuation">[</span><span class="punctuation">,</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">2</span><span class="operator">:</span><span class="number">4</span><span class="punctuation">,</span><span class="number">14</span><span class="operator">:</span><span class="number">16</span><span class="punctuation">)</span><span class="punctuation">]</span> <span class="comment"># 选择指定变量</span></span><br><span class="line">data<span class="operator">=</span>data<span class="punctuation">[</span><span class="punctuation">,</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">2</span><span class="operator">:</span><span class="number">4</span><span class="punctuation">,</span><span class="number">18</span><span class="operator">:</span><span class="number">29</span><span class="punctuation">)</span><span class="punctuation">]</span>   <span class="comment"># 选择指定变量</span></span><br><span class="line">pdata<span class="operator">=</span>plm.data<span class="punctuation">(</span>data<span class="punctuation">,</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;SID&quot;</span><span class="punctuation">,</span><span class="string">&quot;Year&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span>  <span class="comment"># 创建面板数据, 指定ID和年份变量</span></span><br></pre></td></tr></table></figure><h3 id="传统-sfa">2. 传统 SFA</h3><p>控制时间固定效应的传统SFA，技术无效效率项服从<strong>截断正态分布</strong>（truncated normaldistribution）。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">single <span class="operator">&lt;-</span> sfa<span class="punctuation">(</span>Y<span class="operator">~</span>Lr<span class="operator">+</span>Ld<span class="operator">+</span>Fr<span class="operator">+</span>Kp<span class="operator">+</span>Year<span class="punctuation">,</span> timeEffect<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">,</span> truncNorm<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">,</span> data<span class="operator">=</span>pdata<span class="punctuation">)</span></span><br><span class="line">summary<span class="punctuation">(</span>single<span class="punctuation">)</span></span><br><span class="line">single_lr<span class="operator">=</span>coefficients<span class="punctuation">(</span>single<span class="punctuation">)</span><span class="punctuation">[</span><span class="number">2</span><span class="punctuation">]</span></span><br><span class="line">single_ld<span class="operator">=</span>coefficients<span class="punctuation">(</span>single<span class="punctuation">)</span><span class="punctuation">[</span><span class="number">3</span><span class="punctuation">]</span></span><br><span class="line">single_fr<span class="operator">=</span>coefficients<span class="punctuation">(</span>single<span class="punctuation">)</span><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">]</span></span><br><span class="line">single_kp<span class="operator">=</span>coefficients<span class="punctuation">(</span>single<span class="punctuation">)</span><span class="punctuation">[</span><span class="number">5</span><span class="punctuation">]</span></span><br><span class="line">efficiencies<span class="punctuation">(</span>single<span class="punctuation">)</span><span class="punctuation">[</span><span class="punctuation">,</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span><span class="number">38</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line">yy<span class="operator">=</span>t<span class="punctuation">(</span>efficiencies<span class="punctuation">(</span>single<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="built_in">dim</span><span class="punctuation">(</span>yy<span class="punctuation">)</span> <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="built_in">length</span><span class="punctuation">(</span>yy<span class="punctuation">)</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">pdata<span class="operator">$</span>singleeff<span class="operator">=</span>yy</span><br><span class="line">res<span class="operator">=</span>t<span class="punctuation">(</span>single<span class="operator">$</span>resid<span class="punctuation">)</span></span><br><span class="line"><span class="built_in">dim</span><span class="punctuation">(</span>res<span class="punctuation">)</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1178</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">pdata<span class="operator">$</span>singleres<span class="operator">=</span>res</span><br><span class="line"></span><br><span class="line">newdat<span class="operator">=</span>pdata</span><br><span class="line">newdat<span class="operator">$</span>SID<span class="operator">=</span><span class="number">11</span></span><br><span class="line"></span><br><span class="line">newdat1<span class="operator">=</span>data</span><br><span class="line">newdat1<span class="operator">$</span>Year<span class="operator">=</span>newdat1<span class="operator">$</span>Year<span class="operator">+</span><span class="number">1</span></span><br><span class="line">newdat1<span class="operator">$</span>t<span class="operator">=</span>newdat1<span class="operator">$</span>t<span class="operator">+</span><span class="number">1</span></span><br><span class="line">newdat1<span class="operator">=</span>plm.data<span class="punctuation">(</span>newdat1<span class="punctuation">,</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;SID&quot;</span><span class="punctuation">,</span><span class="string">&quot;Year&quot;</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><h3 id="变系数-sfa">3. 变系数 SFA</h3><p>变系数 SFA 的第一步是要进行半参数估计，得到 <spanclass="math inline">\(h_k(\theta_{it})\)</span>，这一步使用<code>GAMLSS</code>​ 模型进行估计。第二步是基于 <code>GAMLSS</code>​模型的结果，计算变系数、残差、效率值等。需要使用 <code>Bootstrap</code>​法逐年估计置信区间，用于绘图使用。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 定义模型：使用 Generalized Additive Models for Location, Scale and Shape (GAMLSS) 拟合模型</span></span><br><span class="line"><span class="comment"># 参考: https://psy-data.github.io/2015/theory_page6.html</span></span><br><span class="line"><span class="comment"># pvc: 变系数模型</span></span><br><span class="line">model <span class="operator">&lt;-</span> gamlss<span class="punctuation">(</span>Y<span class="operator">~</span>pvc<span class="punctuation">(</span>ratio1<span class="operator">+</span>ratio2<span class="operator">+</span>ratio3<span class="operator">+</span>t<span class="punctuation">,</span> by<span class="operator">=</span>Lr<span class="punctuation">)</span></span><br><span class="line">                <span class="operator">+</span>pvc<span class="punctuation">(</span>ratio1<span class="operator">+</span>ratio2<span class="operator">+</span>ratio3<span class="operator">+</span>t<span class="punctuation">,</span> by<span class="operator">=</span>Ld<span class="punctuation">)</span></span><br><span class="line">                <span class="operator">+</span>pvc<span class="punctuation">(</span>ratio1<span class="operator">+</span>ratio2<span class="operator">+</span>ratio3<span class="operator">+</span>t<span class="punctuation">,</span> by<span class="operator">=</span>Fr<span class="punctuation">)</span></span><br><span class="line">                <span class="operator">+</span>pvc<span class="punctuation">(</span>ratio1<span class="operator">+</span>ratio2<span class="operator">+</span>ratio3<span class="operator">+</span>t<span class="punctuation">,</span> by<span class="operator">=</span>Kp<span class="punctuation">)</span></span><br><span class="line">                <span class="operator">+</span>cs<span class="punctuation">(</span>ratio1<span class="operator">+</span>ratio2<span class="operator">+</span>ratio3<span class="operator">+</span>t<span class="punctuation">)</span><span class="operator">+</span>Year<span class="operator">+</span>SID<span class="punctuation">,</span> data<span class="operator">=</span>pdata<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取要素的边际贡献: 提取变系数估计结果, 除以中心化后的数值</span></span><br><span class="line">pdata<span class="operator">$</span>lr<span class="operator">=</span>model<span class="operator">$</span>mu.s<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span><span class="operator">/</span><span class="punctuation">(</span>pdata<span class="operator">$</span>Lr<span class="operator">-</span>mean<span class="punctuation">(</span>pdata<span class="operator">$</span>Lr<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">pdata<span class="operator">$</span>ld<span class="operator">=</span>model<span class="operator">$</span>mu.s<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span><span class="operator">/</span><span class="punctuation">(</span>pdata<span class="operator">$</span>Ld<span class="operator">-</span>mean<span class="punctuation">(</span>pdata<span class="operator">$</span>Ld<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">pdata<span class="operator">$</span>fr<span class="operator">=</span>model<span class="operator">$</span>mu.s<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span><span class="operator">/</span><span class="punctuation">(</span>pdata<span class="operator">$</span>Fr<span class="operator">-</span>mean<span class="punctuation">(</span>pdata<span class="operator">$</span>Fr<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">pdata<span class="operator">$</span>kp<span class="operator">=</span>model<span class="operator">$</span>mu.s<span class="punctuation">[</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span><span class="operator">/</span><span class="punctuation">(</span>pdata<span class="operator">$</span>Kp<span class="operator">-</span>mean<span class="punctuation">(</span>pdata<span class="operator">$</span>Kp<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算估计残差, SFA 估计</span></span><br><span class="line"><span class="comment"># 两步估计有两个残差来源: gamlss、SFA</span></span><br><span class="line">pdata<span class="operator">$</span>res1<span class="operator">=</span>fitted<span class="punctuation">(</span>model<span class="punctuation">)</span><span class="operator">-</span>predict<span class="punctuation">(</span>model<span class="punctuation">,</span>newdata<span class="operator">=</span>newdat<span class="punctuation">)</span>  <span class="comment"># gamlss残差</span></span><br><span class="line">pdata<span class="operator">$</span>res1<span class="operator">=</span>pdata<span class="operator">$</span>res1<span class="operator">+</span>model<span class="operator">$</span>resid   <span class="comment"># SFA残差</span></span><br><span class="line"><span class="comment"># SFA 估计</span></span><br><span class="line">fit<span class="operator">=</span>sfa<span class="punctuation">(</span>res1 <span class="operator">~</span> <span class="number">1</span><span class="punctuation">,</span> timeEffect<span class="operator">=</span><span class="built_in">T</span><span class="punctuation">,</span> truncNorm<span class="operator">=</span><span class="literal">TRUE</span><span class="punctuation">,</span> data <span class="operator">=</span> pdata<span class="punctuation">)</span></span><br><span class="line">summary<span class="punctuation">(</span>fit<span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 提取 SFA 结果</span></span><br><span class="line"><span class="comment"># 提取效率值</span></span><br><span class="line">yy<span class="operator">=</span>t<span class="punctuation">(</span>efficiencies<span class="punctuation">(</span>fit<span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="built_in">dim</span><span class="punctuation">(</span>yy<span class="punctuation">)</span> <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="built_in">length</span><span class="punctuation">(</span>yy<span class="punctuation">)</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">pdata<span class="operator">$</span>varyingeff<span class="operator">=</span>yy</span><br><span class="line"><span class="comment"># 提取残差</span></span><br><span class="line">res<span class="operator">=</span>t<span class="punctuation">(</span>fit<span class="operator">$</span>resid<span class="punctuation">)</span></span><br><span class="line"><span class="built_in">dim</span><span class="punctuation">(</span>res<span class="punctuation">)</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1178</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">pdata<span class="operator">$</span>varyingres<span class="operator">=</span>res</span><br><span class="line"></span><br><span class="line"><span class="comment"># Bootstrap 估计置信区间</span></span><br><span class="line"><span class="comment"># 创建两个矩阵，存储置信区间上限和下限</span></span><br><span class="line">bootstrap_upper<span class="operator">=</span>matrix<span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">(</span>t2<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">bootstrap_lower<span class="operator">=</span>matrix<span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">(</span>t2<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 逐年估计 5% 置信区间, [5]-上限,[4]-下限</span></span><br><span class="line"><span class="comment"># delta = NA, 固定 bootstrap 次数, 而非自适应</span></span><br><span class="line"><span class="keyword">for</span> <span class="punctuation">(</span>i <span class="keyword">in</span> t1<span class="operator">:</span>t2<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment"># lr 置信区间上下限</span></span><br><span class="line">  bootstrap_upper<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">(</span>i<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span>BCa<span class="punctuation">(</span>pdata<span class="operator">$</span>lr<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="literal">NA</span><span class="punctuation">,</span>mean<span class="punctuation">,</span>alpha<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0.025</span><span class="punctuation">,</span><span class="number">0.975</span><span class="punctuation">)</span><span class="punctuation">,</span>M<span class="operator">=</span><span class="number">10000</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="number">5</span><span class="punctuation">]</span></span><br><span class="line">  bootstrap_lower<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">(</span>i<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span>BCa<span class="punctuation">(</span>pdata<span class="operator">$</span>lr<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="literal">NA</span><span class="punctuation">,</span>mean<span class="punctuation">,</span>alpha<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0.025</span><span class="punctuation">,</span><span class="number">0.975</span><span class="punctuation">)</span><span class="punctuation">,</span>M<span class="operator">=</span><span class="number">10000</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">]</span></span><br><span class="line">  <span class="comment"># ld 置信区间上下限</span></span><br><span class="line">  bootstrap_upper<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">(</span>i<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span>BCa<span class="punctuation">(</span>pdata<span class="operator">$</span>ld<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="literal">NA</span><span class="punctuation">,</span>mean<span class="punctuation">,</span>alpha<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0.025</span><span class="punctuation">,</span><span class="number">0.975</span><span class="punctuation">)</span><span class="punctuation">,</span>M<span class="operator">=</span><span class="number">10000</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="number">5</span><span class="punctuation">]</span></span><br><span class="line">  bootstrap_lower<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">(</span>i<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span>BCa<span class="punctuation">(</span>pdata<span class="operator">$</span>ld<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="literal">NA</span><span class="punctuation">,</span>mean<span class="punctuation">,</span>alpha<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0.025</span><span class="punctuation">,</span><span class="number">0.975</span><span class="punctuation">)</span><span class="punctuation">,</span>M<span class="operator">=</span><span class="number">10000</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">]</span></span><br><span class="line">  <span class="comment"># fr 置信区间上下限</span></span><br><span class="line">  bootstrap_upper<span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">(</span>i<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span>BCa<span class="punctuation">(</span>pdata<span class="operator">$</span>fr<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="literal">NA</span><span class="punctuation">,</span>mean<span class="punctuation">,</span>alpha<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0.025</span><span class="punctuation">,</span><span class="number">0.975</span><span class="punctuation">)</span><span class="punctuation">,</span>M<span class="operator">=</span><span class="number">10000</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="number">5</span><span class="punctuation">]</span></span><br><span class="line">  bootstrap_lower<span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">(</span>i<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span>BCa<span class="punctuation">(</span>pdata<span class="operator">$</span>fr<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="literal">NA</span><span class="punctuation">,</span>mean<span class="punctuation">,</span>alpha<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0.025</span><span class="punctuation">,</span><span class="number">0.975</span><span class="punctuation">)</span><span class="punctuation">,</span>M<span class="operator">=</span><span class="number">10000</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">]</span></span><br><span class="line">  <span class="comment"># kp 置信区间上下限</span></span><br><span class="line">  bootstrap_upper<span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">(</span>i<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span>BCa<span class="punctuation">(</span>pdata<span class="operator">$</span>kp<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="literal">NA</span><span class="punctuation">,</span>mean<span class="punctuation">,</span>alpha<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0.025</span><span class="punctuation">,</span><span class="number">0.975</span><span class="punctuation">)</span><span class="punctuation">,</span>M<span class="operator">=</span><span class="number">10000</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="number">5</span><span class="punctuation">]</span></span><br><span class="line">  bootstrap_lower<span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">(</span>i<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span>BCa<span class="punctuation">(</span>pdata<span class="operator">$</span>kp<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="literal">NA</span><span class="punctuation">,</span>mean<span class="punctuation">,</span>alpha<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0.025</span><span class="punctuation">,</span><span class="number">0.975</span><span class="punctuation">)</span><span class="punctuation">,</span>M<span class="operator">=</span><span class="number">10000</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="number">4</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="三结果分析">三、结果分析</h2><p>上述代码已经完成变系数 SFA的估计，但是由于模型为每个样本、每个要素都计算了一个系数，无法通过表格的方式展示所有回归系数，需要通过绘图的方式进行展示。</p><h3 id="年度要素弹性比较">1. 年度要素弹性比较</h3><p>该部分绘制了劳动、土地、化肥和机械四种要素的产出弹性年度变化图。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Figure 2 Average Elasticities of the Four Inputs across Time</span></span><br><span class="line"><span class="comment"># 设置图形参数，创建 2x2 的多图布局</span></span><br><span class="line">par<span class="punctuation">(</span>mfrow<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 绘制劳动弹性图</span></span><br><span class="line">plot<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>lr<span class="punctuation">,</span>pdata<span class="operator">$</span>Year<span class="punctuation">,</span>mean<span class="punctuation">)</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>xlab<span class="operator">=</span><span class="string">&#x27;Year&#x27;</span><span class="punctuation">,</span>ylab<span class="operator">=</span><span class="string">&#x27;Labor Elasticity&#x27;</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">3</span><span class="punctuation">)</span> <span class="comment"># type=&quot;l&quot; 绘制线条</span></span><br><span class="line"><span class="comment"># 绘制劳动弹性图: bootstrap 置信区间上限和下限</span></span><br><span class="line">lines<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>bootstrap_upper<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>lty<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span> <span class="comment"># 绘制虚线(点划线-lty=4)</span></span><br><span class="line">lines<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>bootstrap_lower<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>lty<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 添加垂直参考线，用于标记年份</span></span><br><span class="line">abline<span class="punctuation">(</span>v<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1984.5</span><span class="punctuation">,</span><span class="number">1989.5</span><span class="punctuation">,</span><span class="number">1993.5</span><span class="punctuation">,</span><span class="number">1998.5</span><span class="punctuation">,</span><span class="number">2003.5</span><span class="punctuation">)</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span>  <span class="comment"># v-添加垂直线;h-添加水平线</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制土地弹性图</span></span><br><span class="line">plot<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>ld<span class="punctuation">,</span>pdata<span class="operator">$</span>Year<span class="punctuation">,</span>mean<span class="punctuation">)</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>xlab<span class="operator">=</span><span class="string">&#x27;Year&#x27;</span><span class="punctuation">,</span>ylab<span class="operator">=</span><span class="string">&#x27;Land Elasticity&#x27;</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">3</span><span class="punctuation">,</span>ylim<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0.21</span><span class="punctuation">,</span><span class="number">0.3</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 绘制土地弹性图: bootstrap 置信区间上限和下限</span></span><br><span class="line">lines<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>bootstrap_upper<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>lty<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line">lines<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>bootstrap_lower<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>lty<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 添加垂直参考线，用于标记年份</span></span><br><span class="line">abline<span class="punctuation">(</span>v<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1984.5</span><span class="punctuation">,</span><span class="number">1989.5</span><span class="punctuation">,</span><span class="number">1993.5</span><span class="punctuation">,</span><span class="number">1998.5</span><span class="punctuation">,</span><span class="number">2003.5</span><span class="punctuation">)</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制化肥弹性图</span></span><br><span class="line">plot<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>fr<span class="punctuation">,</span>pdata<span class="operator">$</span>Year<span class="punctuation">,</span>mean<span class="punctuation">)</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>xlab<span class="operator">=</span><span class="string">&#x27;Year&#x27;</span><span class="punctuation">,</span>ylab<span class="operator">=</span><span class="string">&#x27;Fertiliser Elasticity&#x27;</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">3</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 绘制化肥弹性图: bootstrap 置信区间上限和下限</span></span><br><span class="line">lines<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>bootstrap_upper<span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>lty<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line">lines<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>bootstrap_lower<span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>lty<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 添加垂直参考线，用于标记年份</span></span><br><span class="line">abline<span class="punctuation">(</span>v<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1984.5</span><span class="punctuation">,</span><span class="number">1989.5</span><span class="punctuation">,</span><span class="number">1993.5</span><span class="punctuation">,</span><span class="number">1998.5</span><span class="punctuation">,</span><span class="number">2003.5</span><span class="punctuation">)</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制机械弹性图</span></span><br><span class="line">plot<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>kp<span class="punctuation">,</span>pdata<span class="operator">$</span>Year<span class="punctuation">,</span>mean<span class="punctuation">)</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>xlab<span class="operator">=</span><span class="string">&#x27;Year&#x27;</span><span class="punctuation">,</span>ylab<span class="operator">=</span><span class="string">&#x27;Machinery Elasticity&#x27;</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">3</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 绘制机械弹性图: bootstrap 置信区间上限和下限</span></span><br><span class="line">lines<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>bootstrap_upper<span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>lty<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line">lines<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>bootstrap_lower<span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;l&quot;</span><span class="punctuation">,</span>lty<span class="operator">=</span><span class="number">4</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">2</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 添加垂直参考线，用于标记年份</span></span><br><span class="line">abline<span class="punctuation">(</span>v<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1984.5</span><span class="punctuation">,</span><span class="number">1989.5</span><span class="punctuation">,</span><span class="number">1993.5</span><span class="punctuation">,</span><span class="number">1998.5</span><span class="punctuation">,</span><span class="number">2003.5</span><span class="punctuation">)</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p>结果展示：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250427163419-uaxlq56.png" style="width:900px" alt="Fig 2: 年度要素弹性比较" /></p><h3 id="省际要素弹性比较">2. 省际要素弹性比较</h3><p>在完成年度比较后，可以从个体的维度（省份）去考察区域间要素产出弹性差异。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Figure 3 Average Elasticities of the Four Inputs across Provinces</span></span><br><span class="line">state<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;北京&quot;</span><span class="punctuation">,</span><span class="string">&quot;天津&quot;</span><span class="punctuation">,</span><span class="string">&quot;河北&quot;</span><span class="punctuation">,</span><span class="string">&quot;山西&quot;</span><span class="punctuation">,</span><span class="string">&quot;内蒙&quot;</span><span class="punctuation">,</span><span class="string">&quot;辽宁&quot;</span><span class="punctuation">,</span><span class="string">&quot;吉林&quot;</span><span class="punctuation">,</span><span class="string">&quot;黑龙江&quot;</span><span class="punctuation">,</span><span class="string">&quot;上海&quot;</span><span class="punctuation">,</span><span class="string">&quot;江苏&quot;</span><span class="punctuation">,</span><span class="string">&quot;浙江&quot;</span><span class="punctuation">,</span><span class="string">&quot;安徽&quot;</span><span class="punctuation">,</span><span class="string">&quot;福建&quot;</span><span class="punctuation">,</span><span class="string">&quot;江西&quot;</span><span class="punctuation">,</span><span class="string">&quot;山东&quot;</span><span class="punctuation">,</span><span class="string">&quot;河南&quot;</span><span class="punctuation">,</span><span class="string">&quot;湖北&quot;</span><span class="punctuation">,</span><span class="string">&quot;湖南&quot;</span><span class="punctuation">,</span><span class="string">&quot;广东&quot;</span><span class="punctuation">,</span><span class="string">&quot;广西&quot;</span><span class="punctuation">,</span><span class="string">&quot;海南&quot;</span><span class="punctuation">,</span><span class="string">&quot;重庆&quot;</span><span class="punctuation">,</span><span class="string">&quot;四川&quot;</span><span class="punctuation">,</span><span class="string">&quot;贵州&quot;</span><span class="punctuation">,</span><span class="string">&quot;云南&quot;</span><span class="punctuation">,</span><span class="string">&quot;西藏&quot;</span><span class="punctuation">,</span><span class="string">&quot;陕西&quot;</span><span class="punctuation">,</span><span class="string">&quot;甘肃&quot;</span><span class="punctuation">,</span><span class="string">&quot;青海&quot;</span><span class="punctuation">,</span><span class="string">&quot;宁夏&quot;</span><span class="punctuation">,</span><span class="string">&quot;新疆&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># Create the input vectors.</span></span><br><span class="line"><span class="comment"># 设置图形参数，创建一个图形设备，并设置边距</span></span><br><span class="line">par<span class="punctuation">(</span>mfrow <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span>mar<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 定义颜色向量</span></span><br><span class="line">colors <span class="operator">&lt;-</span> gray<span class="punctuation">(</span><span class="number">0</span><span class="operator">:</span><span class="number">4</span><span class="operator">/</span><span class="number">4</span><span class="punctuation">)</span><span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">4</span><span class="punctuation">]</span></span><br><span class="line"><span class="comment"># 定义输入向量</span></span><br><span class="line">inputs <span class="operator">&lt;-</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Labor&quot;</span><span class="punctuation">,</span><span class="string">&quot;Land&quot;</span><span class="punctuation">,</span><span class="string">&quot;Fertilizer&quot;</span><span class="punctuation">,</span><span class="string">&quot;Machinery&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 创建一个值的矩阵，用于存储平均弹性和省份名称</span></span><br><span class="line">Values <span class="operator">&lt;-</span> matrix<span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span><span class="number">5</span><span class="punctuation">,</span><span class="number">31</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 计算每个省份的平均弹性</span></span><br><span class="line">Values<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="operator">=</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>lr<span class="punctuation">,</span>pdata<span class="operator">$</span>SID<span class="punctuation">,</span>mean<span class="punctuation">)</span></span><br><span class="line">Values<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="operator">=</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>ld<span class="punctuation">,</span>pdata<span class="operator">$</span>SID<span class="punctuation">,</span>mean<span class="punctuation">)</span></span><br><span class="line">Values<span class="punctuation">[</span><span class="number">3</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="operator">=</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>fr<span class="punctuation">,</span>pdata<span class="operator">$</span>SID<span class="punctuation">,</span>mean<span class="punctuation">)</span></span><br><span class="line">Values<span class="punctuation">[</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="operator">=</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>kp<span class="punctuation">,</span>pdata<span class="operator">$</span>SID<span class="punctuation">,</span>mean<span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 设置省份名称</span></span><br><span class="line">Values<span class="punctuation">[</span><span class="number">5</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Beijing&quot;</span><span class="punctuation">,</span><span class="string">&quot;Tianjin&quot;</span><span class="punctuation">,</span><span class="string">&quot;Hebei&quot;</span><span class="punctuation">,</span><span class="string">&quot;Shanxi&quot;</span><span class="punctuation">,</span><span class="string">&quot;Inner Mongolia&quot;</span><span class="punctuation">,</span><span class="string">&quot;Liaoning&quot;</span><span class="punctuation">,</span><span class="string">&quot;Jilin&quot;</span><span class="punctuation">,</span><span class="string">&quot;Heilongjiang&quot;</span><span class="punctuation">,</span><span class="string">&quot;Shanghai&quot;</span><span class="punctuation">,</span><span class="string">&quot;Jiangsu&quot;</span><span class="punctuation">,</span><span class="string">&quot;Zhejiang&quot;</span><span class="punctuation">,</span><span class="string">&quot;Anhui&quot;</span><span class="punctuation">,</span><span class="string">&quot;Fujian&quot;</span><span class="punctuation">,</span><span class="string">&quot;Jiangxi&quot;</span><span class="punctuation">,</span><span class="string">&quot;Shandong&quot;</span><span class="punctuation">,</span><span class="string">&quot;Henan&quot;</span><span class="punctuation">,</span><span class="string">&quot;Hubei&quot;</span><span class="punctuation">,</span><span class="string">&quot;Hunan&quot;</span><span class="punctuation">,</span><span class="string">&quot;Guangdong&quot;</span><span class="punctuation">,</span><span class="string">&quot;Guangxi&quot;</span><span class="punctuation">,</span><span class="string">&quot;Hainan&quot;</span><span class="punctuation">,</span><span class="string">&quot;chongqing&quot;</span><span class="punctuation">,</span><span class="string">&quot;Sichuan&quot;</span><span class="punctuation">,</span><span class="string">&quot;Guizhou&quot;</span><span class="punctuation">,</span><span class="string">&quot;Yunnan&quot;</span><span class="punctuation">,</span><span class="string">&quot;Tibet&quot;</span><span class="punctuation">,</span><span class="string">&quot; Shaanxi&quot;</span><span class="punctuation">,</span><span class="string">&quot;Gansu&quot;</span><span class="punctuation">,</span><span class="string">&quot;Qinghai&quot;</span><span class="punctuation">,</span><span class="string">&quot;Ningxia&quot;</span><span class="punctuation">,</span><span class="string">&quot;Xinjiang&quot;</span><span class="punctuation">)</span></span><br><span class="line"><span class="comment"># 调整列的顺序以匹配省份名称</span></span><br><span class="line">Values<span class="operator">=</span>Values<span class="punctuation">[</span><span class="punctuation">,</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">,</span><span class="number">20</span><span class="punctuation">,</span><span class="number">10</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">,</span><span class="number">15</span><span class="punctuation">,</span><span class="number">6</span><span class="punctuation">,</span><span class="number">9</span><span class="punctuation">,</span><span class="number">21</span><span class="punctuation">,</span><span class="number">19</span><span class="punctuation">,</span><span class="number">11</span><span class="punctuation">,</span><span class="number">13</span><span class="punctuation">,</span><span class="literal">NA</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">,</span><span class="number">5</span><span class="punctuation">,</span><span class="number">7</span><span class="punctuation">,</span><span class="number">8</span><span class="punctuation">,</span><span class="number">16</span><span class="punctuation">,</span><span class="number">18</span><span class="punctuation">,</span><span class="number">12</span><span class="punctuation">,</span><span class="number">14</span><span class="punctuation">,</span><span class="number">17</span><span class="punctuation">,</span><span class="literal">NA</span><span class="punctuation">,</span><span class="number">22</span><span class="operator">:</span><span class="number">31</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line"><span class="comment"># 绘制条形图，水平放置</span></span><br><span class="line">barplot<span class="punctuation">(</span>Values<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">4</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span>beside<span class="operator">=</span><span class="built_in">F</span><span class="punctuation">,</span>horiz<span class="operator">=</span><span class="built_in">T</span><span class="punctuation">,</span>las<span class="operator">=</span><span class="number">1.5</span><span class="punctuation">,</span>names.arg<span class="operator">=</span>Values<span class="punctuation">[</span><span class="number">5</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span>xlab<span class="operator">=</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span>ylab<span class="operator">=</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span>col<span class="operator">=</span>colors<span class="punctuation">,</span>xlim<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">legend<span class="punctuation">(</span><span class="string">&quot;bottomright&quot;</span><span class="punctuation">,</span> inputs<span class="punctuation">,</span> cex<span class="operator">=</span><span class="number">1</span><span class="punctuation">,</span> fill<span class="operator">=</span>colors<span class="punctuation">)</span>  <span class="comment"># 添加图例</span></span><br><span class="line">dev.off<span class="punctuation">(</span><span class="punctuation">)</span>  <span class="comment"># # 关闭图形设备</span></span><br></pre></td></tr></table></figure><p>图片展示：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250427163737-buvs9yu.png" style="width:700px" alt="Fig 3: 省际要素弹性比较" /></p><h3 id="年度技术变化分析">3. 年度技术变化分析</h3><p>上面两个部分都是针对要素产出弹性的分析，下面是对技术变化的年度分析。这里需要根据上面的结果，进一步计算技术变化指标。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Technology Growth</span></span><br><span class="line">par<span class="punctuation">(</span>mfrow <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">pdata<span class="operator">$</span>varyinggrowth<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">!=</span>t1<span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span><span class="built_in">exp</span><span class="punctuation">(</span>predict<span class="punctuation">(</span>model<span class="punctuation">,</span>newdata<span class="operator">=</span>newdat1<span class="punctuation">[</span>which<span class="punctuation">(</span>newdat1<span class="operator">$</span>Year<span class="operator">!=</span><span class="punctuation">(</span>t2<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="built_in">exp</span><span class="punctuation">(</span>predict<span class="punctuation">(</span>model<span class="punctuation">,</span>newdata<span class="operator">=</span>pdata<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">!=</span>t2<span class="punctuation">)</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">-</span><span class="number">1</span>   <span class="comment">#the growth rate of the next year</span></span><br><span class="line">pdata<span class="operator">$</span>varyinggrowthtl<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">!=</span>t1<span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span><span class="built_in">exp</span><span class="punctuation">(</span>predict<span class="punctuation">(</span>model2<span class="punctuation">,</span>newdata<span class="operator">=</span>newdat1<span class="punctuation">[</span>which<span class="punctuation">(</span>newdat1<span class="operator">$</span>Year<span class="operator">!=</span><span class="punctuation">(</span>t2<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">/</span><span class="built_in">exp</span><span class="punctuation">(</span>predict<span class="punctuation">(</span>model2<span class="punctuation">,</span>newdata<span class="operator">=</span>pdata<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">!=</span>t2<span class="punctuation">)</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="operator">-</span><span class="number">1</span>   <span class="comment">#the growth rate of the next year</span></span><br><span class="line">tg<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span>coefficients<span class="punctuation">(</span>single<span class="punctuation">)</span><span class="punctuation">[</span><span class="number">6</span><span class="operator">:</span><span class="punctuation">(</span>t2<span class="operator">-</span>t1<span class="operator">+</span><span class="number">5</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="punctuation">)</span></span><br><span class="line">pdata<span class="operator">$</span>singlegrowth<span class="operator">=</span><span class="literal">NA</span></span><br><span class="line"><span class="keyword">for</span> <span class="punctuation">(</span>i <span class="keyword">in</span> <span class="punctuation">(</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">:</span>t2<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  pdata<span class="operator">$</span>singlegrowth<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span>tg<span class="punctuation">[</span>i<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">]</span><span class="operator">-</span>tg<span class="punctuation">[</span>i<span class="operator">-</span>t1<span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">growth<span class="operator">=</span>matrix<span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span>t2<span class="operator">-</span>t1<span class="operator">+</span><span class="number">3</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">)</span></span><br><span class="line">growth<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="punctuation">(</span>t2<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span></span><br><span class="line">growth<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="punctuation">(</span>t2<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">]</span><span class="operator">=</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>singlegrowth<span class="punctuation">,</span>pdata<span class="operator">$</span>Year<span class="punctuation">,</span>mean<span class="punctuation">)</span></span><br><span class="line">growth<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="punctuation">(</span>t2<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span><span class="operator">=</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>varyinggrowth<span class="punctuation">,</span>pdata<span class="operator">$</span>Year<span class="punctuation">,</span>mean<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> <span class="punctuation">(</span>i <span class="keyword">in</span> <span class="number">2</span><span class="operator">:</span><span class="number">38</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  growth<span class="punctuation">[</span>i<span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span><span class="operator">=</span><span class="built_in">sum</span><span class="punctuation">(</span>growth<span class="punctuation">[</span><span class="number">2</span><span class="operator">:</span>i<span class="punctuation">,</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">growth<span class="punctuation">[</span><span class="punctuation">(</span>t2<span class="operator">-</span>t1<span class="punctuation">)</span><span class="operator">+</span><span class="number">2</span><span class="punctuation">,</span><span class="number">2</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">]</span><span class="operator">=</span>colSums<span class="punctuation">(</span>growth<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="punctuation">(</span>t2<span class="operator">-</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="number">2</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">]</span><span class="punctuation">,</span>na.rm<span class="operator">=</span><span class="built_in">T</span><span class="punctuation">)</span></span><br><span class="line">growth<span class="punctuation">[</span><span class="punctuation">(</span>t2<span class="operator">-</span>t1<span class="punctuation">)</span><span class="operator">+</span><span class="number">3</span><span class="punctuation">,</span><span class="number">2</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">]</span><span class="operator">=</span>growth<span class="punctuation">[</span><span class="punctuation">(</span>t2<span class="operator">-</span>t1<span class="operator">+</span><span class="number">2</span><span class="punctuation">)</span><span class="punctuation">,</span><span class="number">2</span><span class="operator">:</span><span class="number">3</span><span class="punctuation">]</span><span class="operator">/</span><span class="punctuation">(</span>t2<span class="operator">-</span>t1<span class="punctuation">)</span></span><br><span class="line">growth  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Figure 4 Technical Changes in the Six Reform Periods</span></span><br><span class="line">plot<span class="punctuation">(</span>growth<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">38</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="built_in">exp</span><span class="punctuation">(</span>growth<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">38</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">,</span>type<span class="operator">=</span><span class="string">&quot;s&quot;</span><span class="punctuation">,</span>xaxt<span class="operator">=</span><span class="string">&quot;n&quot;</span><span class="punctuation">,</span>yaxt<span class="operator">=</span><span class="string">&quot;n&quot;</span><span class="punctuation">,</span>ylim<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span><span class="number">5</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">axis<span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span> at<span class="operator">=</span>pretty<span class="punctuation">(</span><span class="built_in">exp</span><span class="punctuation">(</span>growth<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">38</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">,</span> lab<span class="operator">=</span>percent<span class="punctuation">(</span>pretty<span class="punctuation">(</span><span class="built_in">exp</span><span class="punctuation">(</span>growth<span class="punctuation">[</span><span class="number">1</span><span class="operator">:</span><span class="number">38</span><span class="punctuation">,</span><span class="number">4</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">axis<span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span>at<span class="operator">=</span>seq<span class="punctuation">(</span><span class="number">1980</span><span class="punctuation">,</span>t2<span class="punctuation">,</span><span class="number">5</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">abline<span class="punctuation">(</span>v<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1984.5</span><span class="punctuation">,</span><span class="number">1989.5</span><span class="punctuation">,</span><span class="number">1993.5</span><span class="punctuation">,</span><span class="number">1998.5</span><span class="punctuation">,</span><span class="number">2003.5</span><span class="punctuation">)</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p>图片展示：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250427164300-rt0ptcg.png" style="width:700px" alt="Fig 4: 年度技术变化分析" /></p><h3 id="省际技术效率比较">4. 省际技术效率比较</h3><p>再来考察一下技术效率。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Efficency</span></span><br><span class="line">pdata<span class="operator">$</span>varyingeff</span><br><span class="line">tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>varyingeff<span class="punctuation">,</span>pdata<span class="operator">$</span>SID<span class="punctuation">,</span>mean<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Figure 5 Ranking of the Average Technical Efficiency across Provinces </span></span><br><span class="line">par<span class="punctuation">(</span>mfrow <span class="operator">=</span> <span class="built_in">c</span><span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">)</span><span class="punctuation">,</span>mar<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">3</span><span class="punctuation">,</span> <span class="number">10</span><span class="punctuation">,</span> <span class="number">1</span><span class="punctuation">,</span> <span class="number">3</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">Values <span class="operator">&lt;-</span> matrix<span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span><span class="number">2</span><span class="punctuation">,</span><span class="number">31</span><span class="punctuation">)</span></span><br><span class="line">Values<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="operator">=</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>varyingeff<span class="punctuation">,</span>pdata<span class="operator">$</span>SID<span class="punctuation">,</span>mean<span class="punctuation">)</span></span><br><span class="line">Values<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="string">&quot;Beijing&quot;</span><span class="punctuation">,</span><span class="string">&quot;Tianjin&quot;</span><span class="punctuation">,</span><span class="string">&quot;Hebei&quot;</span><span class="punctuation">,</span><span class="string">&quot;Shanxi&quot;</span><span class="punctuation">,</span><span class="string">&quot;Inner Mongolia&quot;</span><span class="punctuation">,</span><span class="string">&quot;Liaoning&quot;</span><span class="punctuation">,</span><span class="string">&quot;Jilin&quot;</span><span class="punctuation">,</span><span class="string">&quot;Heilongjiang&quot;</span><span class="punctuation">,</span><span class="string">&quot;Shanghai&quot;</span><span class="punctuation">,</span><span class="string">&quot;Jiangsu&quot;</span><span class="punctuation">,</span><span class="string">&quot;Zhejiang&quot;</span><span class="punctuation">,</span><span class="string">&quot;Anhui&quot;</span><span class="punctuation">,</span><span class="string">&quot;Fujian&quot;</span><span class="punctuation">,</span><span class="string">&quot;Jiangxi&quot;</span><span class="punctuation">,</span><span class="string">&quot;Shandong&quot;</span><span class="punctuation">,</span><span class="string">&quot;Henan&quot;</span><span class="punctuation">,</span><span class="string">&quot;Hubei&quot;</span><span class="punctuation">,</span><span class="string">&quot;Hunan&quot;</span><span class="punctuation">,</span><span class="string">&quot;Guangdong&quot;</span><span class="punctuation">,</span><span class="string">&quot;Guangxi&quot;</span><span class="punctuation">,</span><span class="string">&quot;Hainan&quot;</span><span class="punctuation">,</span><span class="string">&quot;chongqing&quot;</span><span class="punctuation">,</span><span class="string">&quot;Sichuan&quot;</span><span class="punctuation">,</span><span class="string">&quot;Guizhou&quot;</span><span class="punctuation">,</span><span class="string">&quot;Yunnan&quot;</span><span class="punctuation">,</span><span class="string">&quot;Tibet&quot;</span><span class="punctuation">,</span><span class="string">&quot; Shaanxi&quot;</span><span class="punctuation">,</span><span class="string">&quot;Gansu&quot;</span><span class="punctuation">,</span><span class="string">&quot;Qinghai&quot;</span><span class="punctuation">,</span><span class="string">&quot;Ningxia&quot;</span><span class="punctuation">,</span><span class="string">&quot;Xinjiang&quot;</span><span class="punctuation">)</span></span><br><span class="line">Values<span class="operator">=</span>Values<span class="punctuation">[</span><span class="punctuation">,</span>order<span class="punctuation">(</span>Values<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line">barplot<span class="punctuation">(</span><span class="built_in">as.numeric</span><span class="punctuation">(</span>Values<span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">)</span><span class="punctuation">,</span>horiz<span class="operator">=</span><span class="built_in">T</span><span class="punctuation">,</span>beside<span class="operator">=</span><span class="built_in">F</span><span class="punctuation">,</span>las<span class="operator">=</span><span class="number">1.5</span><span class="punctuation">,</span>names.arg<span class="operator">=</span>Values<span class="punctuation">[</span><span class="number">2</span><span class="punctuation">,</span><span class="punctuation">]</span><span class="punctuation">,</span>xlab<span class="operator">=</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span>ylab<span class="operator">=</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span>xlim<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">0</span><span class="punctuation">,</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure><p>图片展示：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250427164427-gmog6fc.png" style="width:700px" alt="Fig 5: 省际技术效率比较" /></p><h3 id="tfp-增长率变化">5. TFP 增长率变化</h3><p>再来看看 TFP 增长率的年度变化。</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># TFP</span></span><br><span class="line">pdata<span class="operator">$</span>varyingtfp<span class="operator">=</span><span class="built_in">exp</span><span class="punctuation">(</span>fitted<span class="punctuation">(</span>model<span class="punctuation">)</span><span class="operator">-</span>pdata<span class="operator">$</span>lr<span class="operator">*</span>pdata<span class="operator">$</span>Lr<span class="operator">-</span>pdata<span class="operator">$</span>ld<span class="operator">*</span>pdata<span class="operator">$</span>Ld<span class="operator">-</span>pdata<span class="operator">$</span>fr<span class="operator">*</span>pdata<span class="operator">$</span>Fr<span class="operator">-</span>pdata<span class="operator">$</span>kp<span class="operator">*</span>pdata<span class="operator">$</span>Kp<span class="punctuation">)</span></span><br><span class="line"><span class="keyword">for</span> <span class="punctuation">(</span>i <span class="keyword">in</span> <span class="punctuation">(</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">:</span>t2<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  pdata<span class="operator">$</span>varyingtfp<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span>pdata<span class="operator">$</span>varyingtfp<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span><span class="punctuation">(</span>i<span class="operator">-</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">/</span>pdata<span class="operator">$</span>varyingeff<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span><span class="punctuation">(</span>i<span class="operator">-</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">*</span><span class="punctuation">(</span>pdata<span class="operator">$</span>varyinggrowth<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">*</span>pdata<span class="operator">$</span>varyingeff<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">pdata<span class="operator">$</span>varyingtfpgrowth<span class="operator">=</span><span class="literal">NA</span></span><br><span class="line"><span class="keyword">for</span> <span class="punctuation">(</span>i <span class="keyword">in</span> <span class="punctuation">(</span>t1<span class="operator">+</span><span class="number">1</span><span class="punctuation">)</span><span class="operator">:</span>t2<span class="punctuation">)</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  pdata<span class="operator">$</span>varyingtfpgrowth<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">=</span>pdata<span class="operator">$</span>varyingtfp<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span>i<span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">/</span>pdata<span class="operator">$</span>varyingtfp<span class="punctuation">[</span>which<span class="punctuation">(</span>pdata<span class="operator">$</span>Year<span class="operator">==</span><span class="punctuation">(</span>i<span class="operator">-</span><span class="number">1</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">]</span><span class="operator">-</span><span class="number">1</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line">tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>varyingtfpgrowth<span class="punctuation">,</span>pdata<span class="operator">$</span>Year<span class="punctuation">,</span>mean<span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Figure 6 Growth Rate of Total Factor Productivity across Time   </span></span><br><span class="line">plot<span class="punctuation">(</span><span class="built_in">c</span><span class="punctuation">(</span>t1<span class="operator">:</span>t2<span class="punctuation">)</span><span class="punctuation">,</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>varyingtfpgrowth<span class="punctuation">,</span>pdata<span class="operator">$</span>Year<span class="punctuation">,</span>mean<span class="punctuation">)</span><span class="punctuation">,</span> xaxt<span class="operator">=</span><span class="string">&quot;n&quot;</span><span class="punctuation">,</span>yaxt<span class="operator">=</span><span class="string">&quot;n&quot;</span><span class="punctuation">,</span>type <span class="operator">=</span> <span class="string">&quot;h&quot;</span><span class="punctuation">,</span> lwd <span class="operator">=</span> <span class="number">15</span><span class="punctuation">,</span> lend <span class="operator">=</span> <span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">abline<span class="punctuation">(</span>v<span class="operator">=</span><span class="built_in">c</span><span class="punctuation">(</span><span class="number">1984.5</span><span class="punctuation">,</span><span class="number">1989.5</span><span class="punctuation">,</span><span class="number">1993.5</span><span class="punctuation">,</span><span class="number">1998.5</span><span class="punctuation">,</span><span class="number">2003.5</span><span class="punctuation">)</span><span class="punctuation">,</span>lwd<span class="operator">=</span><span class="number">1</span><span class="punctuation">)</span></span><br><span class="line">axis<span class="punctuation">(</span><span class="number">2</span><span class="punctuation">,</span> at<span class="operator">=</span>pretty<span class="punctuation">(</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>varyingtfpgrowth<span class="punctuation">,</span>pdata<span class="operator">$</span>Year<span class="punctuation">,</span>mean<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">,</span> lab<span class="operator">=</span>percent<span class="punctuation">(</span>pretty<span class="punctuation">(</span>tapply<span class="punctuation">(</span>pdata<span class="operator">$</span>varyingtfpgrowth<span class="punctuation">,</span>pdata<span class="operator">$</span>Year<span class="punctuation">,</span>mean<span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span><span class="punctuation">)</span></span><br><span class="line">axis<span class="punctuation">(</span><span class="number">1</span><span class="punctuation">,</span>at<span class="operator">=</span>seq<span class="punctuation">(</span><span class="number">1980</span><span class="punctuation">,</span>t2<span class="punctuation">,</span><span class="number">5</span><span class="punctuation">)</span><span class="punctuation">)</span>                   <span class="comment">#figure 6</span></span><br></pre></td></tr></table></figure><p>图片展示：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20250427164943-p5piitn.png" style="width:600px" alt="Fig 6：TFP增长率年度变化" /></p><h2 id="四写在后面">四、写在后面</h2><p>变系数 SFA 法是解决传统 SFA固定投入产出关系问题的一大利器，不过该方法仍然有一些小问题。<strong>一是该方法针对省级面板数据开发，且计算过程涉及矩阵运算，要求数据为平衡面板，</strong>非平衡面板数据可能中间部分代码会报错。<strong>二是变系数 SFA的要素产出弹性和 TFP估计受到第一步半参数估计的影响，导致部分样本差异化的系数估计结果难以解释，</strong>针对这一问题，应重点关注变系数 SFA是否正确运用，同时注意检验结果的可靠性。</p><p>在这篇文章的后半部分，还基于上面的结果进行了实证分析。这里不在赘述，有兴趣可以查看原文。</p><p>下面附上文章 PDF、完整代码和数据，可用于代码复现。官方的代码有一些小bug，且没有代码备注，检验使用「Code and Data(JDE)」文件夹内的代码复现。</p><p><strong>下载链接：</strong>​<ahref="https://pan.baidu.com/s/1MdAsMU-lEOQjsyfJFQSoiw?pwd=2vvt">百度网盘链接</a>‍</p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 命令 </tag>
            
            <tag> 代码 </tag>
            
            <tag> 变系数SFA </tag>
            
            <tag> SFA </tag>
            
            <tag> R </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗专题视频｜[直播录屏]用Stata清洗大型微观数据库：方法、实践与思路</title>
      <link href="/posts/54587/"/>
      <url>/posts/54587/</url>
      
        <content type="html"><![CDATA[<p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><blockquote><p>附件：</p><ul><li>录屏文件和 Do File下载链接：https://pan.baidu.com/s/1F07EPWBqXGRfrPpmnuVTIQ?pwd=9c6h</li><li><strong>⚠️特别注意：案例数据已做模糊化处理，不能匹配至CFPS原始数据，仅用于结果复现和学习使用。</strong></li></ul></blockquote><p><strong>内容简介：</strong></p><ul><li>数据清洗方法部分：主要介绍常用命令</li><li>数据清洗实践部分：基于2018、2020年CFPS生成两期面板数据</li><li>数据清洗思路部分：总结数据清洗的方法和实践，梳理数据清洗常遇到的问题，总结数据清洗的思路。</li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> 公开数据库 </tag>
            
            <tag> CFPS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件相关｜R 版本更新方法</title>
      <link href="/posts/7660/"/>
      <url>/posts/7660/</url>
      
        <content type="html"><![CDATA[<p>这是一份 <code>R</code> 自动更新的简明教程。</p><h2 id="windows-系统">1. Windows 系统</h2><p>在 <code>Windows</code> 系统中，使用下面的做法即可快速更新<code>R</code> 。</p><ol type="1"><li><p>打开 <code>R</code> ，而非 <code>RStudio</code>；</p></li><li><p>运行以下三行代码</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">install.packages<span class="punctuation">(</span><span class="string">&quot;installr&quot;</span><span class="punctuation">)</span></span><br><span class="line">library<span class="punctuation">(</span>installr<span class="punctuation">)</span></span><br><span class="line">updateR<span class="punctuation">(</span><span class="punctuation">)</span></span><br></pre></td></tr></table></figure></li><li><p>卸载旧版 <code>R</code>。在 Windows 端，<code>R</code>不是覆盖安装，因此旧版本仍然会保留。可以在开始栏中找到 <code>R</code>文件夹，然后找到旧版，右键卸载即可。</p></li></ol><h2 id="macos-系统">2. macOS 系统</h2><p>打开官网（链接：<a href="https://cran.r-project.org/bin/macosx/">Rfor macOS</a>），找到 macOS 版本的安装包，下载后安装即可。macOS为覆盖安装，安装后自动覆盖旧版本。M 系列芯片下载左侧 <code>arm64</code>版本，Intel 芯片下载左侧的 <code>x86_64</code> 版本即可。</p><hr /><p>相关链接：</p><ul><li><a href="https://www.bilibili.com/video/BV1au4y1c7kq/">谢大飞呀：R和 Rstudio 版本更新</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 软件相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> R </tag>
            
            <tag> 软件相关 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜家庭分户问题解决思路与代码</title>
      <link href="/posts/42980/"/>
      <url>/posts/42980/</url>
      
        <content type="html"><![CDATA[<p>在以家庭为单位的微观调查中，常使用家庭 <code>fid</code>作为家庭识别码，并使用 <code>pid</code>作为家庭成员的识别码。在通常情况下，一个家庭对应多个家庭成员的关系是稳定的。但是在微观调查中，由于对「家庭」和「家庭成员」的定义并不相同（例：<u><ahref="https://www.bilibili.com/video/BV1jG4y177cS/">视频</a></u>、<u><ahref="https://fgzfgz.github.io/posts/11382/">代码</a></u>），在某些定义下，一些成员可能会脱离家庭，组建新的家庭，这种情况一般称作「家庭分户」问题。截面数据不存在分户问题，但<strong>在追踪家庭微观调查中，常存在这类分户问题</strong>。</p><p>这里不再讨论如何定义「家庭」和「家庭成员」，仅讨论如何解决分户问题。</p><h2 id="连续变量的分户问题">1. 连续变量的分户问题</h2><p>根据问卷中相关变量设置，CFPS 官方提供了一些综合收入综合指标。我们以CFPS 的收入数据为例，解决从 2010 年来的连续变量的分户问题。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">* 收入相关综合变量及其含义</span></span><br><span class="line"><span class="comment">* 家庭工资性收入 fwage_1</span></span><br><span class="line"><span class="comment">* 家庭经营性收入 foperate_1</span></span><br><span class="line"><span class="comment">* 家庭财产性收入 fproperty_1 </span></span><br><span class="line"><span class="comment">* 家庭转移性收入 ftransfer_1 </span></span><br><span class="line"><span class="comment">* 家庭其他收入 felse_1 </span></span><br><span class="line"><span class="comment">* 家庭纯收入 fincome1 </span></span><br><span class="line"><span class="comment">* 家庭人均收入 fincome1_per  </span></span><br></pre></td></tr></table></figure><p>根据变量的含义不同，家庭分户问题的处理方式也不同。工资性收入、经营行收入、财产性收入、转移性收入、其他收入、家庭纯收入等六个指标应当进行加总，家庭人均收入可以考虑取均值。</p><p>因此，可以做如下操作：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 均值: 家庭人均收入</span></span><br><span class="line">ereplace fincome1_per = <span class="keyword">mean</span>(fincome1_per), <span class="keyword">by</span>(fid10)</span><br><span class="line"></span><br><span class="line"><span class="comment">** 加总</span></span><br><span class="line"><span class="keyword">foreach</span> v <span class="keyword">in</span> fwage_1 foperate_1 fproperty_1 ftransfer_1 felse_1 fincome1 &#123;</span><br><span class="line">ereplace <span class="symbol">`v&#x27;</span> = <span class="keyword">total</span>(<span class="symbol">`v&#x27;</span>), <span class="keyword">by</span>(fid10)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>需要注意的是，上述命令中的分组依据变量是<code>fid10</code>，与研究基期2010年对应。如果研究基期为2014年，可以改为<code>fid14</code>。</p><p>上面命令中，针对需要加总的六个变量，使用循环语句以精简代码。</p><h2 id="离散变量的分户问题">2. 离散变量的分户问题</h2><p><strong>对于二值变量，</strong>以变量 <code>fm1</code>「是否有人从事个体私营」为例，其取值包括三种情况：1=是，5=否，-8=不适用。现将该变量处理成0-1二值变量。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">g</span> nfm1 = fm1 <span class="keyword">if</span> <span class="built_in">inlist</span>(fm1,1,5)  <span class="comment">// 删除不适用情况</span></span><br><span class="line"><span class="keyword">replace</span> nfm1 = 0 <span class="keyword">if</span> fm1==5       <span class="comment">// 1=是,0=否</span></span><br></pre></td></tr></table></figure><p>然后，以2010年为基期，处理 <code>nfm1</code>这个二值变量的针对家庭分户问题。处理方式仍然是使用均值法，由于上面计算得到的<code>nfm1</code> 变量是一个 0-1 变量，按照 <code>fid10</code>求均值后，取值应该在区间 [0,1]上。只要分户后的家庭中至少有一个从事个体私营（取值为1），使用均值法计算后的取值应该落在区间(0,1] 上。因此可以将区间 (0,1] 上的取值改为1。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 取均值</span></span><br><span class="line">ereplace nfm1 = <span class="keyword">mean</span>(nfm1), <span class="keyword">by</span>(fid10)</span><br><span class="line"><span class="keyword">replace</span> nfm1 = 1 <span class="keyword">if</span> nfm1&gt;0 &amp; nfm1&lt;=1</span><br></pre></td></tr></table></figure><p><strong>对于多分类变量，</strong>大多可以使用二值变量和连续变量的方法处理，这里不再赘述。</p><h2 id="组合命令的使用">3. 组合命令的使用</h2><p>对于分户问题而言，均值和加总是最常用的方法。但是也有一些研究可能也会用到其他函数，例如最大值<code>max</code>，最小值 <code>min</code>等。它们与上面使用均值和加总的函数基本上没有差别，只是需要根据研究需要调整函数类型。</p><p><strong>需要注意的是，按照分户前的家庭编码计算出数值，只是解决分户问题的第一步。</strong>该步骤通常在逐年清洗数据时使用，在完成这一步后，需要删除掉因分户出现的重复样本。待完成所有变量的计算和样本的处理后，再来拼接成面板数据。</p><p>假设某项研究需要使用到 2010-2020 年 CFPS家庭经济库中的收入数据，以下是组合命令的一个示范。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">******************* 2012年 *******************</span></span><br><span class="line"><span class="keyword">use</span> cfps2012famecon.dta, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 均值: 家庭人均收入</span></span><br><span class="line">ereplace fincome1_per = <span class="keyword">mean</span>(fincome1_per), <span class="keyword">by</span>(fid10)</span><br><span class="line"><span class="comment">** 加总</span></span><br><span class="line"><span class="keyword">foreach</span> v <span class="keyword">in</span> fwage_1 foperate_1 fproperty_1 ftransfer_1 felse_1 fincome1 &#123;</span><br><span class="line">ereplace <span class="symbol">`v&#x27;</span> = <span class="keyword">total</span>(<span class="symbol">`v&#x27;</span>), <span class="keyword">by</span>(fid10)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 删除重复样本</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> fid10, force</span><br><span class="line"><span class="comment">** 保存数据</span></span><br><span class="line"><span class="keyword">save</span> cfps2012famecon.dta, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">******************* 2014年 *******************</span></span><br><span class="line"><span class="keyword">use</span> cfps2014famecon.dta, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 均值: 家庭人均收入</span></span><br><span class="line">ereplace fincome1_per = <span class="keyword">mean</span>(fincome1_per), <span class="keyword">by</span>(fid10)</span><br><span class="line"><span class="comment">** 加总</span></span><br><span class="line"><span class="keyword">foreach</span> v <span class="keyword">in</span> fwage_1 foperate_1 fproperty_1 ftransfer_1 felse_1 fincome1 &#123;</span><br><span class="line">ereplace <span class="symbol">`v&#x27;</span> = <span class="keyword">total</span>(<span class="symbol">`v&#x27;</span>), <span class="keyword">by</span>(fid10)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 删除重复样本</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> fid10, force</span><br><span class="line"><span class="comment">** 保存数据</span></span><br><span class="line"><span class="keyword">save</span> cfps2014famecon.dta, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">******************* 2016年 *******************</span></span><br><span class="line"><span class="keyword">use</span> cfps2016famecon.dta, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 均值: 家庭人均收入</span></span><br><span class="line">ereplace fincome1_per = <span class="keyword">mean</span>(fincome1_per), <span class="keyword">by</span>(fid10)</span><br><span class="line"><span class="comment">** 加总</span></span><br><span class="line"><span class="keyword">foreach</span> v <span class="keyword">in</span> fwage_1 foperate_1 fproperty_1 ftransfer_1 felse_1 fincome1 &#123;</span><br><span class="line">ereplace <span class="symbol">`v&#x27;</span> = <span class="keyword">total</span>(<span class="symbol">`v&#x27;</span>), <span class="keyword">by</span>(fid10)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 删除重复样本</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> fid10, force</span><br><span class="line"><span class="comment">** 保存数据</span></span><br><span class="line"><span class="keyword">save</span> cfps2016famecon.dta, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">******************* 2018年 *******************</span></span><br><span class="line"><span class="keyword">use</span> cfps2018famecon.dta, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 均值: 家庭人均收入</span></span><br><span class="line">ereplace fincome1_per = <span class="keyword">mean</span>(fincome1_per), <span class="keyword">by</span>(fid10)</span><br><span class="line"><span class="comment">** 加总</span></span><br><span class="line"><span class="keyword">foreach</span> v <span class="keyword">in</span> fwage_1 foperate_1 fproperty_1 ftransfer_1 felse_1 fincome1 &#123;</span><br><span class="line">ereplace <span class="symbol">`v&#x27;</span> = <span class="keyword">total</span>(<span class="symbol">`v&#x27;</span>), <span class="keyword">by</span>(fid10)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 删除重复样本</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> fid10, force</span><br><span class="line"><span class="comment">** 保存数据</span></span><br><span class="line"><span class="keyword">save</span> cfps2018famecon.dta, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">******************* 2020年 *******************</span></span><br><span class="line"><span class="keyword">use</span> cfps2020famecon.dta, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 均值: 家庭人均收入</span></span><br><span class="line">ereplace fincome1_per = <span class="keyword">mean</span>(fincome1_per), <span class="keyword">by</span>(fid10)</span><br><span class="line"><span class="comment">** 加总</span></span><br><span class="line"><span class="keyword">foreach</span> v <span class="keyword">in</span> fwage_1 foperate_1 fproperty_1 ftransfer_1 felse_1 fincome1 &#123;</span><br><span class="line">ereplace <span class="symbol">`v&#x27;</span> = <span class="keyword">total</span>(<span class="symbol">`v&#x27;</span>), <span class="keyword">by</span>(fid10)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 删除重复样本</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> fid10, force</span><br><span class="line"><span class="comment">** 保存数据</span></span><br><span class="line"><span class="keyword">save</span> cfps2020famecon.dta, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">******************* 构建面板数据 *******************</span></span><br><span class="line"><span class="keyword">use</span> cfps2010famecon.dta, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">foreach</span> y <span class="keyword">in</span> 2012 2014 2016 2018 2020 &#123;</span><br><span class="line"><span class="keyword">append</span> using cfps<span class="symbol">`y&#x27;</span>famecon</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">save</span> cfps_famecon.dta, <span class="keyword">replace</span></span><br></pre></td></tr></table></figure><p>上面代码有几个需要注意的地方：</p><ul><li>2010 年为基期，所以 2010 年不存在分户问题。2012-2020年可能存在分户问题。</li><li>2012-2020年分户问题可以使用循环语句简化代码，但是考虑到文件名称不一致、各年变量名称可能有所差异，实际数据清洗中不会使用循环语句完成，<strong>需要对数据进行逐年清理</strong>。</li><li>研究基期是 2010 年，所以 2012-2020年用均值和加总解决分户问题时都是使用 <code>fid10</code>作为分组依据，这个分组依据一般与删除重复样本的依据相对应，即<code>duplicates drop</code>。</li></ul><hr /><p><strong>相关链接：</strong></p><ul><li><code>ereplace</code> 和相关函数用法，参见：<ahref="https://fgzfgz.github.io/posts/9680/">变量生成与替换</a></li><li><code>duplicates drop</code> 用法，参见：<ahref="https://fgzfgz.github.io/posts/14887/">教对象 Stata 系列｜第 2课代码：变量管理与 IF 条件使用</a></li><li>数据清洗相关视频、代码合集，参见：<ahref="https://fgzfgz.github.io/BiliBili/">视频合集</a>、<ahref="https://fgzfgz.github.io/DataCleaning/">Stata 数据清洗</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> 面板数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜生成平衡面板数据</title>
      <link href="/posts/15451/"/>
      <url>/posts/15451/</url>
      
        <content type="html"><![CDATA[<p>在 Stata 中，可以使用 <code>tsfill</code> 命令或者<code>xtbalance</code> 命令生成平衡面板数据。两个命令的原理并不相同。<code>tsfill</code> 通过【<strong>补样本</strong>】获得平衡面板，更多用于宏观数据中；<code>xtbalance</code>通过【<strong>删样本</strong>】获得平衡面板，更多用于微观数据中。</p><h2 id="命令展示">1. 命令展示</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 设置面板数据</span></span><br><span class="line"><span class="keyword">xtset</span> PID year</span><br><span class="line"><span class="comment">** tsfill 补样本</span></span><br><span class="line"><span class="keyword">tsfill</span>, full</span><br><span class="line"><span class="comment">** xtbalance 删样本</span></span><br><span class="line">xtbalance, <span class="keyword">range</span>(2012 2022) miss(x1 x2 x3)</span><br></pre></td></tr></table></figure><p><strong>注：</strong>在使用 <code>tsfill</code> 和<code>xtbalance</code> 之前，需要使用 <code>xtset</code>命令设置好面板数据。</p><h2 id="结果展示">2. 结果展示</h2><h3 id="tsfill-补样本">（1）<code>tsfill</code> 补样本</h3><p>以涵盖江苏和上海两个省份的三年面板数据为例，其中江苏缺少2020年的样本。可以看到，<code>tsfill</code>对缺失的样本进行了填补，但是不会填补<code>province</code>、<code>x</code> 等变量的取值。使用 <code>fillmissing</code>命令，可以在<code>tsfill</code>的基础上，进一步填补缺失的宏观地理信息，其原理是根据变量<code>ID</code>分组，组内的每一个省份名称<code>province</code>都是相同的，使用组内其中一个<code>province</code> 的取值替代缺失值。</p><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** tsfill 补样本</span></span><br><span class="line"><span class="keyword">xtset</span> ID year   <span class="comment">// 设置面板数据</span></span><br><span class="line"><span class="keyword">tsfill</span>, full</span><br><span class="line"><span class="comment">/* 结果图示：</span></span><br><span class="line"><span class="comment">  +------------------------+               +------------------------+</span></span><br><span class="line"><span class="comment">  | ID  provine   year  x  |               | ID  provine   year   x | </span></span><br><span class="line"><span class="comment">  |------------------------|               |------------------------| </span></span><br><span class="line"><span class="comment">  | 31  shanghai  2019   1 |    result     | 31  shanghai  2019   1 | </span></span><br><span class="line"><span class="comment">  | 31  shanghai  2020   3 |  ---------&gt;   | 31  shanghai  2020   3 |</span></span><br><span class="line"><span class="comment">  | 31  shanghai  2021   2 |               | 31  shanghai  2021   2 |</span></span><br><span class="line"><span class="comment">  | 32  jiangsu   2019   2 |               | 32  jiangsu   2019   2 |</span></span><br><span class="line"><span class="comment">  | 32  jiangsu   2021   . |               | 32            2020   . |   </span></span><br><span class="line"><span class="comment">  +------------------------+               | 32  jiangsu   2021   . |   </span></span><br><span class="line"><span class="comment">                                           +-----------------------+  */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 填补省份名称</span></span><br><span class="line"><span class="keyword">bysort</span> ID: fillmissing province</span><br><span class="line"><span class="comment">/* 结果图示：</span></span><br><span class="line"><span class="comment">  +------------------------+               +-------------------------+</span></span><br><span class="line"><span class="comment">  | ID  provine   year   x |               | ID  provine    year   x | </span></span><br><span class="line"><span class="comment">  |------------------------|               |-------------------------| </span></span><br><span class="line"><span class="comment">  | 31  shanghai  2019   1 |    result     | 31  shanghai   2019   1 | </span></span><br><span class="line"><span class="comment">  | 31  shanghai  2020   3 |  ---------&gt;   | 31  shanghai   2020   3 |</span></span><br><span class="line"><span class="comment">  | 31  shanghai  2021   2 |               | 31  shanghai   2021   2 |</span></span><br><span class="line"><span class="comment">  | 32  jiangsu   2019   2 |               | 32  jiangsu    2019   2 |</span></span><br><span class="line"><span class="comment">  | 32            2020   . |               | 32  jiangsu    2020   . |   </span></span><br><span class="line"><span class="comment">  | 32  jiangsu   2021   . |               | 32  jiangsu    2021   . |   </span></span><br><span class="line"><span class="comment">  +------------------------+               +-------------------------+  */</span></span><br></pre></td></tr></table></figure><h3 id="xtbalance-删样本">（2）<code>xtbalance</code> 删样本</h3><p>以涵盖上海、江苏和安徽三个省份的三年面板数据为例，其中：</p><ul><li>安徽缺少2021年的样本；</li><li>针对变量 <code>x1</code> 和 <code>x2</code>，江苏2020年的取值为缺失值。</li></ul><p>因此，这个数据为非平衡面板数据。</p><h4 id="情况1">情况1：</h4><p>若要让其变成2019-2021年的平衡面板数据，只有上海符合变量<code>x1</code> 和 <code>x2</code>不是缺失值，而且年份不缺失的要求。因此，最后生成的平衡面板数据应该只有2019-2021 年上海的数据。使用 <code>xtbalance</code>命令，可以在指定年份范围和变量的条件下，删除非平衡的样本来构造平衡面板。</p><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">** xtbalance 删样本</span></span><br><span class="line"><span class="keyword">xtset</span> ID year   <span class="comment">// 设置面板数据</span></span><br><span class="line">xtbalance, <span class="keyword">range</span>(2019 2021) miss(x1 x2)</span><br><span class="line"><span class="comment">/* 结果图示：</span></span><br><span class="line"><span class="comment">  +---------------------------------+               +--------------------------------+</span></span><br><span class="line"><span class="comment">  | ID  provine    year  x1  x2  x3 |               | ID  provine   year  x1  x2  x3 | </span></span><br><span class="line"><span class="comment">  |---------------------------------|               |--------------------------------| </span></span><br><span class="line"><span class="comment">  | 31  shanghai   2019   1   1   1 |    result     | 31  shanghai  2019   1   1   1 | </span></span><br><span class="line"><span class="comment">  | 31  shanghai   2020   3   3   3 |  ---------&gt;   | 31  shanghai  2020   3   3   3 |</span></span><br><span class="line"><span class="comment">  | 31  shanghai   2021   2   2   2 |               | 31  shanghai  2021   2   2   2 |</span></span><br><span class="line"><span class="comment">  | 32  jiangsu    2019   2   2   2 |               +--------------------------------+</span></span><br><span class="line"><span class="comment">  | 32  jiangsu    2020   .   2   2 |               </span></span><br><span class="line"><span class="comment">  | 32  jiangsu    2021   3   3   3 |              </span></span><br><span class="line"><span class="comment">  | 34  anhui      2019   3   3   3 |            </span></span><br><span class="line"><span class="comment">  | 34  anhui      2020   3   3   3 |</span></span><br><span class="line"><span class="comment">  +---------------------------------+  */</span> </span><br></pre></td></tr></table></figure><h4 id="情况2">情况2：</h4><p>如果要构造 2019-2020 年的平衡面板数据，要求变量 <code>x1</code> 和<code>x2</code> 不是缺失值，那么可以修改年份范围，这样最后保留的就是2019-2020年上海和安徽的样本。<strong>需要注意的是，<code>xtbalance</code>需要生成的平衡面板数据的变量要求和时间范围均要在命令的<code>option</code>中指定，以确定生成什么样的平衡面板，因此2021年的上海样本也被删除了。</strong></p><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** xtbalance 删样本</span></span><br><span class="line"><span class="keyword">xtset</span> ID year</span><br><span class="line">xtbalance, <span class="keyword">range</span>(2019 2020) miss(x1 x2)</span><br><span class="line"><span class="comment">/* 结果图示：</span></span><br><span class="line"><span class="comment">  +---------------------------------+               +---------------------------------+</span></span><br><span class="line"><span class="comment">  | ID  provine    year  x1  x2  x3 |               | ID  provine    year  x1  x2  x3 | </span></span><br><span class="line"><span class="comment">  |---------------------------------|               |---------------------------------| </span></span><br><span class="line"><span class="comment">  | 31  shanghai   2019   1   1   1 |    result     | 31  shanghai   2019   1   1   1 | </span></span><br><span class="line"><span class="comment">  | 31  shanghai   2020   3   3   3 |  ---------&gt;   | 31  shanghai   2020   3   3   3 |</span></span><br><span class="line"><span class="comment">  | 31  shanghai   2021   2   2   2 |               | 34  anhui      2019   3   3   3 |</span></span><br><span class="line"><span class="comment">  | 32  jiangsu    2019   2   2   2 |               | 34  anhui      2020   3   3   3 |</span></span><br><span class="line"><span class="comment">  | 32  jiangsu    2020   .   2   2 |               +---------------------------------+</span></span><br><span class="line"><span class="comment">  | 32  jiangsu    2021   3   3   3 |</span></span><br><span class="line"><span class="comment">  | 34  anhui      2019   3   3   3 |</span></span><br><span class="line"><span class="comment">  | 34  anhui      2020   3   3   3 |</span></span><br><span class="line"><span class="comment">  +---------------------------------+  */</span> </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> 面板数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜数据填充(均值法)</title>
      <link href="/posts/59504/"/>
      <url>/posts/59504/</url>
      
        <content type="html"><![CDATA[<p>在 Stata 中，使用 <code>egen</code>等命令分组计算后，可以得到一个组内取值相同、组间取值不同的变量。如果在使用<code>egen</code> 命令分组计算时，使用了 <code>if</code>条件对特定样本进行计算，那么组内取值<strong>有且仅有</strong>两种情况：</p><ul><li><strong>情况一：</strong>两种取值，<strong>一是组内样本符合条件的取值相同，不符合条件的都是缺失值<code>.</code></strong>。</li><li><strong>情况二：</strong>一种取值，组内因不符合条件，都是缺失值。</li></ul><p>在此种情况下，可以使用 <code>ereplace</code> 命令配合<code>mean</code> 函数补充。</p><h3 id="命令展示">1. 命令展示</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 外部命令，首次使用需要安装 ereplace</span></span><br><span class="line"><span class="keyword">ssc</span> install ereplace, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 计算条件分组取值</span></span><br><span class="line"><span class="keyword">egen</span> X_total = <span class="keyword">total</span>(X) <span class="keyword">if</span> X==1, <span class="keyword">by</span>(ID)</span><br><span class="line">ereplace X_total = <span class="keyword">mean</span>(X_total), <span class="keyword">by</span>(ID)</span><br></pre></td></tr></table></figure><h3 id="结果展示">2. 结果展示</h3><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 计算条件分组取值</span></span><br><span class="line"><span class="keyword">egen</span> X_total = <span class="keyword">total</span>(X) <span class="keyword">if</span> X==1, <span class="keyword">by</span>(ID)</span><br><span class="line"><span class="comment">/* 计算结果图示：</span></span><br><span class="line"><span class="comment">  +-----------------+              +---------------------------+</span></span><br><span class="line"><span class="comment">  | ID   provine  X |              | ID   provine  X   X_total | </span></span><br><span class="line"><span class="comment">  |-----------------|              |---------------------------| </span></span><br><span class="line"><span class="comment">  | 31     上海   0 |   实现效果     | 31     上海   0         . | </span></span><br><span class="line"><span class="comment">  | 31     上海   . |  ---------&gt;   | 31     上海   .         . |</span></span><br><span class="line"><span class="comment">  | 31     上海   0 |               | 31     上海   0         . |</span></span><br><span class="line"><span class="comment">  | 32     江苏   1 |               | 32     江苏   1         2 |</span></span><br><span class="line"><span class="comment">  | 32     江苏   1 |               | 32     江苏   1         2 |   </span></span><br><span class="line"><span class="comment">  | 32     江苏   . |               | 32     江苏   .         . |   </span></span><br><span class="line"><span class="comment">  +-----------------+              +--------------------------+  */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 情况一：均值填充</span></span><br><span class="line">ereplace X_total = <span class="keyword">mean</span>(X_total), <span class="keyword">by</span>(ID)</span><br><span class="line"><span class="comment">/* 计算结果图示：</span></span><br><span class="line"><span class="comment">  +---------------------------+              +---------------------------+</span></span><br><span class="line"><span class="comment">  | ID   provine  X   X_total |              | ID   provine  X   X_total | </span></span><br><span class="line"><span class="comment">  |---------------------------|              |---------------------------| </span></span><br><span class="line"><span class="comment">  | 31     上海   0         . |   实现效果     | 31     上海   0         . | </span></span><br><span class="line"><span class="comment">  | 31     上海   .         . |  ---------&gt;   | 31     上海   .         . |</span></span><br><span class="line"><span class="comment">  | 31     上海   0         . |               | 31     上海   0         . |</span></span><br><span class="line"><span class="comment">  | 32     江苏   1         2 |               | 32     江苏   1         2 |</span></span><br><span class="line"><span class="comment">  | 32     江苏   1         2 |               | 32     江苏   1         2 |   </span></span><br><span class="line"><span class="comment">  | 32     江苏   .         . |               | 32     江苏   .         2 |   </span></span><br><span class="line"><span class="comment">  +---------------------------+              +--------------------------+  */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 情况二：均值填充</span></span><br><span class="line"><span class="keyword">replace</span> X_total = 0 <span class="keyword">if</span> X_total==.</span><br><span class="line"><span class="comment">/* 计算结果图示：</span></span><br><span class="line"><span class="comment">  +---------------------------+              +---------------------------+</span></span><br><span class="line"><span class="comment">  | ID   provine  X   X_total |              | ID   provine  X   X_total | </span></span><br><span class="line"><span class="comment">  |---------------------------|              |---------------------------| </span></span><br><span class="line"><span class="comment">  | 31     上海   0         . |   实现效果     | 31     上海   0         0 | </span></span><br><span class="line"><span class="comment">  | 31     上海   .         . |  ---------&gt;   | 31     上海   .         0 |</span></span><br><span class="line"><span class="comment">  | 31     上海   0         . |               | 31     上海   0         0 |</span></span><br><span class="line"><span class="comment">  | 32     江苏   1         2 |               | 32     江苏   1         2 |</span></span><br><span class="line"><span class="comment">  | 32     江苏   1         2 |               | 32     江苏   1         2 |   </span></span><br><span class="line"><span class="comment">  | 32     江苏   .         2 |               | 32     江苏   .         2 |   </span></span><br><span class="line"><span class="comment">  +--------------------------+               +--------------------------+  */</span></span><br></pre></td></tr></table></figure><p>上面的三行命令中：</p><ul><li><code>egen</code> 和<code>ereplace</code>命令可以使用的函数、用法都相同，具体使用方法参见文章<ahref="https://fgzfgz.github.io/posts/9680/">《数据清洗｜变量生成与替换》</a>；</li><li><code>ereplace</code>发挥的作用是，在情况一（取值只有两种情况，缺失值和非缺失值，且非缺失值取值相等）下，非缺失值的均值就是其取值本身，如果我们希望将组内的缺失值填充为这个相同的非缺失值，就可以使用第二行命令；</li><li>在情况二下，即部分组内没有满足条件的值，或者都是缺失值，此时可以根据研究需要进行数据填补（此处补为0）。</li></ul><h3 id="使用案例">3. 使用案例</h3><ul><li><a href="https://fgzfgz.github.io/posts/43931/">Stata计算收入不平等指标</a></li><li><a href="https://fgzfgz.github.io/posts/51274/">使用 CFPS计算分性别家庭子女数</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据采集｜使用海关总署数据分析各省农产品进出口的问题</title>
      <link href="/posts/20617/"/>
      <url>/posts/20617/</url>
      
        <content type="html"><![CDATA[<p>海关总署的官网，海关统计数据在线查询平台（<strong><ahref="http://stats.customs.gov.cn">网址</a></strong>）可以查询到各种商品进出口的详细信息，可以选择输出字段「收发货人注册地」与「商品」，检索分省、分商品种类的进出口数据。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20240131142749-g101oj3.png" style="height:300px" alt="" /></p><p>商品的海关编码包括2位、4位、6位、8位检索，如果是2位、4位、6位检索，只能检索到对应商品的进出口金额，原因是进出口商品数量是按照海关8位编码统计的，8位编码不同的商品可能计量单位不同。<strong>选择8位编码即可查询到对应品类商品的进口数量。</strong></p><p>海关数据使用的几个注意事项：</p><ul><li>时间范围：2015年及以后</li><li>币制：可以查询人民币与美元，但是不能同时查到两种币制的进出口金额，需要下载数据后进行匹配。</li><li>按收发货人注册地划分的依据，<strong>是按照企业的注册地划分，无法衡量进口、出口商品的真实来源地与清关地</strong>。</li></ul><p>例如，近期我在计算各省份粮食消费量，计算方法是：粮食消费量=粮食产量+粮食净进口，1999-2016年主要农产品进出口数量可以从《中国农村统计年鉴》中查询到，但是该年鉴不再汇报2017年及以后的分省分的主要农产品进出口数量。如果使用海关数据补充，会出现「<strong>海关数据根据企业注册地划分统计进出口，而非清关地，更非粮食实际消费地」的问题。</strong>2016年，北京市四种粮食的进口总量为51.85万吨，由于许多企业注册地位于北京，按海关总署数据计算的2017年北京市四种粮食净进口为1414.12万吨，与2016年的数据差距很大，使用该数据会导致实证结果产生极大偏误。</p><p><strong>总结：</strong>海关数据在研究国际进出口贸易上具有一定优势，但是如果研究贸易线路，或者需要根据贸易数据推算其他数据，会产生很大偏误。企业注册地集中的地区会有与实际不符的进口、出口数量。</p>]]></content>
      
      
      <categories>
          
          <category> 数据相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据相关 </tag>
            
            <tag> 数据采集 </tag>
            
            <tag> 宏观数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>资源分享｜年鉴、统计资料下载</title>
      <link href="/posts/28394/"/>
      <url>/posts/28394/</url>
      
        <content type="html"><![CDATA[<h2 id="年鉴清单">年鉴清单：</h2><p><strong>- 点击资料名称下载 -</strong></p><h3 id="分省统计年鉴">1. 分省统计年鉴</h3><p>（1）<ahref="https://pan.baidu.com/s/1kHJ3RQg5BytvajzvrMmQzg?pwd=wmd9">分省统计年鉴（2000-2023）</a></p><ul><li>全国所有省份的统计年鉴，包含香港、澳门、台湾</li><li>除西藏包含2000-2022年的年鉴外，其他所有省份都有2000-2023年的年鉴，部分省份有2000年以前的年鉴</li><li>少数省份有部分地级市的年鉴</li></ul><h3 id="经济综合">2. 经济综合</h3><p>（1）<ahref="https://pan.baidu.com/s/1fGUJGFKCQEiBTqH098DIOw?pwd=pk6h">新中国统计资料汇编</a></p><ul><li>新中国 50 年统计资料汇编（1949-1999）</li><li>新中国 55 年统计资料汇编（1949-2004）</li><li>新中国 60 年统计资料汇编（1949-2009）</li><li>新中国 65 年统计资料汇编（1949-2014）</li></ul><p>（2）<ahref="https://pan.baidu.com/s/1mNVlsCEQFHylLtI5GdH1zw?pwd=ifhq">中国统计年鉴（1981-2024）</a></p><p>（3）<ahref="https://pan.baidu.com/s/1_ZIwVO-PMa_hn2oQm0DsTg?pwd=2t6x">中国经济普查年鉴（2004、2008、2013、2018）</a></p><p>（4）<ahref="https://pan.baidu.com/s/1cLxRD8VB-KhFB75J4WJoeQ?pwd=26sd">中国国内生产总值核算历史资料</a></p><ul><li>《中国国内生产总值核算历史资料 (1952-1995) 》，PDF 版</li><li>《中国国内生产总值核算历史资料 (1996-2002) 》，光盘版</li><li>《中国国内生产总值核算历史资料 (1952-2004) 》，CAJ 版</li></ul><p>（5）<ahref="https://pan.baidu.com/s/1NflO-Coag81T5Kn-l_t20g?pwd=trh3">国际统计年鉴（1995-2023）</a></p><h3 id="区域经济城乡建设">3. 区域经济、城乡建设</h3><p>（1）<ahref="https://pan.baidu.com/s/1xPj4Rq8psgZUfLAt5tB68Q?pwd=kkx9">中国城市统计年鉴（1985-2023）</a></p><ul><li>中国城市统计年鉴 1985-2023</li><li>一些网络上的地级市面板数据</li></ul><p>（2）<ahref="https://pan.baidu.com/s/1YZbtSG9mMxj3s4-KlmTXlQ?pwd=54v2">中国县域统计年鉴（2000-2021）</a></p><ul><li>中国县域统计年鉴 2000-2021</li><li>一些网络上的县级面板数据</li></ul><p>（3）<ahref="https://pan.baidu.com/s/1YR3meMKsXh17xR9q-rsb4A?pwd=cnyu">中国区域经济统计年鉴（2000-2014）</a></p><p>（4）<ahref="https://pan.baidu.com/s/1kBmQJP6q44ZkWHQDsePHgw?pwd=ps2x">中国城市建设统计年鉴（2006-2019）</a></p><p>（5）<ahref="https://pan.baidu.com/s/1WwyetSbsXzekX82gY-r-Eg?pwd=expe">中国城乡建设统计年鉴（2002-2020）</a></p><ul><li>中国城乡建设统计年鉴 2002-2020</li><li>来自网络的2002-2021年面板数据 (城市部分)</li></ul><h3 id="人口与就业">4. 人口与就业</h3><p>（1）<ahref="https://pan.baidu.com/s/12XR7JvXbhAnT9X_aNpNRuA?pwd=9rcg">中国人口与就业统计年鉴（1949-2022）</a><br />- 中国人口统计资料 1949-1985<br />- 中国人口统计年鉴 1988-2006<br />- 中国人口与就业统计年鉴 2007-2022</p><p>（2）<ahref="https://pan.baidu.com/s/1bZ70OKNYNYK8ZKCH9vv7oA?pwd=ebq6">中国劳动统计年鉴（1989-2020）</a><br />- 中国劳动工资统计年鉴 1989-1990<br />- 中国劳动统计年鉴 1991-2020</p><h3 id="三农林业">5. 三农、林业</h3><p>（1）<ahref="https://pan.baidu.com/s/1Gye-kxwucCCwpu7SFm93Pw?pwd=akjd">中国农村统计年鉴（1985-2024）</a></p><p>（2）<ahref="https://pan.baidu.com/s/1RVpcSXVK2_u1xUhx1vg68g?pwd=8bmb">中国农业年鉴（1981-2021）</a></p><p>（3）<ahref="https://pan.baidu.com/s/1M9CqHoLqQJY8AuGm8oGXew?pwd=qenb">农业统计资料汇编</a></p><ul><li>新中国 50 年农业统计资料（1949-1999）</li><li>中国农业统计资料汇编（1949-2004）</li><li>改革开放三十年农业统计资料汇编（1978-2007）</li><li>中国农业统计资料（1949-2019）</li></ul><p>（4）<ahref="https://pan.baidu.com/s/1IWLEkhRTaUHPgsZylPqZtA?pwd=u346">全国农产品成本收益资料汇编（1953-2024）</a><br />- 全国农产品成本收益资料汇编 1990-2024<br />- 1953-2005年全国主要农产品成本收益汇编</p><p>（5）<ahref="https://pan.baidu.com/s/1GwMs-MQoEuAsRugb_epYew?pwd=ztkt">中国农村经营管理统计年报（2006-2021）</a><br />- 中国农村经营管理统计年报 2006-2018<br />- 中国农村政策与改革统计年报 2019-2021<br />- 中国农村合作经济统计年报 2019-2021</p><p>（6）<ahref="https://pan.baidu.com/s/1uiNo7TFsnOA6Sk8cp1nPrA?pwd=r43x">中国粮食和物资储备年鉴（2006-2022）</a><br />- 中国粮食年鉴 2006-2018<br />- 中国粮食与物资储备年鉴 2019-2022</p><p>（7）<ahref="https://pan.baidu.com/s/1Inb6gQ5AQ56qqu6QSboxzw?pwd=f6d5">中国农业机械工业年鉴（2010-2021）</a><br />- 中国农业机械工业年鉴 2010-2021<br />- 2021年全国农机化统计年报数据</p><p>（8）<ahref="https://pan.baidu.com/s/1B8Osofq82qDZUhYm-T3YFg?pwd=vs61">中国林业统计年鉴（1992-2019）</a><br />- 全国林业统计资料 1992-1997<br />- 中国林业统计年鉴 1998-2019</p><p>（9）<ahref="https://pan.baidu.com/s/1cBsst3Uv0B8FWTmSUFgZBg?pwd=6awb">中国农村贫困监测报告（2016-2020）</a></p><p>（10）<ahref="https://pan.baidu.com/s/1Xxzz0y7Dayq2eMAbBBCw8Q?pwd=bkqa">中国分县农村经济统计概要（1980-1991）</a></p><p>（11）<ahref="https://pan.baidu.com/s/1piUOfAx71286SQwQeWvrMA?pwd=3mag">中国农产品价格调查年鉴（2004-2020）</a></p><p>（12）<ahref="https://pan.baidu.com/s/1TXvyZ3meIGiVyzHz-PI23w?pwd=ryxh">全国农村固定观察点调查数据汇编（2000-2015）</a></p><h3 id="资源环境">6. 资源环境</h3><p>（1）<ahref="https://pan.baidu.com/s/1k33eD3mEDHyJUhuddTIHSQ?pwd=j5j5">中国环境统计年鉴（1998-2021）</a></p><p>（2）<ahref="https://pan.baidu.com/s/1DzpEnBBxuaM7NlCs-Q_jwQ?pwd=yh2i">全国土地利用现状汇总表（2009-2016、2019-2023）</a><br />- 数据来源：自然资源部官网，国土调查成果共享应用服务平台<br />- 网址：https://gtdc.mnr.gov.cn/Share#/<br />- 二调数据：2009-2016，地市级<br />-三调数据：2019-2023，区县级，分城市内部、建制镇内部和村庄内部的土地利用现状类型</p><p>（3）<ahref="https://pan.baidu.com/s/1XdarZZl3MdWG0EfWcELXmA?pwd=pyjm">中国自然资源统计年鉴（2000-2022）</a><br />- 中国国土资源统计年鉴 2000-2018<br />- 中国自然资源统计年鉴 2019-2022</p><p>（4）<ahref="https://pan.baidu.com/s/1f_9z9vlA0cyA0ROObe4yBw?pwd=stvk">全国耕地质量等别数据（2015-2016）</a><br />- 来源：《全国耕地质量等别更新评价主要数据成果》<br />- 耕地质量等别划分：1-15等</p><h3 id="基础设施建设与投资">7. 基础设施建设与投资</h3><p>（1）<ahref="https://pan.baidu.com/s/1RnB_1dVsDnng-1MZejXwYw?pwd=otuv">中国电力(统计)年鉴（2004-2022）</a><br />- 中国电力年鉴 2004-2019<br />- 中国电力统计年鉴 2020-2022</p><p>（2）<ahref="https://pan.baidu.com/s/1ZxrozB1w6GblXHLZtNIMzg?pwd=ot4p">中国水利(统计)年鉴（1990-2023）</a></p><ul><li>中国水利年鉴（1990-2013）</li><li>中国水利统计年鉴（2009-2023）</li></ul><p>（3）<ahref="https://pan.baidu.com/s/16kSHu-OrRKV2GQgU3x4xfg?pwd=symi">中国房地产统计年鉴（1999-2019）</a></p><p>（4）<ahref="https://pan.baidu.com/s/1MTBd7eK28J5-1GtgLxN_zg?pwd=nhdu">中国投资领域统计年鉴（1950-2022）</a><br />- 中国固定资产投资统计年鉴 1950-2018<br />- 中国投资领域统计年鉴 2019-2022<br />-地方投资统计资料：《湖北固定资产投资“九五”计划与及四十六年统计资料（1949-1995）》</p><h3 id="社会民生">8. 社会民生</h3><p>（1）<ahref="https://pan.baidu.com/s/1h_lMNn2QAlvHl8DhTr80nA?pwd=5ppm">中国社会统计年鉴（2006-2020）</a></p><p>（2）<ahref="https://pan.baidu.com/s/1jH3TUR39r37LMJEb0aNV4Q?pwd=hxje">中国民政统计年鉴（2010-2019）</a></p><p>（3）<ahref="https://pan.baidu.com/s/1gn5ifAODVp9BpZ3g3rZlFw?pwd=sjjg">中国价格统计年鉴（2013-2020）</a></p><p>（4）<ahref="https://pan.baidu.com/s/1WnqEBscKwPer26XYXTAlqA?pwd=gayn">中国(农村)住户调查年鉴（2000-2022）</a><br />- 中国农村住户调查年鉴 2000-2010<br />- 中国住户调查年鉴 2011-2022</p><h3 id="社会管理与市场">9. 社会管理与市场</h3><p>（1）<ahref="https://pan.baidu.com/s/1BtHlEg13UXvNf6ybzgmdiQ?pwd=19q1">中国财政年鉴（1999-2019）</a></p><p>（2）<ahref="https://pan.baidu.com/s/1ZWFWiXWViyvow67n-jLDdw?pwd=vwqv">中国教育经费统计年鉴（1997-2021）</a></p><p>（3）<ahref="https://pan.baidu.com/s/1CH4PKffo1m_DgLi9glvT4A?pwd=4hxa">中国税务稽查年鉴（2005-2018）</a></p><p>（4）<ahref="https://pan.baidu.com/s/1JlNnWDsQx855SzTxc2f0Iw?pwd=fqk1">中国商品交易市场统计年鉴（2001-2020）</a></p><h3 id="社会公共事业">10. 社会公共事业</h3><p>（1）<ahref="https://pan.baidu.com/s/1mjB6Tj6pvyS1OHXKXQNKyg?pwd=pdf6">中国卫生健康统计年鉴（2006-2021）</a></p><ul><li>中国卫生统计年鉴 2006-2013</li><li>中国卫生和计划生育统计年鉴 2014-2017</li><li>中国卫生健康统计年鉴 2018-2021</li></ul><p>（2）<ahref="https://pan.baidu.com/s/19erzQ1-4qer126Q1dm6Cag?pwd=232u">中国教育统计年鉴（1984-2018）</a></p><h3 id="金融业信息业旅游业">11. 金融业、信息业、旅游业：</h3><p>（1）<ahref="https://pan.baidu.com/s/1-eJt0PmiFWdkZDMSmbftSg?pwd=vd99">中国金融年鉴（1986-2019）</a></p><p>（2）<ahref="https://pan.baidu.com/s/17OoMhcoTrbIdIguAir6Rdw?pwd=ixtg">中国证券期货统计年鉴（2001-2020）</a></p><p>（3）<ahref="https://pan.baidu.com/s/1zyCZe6nxWi5Mpep2EksSFA?pwd=ghn9">中国保险年鉴（2002-2021）</a></p><p>（4）<ahref="https://pan.baidu.com/s/1WIVfWA5vmKt5w3N_WfmSZw?pwd=fc11">中国信息产业统计年鉴（2003-2020）</a></p><p>（5）<ahref="https://pan.baidu.com/s/1I8hl8NF6M0tOqAPA4MIeUQ?pwd=ig75">中国旅游统计年鉴（1996-2020）</a></p><h3 id="工业能源">12. 工业、能源</h3><p>（1）<ahref="https://pan.baidu.com/s/1Rf3EXce3Wb3Wm8LPghiQuw?pwd=9nr8">中国能源统计年鉴（1986-2022）</a></p><p>（2）<ahref="https://pan.baidu.com/s/1rmQSZU2HfVndw0l_k4fjZQ?pwd=tza5">中国工业经济统计年鉴（1990-2017）</a></p><h3 id="科技和高新技术">13. 科技和高新技术</h3><p>（1）<ahref="https://pan.baidu.com/s/1kLt7wpD_Lha8CIjk5djCMA?pwd=7k7f">中国科技统计年鉴（1991-2024）</a></p><p>（2）<ahref="https://pan.baidu.com/s/1L68qJgc5xQBtEaBLRrQxYg?pwd=2wre">中国高技术产业统计年鉴（1995-2021）</a></p><hr /><h2 id="统计资料格式">统计资料格式：</h2><ol type="1"><li><strong>PDF 扫描版最多</strong>。</li><li><strong>Excel、光盘版较多</strong>。</li><li><strong>知网格式较少</strong>：nh格式、caj格式，caa格式为知网的链接，需要在教育网环境下使用caj阅读器打开caa格式文件。非教育网可能无法缓存caa链接对应的统计资料。</li><li>少量统计资料为txt等格式。</li></ol>]]></content>
      
      
      <categories>
          
          <category> 资源共享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 资源分享 </tag>
            
            <tag> 统计年鉴 </tag>
            
            <tag> 统计资料 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>因果推断专题｜序章：因果推断概述</title>
      <link href="/posts/56058/"/>
      <url>/posts/56058/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>附件：</strong></p><ul><li>【附件内容】录屏</li><li>【附件下载】链接：https://pan.baidu.com/s/1DVrQZnxCHN48iZTo2RrBqw?pwd=kpmg</li></ul></blockquote><hr /><blockquote><p><strong>主要参考资料：</strong></p><ol type="1"><li>Athey S, Imbens G W. The state of applied econometrics: Causalityand policy evaluation[J]. <em>Journal of Economic perspectives</em>,2017, 31(2): 3-32.</li><li>赵西亮. 基本有用的计量经济学[M]. 北京: 北京大学出版社, 2017.</li><li>乔舒亚·安格里斯特, 约恩-斯特芬·皮施克.基本无害的计量经济学实证研究者指南[M]. 上海: 格致出版社, 2012.</li></ol></blockquote><h1 id="一识别策略">一、识别策略</h1><h2 id="为何需要因果识别">1. 为何需要因果识别</h2><p>在理想条件下，对于同一个体，如果能同时观测到实行干预和不实行干预的结果，这两种结果的差异就是这种干预行为的因果效应。然而，现实情况往往是只能观测到一种状态的结果，如果选择干预，就无法观测到未干预的结果，因此无法直接观察到干预行为的因果效应。</p><p>为了准确估计干预行为的效果，同时避免潜在结果不可测导致的问题，效仿自然科学的实验研究是一种比较好的选择。在保证干预组与控制组的个体之间几乎无差异的情况下，控制其他的所有因素不变，仅改变某一特定因素，改变该要素的一组是干预组(treated group)，不改变该要素的一组是控制组 (controlledgroup)。比较干预组与控制组之间的差别，即可说明这种干预行为的效果。</p><p>然而，受制于法律、伦理道德或实验的可行性，用准自然实验的方式进行因果推断往往不具有可行性。绝大多数研究使用观测数据进行因果推断，少数研究也使用准自然实验与观测数据结合的方式进行因果推断。因此，占绝大多数的、基于观测数据开展的研究往往面临上述的仅能观测到一种结果的“因果推断的基本问题”(Holland, 1986)，使用适当的因果识别策略就显得尤为重要。</p><h2 id="基本构成要件">2. 基本构成要件</h2><p>潜在结果框架有三个基本构成要件，即<strong>潜在结果</strong>、<strong>稳定性假设</strong>与<strong>分配机制</strong>。</p><h3 id="潜在结果">2.1 潜在结果</h3><p>用<span class="math inline">\(D_i\)</span>表示对个体 <spanclass="math inline">\(i\)</span> 是否实施某种干预行为，当实施干预行为(<span class="math inline">\(D_i=1\)</span>) 时，可以观测潜在结果 <spanclass="math inline">\(Y_{1i}\)</span>；当没有实施干预行为时 (<spanclass="math inline">\(D_i=0\)</span>) ，可以观测到潜在结果。</p><p><span class="math display">\[\begin {align}Y_i = &amp; D_i Y_{1i} + (1-D_i) Y_{0i}= &amp; \left \{\begin {array} {lr}Y_i=Y_{1i} , \ \ \ \ if \ \ D_i=1  \\Y_i=Y_{0i},  \ \ \ \ if \ \ D_i=0    \\\end {array}\right .\end {align}\]</span></p><h3 id="稳定性假设">2.2 稳定性假设</h3><p>稳定性假设 (Stable unit-treatment value assumption, SUTVA)要求干预行为对个体的影响是稳定的。具体来看主要包括以下两个方面：</p><p>第一，个体之间的潜在结果没有相互影响，每个个体的潜在结果相互独立。这避免了干预行为或非干预行为的外溢对潜在结果估计的扭曲。</p><p>第二，对每个干预组个体要实行相同的干预性为。例如讨论培训对收入的影响，将多种不同的培训均视作干预行为，严格意义上不满足该条件。</p><h3 id="分配机制">2.3 分配机制</h3><p>分配机制对因果效应的估计也十分重要。分配机制解决什么样本应当进入干预组，什么样本应当进入控制组。</p><p>由于存在无法同时观测干预与不干预行为的潜在结果，在考虑分配机制问题时，应当要考虑不受干预行为影响的两类因素：</p><ul><li><strong>个体属性</strong>：不随干预状态变化而变化的因素，以年龄等个人特征最为常见</li><li><strong>干预的前定因素</strong>：发生在干预性为之前的相关协变量，例如干预性为之前的收入等</li></ul><p>在基于随机化实验开展的研究中，分配机制是明确的；但在基于观测数据开展的研究中，干预组与控制组往往并非由研究人员分配，分配机制是未知的，此时进行因果识别的重要问题就是识别出未知的分配机制。</p><p>非混杂性假设 (Unconfoundedness Assumption)表示所有可能影响到潜在结果的因素都可以被观测到，不存在不可观测的混在因素对潜在结果的估计产生影响，即：</p><p><span class="math display">\[\begin {align}(Y_{0i},Y_{1i}) \perp D_i  \ | \ X_i\end {align}\]</span></p><p>也就是说，在控制协变量 <span class="math inline">\(X_i\)</span>后，干预行为与潜在结果独立。</p><p>因此，分配机制可以分为三类：</p><ul><li>已知分配机制，且满足非混杂性假设：随机化实验</li><li>未知分配机制，且满足非混杂性假设：规则分配机制 (例如 PSM)</li><li>其他情况：不规则机制</li></ul><h1 id="二随机化实验与回归法">二、随机化实验与回归法</h1><h2 id="随机化实验">1. 随机化实验</h2><p>在随机化实验中，样本被随机分配到干预组与控制组，因此分配机制不依赖于潜在结果，满足非混杂性假设。</p><p><span class="math display">\[\begin {align}(Y_{0i},Y_{1i}) \perp D_i\end {align}\]</span></p><p>因此，随机化实验中，干预组与控制组的观测结果之差即可解释为因果效应。</p><p>随机化实验可以分为四类：</p><ul><li>伯努利实验 (Bernoulli Trials)</li><li>完全随机化实验 (completely randomized experiments)</li><li>分层随机实验 (stratified randomized experiments)</li><li>配对随机化实验 (paried randomized experiments)</li></ul><p>伯努利实验在同样的条件下重复地、相互独立地进行随机试验，其特点是该随机试验只有两种可能结果：发生或者不发生。</p><p>但是伯努利实验有可能出现所有样本均在干预组或控制组中，导致无法通过比较干预组与控制组进行因果推断。</p><p>完全随机实验要求事先设定干预组个体数量 <spanclass="math inline">\(N_t\)</span>，剩下的 <spanclass="math inline">\(N-N_t\)</span> 进入控制组。</p><p>分层随机实验则在完全随机实验的基础上，依据某些对潜在结果影响较大的因素进行分层，在层内实行完全随机化实验。</p><p>配对随机化实验是一种特殊的分层随机化实验，将所有个体分成 <spanclass="math inline">\(N /2\)</span>组，每一组只有两个个体，且一个在干预组，一个在控制组。</p><p>在分层随机化实验中，也要求非混杂性假设或条件独立性假设 CIA 成立，即<span class="math inline">\((Y_{0i},Y_{1i}) \perp D_i  \  |\  X_i\)</span>。</p><p>由于随机化实验要求所有个体被随机分配到干预组与控制组，干预状态不是个体选择的结果，随机化实验的结构解释为总体的平均因果效应。然而在现实中，干预行为往往与个体选择有关，使用随机化实验得到的结果并不一定是现实中干预行为的因果效应。</p><h2 id="回归法">2. 回归法</h2><p>回归分析本质是相关性分析，而非因果效应的估计。因此，基于观测数据使用回归法进行因果效应估计时，需要满足一定的条件。</p><p>在随机化实验中，干预组与控制组的潜在结果差异即为因果效应。然而，在满足稳定性假设的条件下，使用随机抽样的观测数据进行因果效应识别时，由于处理效应<span class="math inline">\(Y_{1i}-Y_{0i}\)</span>是一个随机变量，我们一般更加关注平均因果效应。</p><ul><li>平均处理效应 ATE (Average Treatment Effect)</li><li>平均处理效应 ATT / ATET (Average Treatment Effect on Treated)</li></ul><p><span class="math display">\[\begin{align} ATE &amp; \equiv E(Y_{1i}-Y_{0i}) \\ ATT &amp; \equivE(Y_{1i}-Y_{0i} \ | \ D_i=1) \end {align}\]</span></p><p>因此，有如下关系：</p><p><span class="math display">\[\begin {align}  E(Y_{1i} \ | \ D_i=1) &amp; - E(Y_{0i} \ | \ D_i=0) =   \notag \\&amp; [ E(Y_{1i} \ | \ D_i=1) -E(Y_{0i} \ | \ D_i=1) ] + [ E(Y_{0i} \ |\ D_i=1) -E(Y_{0i} \ | \ D_i=0) ] \end{align}\]</span></p><p>其中：等式左边为 ATE，右边第一项为 ATT，第二项为选择偏差。</p><p>对于二元的处理变量，使用基于极大似然法的 probit 与 logit 模型(非线性概率模型)，可以克服线性概率模型的拟合的结果可能不在 [0,1]之间的问题。</p><p>使用线性回归进行因果效应估计时，必须满足以下两个条件同时成立。</p><p><span class="math display">\[\begin {align}  E(Y_{0i} \ | \ D_i=1) = E(Y_{0i} \ | \D_i=0)   \\   E(Y_{1i} \ | \ D_i=1) = E(Y_{1i} \ | \ D_i=0)   \end{align}\]</span></p><h1 id="三匹配法">三、匹配法</h1><p>倾向得分匹配主要用于解决未知分配机制的问题，当满足非混杂性假设时，使用PSM可以准确识别因果效应。但当不满足非混杂性假设，即存在不可观测变量的影响时，使用PSM 不能消除不可观测变量的影响，估计结果是受到扭曲的因果效应。</p><h2 id="前提假设">1. 前提假设</h2><p>使用匹配法进行因果识别，应当满足以下几个条件：</p><ul><li>条件独立性假设 CIA：<span class="math inline">\((Y_{0i},Y_{1i})\perp D_i \  | \ X_i\)</span></li><li>共同区间假设 (Common Support)：<spanclass="math inline">\(0&lt;Pr(D_i=1)&lt;1\)</span>，即倾向得分的取值在0~1之间</li></ul><h2 id="估计步骤">2. 估计步骤</h2><p>匹配方法的估计包括四个步骤：</p><ul><li>定义相似性</li><li>实施匹配</li><li>评价匹配效果</li><li>估计因果效应</li></ul><h3 id="定义相似性">2.1 定义相似性</h3><p>相似性的定义包括了两个环节：</p><ul><li><p>选择协变量：协变量的选择应当满足条件独立性假设，干预组与控制组之间没有未观测到的差异。</p><ul><li>遗漏变量可能会造估计结果的偏差</li><li>添加与干预变量无关的变量不会影响估计结果</li></ul></li><li><p>测度相似性：通常使用欧氏距离或马氏距离衡量</p></li></ul><p>在倾向得分匹配中，常使用平衡性检验检查干预组和控制组的协变量均值差异，以检验条件均值独立性假设是否成立(条件独立性假设难以验证，检验条件均值独立性假设是否成立是一种证伪检验)。</p><h3 id="实施匹配">2.2 实施匹配</h3><p>匹配的方式分为：</p><ul><li><p>近邻匹配</p><ul><li>一对一匹配</li><li>一对多匹配：半径匹配、马氏匹配等</li></ul></li><li><p>分层匹配</p></li><li><p>核匹配</p></li></ul><h3 id="评价匹配效果">2.3 评价匹配效果</h3><ul><li>标准化平均值差异</li><li>对数标准差比</li><li>倾向指数的标准化平均值差异</li><li>图示：倾向得分分布图、分位数分布图、标准化平均值差异变化图</li></ul><h3 id="估计因果效应">2.4 估计因果效应</h3><p>对于不同的匹配方式，估计因果效应的方法不同。</p><h1 id="四工具变量法">四、工具变量法</h1><p>如上文所述，在因果效应识别时，应当满足无混杂性假设。然而在现实中，无混杂性假设很难被满足。例如在探究教育年限<span class="math inline">\(D\)</span> 对收入 <spanclass="math inline">\(Y\)</span> 的影响时，学生的能力 <spanclass="math inline">\(A\)</span>可能是一种混杂因素，即学生的能力越强，其接受教育的年限可能越高，同时收入也可能会越大。传统PSM法估计无法解决学生能力等内部混杂因素与政策环境等外部混杂因素对因果识别结果的扭曲，这也是工具变量法区别于PSM 的关键。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/net-img-image-20221018182903-oq4blvn-20221021221423-dp6aln3.png" style="height:130px" alt="工具变量法的有相无环图" /></p><p>在工具变量法 (右图 b) 中，有向无环图如下所示，如果存在一个工具变量<span class="math inline">\(Z\)</span>满足相关性与外生性的条件，就可以消除混杂因素 <spanclass="math inline">\(A\)</span> 对结果的扭曲。</p><ul><li>相关性：<span class="math inline">\(Cov(D_i, Z_i) \ne0\)</span>，即工具变量 <span class="math inline">\(Z\)</span>与核心解释变量 <span class="math inline">\(D\)</span> 相关</li><li>外生性：<span class="math inline">\(Cov(\eta_i, Z_i) =0\)</span>，即工具变量与 <span class="math inline">\(Z\)</span>与包含混杂因素 <span class="math inline">\(A\)</span> 的残差项 <spanclass="math inline">\(\eta\)</span> 不相关，其中 <spanclass="math inline">\(\eta_i = A^{&#39;}_i \gamma +v_i\)</span>。( <ahref="https://www.lianxh.cn/news/541a6992f92b0.html"title="工具变量的外部有效性">工具变量的外部有效性</a> )</li></ul><p>工具变量可以消除混杂因素影响的原理是：</p><p>阻断后门路径 <span class="math inline">\(D \leftarrow A \rightarrowY\)</span>，从其中分离出 <span class="math inline">\(D \rightarrowY\)</span>。</p><p>在实证中，为保证因果效应被准确识别，如果存在 <spanclass="math inline">\(m\)</span> 个混杂因素，应当需要不少于 <spanclass="math inline">\(m\)</span> 个工具变量。</p><h1id="五固定效应双重差分与合成控制">五、固定效应、双重差分与合成控制</h1><p>上述的回归法、匹配法是基于截面数据，其正确估计因果效应的基础都是要满足非混杂性假设/条件独立性假设。但观测数据往往不能涵盖所有的可能影响因素，当存在混杂因素影响时，条件独立性假设不再被满足，可以使用工具变量法，基于阻断后门路径的方式实现因果推断。但工具变量往往很难寻找，且存在一定的工具变量滥用问题。</p><p>在面板数据与重复截面数据中，固定效应、双重差分与合成控制等方式可用于因果效应的识别。</p><h2 id="固定效应法">1. 固定效应法</h2><p>使用固定效应法估计因果效应，应当满足面板数据下的条件独立性假设：</p><p><span class="math display">\[\begin {align}    (Y_{1it},Y_{0it}) \perp D_{it} \ | \ X_{it} , \ U_i, \t  \end{align}\]</span></p><p>如上所示，<span class="math inline">\(X_{it}\)</span>表示可观测得混杂因素；<span class="math inline">\(U_{it}\)</span>表示<strong>不随时间变化的</strong>不可观测混杂因素，<spanclass="math inline">\(t\)</span> 表示时间。</p><p>因此，当满足上述条件后，所有随时间变化的混杂因素都可以被观测，通过控制可观测的混杂因素，就可以消除混杂因素对因果效应估计结果的扭曲，得到总体干预组的平均因果效应ATT。不随时间变化的混杂因素的影响 (即固定效应)可以通过<strong>均值法</strong>或<strong>差分法</strong>消除。</p><p>固定效应中涉及的差分法，是干预行为的“事前”与“事后”的差分。</p><h2 id="双重差分法">2. 双重差分法</h2><p>固定效应法可以消除不随时间变化的混杂因素影响，然而当结果变量发生了结构性变化，例如2008年的次贷危机，导致次贷危机发生前与发生后中国的经济结构发生了很大变化。此时，若仅满足固定效应法的条件独立性假设，不能克服结构性变化带来的影响。</p><p>考虑到在时间维度上，控制组可能也受到相同因素的影响，干预组与控制组可能发生类似的结构性变化，因此，通过双重差分的方式，即可控制这种结构性变化带来的影响。</p><p><strong>双重差分：</strong>“事前”与“事后”的差分，干预组与控制组的差分。</p><h3 id="基本假设">2.1 <strong>基本假设：</strong></h3><ul><li><strong>共同趋势假设：</strong>干预组与控制组受到相同变动趋势的影响</li><li><strong>共同区间假设：</strong><span class="math inline">\(Pr(D_i=1) \gt 0\)</span>且 <span class="math inline">\(Pr(D_iT_t=1 \ | \X_{it})&lt;1\)</span>，即总体中同时存在干预组与控制组个体</li><li><strong>外生性假设：</strong><spanclass="math inline">\(X_{1it}=X_{0it}=X_{it}\)</span>，<strong>即协变量外生于干预政策。因此，协变量 <spanclass="math inline">\(X_{1it}\)</span>应该是发生在政策干预实施之前(前定变量)</strong> 或者<strong>不随干预政策发生变化的变量</strong></li><li><strong>SUVTA：</strong>干预政策只影响干预组，不会对控制组产生影响，这保证了干预政策没有溢出效应。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/Untitled-20221021173451-z16resu.png" style="height:300px" alt="" /></p><p>图示：</p><ul><li><span class="math inline">\(AC \parallelDE\)</span>：即为满足共同趋势假设</li><li><span class="math inline">\(AC\)</span> 与 <spanclass="math inline">\(DE\)</span> 的距离即为干预组与控制组的差距；</li><li><span class="math inline">\(BC\)</span> 即为因果效应。</li></ul><h3 id="检验">2.2 检验</h3><h4 id="平行趋势检验">2.2.1 平行趋势检验</h4><p>在实际研究中，进行 DID 回归，一般要进行平行趋势检验，例如，在 Zhu etal. 的 <em>Removing the "Hats of Poverty": Effects of ending thenational poverty county program on fiscal expenditures​</em>一文中，使用了多种方式进行平行趋势检验：</p><ul><li>使用数据的均值走向图，试图论证在政策实施前，试点与非试点地区的经济情况具有平行关系。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20221021183831-557pmtn.png" style="height:300px" alt="" /></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20221021183851-bvj5url.png" style="height:300px" alt="" /></p><ul><li>对面板数据进行逐年回归，通过回归系数的大小与显著性比较论证平行趋势的存在。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20221021184222-nilyr7s.png" style="height:300px" alt="" /></p><ul><li>通过事件研究法的结果图示展现平行趋势，在政策执行前，回归系数的置信区间包含0；政策执行后，回归系数的置信区间不再包含0。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20221021184301-0qc5afi.png" style="height:300px" alt="" /></p><h4 id="安慰剂检验">2.2.2 安慰剂检验</h4><p>安慰剂检验主要包括两种方法，一是更改政策干预时间，二是构造伪样本组。例如，将政策干预时间设定为实际干预前的<spanclass="math inline">\(t-2\)</span>期，如果系数不显著，可以认为将<spanclass="math inline">\(t-2\)</span>期设定为政策干预时间是不合适的；反之，如果系数显著，可以认为基准回归的显著结果可能是其他政策或者非政策的外部环境变化带来的。</p><p>一些学者也通过置换检验的方式 (permutation test)，对 DID进行了安慰剂检验，例如，石大千等发表于《中国工业经济》的《智慧城市建设能否降低环境污染》，随机抽取控制组中的部分样本作为“伪干预组”，用于证伪“假干预”行为没有政策效果。</p><h2 id="合成控制法">3. 合成控制法</h2><p>干预组与控制组之间的相似度足够高，是使用双重差分法保证平行趋势的重要条件。当控制组与干预组中的个体都不相似时，可以对多个控制组个体赋予不同的权重，计算加权平均值，构造出一个合成的控制组，这使得合成控制组与干预组在发生干预行为之前的状态非常相似。干预组与合成控制组的差异即为因果效应。</p><p><strong>特点：</strong>干预组个体往往只有一个，例如一个城市、地区或者国家</p><h3 id="基本假设-1">3.1 <strong>基本假设：</strong></h3><ul><li>干预组与控制组无交互影响</li><li>构造合成控制组时，两组个体的协变量必须是前定变量或不受政策干预影响的变量</li><li>各控制组的权重非负，且和为 1</li></ul><h3 id="例子">3.2 <strong>例子</strong></h3><p>以 Abadie et al. (2010) 的加州香烟控制项目对香烟消费的影响为例，1988年 11 月，加州政府通过了香烟控制项目，每包烟的消费税提高 25 美分，于1989 年 1 月开始生效。作者将加州作为干预组，将美国未出台香烟管控政策的38 个州作为控制组，考察消费税增加对年度人均香烟消费量的影响。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20231101233027-6j5rii4.png" alt="" /></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20231101233047-z4tuthx.png" alt="" /></p><p>可以发现，通过合成控制法，可以实现未实施政策干预时干预组与合成控制组基本重合，若不实行香烟管控政策，加州的变化趋势应当与合成控制组的曲线完全重合。但实施了香烟管控政策的加州，人均香烟消费量明显更低，与合成加州有明显的差距，这表明改政策具有明显的降低香烟消费的效果，且随着时间的推移下降效果更加明显。</p><h3 id="检验-1">3.3 检验</h3><p>类似于 DID，合成控制法也需要进行平行趋势检验与安慰剂检验。</p><p>在合成控制法中，平行趋势关系已在图中展示，因此不需要额外检验。</p><p><strong>安慰剂检验方法：</strong></p><ul><li>置换检验：在控制组中抽取样本作为“假干预组”</li><li>伪干预时间：更改干预时间，检验是否在真实的干预时间处有政策效果，或在当前伪干预时间处没有政策效果。</li></ul><h2 id="回归合成控制法">4. 回归合成控制法</h2><p>合成控制法要求控制组个体的权重为非负，且和为1。在此条件下可能无法构造出与干预组非常相似的合成控制组。</p><p>因此回归合成法放宽了该条件。回归合成控制法利用截面个体之间的相关性进行干预组个体受政策干预后的反事实结果，并允许群众某个控制组个体的权重为负，并且允许存在常数项，以修正合成控制组和干预组之间的差异。</p><p>回归合成控制法中，控制组的选择影响了估计精度。进入模型的控制组个体越多，模型自由度损失越多，精度越差。</p><p><strong>例子：</strong></p><p>萧政 (Hsiao et al., 2012) 考察 1997 年香港回归与 2003年签署的《内地与香港关于建设更紧密经贸关系的安排》(CEPA)对香港经济的影响。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20231101233101-g0hpwn8.png" style="height:350px" alt="" /></p><p>通过回归合成控制法，可以发现 1997 年香港回归没有显著影响香港经济，而CEPA 对香港经济有显著的促进作用。</p><h1 id="六断点回归">六、断点回归</h1><p><strong>参考：</strong>​<ahref="https://rdpackages.github.io"><strong>RD Packages - RegressionDiscontinuity Designs (Calonico et al.)</strong></a></p><h2 id="适用条件与假设">1. <strong>适用条件与假设</strong></h2><h3 id="使用条件">1.1 使用条件</h3><ul><li>可观测的配置变量 (forcing variable):用于断点识别的外生变量，例如生日、年龄、分数、地理位置等（<ahref="https://mp.weixin.qq.com/s/nRG1Hg67OEoHVgeNeYgPrw">原文链接</a>）。</li><li>配置变量在某一阈值附近的变化，会使得处理变量的取值发生不连续变化，配置变量取值在阈值一侧的样本为干预组，另一组则为控制组。</li></ul><h3 id="假设">1.2 假设</h3><ul><li>断点假设：个体分配的概率在临界值附近有跳跃，即断点存在</li><li>连续性假设：除临界值附近外，控制了协变量的潜在结果期望值连续变化，即在断点附近，估计潜在结果时协变量的影响可以忽略不记。(类比PSM 平衡性检验)</li><li>局部随机化假设：在临界值附近，配置变量 <spanclass="math inline">\(X\)</span>的取值应当近似于随机化实验，不受到其他不可测因素 <spanclass="math inline">\(U\)</span> 的影响，不存在 <spanclass="math inline">\(U\rightarrow X\)</span> 的影响路径，因此配置变量<span class="math inline">\(X\)</span> 可以作为判断样本是否受到干预<span class="math inline">\(D\)</span>的依据。也就是说，在实证中需要满足 <spanclass="math inline">\(X\)</span> 是严格外生的条件。</li><li>独立性假设：决定干预组与控制组的断点严格外生，不会与潜在结果或个人因素相互影响。</li><li>单调性假设：断点对所有个体的影响方向相同，即若正向单调性成立，则<span class="math inline">\(D_{1i}&gt;D_{0i}\)</span>。</li></ul><h2 id="类型">2. <strong>类型</strong></h2><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20231101233120-fkke9vk.png" style="height:200px" alt="RDD 因果图" /></p><ul><li><strong>精确断点 (Sharp RDD)：</strong>在断点 <spanclass="math inline">\(D=c\)</span> 处，个体的受干预概率从 0 跳跃为1；</li><li><strong>模糊断点 (Fuzzy RDD)：</strong>在断点 <spanclass="math inline">\(D=c\)</span> 处，个体的受干预概率从 <spanclass="math inline">\(a\)</span> 跳跃为 <spanclass="math inline">\(b\)</span>，且 <spanclass="math inline">\(0&lt;a&lt;b&lt;1\)</span></li><li><strong>弯折回归设计 (Regression Kink Design):</strong>当二元的处理变量在断点处不是间断性跳跃，而是弯折时，在满足平滑性假设下，可以使用弯折识别因果效应。</li></ul><p><strong>与匹配法的异同点：</strong></p><ul><li>条件独立性假设 CIA 仍然成立，<spanclass="math inline">\((Y_{0i},Y_{1i}) \perp D_i \ | \X_i\)</span>，即在控制协变量 <span class="math inline">\(X_i\)</span>后，处理变量不影响潜在结果。</li><li>共同区间假设不再成立，因为当配置变量取值超过阈值时，所有样本都会被进入干预组，受到干预行为的概率是<span class="math inline">\(1\)</span>，而不再是在 <spanclass="math inline">\((0,1)\)</span> 区间内。</li></ul><p>在上述条件下，使用回归法或者匹配法估计的因果效应是不准确的。</p><h2 id="使用断点回归的四个关键点">3. 使用断点回归的四个关键点：</h2><ul><li><p><strong>使用局部线性估计</strong> (Porter,2003)，以纠正在临界值附近数据跳跃发生的系统性变化</p></li><li><p><strong>带宽的选择问题</strong>：估计精度(估计方差)与估计偏差的权衡问题</p><ul><li><p>干预行为的影响是异质性的，由于单调性假设，离断点越远的点，与断点处的异质性越强。</p><ul><li>若带宽较大，估计精度会提高，但样本相似度降低，估计偏差会增大</li><li>若带宽较小，估计精度会降低，样本相似度会提高，估计偏差会减小</li></ul></li><li><p>局部线性回归的带宽建议使用估计量在带宽极小值附近的渐进扩展 (IK最优带宽和 CCT 最优带宽)</p></li></ul></li><li><p><strong>模型设定检验</strong></p><ul><li><strong>伪断点检测：</strong>将配置变量其他取值作为临界点，检验其他断点的处理效应是否为0。如果不为 0，则 RDD可能有问题，断点结果可能是不可观测因素的混杂效应导致的</li><li><strong>配置变量的不连续性检测：</strong>如果断点处配置变量分布是连续的，说明配置变量临界值处的个体没有操纵参考变量的能力。</li><li>带宽选择的敏感性检验。如果带宽的选择对结果的影响较大，则 RDD可能有问题</li><li>协变量连续性检验 / 伪结果检验：以协变量作为伪结果，检测 RDD估计量是否显著，如果显著，说明协变量不满足连续性假设。(类比 PSM平衡性检验)</li></ul></li><li><p><strong>在不同的子样本中检验结果</strong></p></li></ul><h2 id="例子-1">4. 例子</h2><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/net-img-image-20221018223140-o8ktr2r-20221021221423-s49xzl9.png" style="height:300px" alt="" /></p><p>研究美国某一党派在上次胜选后，是否会影响下一次胜选的概率。</p><p>选票份额差距为 0 即为断点，断点右侧，民主党选票超过了50%，与断点左侧民主党选票低于 50% 有明显断点。若民主党上一次胜选 (图 a断点右侧)，本次选举胜选的可能性会更高 (图 b 断点右侧)。</p><h2 id="检验-2">5. 检验</h2><p>在断点回归中，更换断点 (配置变量临界值)是进行安慰剂检验的方式之一。</p><p>断点回归的关键识别条件是个体不能精确控制临界点。如果个体可以操纵临界点，可能使断点左右个体分布差异很大，因此可以使用绘制配置变量分布图的方式检验配置变量的独立性问题。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20221021191155-nuy0zwl.png" style="height:300px" alt="" /></p><p>例如，前一期民主党选票的份额和配置变量的关系图 (上图)中，临界点处没有发生明显跳跃，说明上一期民主党选票份额这一协变量不会影响配置变量的取值。</p><h1 id="七其他方法">七、其他方法</h1><h2 id="多值处理变量的因果效应估计">1. 多值处理变量的因果效应估计</h2><p>上述内容主要针对二分类的处理变量，满足稳定性假设。然而，许多干预行为并不仅是“是否受到干预”的问题，还有干预强度的差异。</p><p>最常见的解决这类问题的方法是使用广义倾向得分法来解决多值离散变量或连续变量的干预因果效应问题。</p><p>广义倾向得分法的相关研究主要针对截面数据中非二值处理变量的因果效应问题。以Barbara et al. (2014) 基于 Hirano and Imbens (2004) 开发的 glmdose命令为例，其基本思路是：</p><ul><li>平衡性检验：基于干预强度变量取值，划分多层样本，并比较层内干预组与控制组的协变量均值差异；</li><li>计算广义倾向得分(GPS)：满足平衡性检验以后，基于协变量估计处理强度的条件概率密度</li><li>构造条件期望：基于干预变量与 GPS 值计算潜在产出的条件期望模型</li><li>设置估计精度：用户设置估计干预变量的步长，用户控制估计精度</li><li>剂量反应函数：基于构造潜在产出的条件期望模型与设置的步长，估计剂量反应函数，并绘制剂量反应函数图。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20221021175931-1536omm.png" style="height:250px" alt="" /></p><p>图片来源：《“减碳”政策制约了中国企业出口吗》《中国工业经济》</p><p>由此可见，GPSM 法与传统 PSM 法之间存在关联与区别：</p><ul><li><p><strong>关联：</strong></p><ul><li>在每一组内，协变量需要满足非混杂性假设</li><li>基于协变量的取值计算倾向得分，并作为匹配的依据</li></ul></li><li><p><strong>区别：</strong></p><ul><li>倾向得分的计算方式不同</li><li>组内匹配的方式也有所不同</li><li>需要用户设置步长，以确定估计的精度水平</li><li>结果不再关注干预组与控制组之间的平均处理效应，而是剂量反应函数的变化趋势</li></ul></li></ul><p>但是，在使用该类方法进行因果推断时，仍然面临一个问题：当时用面板数据考察连续变量的干预效果时，仍然将其当做截面数据进行估计，丧失了面板数据存在时间趋势与固定效应进而可以消除不随时间变化的不可观测因素影响的优势。例如，《中国工业经济》中曾刊载《“减碳”政策制约了中国企业出口吗》一文，使用doseresponse2 命令 (glmdose 命令的前身) 估计面板数据中连续处理变量的因果效应。</p><h2 id="社会网络中的因果效应识别">2. 社会网络中的因果效应识别</h2><p>在社会学的相关研究中，“同侪效应”是因果效应识别的重要问题。即某人的受干预行为会因模仿等原因受到身边同类型人群（如同龄人）受干预行为的影响，这导致在因果识别问题中的稳定性假设SUTVA 这一基本假设不再成立。</p><p>Manski (1993) 提出同侪效应包括三种：</p><ul><li>关联同侪效应</li><li>外生同侪效应</li><li>内生同侪效应</li></ul><p>这三种效应的识别依赖很强的假设，且部分假设难以符合现实。</p><h2 id="机器学习">3. 机器学习</h2><p>‍机器学习在因果推断中的应用，主要有三种方法：</p><ul><li><p>双重选择程序 (Belloni et al., 2013)</p><ul><li>使用LASSO回归选择与结果相关的协变量</li><li>选择与干预变量相关的协变尽量</li><li>选取上述两组协变量的并集，并带入OLS</li></ul></li><li><p>模拟随机试验 (Hainmueller, 2012; Graham et al., 2012 &amp;2016)</p><ul><li>重新计算干预组与对照组的平衡协变量或协变量函数的权重</li></ul></li><li><p>半参数估计 (van der Vaart, 2000)</p><ul><li>离散型处理变量——使用潜在结果的期望产出 (平均值)</li><li>连续性处理变量——使用非参数估计</li></ul></li></ul><p>在上面的论述中，多数因果识别方法都是基于稳定性假设，即干预行为对干预组的影响是相同的。然而，在不同的环境中，一种干预行为的效果可能并不相同。在估计异质性的因果效应时，使用机器学习的方法可能有助于解决上述问题，例如因果树(causal trees)、BART (Bayesian Additive Regression Trees)。</p>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 合成控制法 </tag>
            
            <tag> 因果推断 </tag>
            
            <tag> 视频 </tag>
            
            <tag> 回归法 </tag>
            
            <tag> 倾向得分匹配 </tag>
            
            <tag> 工具变量法 </tag>
            
            <tag> 固定效应 </tag>
            
            <tag> 双重差分法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜Stata 复合双引号的使用</title>
      <link href="/posts/29263/"/>
      <url>/posts/29263/</url>
      
        <content type="html"><![CDATA[<p>在 Stata 中，涉及到文本时，需要使用英文直引号框选文本内容，如<code>"测试文本"引号内文本"引号外文本"</code>。在 do文件中，该文本会被显示为：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230723012904-0rw83kp.png" style="width:450px"/></p><p>如果运行该代码，只有第一个引号内橘黄色文本会被识别，因此运行会出错：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230723012942-ed2ha08.png" style="width:650px"/></p><p>解决该问题的办法很简单，使用复合双引号即可解决问题：【`"测试文本"引号内文本"引号外文本"'】</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">display `&quot;测试文本&quot;引号内文本&quot;引号外文本&quot;&#x27;</span><br></pre></td></tr></table></figure><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230723013015-7b1e4lt.png" style="width:450px"/></p><p>也就是说，将左引号改为【`"】，右引号改为【"'】，即可解决问题。运行上述命令的结果如下：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230723013047-22smwj8.png" style="width:650px"/></p><p>运行不再报错，带引号的文本内容被完整显示。</p><p><strong>参考内容：</strong><ahref="https://www.lianxh.cn/news/fa725add207b6.html">连享会-复合双引号在编程中的应用</a></p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> 暂元 </tag>
            
            <tag> 宏 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗专题视频｜分组计算非参数方法的基尼系数</title>
      <link href="/posts/24146/"/>
      <url>/posts/24146/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>附件：</strong></p><ul><li>录屏、文献 PDF 与 do文件下载链接：https://pan.baidu.com/s/1wWE3ZmtIGxggSs0uT0p7wQ?pwd=5eyt</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗专题视频｜计算当期和上一期ROA差值，并生成平衡面板</title>
      <link href="/posts/14419/"/>
      <url>/posts/14419/</url>
      
        <content type="html"><![CDATA[<p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><blockquote><p><strong>附件：</strong></p><ul><li>录屏文件与do文件，下载链接：https://pan.baidu.com/s/1kFd2JghyUfSCRKUbNj6vXg?pwd=4ufd</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
            <tag> 代码库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>期刊｜公开数据与代码的期刊列表</title>
      <link href="/posts/6010/"/>
      <url>/posts/6010/</url>
      
        <content type="html"><![CDATA[<p>推荐一些公开数据与代码的期刊，以方便大家通过论文复现，学习实证方法与代码使用。</p><h3 id="中文期刊">中文期刊：</h3><ol type="1"><li><strong><ahref="http://ciejournal.ajcass.org">中国工业经济</a></strong>：<strong>论文与附件可在官网免费下载</strong>，附件包括数据、代码、正文中未展开的内容</li><li><strong><ahref="http://www.jqte.net/sljjjsjjyj/ch/index.aspx">数量经济技术经济研究</a></strong>：<strong>论文与附件可在官网免费下载</strong>，附件包括数据、代码、正文中未展开的内容</li><li><strong><ahref="http://www.jweonline.cn">世界经济</a></strong>：<strong>论文与附件可在官网免费下载，包括论文全文与因篇幅正文中无法刊发的内容</strong>，2023年10月起，附件中将公布的附件包括数据、代码</li><li><strong><ahref="https://mp.weixin.qq.com/s/1QSKKss4q9EamvoJvXkXwA">管理世界</a></strong>：2023年9月10日以后提交的论文，需提交相关数据与代码，<strong>论文附件、数据与代码以中国知网的增强出版形式公开</strong></li><li><strong><ahref="https://www.society.shu.edu.cn/CN/1004-8804/home.shtml">社会</a></strong>：少数论文公开数据与代码，可在左侧的“下载中心”中下载</li><li><strong><ahref="https://mp.weixin.qq.com/s/dZwVj6hrn2knpjDetNB-Kg">财经研究</a></strong>：自2023年9月16日起的投稿需提供数据、代码与其他附件</li><li><strong><ahref="https://ceq.ccer.pku.edu.cn">经济学季刊</a></strong>：自2023年9月1日起，向《经济学》（季刊）提交的稿件需要提交数据与代码，数据仅用于验证结果的可重复性，不会向公众公开</li><li><strong><em>- 待更新 -</em></strong></li></ol><h3 id="英文期刊">英文期刊：</h3><ol type="1"><li><strong>American Economic Review</strong>：AER，美国经济评论</li><li><strong>Quarterly Journal ofEconomics</strong>：QJE，经济学季刊</li><li><strong>Journal of PoliticalEconomy</strong>：JPE，政治经济学杂志</li><li><strong>Review of Economic Studies</strong>：RES，经济研究评论</li><li><strong>Econometrica</strong>：计量经济学</li><li><strong>Empirical Economics</strong></li><li><strong>Review of Economics andStatistics</strong>：REStat，经济与统计评论</li><li>﻿<strong>Journal of the European Economic Association</strong>：</li><li>﻿<strong>International Economic Review</strong></li><li><strong>Economic Journal</strong>：EJ，经济学杂志</li><li><strong>Journal of DevelopmentEconomics</strong>：JDE，发展经济学杂志</li><li><strong>Journal of Finance</strong>：JF，金融学杂志</li><li><strong>Journal of LaborEconomics</strong>：JLE，劳动经济学杂志</li><li><strong>Explorations in EconomicHistory</strong>：EEH，经济史研究</li><li><strong>Journal of the European EconomicAssociation</strong>：JEEA，欧洲经济学会杂志</li><li><strong>Journal of AppliedEconometrics</strong>：JAE，应用计量经济学杂志</li><li><strong>European Economic Review</strong>：EER，欧洲经济评论</li><li><strong>American Economic Journal</strong>：AEJ，</li><li><strong>Land Economics</strong></li><li>﻿<strong>American Economic Journal: Applied Economic</strong></li><li>﻿<strong>Journal of Economic Behaviour &amp;Organization</strong></li><li>﻿<strong>Journal of Economic Theory</strong></li><li>﻿<strong>Canadian Journal of Economic</strong></li><li>﻿<strong>Journal of Law, Economics and Organization</strong></li><li>﻿<strong>Journal of Business and Economic Statistic</strong></li><li>﻿<strong>Journal of the American Statistical Associatio</strong></li><li>﻿<strong>Applied Economics</strong></li><li>﻿<strong>Journal of Economic Perspectives</strong></li><li>﻿<strong>Australian Economic Review</strong></li><li>﻿<strong>Southern Economic Journal</strong></li><li>﻿<strong>Journal of Environmental Economics andManagement</strong></li><li>﻿<strong>The Journal of Economic Education</strong></li><li>﻿<strong>Cambridge Journal of Economics</strong></li><li>﻿<strong>Journal of International Economics</strong></li></ol><hr /><p><strong>相关链接：</strong></p><ol type="1"><li><ahref="https://mp.weixin.qq.com/s/UMsGYXEUhBNjFk7pHw8sSg">计量经济圈 -压力来到"经济研究"了! 这本期刊也破釜沉舟公开论文的数据和代码!</a></li><li><ahref="https://mp.weixin.qq.com/s/YI_Lr3YNSr49OwVGEt3ZuA">计量经济圈 -提供数据和代码供复制结果的的国际和国内期刊信息！</a></li><li><a href="https://zhuanlan.zhihu.com/p/596565381">知乎 -经济和金融顶刊论文数据和源代码共享网址！</a></li><li><a href="https://zhuanlan.zhihu.com/p/127079028">知乎 -哪里会提供经济学论文可供复制的数据和代码？<em>By: 江河</em></a></li><li><ahref="https://mp.weixin.qq.com/s/_UWGmPAFsW_WPljD2NNITw">功夫计量经济学- 哪里会提供经济学论文可供复制的数据和代码？（2.0版本）<em>By:江河JH</em></a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 代码公开 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜附录A6-要素份额变化的数学分析</title>
      <link href="/posts/9559/"/>
      <url>/posts/9559/</url>
      
        <content type="html"><![CDATA[<p>⚠️ <strong>注意：本节的分析可能有误！</strong></p><p>　　使用下图来解释要素份额变化的机制，其中曲线 <spanclass="math inline">\(m\)</span> 表示等产量线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230322162321-ykdyc78.png" style="width:400px" alt="沿常规生产函数的要素替代" /></p><p>　　假定产出 <span class="math inline">\(Y\)</span>由两种要素生产出来：质量调整后的劳动力 <spanclass="math inline">\(X=EL\)</span>，质量调整后的资本投入 <spanclass="math inline">\(Z=HK\)</span>。两种生产要素都使边际效率衡量：</p><p><span class="math display">\[\begin{align}Y=M(X,Z)\end{align}\]</span></p><ul><li>质量调整后的劳动 <span class="math inline">\(X=EL\)</span>：<spanclass="math inline">\(E\)</span> 为劳动生产效率，<spanclass="math inline">\(L\)</span> 为常规度量的劳动力（如工作时间）；</li><li>质量调整后的资本 <span class="math inline">\(Z=HK\)</span>：<spanclass="math inline">\(H\)</span> 为资本生产效率，<spanclass="math inline">\(K\)</span> 为常规度量的资本。</li></ul><p>　　假设上述生产函数与一般生产函数 <span class="math inline">\(Y =F(L,K)\)</span> 具有相同的特征（传送门：<ahref="https://fgzfgz.github.io/posts/4477/">与一般生产函数的比较</a>）：</p><ol type="1"><li><span class="math inline">\(M\)</span> 对 <spanclass="math inline">\(X\)</span>、<span class="math inline">\(M\)</span>对 <span class="math inline">\(Z\)</span> 可微</li><li>一阶导数为正：<span class="math inline">\(M_X \gt 0\)</span>，<spanclass="math inline">\(M_Z \gt 0\)</span></li><li>二阶导数为负：<span class="math inline">\(M_ {XX} \lt0\)</span>，<span class="math inline">\(M_ {ZZ} \lt 0\)</span></li></ol><p>　　假设竞争性的要素市场达到均衡，资本的收入份额为 <spanclass="math inline">\(\beta =rK/Y = qZ/Y\)</span></p><p><span class="math display">\[\begin{align}\beta = \frac {M_Z Z }  Y\end{align}\]</span></p><p>　　其中，<span class="math inline">\(q\)</span> 为质量调整后资本<span class="math inline">\(Z\)</span>的边际资本报酬。将上式改为增长率的表达式，为：</p><p><span class="math display">\[\begin{align}G(\beta) = G(M_Z) +G(Z) - G(Y)\end{align}\]</span></p><p>　　由于假定 <span class="math inline">\(M\)</span>是线性齐次的，因此<strong>（为什么能得到下面的关系？）</strong>：</p><p><span class="math display">\[\begin{align}\begin{cases}M_X X + M_Z Z = Y  \\M_ {XX}  X +M_ {XZ} Z=0  \\M_ {ZX}  X+M_ {ZZ} Z=0\end{cases}\end{align}\]</span></p><blockquote><p><strong>补充：</strong></p><p>齐次生产函数是：若投入的全部生产要素增加（或减少）<spanclass="math inline">\(\lambda\)</span> 倍，总产出就增加（或减少）<spanclass="math inline">\(\lambda ^n\)</span> 倍，其中 <spanclass="math inline">\(\lambda \neq 0\)</span>。</p><p>如果 <spanclass="math inline">\(n=1\)</span>，则为线性齐次生产函数。此时要素投入变化和产出变化程度相同，具有规模报酬不变的特点。柯布-道格拉斯生产函数是典型的线性生产函数。</p></blockquote><p>　　因此，要素替代弹性可以写作<strong>（为什么能得到下面的关系？）</strong>：</p><p><span class="math display">\[\begin{align}\sigma = \frac {M_X M_Z / M_{XZ} } Y\end{align}\]</span></p><p>　　由于 <span class="math inline">\((1-\beta ) = \frac {M_X X}{Y}\)</span>，因此：</p><p><span class="math display">\[\begin{align}G(M_Z)=\frac { M_{XZ} dX + M_{ZZ} dZ } {M_Z}  = \frac {1-\beta } {\sigma } \cdot [G(X) - G(Z) ]\end{align}\]</span></p><p>　　同理可以计算出：</p><p><span class="math display">\[\begin{align}G(Y)= (1-\beta )G(X) + \beta  G(E)\end{align}\]</span></p><p>　　将上述 <span class="math inline">\(G(M_Z)\)</span> 与 <spanclass="math inline">\(G(Y)\)</span> 的计算结果代入 <spanclass="math inline">\(G(\beta)\)</span> 的表达式，可得：</p><p><span class="math display">\[\begin{aligned}G(\beta) &amp; =   G(M_Z) +G(Z) - G(Y)  \\&amp; = (1-\beta ) \frac {\sigma -1 }  {\sigma }  \cdot [G(Z)-G(X) ]  \\&amp; = (1-\beta ) \frac {\sigma -1 }  {\sigma }  \cdot \left \{[G(K)+G(H) ] - [G(L) + G(E) ]  \right \}\end{aligned}\]</span></p><p>　　上式为资本收入份额的增长率，决定了资本的收入份额。</p><p>　　<strong>第一阶段</strong> <span class="math inline">\(OA \toOB\)</span>：生产函数 <span class="math inline">\(M\)</span>的要素替代弹性很大，即 <span class="math inline">\(\sigma \gt1\)</span>，当 <span class="math inline">\(G(K)+G(H)  \gt G(L) +G(E)\)</span> 时，资本的收入份额 <spanclass="math inline">\(\beta\)</span> 将会增加；</p><p>　　<strong>第二阶段</strong> <span class="math inline">\(OB \toOC\)</span>，根据希克斯的定义：</p><ul><li><p>当生产函数 <span class="math inline">\(M\)</span>的要素替代弹性比较小（<span class="math inline">\(\sigma \lt1\)</span>）时：</p><ul><li><span class="math inline">\(G(H) \gtG(E)\)</span>：资本节约型技术进步、劳动节约型技术进步</li><li><span class="math inline">\(G(H) \ltG(E)\)</span>：资本利用型技术进步、劳动节约型技术进步</li></ul></li><li><p>当生产函数 <span class="math inline">\(M\)</span>的要素替代弹性比较大（<span class="math inline">\(\sigma \gt1\)</span>）时：</p><ul><li><span class="math inline">\(G(H) \gtG(E)\)</span>：资本节约型技术进步、劳动利用型技术进步</li><li><span class="math inline">\(G(H) \ltG(E)\)</span>：资本节约型技术进步、劳动利用型技术进步</li></ul></li></ul><p>　　（<strong>在第二阶段的技术种类判定上，原书有问题</strong>）</p>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜附录A5-利用常规生产函数的解释</title>
      <link href="/posts/4477/"/>
      <url>/posts/4477/</url>
      
        <content type="html"><![CDATA[<h3 id="调整后的常规生产函数-meta-production-function">1.调整后的常规生产函数 (meta-production function)</h3><p>　　使用常规生产函数可以解释工业化初级阶段到高级阶段增长类型变化。常规生产函数在超长期的生产关系中，包含了因无形资本积累引起的技术创新和投入品质量改进的影响。常规生产函数可以被理解为新古典生产函数的包络线。</p><p>　　假定产出 <span class="math inline">\(Y\)</span>由两种要素生产出来：质量调整后的劳动力 <spanclass="math inline">\(X=EL\)</span>，质量调整后的资本投入 <spanclass="math inline">\(Z=HK\)</span>。两种生产要素都使用边际效率衡量：</p><p><span class="math display">\[\begin{align}Y=M(X,Z)\end{align}\]</span></p><ul><li>质量调整后的劳动 <span class="math inline">\(X=EL\)</span>：<spanclass="math inline">\(E\)</span> 为劳动生产效率，<spanclass="math inline">\(L\)</span> 为常规度量的劳动力（如工作时间）；</li><li>质量调整后的资本 <span class="math inline">\(Z=HK\)</span>：<spanclass="math inline">\(H\)</span> 为资本生产效率，<spanclass="math inline">\(K\)</span> 为常规度量的资本。</li></ul><p>　　因此，要素的相对价格为：</p><p><span class="math display">\[\begin{align}\frac w r =\frac  {vE} {qH}= \frac  {E} {H} \cdot \frac  {v} {q}\end{align}\]</span></p><h3 id="要素替代弹性">2. 要素替代弹性</h3><p>　　<span class="math inline">\(E\)</span> 和 <spanclass="math inline">\(H\)</span>表示劳动和资本的“增加量”或“增长系数”。在经济增长的数学分析中，将 <spanclass="math inline">\(EL\)</span> 和 <spanclass="math inline">\(HK\)</span>作为生产函数中的要素投入是很常见的。在上述生产函数中，技术可以根据资源结构的变化做出调整。例如，当<span class="math inline">\(E\)</span> 随教育投资而上升，<spanclass="math inline">\(X\)</span> 相对于 <spanclass="math inline">\(Z\)</span> 提高了。</p><p>　　<span class="math inline">\(M\)</span>为一个长期生产函数，在长期，<span class="math inline">\(X\)</span> 和<span class="math inline">\(Z\)</span> 的边际生产率 <spanclass="math inline">\(MP_X\)</span> 和 <spanclass="math inline">\(MP_Z\)</span>不会下降，技术进步可以发挥充分的作用，<spanclass="math inline">\(X\)</span> 和 <spanclass="math inline">\(Z\)</span> 之间的替代弹性是非常大的。</p><p>　　<span class="math inline">\(X\)</span> 和 <spanclass="math inline">\(Z\)</span> 之间的替代弹性：</p><p><span class="math display">\[\begin{align}\sigma = \frac { \Delta X / X} { \Delta Z / Z }  = \frac Z X \cdot {\frac { \Delta X} { \Delta Z} }\end{align}\]</span></p><p>　　在竞争性市场中（新古典的假设下），要素的替代弹性 <spanclass="math inline">\(\sigma = \frac Z X \cdot { \frac { \Delta X} {\Delta Z} } =  \frac Z X \cdot { \frac w r }\)</span>（传送门：<ahref="https://fgzfgz.github.io/posts/35116/">MRTS</a>）。</p><p>　　然而，考虑到技术进步对资本和劳动的作用不同，<spanclass="math inline">\(X\)</span> 和 <spanclass="math inline">\(Z\)</span> 之间的替代弹性 <spanclass="math inline">\(\sigma\)</span> 不是要素投入比例变化率 <spanclass="math inline">\(G( Z/X )\)</span> 与工资-利率比例变化率 <spanclass="math inline">\(G(w/r)\)</span> 之间的比例。按常规度量的工资率<span class="math inline">\(w\)</span> 是不熟练劳动力报酬 <spanclass="math inline">\(v\)</span> 和劳动生产效率增长率 <spanclass="math inline">\(E\)</span> 的乘积，按常规度量的利率 <spanclass="math inline">\(r\)</span> 是边际资本报酬 <spanclass="math inline">\(q\)</span> 和资本生产效率增长率 <spanclass="math inline">\(H\)</span> 的乘积。因此，要素替代弹性为：</p><p><span class="math display">\[\begin{align}\sigma = \frac { G(Z/X) }  { G(v/q) }= \frac { \left \{ [G(K) + G(H)] - [G(L) + G(E)]   \right \} } { [G(v) -G(q)] }\end{align}\]</span></p><blockquote><p><strong>补充：</strong></p><p>上面考察的弹性，是要素相对利用量对要素相对报酬变化的弹性，原因是技术进步导致要素利用发生变化，是通过相对要素报酬变化引致的。这里要素替代弹性计算过程类似于<ahref="https://fgzfgz.github.io/posts/11172/">需求收入弹性</a>。</p><ul><li><strong>分子</strong>：要素相对投入量的变化，<spanclass="math inline">\(G(Z/X) =\frac { \Delta (Z/X) } { (Z/X)}\)</span></li><li><strong>分母</strong>：要素相对报酬的变化，即非熟练工与边际资本的报酬之比：<spanclass="math inline">\(G(v/q) =\frac { \Delta (v/q) } { (v/q)}\)</span></li></ul><p>考虑到生产函数一般为指数形式，在计算增长率或变化率等指标时，使用对数微分法可以较为简单地计算出相关增长率。例如要计算<span class="math inline">\(X\)</span> 的增长率，先对 <spanclass="math inline">\(X\)</span> 取对数变成 <spanclass="math inline">\(\ln X\)</span>，然后对时间 <spanclass="math inline">\(t\)</span> 进行微分，那么 <spanclass="math inline">\(X\)</span> 的增长率 <spanclass="math inline">\(G(X)\)</span> 为：</p><p><span class="math display">\[\begin{align}G(X)= \frac {\partial \ln X } {\partial t } = \frac {\partial \ln X }{\partial X } \cdot \frac {\partial X } {\partial t } = \frac { \dot X }{X }\end{align}\]</span></p><p>其中，<span class="math inline">\(\dot X\)</span> 为 <spanclass="math inline">\(t\)</span> 期 <spanclass="math inline">\(X\)</span> 的增长量（相对于 <spanclass="math inline">\(t-1\)</span> 期），即 <spanclass="math inline">\(\dot X = \Delta X= X_t -  X_ {t-1}\)</span>。</p><p>因此，原弹性计算公式的分母可以改写为：</p><p><span class="math display">\[G(v/q) =  \frac {\partial \ln (v/q) } {\partial t } =  \frac {\partial\ln (v) } {\partial t } -  \frac {\partial \ln (q) } {\partial t }=  G(v) - G(q)\]</span></p><p>同理，分子也可以改写为：</p><p><span class="math display">\[{ G(Z/X) } =  \frac {\partial   \ln (HK/EL) } {\partial t } =  [G(K) +G(H)] - [G(L) + G(E)]\]</span></p></blockquote><h3 id="图解-技术变化与要素投入">3. 图解: 技术变化与要素投入</h3><p>　　如下图所示，曲线 <span class="math inline">\(m\)</span>表示等产量线。假设技术变化不改变等产量曲线 <spanclass="math inline">\(m\)</span>，以技术进步和人力资本提高为目的的投资，会改变劳动生产效率<span class="math inline">\(E\)</span> 和资本生产效率 <spanclass="math inline">\(H\)</span>，进而影响资本和劳动的投入比例 <spanclass="math inline">\(Z/X\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230322162321-ykdyc78.png" style="width:450px" alt="沿常规生产函数的要素替代" /></p><p>　　假定在工业化初始期 <span class="math inline">\(t=0\)</span>时，要素投入比例为直线 <span class="math inline">\(OA:(Z/X)_0\)</span>，其中，要素投入的相对报酬为 <spanclass="math inline">\((v/q)_0\)</span>，均衡点为 <spanclass="math inline">\(a\)</span> 点。</p><p>　　<strong>第一阶段（</strong><span class="math inline">\(OA \toOB\)</span><strong>）：</strong>技术进步的倾向是提高资本效率，因此随着资本积累和<span class="math inline">\(H\)</span> 的迅速提高，<spanclass="math inline">\(Z=HK\)</span> 迅速增长。人力资本投资相对不足，导致<span class="math inline">\(E\)</span> 的增长率比 <spanclass="math inline">\(H\)</span> 小，即 <span class="math inline">\(G(E)\lt G(H)\)</span>，因此会导致资本利用增加，要素相对投入比例 <spanclass="math inline">\(Z/X\)</span> 提高。均衡点发生移动 <spanclass="math inline">\(a \to b\)</span>，要素相对报酬发生变化 <spanclass="math inline">\((v/q)_0 \to(v/q)_1\)</span>，此时资本的相对报酬降低，变得更不利于资本投入，但由于资本投入的产出效率更高<span class="math inline">\(G(H) \gtG(E)\)</span>，因此相对要素价格（工资-利率比率 <spanclass="math inline">\(w/r = vE/qH\)</span>）保持相对稳定。</p><p>　　<strong>第二阶段（</strong><span class="math inline">\(OB \toOC\)</span><strong>）：</strong>人力资本投资增加，<spanclass="math inline">\(X\)</span> 的增长大大高于 <spanclass="math inline">\(H\)</span> 和 <spanclass="math inline">\(K\)</span>，使得要素投入相对比率 <spanclass="math inline">\(Z/X\)</span> 下降。由于 <spanclass="math inline">\(E/H\)</span> 的增加补偿了 <spanclass="math inline">\(v/q\)</span>的下降，因此在第二阶段，相对要素价格的比率 <spanclass="math inline">\(\frac w r = \frac  {E} {H} \cdot \frac  {v}{q}\)</span> 上升了。</p><h3 id="与一般生产函数的比较">4. 与一般生产函数的比较</h3><p>　　常规生产函数的基本特征是具有非常大的要素替代弹性。</p><ul><li>若要素替代弹性 <span class="math inline">\(\sigma  \gt1\)</span>，<span class="math inline">\({ G(Z/X) }  \gt { G(v/q)}\)</span>，因此在第一阶段，要素投入比例 <spanclass="math inline">\(Z/X\)</span> 和<u>要素相对收入份额</u> <u><spanclass="math inline">\(vZ/qX\)</span></u>提高（<strong>可能有问题</strong>），意味着资本收入份额的增加。</li><li>若要素替代弹性 <span class="math inline">\(\sigma \lt1\)</span>，<span class="math inline">\({ G(Z/X) } \lt  { G(v/q)}\)</span>，因此在第二阶段，要素投入比例 <spanclass="math inline">\(Z/X\)</span> 和<u>要素相对收入份额</u> <u><spanclass="math inline">\(vZ/qX\)</span></u>下降（<strong>可能有问题</strong>），意味着资本收入份额的下降。</li></ul><p>　　在常规生产函数的假设下，从第一阶段到第二阶段增长类型的变化的理论预期，和利用一般生产函数（ordinaryproductionfunction）但使科技进步有不同倾向的假设的理论预期是相同的。</p><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜附录A4-诱致性创新的可能性</title>
      <link href="/posts/58395/"/>
      <url>/posts/58395/</url>
      
        <content type="html"><![CDATA[<p>　　通过技术引进促进工业化的发展中国家，很可能会因劳动节约型技术进步过快，导致劳动收入份额的下降。（传送门：第六章第二节）</p><p>　　引进和发展中国家的相对资源禀赋条件相符的技术，可以避免不平等的加剧。开发符合相对资源禀赋的适宜技术，不会牺牲经济效率，而且能促进公平。可能的原因是诱致性创新理论。</p><p>　　下图为以引进技术为基础的经济增长类型，劳动节约型技术进步的过程，与资本-劳动比率提高（<spanclass="math inline">\(OA \toOB\)</span>）的过程相一致，相对要素价格（工资-利率的比率）保持不变，为<span class="math inline">\(( \frac w  r )_0\)</span>，但均衡点发生变化<span class="math inline">\(a \to c\)</span>。</p><p>　　假定 <span class="math inline">\(i_1\)</span>是引进到发展中国家的技术，并且这些技术是由发达国家开发、符合发达国家的相对资源稀缺性的适宜技术。因此，<spanclass="math inline">\(i_1\)</span> 是一条与创新可能性曲线 <spanclass="math inline">\(I\)</span>相切的单位等产量曲线（创新可能性曲线是无数条等产量曲线的包络线），是在工资-利率比例很高的条件下，满足发达国家<span class="math inline">\(P_g\)</span>生产成本最小化的单位等产量曲线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230320150147-whk7zyu.png" style="width:450px" alt="诱致性技术创新的可能性" /></p><p>　　如果发展中国家引进符合其相对资源稀缺性的适宜技术，那么就可以通过开发<span class="math inline">\(i_2\)</span>技术（等产量线），使得单位产量的生产成本最小化。其中，<spanclass="math inline">\(i_2\)</span> 与等产量线的包络线 <spanclass="math inline">\(I\)</span> 相切于点 <spanclass="math inline">\(d\)</span>（<spanclass="math inline">\(OB\)</span> 与 <spanclass="math inline">\(I\)</span>）。此时，相对要素价格（工资-利率比率）<spanclass="math inline">\(\frac w r\)</span> 满足：<spanclass="math inline">\((\frac w r ) _d = (\frac w r ) _0\)</span>。</p><p>　　随着技术从 <span class="math inline">\(i_1\)</span> 发展到 <spanclass="math inline">\(i_2\)</span>，与资本收入份额相比，劳动收入份额相对增加。如果发展中国家能够努力纠正所引进的发达国家技术中强资本利用倾向，经济效率和社会公平程度均可以得到提升。</p><p>　　根据诱致性创新理论，由于与技术 <spanclass="math inline">\(i_1\)</span> 相比，更加有效的技术 <spanclass="math inline">\(i_2\)</span>会由私人企业家开发出来。但在发展中国家，私人企业家用于技术研究和开发的物质资本和人力资本有限，依靠私人企业家开发先进的技术<span class="math inline">\(i_2\)</span>是非常困难的，需要依靠政策消除这种差距。</p>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜附录A3-要素价格趋势和要素份额的变化</title>
      <link href="/posts/26222/"/>
      <url>/posts/26222/</url>
      
        <content type="html"><![CDATA[<p>　　<ahref="https://fgzfgz.github.io/posts/29916/">附录A1</a>的分析表明，在既定技术水平下，资本的增加仍然会引起劳均产出的增加。</p><p>　　在希克斯情形下，技术进步带来的要素价格趋势和要素收入份额的变化特征：</p><h2 id="资本-劳动比率的变化">1. 资本-劳动比率的变化</h2><p>　　<strong>资本-劳动比率</strong> <strong><spanclass="math inline">\(K/L\)</span></strong><strong>在两个阶段都会上升，</strong>即直线 <spanclass="math inline">\(OA\)</span> 的斜率小于直线 <spanclass="math inline">\(OB\)</span>的斜率。如果技术保持不变，资本-劳动比率 <spanclass="math inline">\(K/L\)</span>的提高会导致资本边际生产率的迅速下降。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305042640-iw2lr61.png" style="width:500px" alt="中性技术进步" /></p><h2 id="要素价格与要素收入份额的变化">2.要素价格与要素收入份额的变化</h2><h3 id="基准情形希克斯中性技术进步">2.1基准情形：希克斯中性技术进步</h3><p>　　如下图所示，对固定的技术 <spanclass="math inline">\(i_0\)</span>，增加投资会导致资本-劳动比率 <spanclass="math inline">\(K/L\)</span> 的提高（直线 <spanclass="math inline">\(OA \to OB\)</span>），此时的均衡点会发生变化（点<span class="math inline">\(a \toc\)</span>），资本对劳动的边际技术替代率 <spanclass="math inline">\(MRTS_{LK}=\frac {MP_L}  {MP_K} =\frac w r\)</span>上升，即等成本线 <span class="math inline">\(P\)</span>的斜率发生变化（<span class="math inline">\(P_0 \toP_1\)</span>）。资本边际产出 <span class="math inline">\(MP_K\)</span>继续下降，使得资本的边际报酬率降低与资本供给价格（风险补偿、交易成本和利率等），使得资本积累停止。（联系：<ahref="https://fgzfgz.github.io/posts/17352/">可变要素的需求原则</a>）</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305042640-iw2lr61.png" style="width:500px" alt="中性技术进步" /></p><p>　　‍</p><h3 id="第一阶段希克斯劳动节约型技术">2.2第一阶段：希克斯劳动节约型技术</h3><p>　　（传送门：<ahref="https://fgzfgz.github.io/posts/29916/">第一阶段的有形资本积累</a>）</p><p>　　如下图所示，劳动节约型技术进步（<span class="math inline">\(i_0\to  i_1\)</span>）可以避免资本边际产出 <spanclass="math inline">\(MP_K\)</span> 快速下降，进而有助于增加投资。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305042800-ur05gq7.png" style="width:500px" alt="劳动节约型技术进步" /></p><ul><li>如果要素收入相对份额 <span class="math inline">\(K/L\)</span>保持稳定（直线 <span class="math inline">\(P_0\)</span> 和 <spanclass="math inline">\(P_1\)</span>，关注直线 <spanclass="math inline">\(OA\)</span> 上的点 <spanclass="math inline">\(a\)</span> 和 <spanclass="math inline">\(b\)</span>），要素相对价格 <spanclass="math inline">\(w/r\)</span> 下降，资本收入份额提高。</li><li>如果要素相对价格 <span class="math inline">\(w/r\)</span>保持稳定（直线 <span class="math inline">\(P_0\)</span> 和 <spanclass="math inline">\(P_2\)</span> 平行，关注点 <spanclass="math inline">\(a\)</span> 和 <spanclass="math inline">\(c\)</span>），要素相对份额 <spanclass="math inline">\(K/L\)</span> 提高，资本收入份额提高（<spanclass="math inline">\(P_0\)</span> 和 <spanclass="math inline">\(P_2\)</span>平行，距离原点越近的直线反映的资本收入份额越高，参考-<ahref="https://fgzfgz.github.io/posts/20531/">要素收入份额的图形分析</a>)）。</li></ul><h3 id="第二阶段希克斯资本节约型技术">2.3第二阶段：希克斯资本节约型技术</h3><p>　　（传送门：<ahref="https://fgzfgz.github.io/posts/29916/">在第二阶段：无形资本积累</a>）</p><p>　　如下图所示，资本节约型技术进步（<span class="math inline">\(i_0\to  i_1\)</span>）可以避免劳动边际产出 <spanclass="math inline">\(MP_L\)</span>快速下降，进而有助于增加劳动投入。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305042824-9id5oqx.png" style="width:500px" alt="资本节约型技术进步" /></p><ul><li>如果要素收入相对份额 <span class="math inline">\(K/L\)</span>保持稳定（直线 <span class="math inline">\(P_0\)</span> 和 <spanclass="math inline">\(P_1\)</span>，关注直线 <spanclass="math inline">\(OA\)</span> 上的点 <spanclass="math inline">\(a\)</span> 和 <spanclass="math inline">\(b\)</span>），要素相对价格 <spanclass="math inline">\(w/r\)</span> 提高，劳动收入份额提高。</li><li>技术进步促进了劳动生产率的提高（直线 <spanclass="math inline">\(P_0\)</span> 和 <spanclass="math inline">\(P_2\)</span>，关注点 <spanclass="math inline">\(a\)</span> 和 <spanclass="math inline">\(c\)</span>），要素相对价格 <spanclass="math inline">\(w/r\)</span>进一步提高，劳动收入份额也会继续提高。</li></ul><p>　　技术进步的方向由劳动节约型向资本节约型移动，原因是：</p><ul><li>技术体制：从常规技术向微观技术</li><li>需求结构：从标准品到差异品</li><li>无形资本生产率（人力资本-<spanclass="math inline">\(MP_L\)</span>）相对于有形资本生产率（<spanclass="math inline">\(MP_K\)</span>）的提高：教育、研发的投资激励上升</li></ul><p>　　因此，在第二阶段，工资率增长包括两部分：</p><ol type="1"><li>简单劳动能力的回报</li><li>人力资本积累的回报</li></ol>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜附录A2-技术变化的分类</title>
      <link href="/posts/20531/"/>
      <url>/posts/20531/</url>
      
        <content type="html"><![CDATA[<p>　　技术变化的倾向和替代弹性，决定资本-劳动比率（<spanclass="math inline">\(K/L\)</span>）和工资-租金比率（<spanclass="math inline">\(w/r\)</span>）之间的关系，进而决定劳动和资本的收入份额。</p><p>　　技术变化通常根据使用生产要素的倾向分类。希克斯分类 (John Hicks,1932)，以特定资本-劳动比率下劳动和资本的边际替代率的变化方向为基础。</p><p>　　假设 <span class="math inline">\(i\)</span> 为<ahref="https://fgzfgz.github.io/posts/34942/">等产量线</a>)，可以表示为：<spanclass="math inline">\(I=F(L,K)\)</span>。等产量线向原点移动 <spanclass="math inline">\(i_0 \to i_1\)</span>表示技术进步，因为技术进步意味着生产单位产出需要的投入要素更少。</p><h2 id="要素收入份额的图形分析">1. 要素收入份额的图形分析</h2><p>　　如下图所示，<span class="math inline">\(i\)</span>为等产量曲线，<span class="math inline">\(PQ\)</span>为等成本曲线，两者相切于 <span class="math inline">\(a\)</span>点，即为<ahref="https://fgzfgz.github.io/posts/34942/">既定产量下最低成本的均衡</a>。</p><p>　　<img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20231107121752-88nx3v4.png" style="width:500px" alt="资本与劳动的收入份额" /></p><p>　　假设等成本线：<span class="math inline">\(C=wL+rK\)</span>，那么<span class="math inline">\(Q\)</span> 点坐标 <spanclass="math inline">\((0, \frac C r)\)</span>，<spanclass="math inline">\(P\)</span> 点坐标 <spanclass="math inline">\((\frac C w, 0)\)</span>。因此直线 <spanclass="math inline">\(PQ\)</span> 的斜率绝对值为 <spanclass="math inline">\(\frac w r\)</span>，即 <spanclass="math inline">\(\frac {aT} {TP} = \frac w r\)</span>。</p><p>　　此时处于均衡状态，因此 <span class="math inline">\(a\)</span>点坐标即为均衡时的劳动、资本投入量 <spanclass="math inline">\((L,K)\)</span>，过原点 <spanclass="math inline">\(O\)</span> 的直线 <spanclass="math inline">\(Oa\)</span> 斜率为 <spanclass="math inline">\(\frac K L\)</span>，为资本-劳动比率，即 <spanclass="math inline">\(\frac {aT} {OT}=\frac K L\)</span>。</p><p><span class="math display">\[\begin{align}\frac {TP} {OT} = \frac {aT/OT} {aT /TP} = \frac { rK} {wL}\end{align}\]</span></p><p>　　因此，<span class="math inline">\(\frac {TP} {OT}\)</span>的取值，即为资本收入和劳动收入的相对份额，该数值越大，资本收入的份额越大、劳动收入份额越小。</p><p>　　在两要素经济中，希克斯的技术变化可以分为三种类型。</p><h2 id="希克斯中性技术进步">2. 希克斯中性技术进步</h2><p>　　<strong>中性技术进步：</strong>对于特定的资本-劳动比率 <spanclass="math inline">\(K/L\)</span>，技术进步不改变劳动和资本的边际产出的比率<span class="math inline">\(F_L / F_K =  {w} / {r}\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305042640-iw2lr61.png" style="width:500px" alt="中性技术进步" /></p><p>　　如图所示：等产量线移动 <span class="math inline">\(i_0 \toi_1\)</span> 表示技术进步。</p><p>　　劳动和资本的边际生产率为<ahref="https://fgzfgz.github.io/posts/42354/">边际技术替代率</a>（marginalratio of technical substitution）：</p><p><span class="math display">\[\begin{align}MRTS_{LK} = \frac {\partial K}  {\partial L} = \frac {F_L}  {F_K}\end{align}\]</span></p><p>　　其中，<span class="math inline">\(MRTS_{LK}\)</span> 即为等产量线<span class="math inline">\(i\)</span>的切线斜率的绝对值。由原点发出的射线 <spanclass="math inline">\(OA\)</span> 与两条等产量线 <spanclass="math inline">\(i_0\)</span>、<spanclass="math inline">\(i_1\)</span> 分别相交于点 <spanclass="math inline">\(a\)</span>、点 <spanclass="math inline">\(b\)</span>，且两点处等产量线的斜率相同，因此为希克斯中性的技术进步。</p><p>　　希克斯中性的技术进步表明，技术进步不改变各要素的边际产出，因此不会改变各要素的边际替代关系<span class="math inline">\(MRTS_{LK}\)</span>。</p><p>　　在均衡的竞争性要素市场中，劳动 <spanclass="math inline">\(L\)</span> 和资本 <spanclass="math inline">\(K\)</span> 的边际技术替代率 <spanclass="math inline">\(MRTS_{LK}\)</span> 等于工资与租金比率，即 <spanclass="math inline">\(MRTS_{LK} =  {w} /{r}\)</span>。如果资本-劳动比率不变，技术进步就是中性的。此时，劳动收入<span class="math inline">\(wL\)</span> 与资本收入 <spanclass="math inline">\(rK\)</span>的比率不变，意味着劳动和资本之间的收入份额不变。</p><p>　　结合图解，若在上图中作出两条过 <spanclass="math inline">\(a\)</span> 与 <spanclass="math inline">\(b\)</span> 点的垂线，交横轴于 <spanclass="math inline">\(T_a\)</span> 与 <spanclass="math inline">\(T_b\)</span>，那么可以得到 <spanclass="math inline">\(\frac {T_aP_0} {OT_a} = \frac {T_bP_1}{OT_b}\)</span>，即劳动收入份额与资本收入份额都不发生改变。</p><h2 id="希克斯劳动节约型技术进步">3. 希克斯劳动节约型技术进步</h2><p>　　<strong>劳动节约型技术进步：</strong>对于特定的资本-劳动比率<spanclass="math inline">\(K/L\)</span>，技术进步会减小劳动和资本的边际产出的比率<span class="math inline">\(MRTS_{LK} = F_L / F_K =  {w} /{r}\)</span>，等成本线发生非平行移动，此时，劳动的边际产出 <spanclass="math inline">\(F_L\)</span> 下降，资本的边际产出 <spanclass="math inline">\(F_K\)</span>升高，应该减少劳动投入，增加资本投入。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305042800-ur05gq7.png" style="width:500px" alt="劳动节约型技术进步" /></p><p>　　<strong>特征：</strong>资本-劳动比率 <spanclass="math inline">\(K/L\)</span> 越高，即切点与原点的连线越陡峭（比较<span class="math inline">\(OA\)</span> 线与 <spanclass="math inline">\(OB\)</span> 线），等产量线向原点移动幅度越大。</p><p>　　<strong>结果：</strong>随着技术进步 <spanclass="math inline">\(i_0 \to i_1\)</span>：</p><ul><li>对于固定 <span class="math inline">\(K/L\)</span> 比率的 <spanclass="math inline">\(OA\)</span> 线，其交点由 <spanclass="math inline">\(a\)</span> 移动到 <spanclass="math inline">\(b\)</span>，此时切点斜率下降，即劳动与资本的边际产出比率<span class="math inline">\(F_L / F_K\)</span> 下降。</li><li>对于固定 <span class="math inline">\(w/r\)</span> 比率的 <spanclass="math inline">\(OB\)</span> 线，其交点由 <spanclass="math inline">\(a\)</span> 移动到 <spanclass="math inline">\(c\)</span>，<spanclass="math inline">\(K/L\)</span> 比例提升。</li></ul><p>　　<strong>希克斯劳动节约型技术进步</strong>可以被定义为<strong>对于给定</strong><strong><span class="math inline">\(w/r\)</span></strong><strong>诱发</strong> <strong><spanclass="math inline">\(K/L\)</span></strong><strong>比例提高的技术进步</strong>，资本收入份额的增加是以牺牲劳动收入份额下限为代价的。</p><p>　　结合图解，若在上图中作出两条过 <spanclass="math inline">\(a\)</span> 与 <spanclass="math inline">\(b\)</span> 点的垂线，交横轴于 <spanclass="math inline">\(T_a\)</span> 与 <spanclass="math inline">\(T_b\)</span>，那么可以得到 <spanclass="math inline">\(\frac {T_aP_0} {OT_a} \lt \frac {T_bP_1}{OT_b}\)</span>，即资本收入份额相对侵占了劳动收入份额。</p><h2 id="希克斯资本节约型技术进步">4. 希克斯资本节约型技术进步</h2><p>　　<strong>资本节约型技术进步：</strong>对于特定的资本-劳动比率<spanclass="math inline">\(K/L\)</span>，技术进步会增大劳动和资本的边际产出的比率<span class="math inline">\(MRTS_{LK} = F_L / F_K =  {w} /{r}\)</span>，等成本线发生非平行移动，此时，劳动的边际产出 <spanclass="math inline">\(F_L\)</span> 升高，资本的边际产出 <spanclass="math inline">\(F_K\)</span>下降，应该增加劳动投入，减少资本投入。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305042824-9id5oqx.png" style="width:500px" alt="资本节约型技术进步" /></p><p>　　<strong>特征：</strong>资本-劳动比率 <spanclass="math inline">\(K/L\)</span> 越低，即切点与原点的连线越陡峭（比较<span class="math inline">\(OA\)</span> 线与 <spanclass="math inline">\(OB\)</span> 线），等产量线向原点移动幅度越大。</p><p>　　<strong>结果：</strong>随着技术进步 <spanclass="math inline">\(i_0 \to i_1\)</span>，对于固定 <spanclass="math inline">\(K/L\)</span> 比率的 <spanclass="math inline">\(OA\)</span> 线，其交点由 <spanclass="math inline">\(a\)</span> 移动到 <spanclass="math inline">\(b\)</span>，此时切点斜率变大，即劳动与资本的边际产出比率<span class="math inline">\(F_L / F_K\)</span> 变大。</p><p>　　<strong>希克斯资本节约型技术进步</strong>可以被定义为<strong>对于给定</strong><strong><span class="math inline">\(w/r\)</span></strong><strong>诱发</strong> <strong><spanclass="math inline">\(K/L\)</span></strong><strong>比例下降的技术进步</strong>，劳动收入份额的增加是以牺牲资本收入份额为代价的。</p><p>　　结合图解，若在上图中作出两条过 <spanclass="math inline">\(a\)</span> 与 <spanclass="math inline">\(b\)</span> 点的垂线，交横轴于 <spanclass="math inline">\(T_a\)</span> 与 <spanclass="math inline">\(T_b\)</span>，那么可以得到 <spanclass="math inline">\(\frac {T_aP_0} {OT_a} \gt  \frac {T_bP_1}{OT_b}\)</span>，即劳动收入份额相对侵占了资本收入份额。</p><blockquote><p><strong>补充：其他技术进步分类方式：</strong></p><p><strong>哈罗德 (Harrod, 1948) ：</strong>以资本边际生产率 <spanclass="math inline">\(w\)</span> 表示的资本产出比率 <spanclass="math inline">\(K/Y\)</span> 的变化为基础</p><ol type="1"><li>中性技术进步：<span class="math inline">\(K/Y\)</span> 保持不变</li><li>资本节约型技术进步：<span class="math inline">\(K/Y\)</span>下降</li><li>劳动节约型技术进步：<span class="math inline">\(K/Y\)</span>上升</li></ol><p><strong>索洛 (Solow, 1970) ：</strong>以工资率 <spanclass="math inline">\(w\)</span> 表示的劳动产出比率 <spanclass="math inline">\(L/Y\)</span> 的变化为基础</p><ol type="1"><li>中性技术进步：<span class="math inline">\(L/Y\)</span> 保持不变</li><li>资本节约型技术进步：<span class="math inline">\(L/Y\)</span>上升</li><li>劳动节约型技术进步：<span class="math inline">\(L/Y\)</span>下降</li></ol><p>三种技术进步分类方式的关系：</p><ol type="1"><li>哈罗德中性 <span class="math inline">\(\Rightarrow\)</span>希克斯劳动节约型</li><li>索洛中性 <span class="math inline">\(\Rightarrow\)</span>希克斯资本节约型</li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜附录A1-资本-劳动比率的提高和生产函数的移动</title>
      <link href="/posts/29916/"/>
      <url>/posts/29916/</url>
      
        <content type="html"><![CDATA[<p>　　技术进步对经济增长贡献的变化，是增长类型变化的主要因素。在现代经济学中，技术进步被定义为生产函数的向上移动。生产函数可以写作：</p><p><span class="math display">\[\begin{align}Y = F(L,K)\end{align}\]</span></p><p>　　其中，<span class="math inline">\(F\)</span> 对 <spanclass="math inline">\(L\)</span> 和 <spanclass="math inline">\(K\)</span> 可微分，且满足：</p><ul><li>一阶导数：<span class="math inline">\(F_L \gt 0\)</span>，<spanclass="math inline">\(F_K \gt 0\)</span></li><li>二阶导数：<span class="math inline">\(F_ {LL} \lt 0\)</span>，<spanclass="math inline">\(F_{KK} \lt0\)</span></li><li>偏导数：<span class="math inline">\(F_{LK} \gt  0\)</span></li></ul><p>　　前两个条件即为稻田条件。</p><p>　　假定 <span class="math inline">\(F\)</span> 是<ahref="https://baike.baidu.com/item/齐次生产函数/8568732">线性齐次生产函数</a>，具有规模报酬不变的特征。那么，劳动生产率<span class="math inline">\(y=\frac Y K\)</span> 可以表示为资本-劳动比率<span class="math inline">\(k=\frac K L\)</span>的函数。那么，原生产函数可以写作：</p><p><span class="math display">\[\begin{align}y= f(k)\end{align}\]</span></p><h2 id="技术水平恒定情况">1. 技术水平恒定情况</h2><p>　　当技术水平恒定（不存在技术进步）时，<spanclass="math inline">\(f\)</span> 的图像可以表示为：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305023608-fbwibz3.png" style="width:550px" alt="劳动生产率增长的原理" /></p><p>　　假定在初始期 <span class="math inline">\(t=0\)</span>，生产函数为<span class="math inline">\(y_0\)</span>，资本-劳动比率为 <spanclass="math inline">\(k_0\)</span>，则 <spanclass="math inline">\(y_0=f_0(k_0)\)</span>。此时，资本生产率 <spanclass="math inline">\(Y/K\)</span>（资本与产出水平的倒数）为直线 <spanclass="math inline">\(Oa\)</span> 的斜率。</p><p>　　在 <span class="math inline">\(t=1\)</span>时，由于不存在技术进步，生产函数仍为 <spanclass="math inline">\(f_0\)</span> 保持不变，资本-劳动比率 <spanclass="math inline">\(k_0 \to k_1\)</span>，资本生产率将由直线 <spanclass="math inline">\(Oa\)</span> 斜率下降至直线 <spanclass="math inline">\(Ob\)</span> 斜率。</p><p>　　因此，若生产函数符合<u>线性齐次特征</u>且技术水平不变，单位劳动的资本使用量<span class="math inline">\(k = \frac K L\)</span>提高，会导致资本产出比率 <span class="math inline">\(K/Y\)</span>提高。（投资效率降低）</p><h2 id="资本积累技术进步与人均产出的关系">2.资本积累、技术进步与人均产出的关系</h2><p>　　经济增长，特别是人均产出的增加，大致可以分为两个阶段：</p><p>　　<strong>在第一阶段：有形资本积累</strong></p><p>　　在 <span class="math inline">\(t : 0 \to 1\)</span>的第一阶段，技术也并非保持不变。</p><p>　　假定该时期内，生产函数移动 <span class="math inline">\(f_0 \tof_1\)</span> 相对于资本-劳动比率 <span class="math inline">\(k_0 \tok_1\)</span> 增加很小，那么：</p><ul><li>劳动生产率 (劳均产出衡量) 增长 <spanclass="math inline">\(ec\)</span></li><li>劳均资本增长贡献的产出增长为 <spanclass="math inline">\(eb\)</span>，贡献率为：<spanclass="math inline">\(\frac {eb} {ec}\)</span></li><li>生产函数移动量为 <spanclass="math inline">\(bc\)</span>，贡献率为：<spanclass="math inline">\(\frac {bc} {ec}\)</span></li></ul><p>　　因此：<span class="math inline">\(\frac {eb} {ec}  \gt  \frac{bc}{ec}\)</span>，即资本增长带来的产出增加效率更高、贡献更大，虽然投资增加会导致技术进步，体现在生产函数上移<spanclass="math inline">\(bc\)</span>，但是投资增加主要促进资本增长进而促进产出增加。</p><p>　　此时，直线 <span class="math inline">\(Oc\)</span> 的斜率小于直线<span class="math inline">\(Oa\)</span>的斜率，导致资本产出比率上升（投资效率降低）。</p><p>　　<strong>在第二阶段：无形资本积累</strong></p><p>　　在 <span class="math inline">\(t : 0 \to 2\)</span>的第二阶段，生产函数变动 <span class="math inline">\(f_0 \tof_2\)</span>：</p><ul><li>劳均产出 (劳均产出衡量) 增长 <spanclass="math inline">\(ed\)</span></li><li>劳均资本增长贡献的产出增长为 <spanclass="math inline">\(eb\)</span>，贡献率为：<spanclass="math inline">\(\frac {eb} {ed}\)</span></li><li>生产函数移动量为 <spanclass="math inline">\(bd\)</span>，贡献率为：<spanclass="math inline">\(\frac {bd} {ed}\)</span></li></ul><p>　　因此：<span class="math inline">\(\frac {eb} {ed}  \lt \frac {bd}{ed}\)</span>，即与资本增长相比，技术进步带来的生产函数上移是劳均生产率提高的主要来源。</p><p>　　此时，直线 <span class="math inline">\(Od\)</span> 的斜率大于直线<span class="math inline">\(Oa\)</span>的斜率，导致资本产出比率下降（投资效率提高）。</p><p>　　<strong>总结：</strong></p><ul><li>若投资主要直接用于生产要素的供给，那么资本投入的增加会导致投资效率的降低。</li><li>若投资主要用于知识积累，体现在生产函数的上移，那么资本投入的增加反而会提高投资效率。</li></ul><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜Stata数据可视化</title>
      <link href="/posts/16330/"/>
      <url>/posts/16330/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><p><strong><em>- 待更新 -</em></strong></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 可视化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>模型｜门槛回归(Threshold Regression)</title>
      <link href="/posts/17387/"/>
      <url>/posts/17387/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><p><ahref="https://mp.weixin.qq.com/s/1dskY2xhpim8JL5xxltA8g">数量经济学 -Stata: 门槛回归、面板模型、动态面板模型结果输出</a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 门槛回归 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>因果推断｜回归猴子：从回归到因果推断</title>
      <link href="/posts/19698/"/>
      <url>/posts/19698/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><ul><li><ahref="https://www.aeaweb.org/articles?id=10.1257/jep.31.2.3"><strong>SusanAthey &amp; Guibo W. Imbens (2017) : "The State of Applied Econometrics:Causality and Policy Evaluation", <em>Journal of EconomicPerspectives</em>（诺奖得主论文）</strong></a></li><li><ahref="https://mp.weixin.qq.com/s/-ggPS9HYOP6YpCRRv68HXA">计量经济圈 -一张图总结各种因果推断方法适用数据, 条件和潜在缺陷</a></li><li><ahref="https://mp.weixin.qq.com/s/9ed2Z7H3ONnzTRBY0XBFKg">计量经济圈 -数学和统计学家怎么看因果推断方法的? 看这篇综述就够了！</a></li><li><ahref="https://mp.weixin.qq.com/s/b7IoOaBO8LlVOkx6YzP8iw">计量经济圈 -近年来最全面和接地气的“因果推断统计学综述”,真后悔接触这篇还是晚了点!</a></li><li><ahref="https://mp.weixin.qq.com/s/whnSSUl4NblnvCl7YQgffw">计量经济圈 -五类必懂的计量经济学因果推论方法</a></li><li><ahref="https://mp.weixin.qq.com/s/_PDXFS2dcUUnrOquS5Ammg">计量经济圈 -因果推断理论发展代表性文献一张表总结</a></li><li><ahref="https://pwya.github.io/post/计量基本无害的回归猴子/">潘王雨昂 -基本无害的回归猴子——实证快速上手指南</a></li><li><a href="https://www.zhihu.com/question/266812683">知乎 -因果推断（causalinference）是回归（regression）问题的一种特例吗？</a></li><li><a href="https://zhuanlan.zhihu.com/p/516200220">知乎 -枫雪苑：“因果推断”常见方法及最近进展</a></li><li><a href="https://www.lianxh.cn/news/aa3e050bc1398.html">连享会 -一组动图读懂因果推断</a></li><li><ahref="https://mp.weixin.qq.com/s/PPMFgk6UZ05011lwtyq_Bw">依然糅春天 -Causal Inference Book / Paper List（因果推断书籍 / 论文列表）</a></li><li><ahref="https://mp.weixin.qq.com/s/WwlSdipUHrBZOzi78PvY2g">依然糅春天 -Causal Inference Checklist番外篇：做好回归猴子速成秘籍之1</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 因果推断 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜第4章：经济增长来源的探讨：资本积累与技术进步</title>
      <link href="/posts/30423/"/>
      <url>/posts/30423/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>参考内容：</strong></p><p>速水佑次郎 《发展经济学（第 3 版）》 chap 5、chap 6</p></blockquote><h2 id="一经济发展中的资本积累">一、经济发展中的资本积累</h2><p>　　即使在强烈的人口压力下，自然资源枯竭的低收入经济体，只要农村的广大小生产者能够得到适当的公共品供给，就可以实现经济发展。低收入国家在发展初期面临的主要问题是促进劳动对自然资源的替代，使劳动和资本互补性增长。在实现工业化后，低收入国家对自然资源的依赖程度会降低，持续的经济增长将转化为促进资本积累和资本对劳动的替代。</p><p>　　两个经济阶段的不同关注点：</p><ul><li>自然资源禀赋制约阶段：人口爆炸式增长导致的自然资源禀赋短缺，成为制约经济发展的关键问题。应当关注通过增加资本和劳动投入，来提高自然资源的生产力。</li><li>产业革命阶段：人口增长率已经放缓，自然资源约束不再是经济增长面临的关键问题。在产业革命以来的新技术体制下，应当关注使用资本替代劳动，提高劳动生产率。</li></ul><p>　　许多发展中国家在自然资源禀赋约束阶段，依靠政府命令的方式实现资本积累。这些发展中国家大规模开办工厂，并从发达国家引进劳动节约型的技术装备，而没有对引进的技术进行适应性调整，难以实现相对稀缺的资本的高效利用。在此种情况下，通过行政命令土改储蓄率高和投资率，可能会导致其在工业化进程中面临发展停滞。</p><p>　　经济增长率的决定性因素：1）有资本积累率；2）资本在各种投资机会中的配置，特别是有形资本和无形资本之间的配置。</p><h3 id="从亚当斯密到马克思">1. 从亚当·斯密到马克思</h3><p>　　自亚当·斯密以来，经济学中普遍认为资本积累是经济增长的发动机，实现高资本积累率的机制是资本主义市场经济。通过培育资本主义的市场经济体制，就可以实现经济高速增长。</p><h4 id="亚当斯密的资本观">1.1 亚当·斯密的资本观</h4><p>　　亚当·斯密提倡自由放任和小政府，反对政府指令下的高积累模式。在自由的市场经济体制下，资本积累取决于消费份额，压制消费、高储蓄和高投资可以实现经济增长。</p><p>　　只有从事“有用的和生产行动的”工作的劳动，才为社会生产价值。资本积累对提高劳动生产率最重要，因为推动了劳动分工。</p><p>　　劳动分工促进劳动生产率提高的原因：</p><ul><li>工人生产技能和熟练度提高</li><li>节约了在不同工作之间转换所损失的时间</li><li>简化和缩减劳动的机械的发明，是一个人能够做许多人的工作</li></ul><p>　　为了实行劳动分工，企业家必须要有一定的资本存量（即工资基金），用于购买工场、生产工具和原材料，并在产品销售之前用于支付工人工资。随着企业家可利用的资本存量增加，更多不同工序上会雇佣更多的劳动力，以实现扩大劳动分工。</p><p>　　社会中的资本存量来自工业企业家的“过度节俭”积累。专制君主、有土地的贵族和有特权的商人的挥霍和渎职，会减少资本积累。减少资本的挥霍（撤销地主免税和废除商人垄断贸易许可证，削减统治体系内的俸禄），可以避免资本积累被耗竭。对工业资本家减少管制和降低税收，可以促进资本的积累。</p><p>　　（但是，资本的耗竭可能不仅仅来自以上几个来源，在统治集团和经济发展目标出现不一致时，将资本等有限的生产要素用于低效的、不能带来持续收益或不能扩大再生产的投资，可能会导致经济发展的停滞。例如：房地产、低效的基础建设工程等）</p><p>　　取消政府对生产和销售活动的干预，有利于增加企业家的收入，进而提高社会储蓄率，扩大市场容量和资本存量。</p><p>　　亚当·斯密提倡自由市场竞争，但是其观点的背景是英国重商主义政策下已经修建了大量公共基础设施（如道路、运河等），完善的公共基础设施是市场机制形成的基础。</p><h4 id="李嘉图的修正">1.2 李嘉图的修正</h4><p>　　促进经济增长必须要有减少挥霍性消费、增加有用的生产性活动的投资机制。</p><p>　　在李嘉图模型中，由于受到马尔萨斯人口法则的影响，占据人口大多数的劳动者的消费被长期压制在最低生计水平上，工业产品价值中超出劳动力最低生计水平的部分被资本家获得，这保证了资本积累率和产出增长率的持续稳定，用于资本积累。</p><p>　　李嘉图认为，人口增长使得人均土地禀赋下降，食品价格上升会导致名义工资率（名义生存水平工资率）的上升，这会导致经济增长停滞。为了保持高资本积累率和高经济增长率，通过粮食进口自由化可以缓解土地资源匮乏造成的食品价格上涨。</p><h4 id="马克思的资本主义发展模型">1.3 马克思的资本主义发展模型</h4><h5 id="马克思理论模型简介">1.3.1 马克思理论模型简介</h5><p>　　随着资本主义的扩大，被驱逐出传统职业（例如：小农和传统生产方式自我雇佣的制造业者）的人数会不断增长，会不断地产生工业后备军，剩余劳动力会一直存在。同时，资本家总是通过大规模的机械化实现资本对劳动的替代。因此，现代工业部门的就业增加要比资本积累和产出增长的速度低得多，剩余劳动力不是马尔萨斯人口法则导致的，而是资本主义的发展导致的。资本收入份额的增长是以牺牲劳动收入份额为代价的，不平等是资本主义固有的趋势。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230327231547-u37ng9h.png" style="width:350px" alt="马克思的资本主义经济发展模型"/></p><p>　　上图为根据现代经济学重构的马克思模型。在资本主义经济下，由于存在剩余劳动力，在生存水平工资率<span class="math inline">\(\overline W\)</span>下，劳动力市场具有完全弹性（水平线 <span class="math inline">\(\overlineW R_0\)</span>）；当剩余劳动力被工业部门吸收完毕后，工资率将会上升（曲线<span class="math inline">\(R_0 S_0\)</span>）。</p><ul><li>在初始期 <span class="math inline">\(t=0\)</span>：资本存量为 <spanclass="math inline">\(K_0\)</span>，现代资本主义部门的劳动力需求曲线为<span class="math inline">\(D_0\)</span>，初始均衡点为点 <spanclass="math inline">\(A\)</span>，此时雇佣工人数量为 <spanclass="math inline">\(L_0\)</span>，工资率为生存水平 <spanclass="math inline">\(\overlineW\)</span>。根据马克思的假设，在资本主义经济的工业部门，实际被雇佣的劳动力数量<span class="math inline">\(L_0\)</span> 远远小于劳动力总数量 <spanclass="math inline">\(R_0\)</span>，<span class="math inline">\(R_0 -L_0\)</span> 即为剩余劳动力 / 工业后备军的数量。资本家把利润 <spanclass="math inline">\(A D_0 \overline W\)</span> 中的大部分用于下一期<span class="math inline">\(t=1\)</span> 的投资。</li><li>在下一期 <span class="math inline">\(t=1\)</span>：资本存量提高<span class="math inline">\(K_0 \to K_1\)</span>，企业产出扩大 <spanclass="math inline">\(O L_0 A  D_0   \to  O L_1 BD_1\)</span>，传统生产方式被资本主义生产扩张挤压，小生产者（如小农、传统自我雇佣者、家庭成员等）被迫到资本主义工业部门寻找就业机会，导致劳动供给进一步上升，体现为劳动供给曲线的水平段延长（线段<span class="math inline">\(\overline W R_0  \to \overline WR_1\)</span>）。</li></ul><p>　　<strong>资本和劳动收入份额：</strong></p><ul><li>在初始期 <span class="math inline">\(t=0\)</span>，资本收入份额为<span class="math inline">\(A D_0 \overline W   /  O L_0A  D_0\)</span>，劳动收入份额为 <span class="math inline">\(O L_0 A\overline W   /  O L_0 A  D_0\)</span>；</li><li>在下一期 <span class="math inline">\(t=1\)</span>，资本收入份额为<span class="math inline">\(B D_1 \overline W   /  O L_1B  D_1\)</span>，劳动收入份额为 <span class="math inline">\(O L_1B  \overline W   /   O L_1 B  D_1\)</span>；</li><li>两期结果的比较：随着资本主义经济的发展，资本收入份额越来越大，劳动收入份额越来越小。</li></ul><p>　　因此，资本主义经济不平等的增长将刺激劳动者阶级和资本家阶级之间的敌对状态，最终将导致暴力革命，并将以少数人占有资本的私有制为基础的资本主义转变为以公有制为基础的社会主义，并且社会的不稳定将会随着经济萧条的周期性发生而加剧。事实上，在发达资本主义国家中，并未发生以生产资料占有制度为特征的社会制度变革，可能原因是发达资本主义国家的矛盾转移（例如代理人战争，经济倾销，技术垄断等）、福利制度的建立和工会等劳动保障机构的建立，延缓了社会矛盾的发生。自19世纪末以来，西欧和北美的手机工资率一直在上升，劳动者的收入份额也在增加。</p><p>　　马克思模型对当今发展中国家的启示：将投资集中在高收入国家劳动节约型技术的现代机械和设备上，会导致就业的增长远低于产出的增长。在发展中国家，由于爆炸性的人口增长，劳动增长率很高。农业部门因土地的资源禀赋限制，对劳动力的吸纳能力达到饱和点，剩余劳动力前往城市寻求就业机会成了劳动者的理性选择。在城市的工业部门，劳动节约型技术的广泛运用不利于工业吸纳劳动力，高增长率、低就业率的问题会导致流民和城市贫民窟问题，不平等和社会不稳定的问题会愈加严重。在工业化初期，解决好剩余劳动力的就业问题，对发展中国家的收入平等和社会稳定有重要意义。</p><p>　　马克思理论相对忽略了自然资源限制对经济发展的影响。在人口爆炸式增长的背景下，土地等自然资源约束会导致食品等基础生活物资供应可能会出现短缺。</p><h5 id="马克思理论和李嘉图模型的比较">1.3.2马克思理论和李嘉图模型的比较</h5><ul><li><p><strong>相同点：</strong></p><ul><li>水平的劳动供给曲线（即劳动供给具有完全弹性）。</li><li>工资率为生存水平 <span class="math inline">\(\overlineW\)</span>。</li><li>生存水平的工资率是确保资本快速积累的基础。</li></ul></li><li><p><strong>不同点：</strong></p><ul><li><p><strong>劳动供给曲线呈现水平状的原因不同。</strong></p><ul><li>马克思理论：工业部门存在未能被雇佣的“剩余劳动力 /工业后备军”，他们是城市贫民窟中无产者，靠从事非正式活动（例如：小生意、盗窃等）生存，并寻求在工业部门正式就业。因此，只要给予生存水平的工资率，工业部门就可以雇佣到工人。</li><li>李嘉图模型：在马尔萨斯人口法则的作用下，工资率的上涨会导致出生率的上升，增加的劳动供给会导致工资率的下降，进而工资率可以保持在生存水平。</li></ul></li><li><p><strong>工资率上升的情况不同。</strong></p><ul><li>马克思理论：当剩余劳动力被工业部门充分吸收后，工资率将高于生存水平<span class="math inline">\(\overlineW\)</span>。考虑到资本替代劳动的倾向，扩大再生产只会导致更多的失业，即更多的剩余劳动力，因此工资率上升的情况不存在。</li><li>李嘉图模型：在短期内，如果人口增长超过了最优等土地的食品生产能力，使用次优等土地导致的要素投入增加会使得食品价格上升，基于食品价格的生存工资率也会上升。但是在长期，工资率将维持在生存水平。</li></ul></li><li><p><strong>工业部门就业速度与资本积累速度的比较。</strong></p><ul><li>马克思理论：形成于 19世纪中期，蒸汽机驱动的自动机械已经很普遍，固定资产占资本总量的份额提高，因此马克思认为工业就业的增长速度远小于资本积累的速度，资本积累是以牺牲劳动收入份额为代价的。</li><li>李嘉图模型：形成于 18世纪末的工业革命，以蒸汽机为动力源的自动化设备还未得到充分发展，因此李嘉图认为在固定的生存工资率下，就业和资本存量平行增长。</li></ul></li></ul></li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230325213759-2yjdq8g.png" style="width:600px" alt="李嘉图的经济发展模型"/></p><h4 id="效率工资理论">1.4 效率工资理论</h4><p>　　效率工资理论可以解释马克思模型与新古典经济学存在的几个矛盾点：</p><ul><li>工业部门存在剩余劳动力，为什么工资率还是一个固定值（生存水平 <spanclass="math inline">\(\overline W\)</span>）？</li><li>为什么存在大量失业和半失业劳动者的就业竞争，资本家不将劳动力的雇佣价格降低至市场出清的水平？</li></ul><p>　　效率工资理论基本假设：劳动者的生产效率随着工资的增长而相应增长。资本主义雇主为其雇工提供高于市场出清水平的工资率，且生产率提高的价值增量高于所付工资（大于市场出清水平）的增量。</p><p>　　效率工资的两种解释：</p><ul><li>在低收入国家，市场出清的工资率往往太低，难以满足劳动者家庭的基本营养需求。即便有大量劳动力愿意以更低的工资为雇主工作，雇主也应该支付劳动者足够高的工资用于购买充足的食物。</li><li>雇主通过支付高于市场出清水平的工资来减少对雇工的监督成本。由于在其他地方工作只能获得市场出清的工资率，挣得多的劳动者害怕失去当前的工作，会更加努力的工作，避免因偷懒、疏忽损害生产设备、偷窃等行为被雇主开出。</li></ul><p>　　在第二种关于“监督成本”的解释中，对于劳动者：</p><p><span class="math display">\[\begin{align}z \lt (w-m) p n\end{align}\]</span></p><p>　　其中，<span class="math inline">\(z\)</span>表示劳动者通过欺骗产生的预期收益，<span class="math inline">\(w\)</span>为雇主目前支付的工资，<span class="math inline">\(m\)</span>为被解雇后的预期收入，<span class="math inline">\(p\)</span>是欺骗行为被发现的概率，<span class="math inline">\(n\)</span>是目前雇佣合同到续约时的周期数。</p><p>　　只要上式成立，劳动者的欺骗行为就得不偿失。因此可以算出，雇主支付的最低工资（效率工资）为：</p><p><span class="math display">\[\begin{align}\min \ w=m + \frac z {pn}\end{align}\]</span></p><p>　　在市场出清工资水平 <span class="math inline">\(m\)</span>上，雇主可以通过提高工资 <span class="math inline">\(\frac z{pn}\)</span>来诱导劳动者尽职工作，或者通过加强监督来提高发现雇工欺骗的概率 <spanclass="math inline">\(p\)</span>。如果劳动力的监督成本很高，雇主更加愿意支付更高的工资，而非从市场上招聘监工。</p><ul><li>当存在大量失业时，市场出清工资水平 <spanclass="math inline">\(m\)</span>很低，通过提高工资减少劳动力监督成本的效果很好。</li><li>现代工业部门需要培养雇工特定的工作技巧，因此提供的工作往往更正规和更具有长期性。对于雇佣周期<span class="math inline">\(n\)</span>比较长的工作，支付高于市场出清工资率 <spanclass="math inline">\(m\)</span> 的效率工资 <spanclass="math inline">\(m+ \frac z{pn}\)</span>，比节约出的监督成本更加划算的。</li></ul><h3 id="第二次世界大战以来的发展理论和政策">2.第二次世界大战以来的发展理论和政策</h3><p>　　以亚当·斯密为代表的古典经济学和马克思经济学都认为，在资本主义市场经济中，压制消费是高资本积累率和经济增长的基础。</p><p>　　在第二次世界大战以后，主流发展经济学认为，对于新独立的发展中国家，由于缺乏原始资本积累，市场机制不足以支撑高资本积累率和高增长。该观点以古典假设为基础：在收入处于生存水平时，储蓄率为0，随着人均收入的增长，储蓄率也会随之增长。</p><p>　　在该假设背景下，如果让市场自由配置资源，收入接近生计水平的贫困国家难以跳出低储蓄率和低收入的恶性循环。以行政指令的方式可能是有效的。例如，很多发展中国家倾向于选择社会主义模式，通过中央计划和指令压制消费，或者强制留存一部分资金用于资本积累。</p><h4 id="平衡增长理论">2.1 平衡增长理论</h4><p>　　第二次世界大战后新独立的发展中国家不太可能依靠初级产品出口的迅速增长来实现经济增长。这些国家只能通过自己制造进口的工业品来实现发展。由于发展中国家的收入低、国内市场狭小，这种工业化战略会受到严重制约，企业生产出的工业品难以被本国消费市场消化。</p><p>　　同时发展多种产业，可以互相创造出市场，可以解决发展单一产业导致产品难以销售的问题。多种产业的“平衡增长”需要同时动员大量的资本和劳动力。考虑到发展中国家存在大量隐蔽失业，雇佣这些边际产出为0的剩余劳动力可以较好地发展没有较大资金、技术瓶颈的工业化。同时，平衡增长理论认为，发展中国家的工业化缺乏原始资本积累，国内储蓄率低，且难以大规模引进外资，政府建立强制储蓄机制是新独立国家实现经济发展的唯一选择。</p><h4 id="哈罗德-多马模型的应用">2.2 哈罗德-多马模型的应用</h4><p>　　哈罗德-多马模型（Roy Harrod &amp; Evsey Domar）的基本方程：</p><p><span class="math display">\[\begin{align}g = s /c\end{align}\]</span></p><p>　　其中，<span class="math inline">\(g = \dot Y / Y\)</span>为国民收入 <span class="math inline">\(Y\)</span> 的增长率；<spanclass="math inline">\(s = S/Y\)</span> 为储蓄率；<spanclass="math inline">\(c= \dot K /  \dot Y\)</span>为边际资本产出比率（资本系数），表示每多生产一个单位的国民收入所需要追加的资本投入。</p><p>　　在哈罗德-多马模型中，假设技术水平外生，即边际资本产出比率 <spanclass="math inline">\(c\)</span> 为给定的常数，因此，<spanclass="math inline">\(c = K/Y\)</span>。上式可以根据凯恩斯均衡假设（投资恒等于储蓄 <spanclass="math inline">\(I= \dot K\)</span>）证明得到。</p><h4 id="低均衡陷阱模型">2.3 低均衡陷阱模型</h4><p>　　低均衡陷阱模型 / 临界的最小努力模型 /大推进模型：发展中国家的低人均收入和低储蓄率之间存在恶性循环。</p><p>　　低均衡陷阱模型的两个基础：1）经济增长完全依赖于有形资本投入的相关模型，2）人口理论</p><p>　　<strong>图解：</strong></p><ul><li><p>图片上面部分：人口增长率 <span class="math inline">\(\dot N /N\)</span> 和人均收入 <span class="math inline">\(Y /N\)</span>的关系。人均收入和工资率是大致成比例的，因此曲线 <spanclass="math inline">\(\dot N /N\)</span> 和<ahref="https://fgzfgz.github.io/posts/47859/">马尔萨斯人口理论</a>（下方有附图）中的曲线<span class="math inline">\(G \overline W H\)</span> 相对应；点 <spanclass="math inline">\(m\)</span> 处人口增长率为 0，与生存水平工资率<span class="math inline">\(\overline W\)</span> 相对应。</p></li><li><p>图片中间部分：储蓄率 <span class="math inline">\(s = S/Y\)</span>和人均收入 <span class="math inline">\(Y /N\)</span>的关系。随着人均收入 <span class="math inline">\(Y /N\)</span>的提高，<span class="math inline">\(s\)</span>呈现指数上升。储蓄率曲线与横轴交于点 <spanclass="math inline">\(m\)</span>，此时人均工资率仅为生存水平 <spanclass="math inline">\(\overlineW\)</span>，劳动者的所有收入用于维持基本生计。</p></li><li><p>图片下面部分：人均收入 <span class="math inline">\(Y /N\)</span>与人均收入的增长率的决定因素。人口增长曲线 <spanclass="math inline">\(\dot N / N\)</span> 向下移动，储蓄率曲线 <spanclass="math inline">\(s\)</span> 与资本产出比率 <spanclass="math inline">\(c\)</span> 相除得到的曲线 <spanclass="math inline">\(s / c = \dot Y/Y\)</span> 向下移动（这里 <spanclass="math inline">\(s / c = \dot Y/Y\)</span>的计算过程使用了哈罗德-多马模型的基本方程）。图中，点 <spanclass="math inline">\(m\)</span> 为稳定的均衡点。</p><ul><li>如果人均收入小于均衡点，即 <span class="math inline">\(\frac Y  N\lt m\)</span>，则人口下降速度比总收入下降速度快，人均收入将会增加至<span class="math inline">\(m\)</span> 点；</li><li>如果人均收入超过均衡点，即 <span class="math inline">\(\frac Y  N\gt m\)</span>，则人口增长率（点 <spanclass="math inline">\(b\)</span>）高于总收入增长率（点 <spanclass="math inline">\(f\)</span>），人均收入将会下降至 <spanclass="math inline">\(m\)</span> 点。</li></ul></li></ul><p>　　位于点 <span class="math inline">\(m\)</span>的发展中国家依靠国内投资增加，难以摆脱生计水平的工资率 <spanclass="math inline">\(\overlineW\)</span>，收入增长会被新增人口分摊掉。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230328014810-3f16hl3.png" style="width:400px" alt="低均衡陷阱模型"/></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230325162058-084efhw.png" style="width:400px" alt="马尔萨斯人口理论及其修订"/></p><p>　　因此，依靠一个时期资本积累的适度增长不能跳出低均衡陷阱。为了实现经济持续增长，必须增加足够大的投资，将经济一次性推到<span class="math inline">\(n\)</span> 点以上。经济一旦跨越门槛 <spanclass="math inline">\(n\)</span>，达到点 <spanclass="math inline">\(k\)</span> 处，收入增长率（点 <spanclass="math inline">\(e\)</span>）会比人口增长率（点 <spanclass="math inline">\(d\)</span>）更高，人均收入的增长才能持续。</p><p>　　在低收入国家，依靠市场机制不可能产生储蓄，在动员储蓄和投资时，需要超过“临界最小努力”（点<spanclass="math inline">\(n\)</span>）。因此，新独立的发展中国家不能通过大规模引进资本（例如殖民地时代，通过殖民地的冗余自然资源开发完成原始资本积累），只能从很低的人均收入中强制挤出资本用于原始资本积累。</p><h4 id="发展理论和政策选择">2.4 发展理论和政策选择</h4><p>　　许多二战后新独立的国家通过牺牲消费品和服务的生产，来实现原始资本积累，具体政策包括：</p><ul><li>直接向国有企业投资</li><li>政府指令性贷款</li><li>销售管制政策</li><li>差别税收政策</li></ul><p>　　政府实施剥削农业政策（例如：中国的工农业剪刀差），通过农业商品出口税和农产品的高国家垄断收购差价，获得工业资本积累。农产品的低价格抑制了农民的收入和消费，同时降低了工人的生活费用和生存工资率，进而提高了资本利润和投资激励。</p><p>　　二战以后，新独立的发展中国家依靠计划经济实现资本积累的原因：</p><ul><li>在前苏联和其他社会主义国家，全面推行依靠政府命令和计划提高资本积累，20实际 60 年代前苏联的经济出现了高增长率；</li><li>发展中国家认为市场经济是殖民政府留下的一种剥削机制。</li></ul><p>　　作者的观察和结论：通过政府民工和计划进行资本积累，并没有给发展中国家带来高经济增长率。</p><h3 id="新古典生产函数和增长模型">3. 新古典生产函数和增长模型</h3><h4 id="生产函数的不同假设">3.1 生产函数的不同假设</h4><h5 id="哈罗德-多马模型的生产函数">3.1.1 哈罗德-多马模型的生产函数</h5><p>　　在基于特定生产函数形式的经济体中，通过强制手段提高储蓄率可以促进经济增长。与哈罗德-多马模型中的资本产出率<span class="math inline">\(c=K/Y\)</span> 相类似，总产出 <spanclass="math inline">\(Y\)</span>与生产要素投入相关的加总生产函数可以表示为：</p><p><span class="math display">\[\begin{align}Y=AK\end{align}\]</span></p><p>　　其中，<span class="math inline">\(A=\frac 1c\)</span>，为一个常数。由于经济中存在边际生产率为 0的剩余劳动力，除非增加更多的资本，否则劳动力的供给增加也无法提高总产出<spanclass="math inline">\(Y\)</span>。在劳动力无限供给、资本相对稀缺的极端情况下，劳动和资本的投入不再具有替代性。</p><blockquote><p><strong>补充：</strong></p><p>上面生产函数哈罗德-多马模型下列昂惕夫（Leontief）生产函数的特殊形式。常规形式是：</p><p><span class="math display">\[\begin{align}Y= \min \{  AK, BL \}\end{align}\]</span></p><p>上式表明，在恒为常数的资本生产率 <span class="math inline">\(A= Y/K\)</span> 与劳动生产率 <span class="math inline">\(Y/L\)</span>下，<span class="math inline">\(AK\)</span> 与 <spanclass="math inline">\(BL\)</span> 中的较小的一个决定了实际产出 <spanclass="math inline">\(Y\)</span>。如果其中任意一种生产要素固定，另一种生产要素超过了临界<span class="math inline">\(K/L\)</span>的比例，继续增加生产要素供给不会使得产出增加。</p><p>在哈罗德-多马模型中，此种情况是一种短期情况，在既定的技术水平下，工厂的机械设计要求配置特定比例的劳动力，固定生产要素投入比例的假设是合适的。在长期中，资本和劳动均可以实现灵活配置，技术水平也会出现重大进展，所以固定生产要素的比例不再合适。</p><p>对应劳动力无限供给、资本相对稀缺的情况，也可以假设劳动力供给短缺，拥有大量闲置资本（因此资本边际生产率为0）的情况，此时生产函数为：</p><p><span class="math display">\[\begin{align}Y= BL\end{align}\]</span></p></blockquote><p>　　对于发展中国家来说，如果经济存在隐蔽失业的现象，使用 <spanclass="math inline">\(Y=AK\)</span>来衡量要素投入和产出的关系是合适的。但一些学者认为不存在边际劳动生产率为0 的剩余劳动力（T. W. Schultz, 1964；Hopper, 1965）。</p><blockquote><p><strong>补充：</strong><ahref="https://www.nsd.pku.edu.cn/attachments/260289b27a2b46d2bd0c4a4b56256a1d.pdf">《刘易斯农业零值劳动假说的“自然实验”检验：来自印度大流感与中国大跃进的证据》</a></p><p>舒尔茨（Schultz）在《改造传统农业》中指出，零值劳动力假说建立在<u>不完全的要素市场</u>和<u>有限的技术替代性</u>基础上，并使用印度1918-1919年大流感的经验资料来验证这一观点。印度爆发大流感导致劳动力数量下降了约8%，在大流感爆发后，谷物播种面积则减少了3.8%，该测算结果与产量对劳动的弹性大致接近。舒尔茨据此认为，在以印度为代表的贫穷农业国，不存在零值劳动力，劳动力数量的下降会导致播种面积（进而农业产出）成比例的下降。</p><p>不过舒尔茨的分析主要使用二手资料，并大量引用了其他学者的测算数据，不同来源、不同测算口径的数据的可比性不够高，是一些学者认为舒尔茨批评零值劳动力假说证据不足的原因之一。</p></blockquote><p>　　在长期分析中，技术水平 <span class="math inline">\(A=\frac 1c\)</span>是一个常数的假设可能不再适用。根据哈罗德的分析，当利率外生（固定）时，使资本产出比率<span class="math inline">\(K/Y\)</span>不变的技术进步为哈罗德中性技术进步（相当于希克斯的劳动节约型）。因此，哈罗德-多马模型认为，只有通过技术进步，才能降低资本产出比率<span class="math inline">\(K/Y\)</span>。</p><blockquote><p><strong>补充：</strong></p><p>哈罗德中性技术进步是比较符合经济现实的一种技术进步。对于生产函数<span class="math inline">\(Y=F(K,AL)\)</span>，其假设如下：</p><p>假设一：相对于资本、劳动和知识，其他投入要素不重要（生产函数中不包括其他的生产要素）。</p><p>假设二（关键假设）：生产函数对两个自变量（资本和有效劳动）是规模报酬不变的。即：</p><p><span class="math display">\[\begin{equation}F(cK,cAL)=cF(K,AL), \ \ \forall c \ge 0\end{equation}\]</span></p><p>可以得到： <span class="math inline">\(F(\frac K {AL},1)=\frac 1 {AL}F(K,AL)\)</span>，其中 <span class="math inline">\(AL\)</span>为考虑技术效率的有效劳动。</p><p>哈罗德中性 / 劳动节约型 /劳动增进型技术进步：对于固定不变的资本产出比率 <spanclass="math inline">\(K/Y\)</span>，技术进步体现为对劳动生产率的提高，或者说是对劳动的替代。也就说，资本<span class="math inline">\(K\)</span> 和有效劳动 <spanclass="math inline">\(AL\)</span> 同时成倍增加，会使得经济产出 <spanclass="math inline">\(Y\)</span> 以相同的倍率增加，此时资本 <spanclass="math inline">\(K\)</span> 和有效劳动 <spanclass="math inline">\(AL\)</span> 的投入比例 <spanclass="math inline">\(\frac K {AL}\)</span> 不变，但资本 <spanclass="math inline">\(K\)</span> 和劳动 <spanclass="math inline">\(L\)</span> 投入的比例 <spanclass="math inline">\(\frac K L\)</span> 已经发生，技术进步（即技术效率<span class="math inline">\(A\)</span> 的提高）意味着劳动雇佣量 <spanclass="math inline">\(L\)</span> 的减少。</p></blockquote><h5 id="新古典生产函数">3.1.2 新古典生产函数</h5><p>　　在特定的生产技术 <span class="math inline">\(T\)</span> 下，劳动<span class="math inline">\(L\)</span>、资本 <spanclass="math inline">\(K\)</span> 两种生产要素与产出 <spanclass="math inline">\(Y\)</span> 的关系：</p><p><span class="math display">\[\begin{align}Y= F(L,K;T)\end{align}\]</span></p><p>　　生产函数的假设：生产函数二次可微，且满足稻田条件，即一阶导数大于0，二阶导数小于 0，<span class="math inline">\(L\)</span> 和 <spanclass="math inline">\(K\)</span> 的交叉导数大于 0。假设 <spanclass="math inline">\(T\)</span> 的变化会影响 <spanclass="math inline">\(L\)</span> 和 <spanclass="math inline">\(K\)</span> 的导数。</p><p>　　特殊情况：柯布-道格拉斯生产函数：</p><p><span class="math display">\[\begin{align}Y= AL^{\alpha } K ^{\beta}\end{align}\]</span></p><p>　　其中，<span class="math inline">\(\alpha\)</span>、<spanclass="math inline">\(\beta\)</span>分别是劳动和资本的产出弹性，表示分别增加 1% 的劳动 <spanclass="math inline">\(L\)</span> 或资本 <spanclass="math inline">\(K\)</span>，产出相应增长的百分比。技术 <spanclass="math inline">\(A\)</span> 表示给定劳动 <spanclass="math inline">\(L\)</span> 资本 <spanclass="math inline">\(K\)</span> 组合时决定产出的技术。</p><p>　　假设 <span class="math inline">\(\alpha + \beta=1\)</span>，如果劳动 <span class="math inline">\(L\)</span> 和资本<span class="math inline">\(K\)</span> 同比例增长，<spanclass="math inline">\(Y\)</span>也按照同样的比例增长（线性齐次特性）。</p><p>　　哈罗德-多马模型是柯布-道格拉斯生产函数的特殊形式（<spanclass="math inline">\(\alpha = 0, \  \beta =1\)</span>）。</p><p>　　如果柯布-道格拉斯生产函数有 <span class="math inline">\(0 \lt\alpha , \ \beta \lt 1\)</span>，<span class="math inline">\(\alpha +\beta =1\)</span>，那么就可以得到：</p><ul><li>劳动 <span class="math inline">\(L\)</span> 和资本 <spanclass="math inline">\(K\)</span> 可以互相替代</li><li>随着投入增加，要素的边际生产率递减</li></ul><h4 id="索洛-旺斯模型">3.2 索洛-旺斯模型</h4><p>　　在线性齐次生产函数 <span class="math inline">\(Y= AL^{\alpha } K^{\beta}\)</span> 中，两边分别除以 <spanclass="math inline">\(L\)</span>：</p><p><span class="math display">\[\begin{align}y= A k ^{\beta}\end{align}\]</span></p><p>　　其中：<span class="math inline">\(y=Y/L\)</span>为劳均产出，<span class="math inline">\(k=K/L\)</span>为劳均资本投入。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230330180250-c739h73.png" style="width:450px" alt="索洛-斯旺模型与哈罗德-多马模型的比较"/></p><p>　　假设在一年内，平均储蓄率为 <spanclass="math inline">\(s\)</span>，劳均储蓄为 <spanclass="math inline">\(sy\)</span>。由于投资储蓄恒等式，劳均储蓄 <spanclass="math inline">\(sy\)</span>和劳均投资相等。如果劳动力投入数量不变，那么劳均资本增长率为 <spanclass="math inline">\(\frac {sy}k\)</span>。在发展中国家，由于劳动力数量增加，会导致劳均资本增长率下降。对于劳均资本投入<spanclass="math inline">\(k=K/L\)</span>，先做对数运算，再对时间进行微分可得：</p><p><span class="math display">\[\begin{align}\frac {\dot k} k= \frac {\dot K} K - \frac {\dot L} L\end{align}\]</span></p><p>　　其中：资本增长率 <span class="math inline">\(\frac {\dot K} K =\frac {sY} K=\frac {sy} k\)</span>，假设人口增长率和劳动生产率相等 <spanclass="math inline">\(n=\frac {\dot L} L\)</span>，那么：</p><p><span class="math display">\[\begin{align}\frac {\dot k} k= \frac {sy} k - n\end{align}\]</span></p><p>　　上式中，资本存量为扣除折扣后的净资本存量。将上式左右两边乘以<span class="math inline">\(k\)</span>，可得：</p><p><span class="math display">\[\begin{align}\dot k= sy - nk =   s A k ^{\beta}- nk\end{align}\]</span></p><p>　　上式中，<span class="math inline">\(sAk^{\beta}\)</span>为劳均收入中用于消费的部分，<span class="math inline">\(nk\)</span>为斜率为 <span class="math inline">\(k\)</span>的直线（如上图的上半部分）。</p><ul><li>当 <span class="math inline">\(s A k ^{\beta} = nk\)</span>时，此时达到均衡状态，均衡劳均资本为 <span class="math inline">\(k^*\)</span>，劳均资本的增长率 <span class="math inline">\(\dot k=0\)</span>；</li><li>当 <span class="math inline">\(s A k ^{\beta} \gt  nk\)</span>时，此时劳均资本为 <span class="math inline">\(k_1 \lt k^*\)</span>，由于劳均资本的增长率 <span class="math inline">\(\dot k\gt  0\)</span>，劳均资本会增长 <span class="math inline">\(k_1 \tok^*\)</span>；</li><li>当 <span class="math inline">\(s A k ^{\beta} \lt  nk\)</span>时，此时劳均资本为 <span class="math inline">\(k_1 \gt k^*\)</span>，由于劳均资本的增长率 <span class="math inline">\(\dot k\lt  0\)</span>，劳均资本会下降 <span class="math inline">\(k_2 \tok^*\)</span>。</li></ul><p>　　因此，劳均产出 <span class="math inline">\(y\)</span>最终将会收敛于均衡产出 <span class="math inline">\(y^* = A {k^*}^{\beta}\)</span>。当达到稳态时：</p><ul><li>净资本存量 <span class="math inline">\(K\)</span> 和总产出 <spanclass="math inline">\(Y\)</span> 按相同的速率增长，为人口增长率（<spanclass="math inline">\(\frac {\dot K} K =  \frac {\dot Y}Y=n\)</span>）。</li><li>如果储蓄率 <span class="math inline">\(s\)</span>提高，或者人口增长率 <span class="math inline">\(n\)</span> 下降，曲线<span class="math inline">\(s A k ^{\beta}\)</span> 和直线 <spanclass="math inline">\(nk\)</span> 的交点会移动至 <spanclass="math inline">\(k^*\)</span> 右边，在 <spanclass="math inline">\(k^*\)</span> 的水平上，<spanclass="math inline">\(s A k ^{\beta}- nk \gt 0\)</span>，因此劳均产出<span class="math inline">\(y\)</span> 和劳均资本存量 <spanclass="math inline">\(k\)</span>向新的稳态移动。达到新的均衡后，经济增长将会停止。</li><li>只有持续的技术进步 <spanclass="math inline">\(A\)</span>，才可以继续提高劳均产出 <spanclass="math inline">\(Ak^{\beta}\)</span>，实现劳均产出的增长。</li></ul><p>　　在哈罗德-多马模型中，生产函数为一条直线：</p><ul><li>如果 <span class="math inline">\(sA \gt n\)</span>，即 <spanclass="math inline">\(\dot k \gt 0\)</span>，劳均资本 <spanclass="math inline">\(k\)</span> 可以实现无限增长；</li><li>如果 <span class="math inline">\(sA \lt n\)</span>，即 <spanclass="math inline">\(\dot k \lt 0\)</span>，劳均资本 <spanclass="math inline">\(k\)</span> 将持续降低，将会陷入低均衡陷阱（对应<ahref="https://fgzfgz.github.io/posts/47859/">低均衡陷阱模型</a>中 <spanclass="math inline">\(m \to n\)</span> 部分）；</li><li>通过强制手段抑制消费、提高储蓄率 <spanclass="math inline">\(s\)</span>，使得 <span class="math inline">\(sA\gt n\)</span>，就可以实现持续的经济增长。</li></ul><p>　　在索洛-斯旺模型中，生产函数为一条凸曲线：</p><ul><li>提高储蓄率产生的影响时暂时的，对经济增长的影响只能持续到新的稳态为止；</li><li>如果没有持续的技术进步，人均收入（劳均产出）的提高不能持续，经济无法实现持续增长。</li></ul><h3 id="增长核算检验">4. 增长核算检验</h3><p>　　新古典增长模型认为技术进步是持续经济增长的关键因素，提高储蓄率对经济增长则是短期影响。但如果储蓄率能达到5%~10%，这种短期的经济增长也可能持续相当长的是时间。增长核算分析可以用以分析“与技术进步相比，提高储蓄率对资本和产出的影响有多大”这一问题。</p><h4 id="增长核算方程">4.1 增长核算方程</h4><h5 id="生产函数形式">4.1.1 生产函数形式</h5><p>　　为了考察经济增长的源泉，区分经济增长的直接原因和基本原因，提出以下方程：（宏观经济学第8 章-<a href="https://fgzfgz.github.io/posts/27640/">经济增长</a>）</p><p><span class="math display">\[\begin{align}Y_t=f(K_t, R_t, N_t, A_t, B_t)\end{align}\]</span></p><ul><li><span class="math inline">\(Y_t\)</span>：经济的总产出；</li><li><span class="math inline">\(K_t\)</span>：资本存量；</li><li><span class="math inline">\(R_t\)</span>：自然资源；</li><li><span class="math inline">\(N_t\)</span>：劳动投入；</li><li><span class="math inline">\(A_t\)</span>：经济应用知识的储量；</li><li><spanclass="math inline">\(B_t\)</span>：基本因素，或“社会文化环境”或“社会能力”，是经济运行所不可缺失的。</li></ul><p>　　对上面的生产函数进行简化，假设希克斯中性形式的生产函数为：</p><p><span class="math display">\[\begin{align}Y=AF(L, K)\end{align}\]</span></p><p>　　其中，经济总产出 <span class="math inline">\(Y\)</span> 由劳动<span class="math inline">\(L\)</span> 和资本 <spanclass="math inline">\(K\)</span>投入生产出来，且技术进步同时作用于资本和劳动，由初期确定的 <spanclass="math inline">\(L\)</span> 和 <spanclass="math inline">\(K\)</span> 生产的产出，会随着技术进步增加 <spanclass="math inline">\(A\)</span>倍。假设该生产函数为乘法形式，且对于资本 <spanclass="math inline">\(K\)</span> 和劳动 <spanclass="math inline">\(L\)</span>投入，具有规模报酬不变、线性齐次的的性质（例如：<spanclass="math inline">\(Y=A L^{\alpha} K^{\beta}\)</span>，其中 <spanclass="math inline">\(\alpha +\beta =1\)</span>）。</p><p>　　对上述的生产函数取对数，然后对时间 <spanclass="math inline">\(t\)</span> 作微分，可得：</p><p><span class="math display">\[\begin {align}g_Y=g_A+\alpha g_L + \beta g_K\end {align}\]</span></p><ul><li><span class="math inline">\(g_Y\)</span>：总产出增长率，<spanclass="math inline">\(g_Y = \dot Y / Y\)</span>；</li><li><spanclass="math inline">\(g_A\)</span>：技术增长率（全要素生产率），<spanclass="math inline">\(g_A = \dot A / A\)</span>;</li><li><span class="math inline">\(g_L\)</span>：劳动增长率，<spanclass="math inline">\(g_L = \dot L / L\)</span>；</li><li><span class="math inline">\(g_K\)</span>：资本增长率，<spanclass="math inline">\(g_K = \dot K / K\)</span>。</li></ul><h5 id="产出弹性与索洛余量">4.1.2 产出弹性与索洛余量</h5><p>　　其中，<span class="math inline">\(\alpha\)</span> 和 <spanclass="math inline">\(\beta\)</span>分别为劳动和资本的产出弹性（劳动和资本增长 1%时，产出增长的百分比）：</p><p><span class="math display">\[\begin {align}\alpha = \frac { \partial Y  / \partial L } {Y / L} \ ; \ \ \beta =\frac { \partial Y  / \partial K } {Y / K}\end {align}\]</span></p><p>　　与柯布-道格拉斯生产函数的区别：</p><ul><li>柯布-道格拉斯生产函数：<span class="math inline">\(\alpha\)</span>和 <span class="math inline">\(\beta\)</span>为常数，因为技术外生；</li><li>增长核算方程：<span class="math inline">\(\alpha\)</span> 和 <spanclass="math inline">\(\beta\)</span> 可以发生变化。</li></ul><p>　　索洛余量：产出增长率 <span class="math inline">\(g_Y\)</span>中不能被资本 <span class="math inline">\(\beta g_K\)</span> 和 <spanclass="math inline">\(\alpha g_L\)</span>劳动增长率贡献解释的部分，是扣除 <span class="math inline">\(L\)</span>和 <span class="math inline">\(K\)</span> 影响后产出 <spanclass="math inline">\(Y\)</span> 增长的残差。</p><p><span class="math display">\[\begin {align}g_A=g_Y - \alpha g_L -  \beta g_K\end {align}\]</span></p><h5 id="人均产出与劳均产出的增长核算方程">4.1.3人均产出与劳均产出的增长核算方程</h5><p>　　在要素市场处于竞争性均衡的假设下，劳动和资本的收入份额分别为<span class="math inline">\(\alpha\)</span> 和 <spanclass="math inline">\(\beta\)</span>，即：<spanclass="math inline">\(\alpha = \frac {wL} {Y}\)</span>，<spanclass="math inline">\(\beta = \frac {rK} {Y}\)</span>。此时，均衡工资率<span class="math inline">\(w\)</span> 为劳动的边际产出 <spanclass="math inline">\(w=\frac {\partial Y} {\partialL}\)</span>，均衡利率 <span class="math inline">\(r\)</span>为资本的边际产出 <span class="math inline">\(r=\frac {\partial Y}{\partial K}\)</span>。</p><p>　　真实的经济会在一定程度上偏离竞争性均衡，由于生产弹性难以计算，用要素份额代替生产弹性，增长核算分析的结果误差是不可避免的。</p><h6 id="人均产出的增长核算方程">4.1.3.1 人均产出的增长核算方程</h6><p>　　在上面增长核算方程的基础上，两边同时减去人口增长率 <spanclass="math inline">\(g_N\)</span>（<span class="math inline">\(g_N =(\alpha +\beta ) g_N\)</span>，因为假设规模报酬不变 <spanclass="math inline">\(\alpha +\beta=1\)</span>），可以得到人均收入的增长核算方程：</p><p><span class="math display">\[\begin {align}g_Y -g_N &amp; = g_A+\alpha (g_L -g_N) + \beta (g_K -g_N)  \\ \notag                &amp; = g_A+\alpha g_{ (L /N)} + \beta g_{ (K /N)}\end{align}\]</span></p><p>　　上式可以改写为：</p><p><span class="math display">\[\begin {align}g_{ (Y/N) } =g_A+\alpha g_{ (L/N) }  + \beta g_{ (K/N) }\end{align}\]</span></p><p>　　其中：<span class="math inline">\(g_{ (Y/N) }\)</span>为人均产出增长率；<span class="math inline">\(g_{ (L /N)}\)</span>为劳动力占比增长率；<span class="math inline">\(g_{ (K /N)}\)</span>为人均资本增长率。</p><h6 id="劳均产出的增长核算方程">4.1.3.2 劳均产出的增长核算方程</h6><p>　　与上面人均产出增长核算方程类似，在原始的增长核算方程的基础上，两边同时减去劳动增长率<span class="math inline">\(g_L\)</span>（<spanclass="math inline">\(g_L = (\alpha +\beta )g_L\)</span>，因为假设规模报酬不变 <span class="math inline">\(\alpha+\beta =1\)</span>），可以得到劳均收入的增长核算方程：</p><p><span class="math display">\[\begin {align}g_Y -g_L &amp; = g_A+\alpha (g_L -g_L) + \beta (g_K -g_L)  \\ \notag                &amp; = g_A+ \beta g_{ (K /L)}\end{align}\]</span></p><p>　　上式可以改写为（字母的含义发生了变更）：</p><p><span class="math display">\[\begin {align}g_{ (Y/L) } =g_A  + \beta g_{ (K/L) }\end{align}\]</span></p><p>　　其中：<span class="math inline">\(g_{ (Y/L) }\)</span>为劳均产出增长率；<span class="math inline">\(g_{ (K /L)}\)</span>为劳均资本增长率。</p><h4 id="现代经济增长的源泉">4.2 现代经济增长的源泉</h4><p>　　总产出、人均产出、劳均产出的增长核算方程：</p><p><span class="math display">\[\begin {align}&amp; g_A =g_Y - \alpha g_L -  \beta g_K  \\&amp; g_{ (Y/N) } =g_A+\alpha g_{ (L/N) }  + \beta g_{ (K/N) }  \\&amp; g_{ (Y/L) } =g_A  + \beta g_{ (K/L) }\end {align}\]</span></p><p>　　库兹涅茨（Kuznets, 1966）的结论：发达工业国的经济增长（以人均收入<span class="math inline">\(Y/N\)</span>衡量）来源主要是全要素生产率的增长。全要素生产率对实际收入增长的贡献远比要素投入的贡献重要。</p><p>　　<strong>（1）使用人均产出估计：</strong></p><p>　　发达的在 18 世纪 50 年代支 19 世纪 50 年代（50-100年里），发达工业国的世纪人均收入（人均产出）年增长率为1%～2%，年平均增长率为 1.5%，人均工作小时数每年下降约 0.3%。在整个过去的50-100 年内，资本产出比率下降约 30%，劳动产出比率约占70%，即人均资本增长率为 <span class="math inline">\(g_{ (K/N) } = 1.5 \%\times 0.7 \approx 1 \%\)</span>。发达国家中劳动和资本收入份额一般为<span class="math inline">\(\alpha = 0.75\)</span> 和 <spanclass="math inline">\(\beta = 0.25\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230331182148-d4wa0nj.png" style="width:650px" alt="若干发达国家的产出、投入和生产率的增长率"/></p><p>　　因此，资本对人均收入增长的贡献为 <spanclass="math inline">\(\beta g_{ (K/N) } = 0.25 \times 1.0 \% = 0.25\%\)</span>，仅为人均收入平均增长率（1.5%）的17%；劳动对人均收入增长贡献为 <span class="math inline">\(\alpha g_{(L/N) }  = 0.75 \times (-0.3 \%)=-0.23 \%\)</span>。</p><p>　　劳动和资本对人均收入增长贡献合计仅有 <spanclass="math inline">\(\beta g_{ (K/N) } + \alpha g_{ (L/N) }   = 0.25 \%+ ( - 0.23 \% ) = 0.02 \%\)</span>，因此，实际人均收入增长的 99%都是由全要素生产率 <span class="math inline">\(g_A\)</span>增长带来的。</p><p>　　<strong>（2）使用劳均产出估计：</strong></p><p>　　资本产出比率对劳动生产率增长的贡献仅有约20%，全要素生产率的贡献约有 80%。</p><h3 id="经济增长类型的变化">5. 经济增长类型的变化</h3><p>　　库兹涅茨将工业革命以来西方发达国家的经济增长解释为持续的技术进步，而非资本积累。随着技术水平的迅速提高，资本积累带来的边际报酬递减问题会被克服，从而会导致资本产出比例<span class="math inline">\(K/Y\)</span> 的下降。</p><p>　　但是在全要素生产率快速上升以前，技术进步可能并不能很好地解释经济增长。</p><h4 id="增长核算的历史延申">5.1 增长核算的历史延申</h4><p>　　Abramovitz（1993）的观点：从 19世纪初开始，工业化初期的经济增长是以资本积累为基础的，而非技术进步。</p><p>　　图下图所示，在发展早期（1800-1855 年、1855-1900年），资本-劳动比率增长 <span class="math inline">\(g_{ (K/L) }\)</span>的贡献远远大于全要素生产率 <span class="math inline">\(g_A\)</span>的贡献，资本的产出比率 <span class="math inline">\(K/Y\)</span>增加了，资本的收入份额也有大幅增加（从 0.34 增加到0.45），这符合马克思的资本主义经济发展理论。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230331185519-gm72efp.png" style="width:650px" alt="美国和日本劳动生产率长期增长的核算"/></p><p>　　美国的经济增长可以划分为以下几个阶段：</p><ul><li>第一阶段（1800-1855年）：初级工业化阶段，马克思类型，经济增长以资本-劳动比率的贡献为主导。</li><li>第二阶段（1855-1890年）：高级工业化阶段，马克思类型，经济增长以资本-劳动比率的贡献为主导。</li><li>第三阶段（1890-1927年）：库兹涅茨类型，经济增长以全要素生产率提升的贡献为主导。</li><li>第四阶段（1927-1966年）：库兹涅茨类型，经济增长以全要素生产率提升的贡献为主导。</li><li>第五阶段（1966-1989年）：马克思类型和库兹涅茨类型的混合类型，国家进入“后工业社会”，全要素生产率的增长贡献约为50%。</li></ul><p>　　在新生的工业经济达到成熟之前（第一、第二阶段），美国经济出现了同马克思增长类型相似的阶段。在工业经济成熟以后（第三、第四阶段），马克思增长类型将转化为库兹涅茨类型。</p><p>　　与美国类似，日本也出现了相似的经济阶段划分：</p><ul><li>第一阶段（1888-1900年）：初级工业化阶段，马克思类型，资本-劳动比率的增长率比实际劳动生产率的增长率高，资本-产出比率增长，经济增长的主要来源是资本-劳动比率的增长。</li><li>第二阶段（1900-1920年）：高级工业化阶段，马克思类型，资本-劳动比率的增长率比实际劳动生产率的增长率高，资本-产出比率增长，经济增长的主要来源是资本-劳动比率的增长。</li><li>第三阶段（1920-1937年）：开始从马克思类型向库兹涅茨类型过渡，全要素生产率的贡献接近50%，资本收入份额达到顶峰；资本-劳动比率的增长率继续超过劳动生产率的增长率。</li><li>第四阶段（1958-1970年）：马克思类型与库兹涅茨类型的混合类型，经济高速增长，但资本劳动比率的增长超过了劳动生产率的增长，资本-劳动比率继续上升，全要素生产率的增长贡献约为50%（美国第四阶段为 80%）。</li><li>第五阶段（1970-1990年）：马克思类型与库兹涅茨类型的混合类型，国家进入“后工业社会”，全要素生产率的增长贡献约为50%。</li></ul><p>　　<strong>一个国家的发展历程中，资本产出比率会出现“倒U”型变化，在人均收入达到一个门槛之前呈现上升趋势，随后呈现下降趋势。</strong></p><h4 id="马克思增长类型的陷阱">5.2 马克思增长类型的陷阱</h4><p>　　在二战后新独立的发展中国家中，许多都选择了通过中央计划经济的方式实现资本积累，进而推动国家工业化和经济发展。但是，许多通过中央计划经济的国家（例如：前苏联）都陷入了马克思增长类型的陷阱，即马克思增长类型向库兹涅茨类型的转型失败。马克思增长类型陷阱也被称为<strong><ahref="https://zh.wikipedia.org/wiki/中等收入陷阱">中等收入陷阱</a></strong>。</p><h5 id="前苏联的案例">5.2.1 前苏联的案例</h5><p>　　上面的分析表明，美国和日本都有能力从以资本积累为基础的马克思增长类型，转向以提高全要素生产率为基础的库兹涅茨增长类型。随着类型的变化，资本的收入份额越来越小，而劳动的收入份额越来越大，这意味着收入分配平等的提高。</p><p>　　增长类型的变化（马克思 <span class="math inline">\(\to\)</span>库兹涅茨）并不是一定会发生的。由于在中央计划体制中缺乏要素市场，所以应用在资本上的固定权重，是对资本生产弹性的非正式推测。</p><p>　　苏联的计划经济是在政府指令下最大限度地积累资本以推动经济的极端情形。这种推动方式的结果：</p><ul><li>资本-劳动比率的增长率远远大于发达的市场经济国家；</li><li>第一、第二阶段（从两次世界大战以来一直到 20 世纪 60年代）：与美国、日本比较相似，为马克思增长类型。劳动生产率的增长率很高；资本-劳动比率的增长远远超过劳动生产率增长，即资本产出比率不断提高；全要素生产率的贡献大约为30%～40%。</li><li>第三、第四、第五阶段（20 世纪 60年代以后）：马克思增长类型向库兹涅茨类型转型没有成功。全要素生产率增长低于劳动生产率增长，且在20 世纪 70年代以后，全要素生产率出现了负值。前苏联因资本边际报酬严重下降而陷入困境，同时迅速积累的资本是在几乎没有技术进步的情况下应用到生产过程中的。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230331233848-p20er97.png" style="width:650px" alt="苏联劳动生产率增长核算"/></p><h5 id="原因">5.2.2 原因</h5><p>　　中央计划经济导致陷入马克思增长类型陷阱的原因，可能和已经完成初级工业化并正在进入高级发展阶段的中等收入国家的政策选择相关。</p><p>　　假定增长核算中资本扩张型技术进步，并采用超越对数生产函数。</p><p>　　东亚新兴工业化经济（包括韩国、台湾、香港、新加坡）的资本生产弹性非常高，但全要素生产率增长对劳动生产率增长的相对贡献变化趋势正好相反。在发达国家中，日本类型和新兴工业化经济最为接近，即马克思增长类型通常会出现在工业化初期，并且会在那些发展模式更加依赖“引进转移”的工业化开始晚的国家中持续更长的时间。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230401000154-uc5d46m.png" style="width:650px" alt="新兴工业化经济和发达工业经济之间劳动生产率和全要素生产率增长率的比较"/></p><blockquote><p><strong>补充：</strong></p><p>当前中国处于产业升级的关键阶段。长期以来，我国主要实行引进技术、消化、吸收的方式追赶与发达国家的技术差距。然而，拿来主义的技术发展模式会陷入瓶颈，在越南、印度等国依靠成本优势吸引大量初级和中端制造业外流的情况下，如果无法实现高端产业技术的突破，无法通过技术创新获得高收入来源，那么就会陷入“中等收入陷阱”。具体体现为在发展为中等收入国家后，由于成本竞争优势下降和技术进步受阻，无法同低收入国家和发达国家竞争，经济发展停滞于中等收入国家水平。</p></blockquote><h2 id="二技术进步的类型与源泉">二、技术进步的类型与源泉</h2><p>　　在经济开始工业化发展的早期，经济增长主要依赖资本积累，此阶段的经济增长往往伴随着收入分配不平等的加剧，与马克思所描述的资本流向资本家手中、用于资本积累的资本主义经济的特征比较相似。而在工业化的高级阶段，广义上的技术进步（包括改进投入品质量的作用）对经济增长的贡献远远大于有形资本积累的贡献，此阶段资本收入份额将会下降，收入分配不平等程度将会降低。</p><h3 id="马克思与库兹涅茨的经济增长类型比较">1.马克思与库兹涅茨的经济增长类型比较</h3><p>　　在工业化发展过程中，可以分为两个阶段：</p><ul><li>阶段 1：马克思阶段（Marx Pattern）</li><li>阶段 2：库兹涅茨阶段（Kuznets Pattern）</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230401002946-2rqjdor.png" style="width:650px" alt="现代经济增长两阶段的程式化事实"/></p><h4 id="马克思阶段">1.1 马克思阶段</h4><ul><li>在资本主义发展过程中，不变资本（购买非劳动力投入的资金）要比可变资本（购买劳动力投入的资金）积累地更快，利润或“剩余价值”只能来自对劳动力的剥削，因此资本报酬率将会下降。</li><li>利润相对于资本投入总量的下降并不是资本有机构成（不变资本占总资本的比率）提高所不可避免的后果，如果剩余价值率能随着技术进步或者其他原因提高，以至于能阻止资本有机构成的上升，利润率可以保持不变。</li><li>如果资本的报酬率下降的非常快，就有可能违背马克思关于资本收入份额增加的预见。</li></ul><p>　　马克思理论的新古典解释：在资本-劳动比率迅速上升的条件下，技术进步中劳动节约型的偏向有可能维持甚至提高资本报酬率（传送门：<ahref="https://fgzfgz.github.io/posts/20531/">附录A2 -技术变化的分类</a>）。</p><p>　　在修正的马克思类型中的要素价格：</p><ul><li>假定了马克思类型的利率 <span class="math inline">\(r\)</span>固定不变，但利率 <span class="math inline">\(r\)</span>有可能会适度下降。</li><li>假定生存水平实际工资率 <span class="math inline">\(w\)</span>不变，但生存水平的实际工资率 <span class="math inline">\(w\)</span>可能会适度上升。</li><li>如果资本和劳动的价格发生适度变化，即相对要素价格（工资利率比率）<spanclass="math inline">\(w/r\)</span>可能略微增长，要素相对价格的相对增长幅度一定小于资本劳动比率 <spanclass="math inline">\(K/L\)</span> 的增长率，所以资本的收入份额 <spanclass="math inline">\(rK/Y\)</span> 是上升的。</li></ul><h4 id="马克思阶段与库兹涅茨阶段的比较">1.2马克思阶段与库兹涅茨阶段的比较</h4><p>　　如果相对要素价格 <span class="math inline">\(w/r\)</span>增长速度较快，且快过资本劳动比率 <spanclass="math inline">\(K/L\)</span> 的增长率，那么资本收入份额 <spanclass="math inline">\(rK/Y\)</span> 下降，此时属于库兹涅茨类型。</p><p>　　<strong>相同点：</strong></p><ul><li>人均国民收入 <span class="math inline">\(Y/N\)</span>、劳均国民收入<span class="math inline">\(Y/L\)</span>、人均资本存量 <spanclass="math inline">\(K/N\)</span>、资本-劳动比率 <spanclass="math inline">\(K/L\)</span> 都是具有上升趋势</li></ul><p>　　<strong>不同点：</strong></p><p>　　在马克思类型中：</p><ul><li>人均资本存量 <span class="math inline">\(K/N\)</span>、资本-劳动比率<span class="math inline">\(K/L\)</span> 的增长分别快于人均资本存量<span class="math inline">\(K/N\)</span>、资本-劳动比率 <spanclass="math inline">\(K/L\)</span>的增长。即生产函数没有随着劳均资本量的增加而移动或者移动较小，此时资本报酬递减。</li><li>全要素生产率对人均收入和劳均收入的贡献小。</li><li>资本劳动比率 <span class="math inline">\(K/L\)</span>上升，且资本的收入份额也上升，属于希克斯定义的劳动节约型技术进步。</li><li>收入大堆集中在资本家手中，发展中国家的储蓄率上升并不来自工资率的上升，而是资本家的剥削和资本积累。除非开发出使用资本倾向的技术，使资本的报酬率保持在比较高的水平，否则高储蓄率不能维持下去。</li></ul><p>　　在库兹涅茨类型中：</p><ul><li>人均资本存量 <span class="math inline">\(K/N\)</span>、资本-劳动比率<span class="math inline">\(K/L\)</span> 的增长分别慢于人均资本存量<span class="math inline">\(K/N\)</span>、资本-劳动比率 <spanclass="math inline">\(K/L\)</span>的增长；资本报酬递减被生产函数的较大移动而克服了。</li><li>全要素生产率对人均收入和劳均收入的贡献大，因此生产函数可以实现较大的移动。</li><li>资本劳动比率 <span class="math inline">\(K/L\)</span>上升，由于替代弹性小于1，资本收入份额下降，因此属于资本节约型技术进步。</li><li>由于工资率上升速度比利率上升速度更快，因此储蓄主要来自工资上涨后工人的消费剩余，反映了中等收入的劳动阶级随着工资收入的持续上升而具有储蓄的倾向。</li></ul><h3 id="两种增长类型的技术条件">2. 两种增长类型的技术条件</h3><h4 id="类型转变机制">2.1 类型转变机制</h4><p>　　马克思类型向库兹涅茨增长类型转变的机制：</p><ul><li>工业技术体制由常规技术变为微观技术；</li><li>人们的需求从标准化产品转变为有差异的产品。</li></ul><p>　　<strong>（1）工业技术体制的变化</strong></p><p>　　在第二阶段，要避免资本报酬率下降，需要加速技术进步，这依赖于<strong>科学研究和教育的制度化</strong>，即为了改进专业技术的科学研究和教育制度的建立。</p><p>　　技术体制的转变，是技术进步的取向由促进有形资本对劳动的替代到促进无形资本对有形资本替代的转变。技术进步的倾向是由有形资本利用、劳动节约型转变为无形资本利用、有形资本节约型。</p><p>　　科学的系统应用是现代经济增长中技术进步比以往时代更快、更稳定的因素。</p><p>　　要使微观的新技术有效运行，工人的能力必须变化，接收正式教育以看得懂科学和工程手册。</p><p>　　<strong>（2）需求结构的转变</strong></p><p>　　在度过工业化初期以后，随着人均收入的上升，人们的基本需求得到满足，需求将会从标准型产品转向不易实行机械化的有差异的产品。</p><h4 id="工资率与资本收入份额的变化">2.2 工资率与资本收入份额的变化</h4><p>　　在新的工业技术体制下，与有形资本相比，人的能力和知识的边际生产率急剧上升（例如：信息产业）。与有型资本相比，工资率（简单劳动报酬+教育和培训获得的人力资本报酬）会急剧上升，工资-利率比例的上升会超过资本-劳动比率的增长，并导致资本收益份额<span class="math inline">\(\frac {rK} Y\)</span> 的下降。</p><p>　　在第二阶段人口增长率下降和因人均收入提高引起休闲偏好上升所造成的劳动力供给下降，会加快劳动力工资率的增长。但如果第二阶段的产品需求不发生变化，人力资本积累不够快，第一阶段传统的劳动节约型技术进步就会以足够快的速度继续发展，从而抵消掉劳动力供给减少对工资率增长的促进作用。</p><h4 id="借用技术和马克思类型的增长">2.3 借用技术和马克思类型的增长</h4><p>　　对于东亚新兴工业化经济体，依靠借用技术追赶发达经济体过程中，有可能出现马克思-库兹涅茨混合类型的。发展中国家往往从发达国家引进资本密集、劳动节约型的先进技术。对于技术引进国而言，国际贸易和国外直接投资会加强劳动节约型技术的应用。</p><p>　　根据产品循环理论（Raymond Vernon,1966），跨国公司或发展中国家的私营企业把产品开发的基地放在新产品市场大、从事研究开发的高素质人力资源禀赋丰富的高收入国家。在产品完成开发以后，经过一系列的市场检验与生产过程标准化，大批量生产会转移到韩国、台湾等发展中的经济体，因为台湾和韩国等地区有大量受过相对良好教育、工资水平低的劳动管理可供使用。完成产品生产后，将产品出口到发达国家。</p><p>　　产品循环理论本质是全球分工，发达的工业国将高密度的人力资本投入到产品的研究和开发，新兴工业化经济体则使用价格低廉的劳动力和劳动节约型技术开发的自动机械生产标准化产品。</p><p>　　在第二次世界大战期间，日本和美国的技术差距扩大了；在战后，日本被美国全面接管，借用美国的技术成了日本最有利的选择，因此在<u>第四阶段（1958年）</u>以后（本章第5节“增长核算的历史延申”部分），日本的经济增长为马克思和库兹涅茨的混合类型。</p><h3 id="寻求技术进步源泉">3. 寻求技术进步源泉</h3><p>　　<strong>技术进步是经济增长的速度和类型的主要决定因素，技术进步的源泉是对人知识和能力的投资（无形资本积累）。</strong></p><p>　　本节关注的问题：为了促进技术进步，什么样的制度框架有助于提高投资配置的效率？</p><h4 id="全要素生产率增长的原因">3.1 全要素生产率增长的原因</h4><p>　　在线性齐次生产函数的假设下，用简单的增长核算度量的全要素生产率的增长，是产出增长中不能使用常规投入（主要是资本、劳动等要素投入）增长解释的残差，为“广义上的技术进步”。</p><p>　　<strong>广义上的技术进步包括：引起生产函数移动的狭义技术进步、规模经济、更有效的资源配置、更好的投入品质量等</strong></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230404004101-xsgni68.png" style="width:600px" alt="若干发达国家每个就业人员国民收入增长的来源"/></p><p>　　上图为丹尼森（Edward Dension）对 5个发达国家的全要素生产率的分解结果。在测算全要素生产率时，使用上面推导的人均产出的增长核算方程：<spanclass="math inline">\(g_{ (Y/N) } =g_A+\alpha g_{ (L/N) }  + \beta g_{(K/N) }\)</span>，其中国家的人口数量 <spanclass="math inline">\(N\)</span>被替换为了雇员数量。在分析每个雇员实际收入增长时，使用的是人口数量而非雇员数量。</p><p>　　第 7 行的单位常规性投入的产出，由第 3 行与第 4行相减得到，即每个雇员的收入和常规性总投入的差（因为取了对数，商运算转化为差运算）。发达国家的全要素生产率对收入增长起到决定性作用，贡献份额大约为70%~100%。</p><p>　　将第 7 行的全要素生产率分解为：</p><ul><li>第 8 行：年龄性别构成</li><li>第 9 行：教育，假定工资率差异的 <spanclass="math inline">\(3/5\)</span> 是由正规教育的差异造成的</li><li>第 10行：资源配置改进，包括从生产率较低的部门转移到生产率较高的不么的劳动力再配置（使用自我雇佣流向其他职业后工人报酬增加总量衡量）、贸易自由化引起的赚取收入能力改进（使用出口品价格上升或进口品价格下降引起的国民收入增量衡量）</li><li>第 11 行：规模经济</li><li>第 12 行：残差（技术进步），可以解释约 <spanclass="math inline">\(1/3 \to 1/2\)</span>，即 8-11 项可以解释 <spanclass="math inline">\(1/2 \to 2/3\)</span></li></ul><p>　　将第 13 行与第 6行比较：教育和研究等无形资本投资对经济增长的贡献，要比有形资本积累的贡献大1~2 倍。</p><p>　　<strong>处于工业化初期的发展中国家过渡到发达国家的基本条件是：增加教育和研究方面基础设施的投资。</strong></p><h4 id="学校教育和经济增长">3.2 学校教育和经济增长</h4><p>　　学校教育具有高回报率。由于<u>知识和信息具有公共品属性</u>，通过学校教育积累的人力资本而开发的知识大多都被外部化了，因此不能简单将学校教育的私人回报（受教育者的赚钱能力）算作教育收益。</p><p>　　学生将学校里获得的知识转化为生产和管理方面有用的技能通常需要较长时间。而学生在高等教育机构中学习到能创造有用的知识、或者做出能被广泛应用于实际生产过程的发明/科学发现，可能需要更长的时间。</p><p>　　因此，对于贫穷国家而言，教育投资的短期回报非常低，</p><p>　　两个假设：</p><ul><li><strong>物质资本和人力资本之间可能具有互补性。</strong>除非有平行增长的人力资本提供支持，否则物质资本的积累必将面临回报大幅下降；除非物质资本和人力资本恰当地结合，否则通过教育获得的技能和知识对生产率增长的贡献十分有（卢卡斯- Robert Lucas, 1988）。</li><li><strong>影响一个国家引进外来技术的能力，进而影响经济增长率的主要决定因素，是教育水平而非教育增长率。</strong>（RobertJ. Barro &amp; Gregory Mankiw）</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230404011826-yncky43.png" style="width:550px" alt="日本对美国、韩国对美国的平均教育比率、人均GDP和资本劳动比率"/></p><p>　　日本的案例：</p><ul><li>在第二次世界大战以前（特别是 1930年以前），日本的教育投已经快速积累，但通过学校教育创造的人力资源尚未达到可以有效引进美国应用的前沿技术的门槛，因此教育的直接经济收益并不高。</li><li>在 1950年以后，日本的教育投资积累已经使其迈过了技术引进的门槛，可以充分利用前沿技术推动经济发展。</li></ul><p>　　朝鲜半岛的案例：</p><ul><li>1910年，朝鲜半岛被日本占领成为殖民地，日本建立了初等教育体系，但没有发展更高水平的教育，教育对经济增长的影响很小；</li><li>1948年，朝鲜半岛独立后，为发展教育事业投入来了大量的资金和努力，和发达国家（美国）的教育差距迅速减小，在前20 年，教育对经济增长的作用还较小；在 20 世纪 70年代，由于人力资本积累达到了充分利用引进技术的门槛，因此教育对经济增长的作用越来越大。</li></ul><p>　　对于二战后新独立的发展中国家，种族往往构成复杂，宗教信仰、种族等冲突较大，教育是构建民族认同和国家认同的有利工具。使用同一种语言教授统一课程的的学校，尤其是小学教育，是培养民族认同和促进不同族群在民族利益上达成共识的最有效途径。</p><blockquote><p><strong>补充：</strong></p><p>中国的教育对工业化的促进作用</p><p>中国目前的高等教育与社会生产脱节的问题</p></blockquote><h4 id="回报递增和内生增长模型">3.3 回报递增和内生增长模型</h4><p>　　丹尼森的增长核算，知识简单区分了劳动、资本的贡献，并将其他贡献全部归入残差种，不能解释规模经济产生的原因，也不能解释人类知识如何改进、知识如何积累与如何阻止经济规模报酬递减。罗默（PaulRomer, 1981）和卢卡斯（Robert Lucas,1988）提出“内生增长理论”，将上面的机制包含在内。</p><p>　　索洛-旺斯模型基于新古典增长模型，认为技术进步是外生给定的。</p><p>　　<strong>内生增长模型假设：</strong></p><ul><li>知识积累来自公共部门的正式教育和私人部门的生产实践：用于提高经济生产的新知识是一点点积累而成的，除了通过公共部门对教育和科研的投资外，也通过私人企业在设计和构造更高效的机器和工厂时的投资活动。</li><li>知识创造具有公共物品属性：通过专利等手段保护企业所创造的有用知识，早晚也会地被其他企业所采用。</li></ul><p>　　假设生产函数为劳动增进型（哈罗德中性）生产函数，技术进步仅提高劳动效率，而不影响资本效率。代表性企业<span class="math inline">\(i\)</span> 的生产函数为：</p><p><span class="math display">\[\begin {align}Y_i  = (EL_i ) ^{\alpha} K_i^{\beta}\end{align}\]</span></p><p>　　其中，<span class="math inline">\(Y_i\)</span>、<spanclass="math inline">\(L_i\)</span> 和 <spanclass="math inline">\(K_i\)</span>分别为特定企业的产出、劳动力和资本，<spanclass="math inline">\(E\)</span> 为劳动力效率，<spanclass="math inline">\(EL_i\)</span> 表示以效率单位衡量的劳动力投入。</p><p>　　假设所有公司生产活动所产生的知识影响该企业的劳动效率，而该企业生产活动产生的知识则不会影响。即：</p><p><span class="math display">\[\begin {align}E= a K\end{align}\]</span></p><p>　　其中：<span class="math inline">\(a\)</span>为一个常数，决定决定经济体中总资本存量 <spanclass="math inline">\(K\)</span> 和劳动平均效率 <spanclass="math inline">\(E\)</span>之间的平行关系。因此，将上式代入代表性企业 <spanclass="math inline">\(i\)</span> 的生产函数：</p><p><span class="math display">\[\begin {align}Y_i  = [(aK) L_i ] ^{\alpha} K_i^{\beta}= a^{\alpha} K^{\alpha } \cdot L_i  ^{\alpha} K_i^{\beta}\end{align}\]</span></p><p>　　定义：<span class="math inline">\(A=a ^{\alpha}\)</span>，<spanclass="math inline">\(y_i = \frac {Y_i} {L_i}\)</span>，<spanclass="math inline">\(k_i = \frac {K_i}{L_i}\)</span>，上面两边同时除以劳动力数量 <spanclass="math inline">\(L_i\)</span>，可得：</p><p><span class="math display">\[\begin {align}y_i  = A K ^{\alpha} k_i^{\beta}\end{align}\]</span></p><p>　　上面使用了 <span class="math inline">\(\alpha +\beta=1\)</span>，原因是生产函数形式是哈罗德中性的。</p><p>　　由于 <span class="math inline">\(k=K/L\)</span>，因此上式可以改写为：</p><p><span class="math display">\[\begin {align}y_i  = A L ^{\alpha} k ^{\alpha}  k_i^{\beta}\end{align}\]</span></p><p>　　假设长期竞争性均衡，即所有公司的要素都实现同样的最优配置，即<span class="math inline">\(k_i = k\)</span>，<spanclass="math inline">\(y_i = y\)</span>，因此，上式可以改写为：</p><p><span class="math display">\[\begin {align}y= A L ^{\alpha} \cdot k\end{align}\]</span></p><p>　　在人口恒为常数的条件下，如果 <spanclass="math inline">\(AL\)</span>是一个常数，上式就等价于哈罗德-多马模型中的生产函数 <spanclass="math inline">\(Y=AK\)</span>。对于恒定的人口，资本的边际生产率在整个<span class="math inline">\(k\)</span> 的范围内均为常数，<spanclass="math inline">\(k\)</span> 和 <spanclass="math inline">\(y\)</span>呈现线性关系。如果人口增长，斜率将会更加陡峭，以至于 <spanclass="math inline">\(k\)</span> 和 <spanclass="math inline">\(y\)</span>的增长率上升。因此，上面的函数可以被改写为：</p><p><span class="math display">\[\begin {align}\frac Y K= A L ^{\alpha}\end{align}\]</span></p><p>　　这说明，人口增长将导致资本产出比率 <spanclass="math inline">\(K/Y\)</span>的下降，人口增长有可能提高资本效率。</p><p>　　内生增长模型和亚当·斯密观点的相同之处：资本积累促进劳动分工，进而促进经济效率的提高。</p><h4 id="熊彼特和中央计划经济">3.4 熊彼特和中央计划经济</h4><p>　　依靠资本积累（有形资本和无形资本）实现经济增长有一个前提：有形资本和无形资本要具有充分的互补性。</p><p>　　<strong>教育和研究投入是马克思增长类型向库兹涅茨增长类型转变的必要条件，而非充分条件。</strong>像前苏联这样的中央计划经济的中小学普及率远高于资本主义市场经济的普及率，高等教育和研究体系方面的公共投入也很高（约占GDP 的 4%），明显高于发达资本主义市场经济国家的2%~3%。但是，中央计划经济不能实现持续的经济增长。</p><h5 id="熊彼特的创新理论">3..4.1 熊彼特的创新理论</h5><p>　　（<ahref="https://wiki.mbalib.com/wiki/%E7%86%8A%E5%BD%BC%E7%89%B9%E7%9A%84%E5%88%9B%E6%96%B0%E7%90%86%E8%AE%BA">网页链接</a>）</p><p>　　与古典学派、马克思等观点（资本积累拉动资本主义经济发展）不同，熊比特的观点：</p><ul><li><p>创新是资本主义经济发展的动力；</p></li><li><p>创新不是科学发现和发明，而是企业家利用新思想创造出新的生产要素组合来增加利润的过程；</p></li><li><p>创新的形式：</p><ul><li>引进一种新产品或具有新特性的产品：引进晶体管代替真空管</li><li>引进新的生产方法：开发低成本大批量的晶体管生产体系</li><li>开发新市场：开拓晶体管的海外市场</li><li>获得原材料供给的新渠道：利用硅晶体这种新材料</li><li>采用新的产业组织：组织开发工业园区和投机资本市场</li></ul></li></ul><p>　　在没有创新的情况下，市场竞争最终将使所有经济部门失去超额利润，经济将进入收入等于成本（市场价<span class="math inline">\(P\)</span> 为长期平均成本曲线 <spanclass="math inline">\(LAC\)</span>的最低点）的长期均衡的停滞状态。（传送门：<ahref="https://fgzfgz.github.io/posts/22302/">竞争厂商的长期供给曲线</a>）</p><p>　　<strong>持续不断地创新是资本主义的基本特征</strong>，因为追逐利润的企业家总是试图根据需求和生产可能性的变化，引进新产品和新生产方法来增加利润。如果这种持续不断的创新机制停止了，就不再是资本主义经济，而是非资本主义经济。</p><p>　　<strong>从事创新的企业家是为了追逐超额利润而承担风险的经济人。</strong>率先实现创新的企业家往往能获得大量的超额利润，但也面临创新带来的风险，例如新产品销量低或者新机器生产效率低于预期。</p><p>　　企业家可以通过向银行贷款获得创新所需的雇佣工人或购买设备等的资本金，资本家和企业家的身份有可能会分离。创造银行信贷的过程（资本从银行流向企业家）会导致市场价格上升，一般公民的实际收入和消费下降，创造银行信贷的过程造成了被迫储蓄，资本从消费者流向企业家以形成创新投资。因此，经济发展的主要动力是创新，资本积累过程则是动员创新所需的储蓄的过程。</p><p>　　当创新成功成功时，其他企业家会模仿这种生产行为，新商品的供给会扩大，使得其市场价格逐渐降低；生产要素的需求增加，会使要素价格上升。产品价格下降和要素价格上升的双重作用下，超额利润将逐渐下降，直到市场价格等于长期平均成本曲线最低点时达到新的均衡。</p><p>　　参与创新的企业家，被胡萝卜（超额利润）所吸引，也被鞭子（市场竞争）所驱赶。</p><h5 id="中央计划经济的问题">3.4.2 中央计划经济的问题</h5><p>　　中央计划经济通过资本积累难以实现经济增长的可能原因，是缺乏能够调动企业家为满足社会需求的创新而努力的市场机制。</p><p>　　在中央计划经济中，提高工作努力程度的主要目的是完成产出的数量目标，产品质量改进相对被忽略。市场经济中私有企业的产品质量降低会失去顾客，但在国家收购和分配体制下，国有企业不会受到惩罚。工人的工资与福利待遇很难降低，缺乏生产工艺的改进导致生产要素的浪费。中央计划经济的低效率还体现在依赖行政体制和人际关系，行贿和恐吓行为无法避免。</p><p>　　由于缺乏利润激励和市场竞争，中央计划经济会导致生产要素使用效率下降，全要素生产率对经济增长的贡献降低。</p><p>　　要通过资本积累（无形资本和有形资本）实现经济增长，需要破除中央计划经济的弊端，发展竞争性的市场机制，让作为创新主体的企业家被超额利润吸引（胡萝卜），同时被市场竞争驱赶（鞭子）。</p><p>　　同时，竞争性市场的有效运行需要完善法律制度和政策，例如产权保护制度、合同实施制度、治安和司法制度。</p><h4 id="引进技术的制度条件">3.5 引进技术的制度条件</h4><p>　　发展中国家的技术进步主要源泉是从发达工业国引进先进技术。</p><p>　　发展中国家具有后发优势，因为引进发达国家技术可以提高工业的增长率，但不用承担技术创新过程的风险和损失。</p><p>　　在工业化初期，银行制度很重要（格申克隆，Gerschenkron,1962）。在初始阶段，国内企业家积累的资本很少，从国外引进资本密集度高的先进技术需要很大的资本。建立银行体系可以实现大范围的公民储蓄，以实现工业资本积累。</p>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜Stata计算收入不平等指标</title>
      <link href="/posts/43931/"/>
      <url>/posts/43931/</url>
      
        <content type="html"><![CDATA[<p>　　使用 <code>egen_inequal</code> 包提供的 <code>inequal</code>函数可以方便快捷地测算各分组样本的多个收入不平等指标。假设在一个面板数据中，要计算分年份、分区县的基尼系数，可以使用下面的命令：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 安装 inequal 函数: 仅首次使用前需要安装</span></span><br><span class="line"><span class="keyword">ssc</span> install egen_inequal, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** inequal 函数的使用</span></span><br><span class="line"><span class="keyword">egen</span> gini_index = inequal(famincome), <span class="built_in">index</span>(gini) <span class="keyword">by</span>(year cid)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　使用 <code>inequal</code>函数可以对分组后的样本计算多种收入不平等指数，但是在计算时，需要注意：</p><ul><li>分组变量（例如上面的 <code>year</code>、<code>cid</code>）必须是数值型变量，否则所有样本的计算结果为缺失值 <code>.</code></li><li>收入小于等于 0 的样本不会纳入计算，因此计算结果为缺失值<code>.</code></li></ul><p>　　对于分组变量的变量类型问题，可以使用 <code>destring</code> 或者<code>encode</code> 命令，将分组变量转换为数值型变量；对于收入不大于 0的样本计算出的结果是缺失值的问题，使用区县编码 <code>cid</code> 和年份<code>year</code>分组计算出的分年份、分地区的基尼系数后，每一组内样本的取值都是相同的，因此可以使用<code>ereplace</code>命令配合<code>mean</code>函数补充，填充效果为使用本年份、本地区其他人的基尼系数取值替换掉基尼系数取值为缺失值的样本取值。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 组合命令</span></span><br><span class="line"><span class="comment">// 解决分组变量不是数值型变量的问题</span></span><br><span class="line"><span class="keyword">destring</span> cid year, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">// 计算基尼系数</span></span><br><span class="line"><span class="keyword">egen</span> gini_index = inequal(famincome), <span class="built_in">index</span>(gini) <span class="keyword">by</span>(year cid)</span><br><span class="line"><span class="comment">// 填充缺失值</span></span><br><span class="line">ereplace gini_index = <span class="keyword">mean</span>(gini_index), <span class="keyword">by</span>(year cid) </span><br></pre></td></tr></table></figure><p>　　当然，<code>inequal</code>函数也可以计算其他不平等指标，只需要修改上述命令中 <code>index()</code>部分即可：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** code       function</span></span><br><span class="line">   rmd        the relative <span class="keyword">mean</span> deviation</span><br><span class="line">   cov        the coefficient of variation</span><br><span class="line">   sdl        the standard deviation of logs</span><br><span class="line">   gini       the Gini index</span><br><span class="line">   mehran     the Mehran index</span><br><span class="line">   piesch     the Piesch index</span><br><span class="line">   kakwani    the Kakwani index</span><br><span class="line">   theil      Theil entropy index</span><br><span class="line">   mld        the <span class="keyword">mean</span> <span class="keyword">log</span> deviation</span><br><span class="line">   entropy    generalized entropy measure (<span class="keyword">GE</span> -1)</span><br><span class="line">   half       generalized entropy measure (<span class="keyword">GE</span> 2)</span><br></pre></td></tr></table></figure><hr /><p><strong>相关链接：</strong></p><ul><li><a href="https://www.jianshu.com/p/487d7fff341e">[简书] Stata计算不平等指数（基尼系数、泰尔指数、分位数……）及分解</a></li><li><a href="https://zhuanlan.zhihu.com/p/584219901">[知乎]如何用stata计算基尼系数、泰尔指数、变异系数等不平等指数</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜第3章：人口增长与自然资源限制</title>
      <link href="/posts/47859/"/>
      <url>/posts/47859/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>参考内容：</strong></p><p>速水佑次郎 《发展经济学（第 3 版）》 chap 3、chap 4</p></blockquote><p>　　在发展中国家，尤其是低收入国家，人口增长率往往很高，人均自然资源禀赋也以很快的速度下降。在人均收入水平越低的国家，经济对自然资源的依赖程度往往更高，因此其自然资源禀赋对经济增长的制约作用往往更大。</p><h2 id="一经济发展中的人口增长">一、经济发展中的人口增长</h2><p>　　发展中国家的人口问题有两个特征：</p><ul><li>现在发展中国家的人口增速远快于发达工业国在发展初期的人口增速；</li><li>发展中国家的人口增长是经济增长的外生现象，其人口增长主要来自公共卫生和医疗技术改进。发达国家历史上的人口增长是经济增长的内生现象，其人口增长主要来自收入和生活水平提高。</li><li>发展中国家面临人口与资源的双重制约。</li></ul><h3 id="人口增长">1. 人口增长</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230324161112-sdu821h.png" style="width:650px" alt="1000-2050年的世界人口）" /></p><p>　　全球人口增长的加速主要开始于“工业革命”。</p><p>　　欧洲和亚洲地区的人口增长与经济增长（或收入增长）大致平行。</p><p>　　目前发展中国家的人口增长率远高于发达国家发展初期的历史水平，且国家越贫困，人口增长越快。</p><h3 id="人口转型">2. 人口转型</h3><p>　　衡量人口增长：</p><ul><li>自然增长率=出生率-死亡率，即：<spanclass="math inline">\(NR=BR-DR\)</span></li><li>人口增长率=自然增长率+人口迁移调整，其中人口迁移调整指跨国迁入与迁出的人口占比之差</li></ul><p>　　<strong>人口转型理论：</strong>一个国家人口发展演变可以分为5个阶段：（<ahref="https://wiki.mbalib.com/wiki/人口过渡">网页链接</a>）</p><ul><li><strong>初始情况（前现代类型）</strong>：出生率和死亡率都很高，二者维持均衡，自然增长率维持在很低水平上，人口基本上不增加。</li><li><strong>第一阶段</strong>：随着现代经济增长，死亡率开始下降，但出生率保持不变，自然增长率上升，人口出现迅速增加。</li><li><strong>第二阶段</strong>：死亡率停止下降，出生率仍保持在较高水平，自然增长率很高。</li><li><strong>第三阶段</strong>：出生率比死亡率下降的速度更快，自然增长率下降，人口增速放缓。</li><li><strong>最终状态（现代类型）</strong>：人口出生率和死亡率都很低，人口缓慢增长。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230325153926-okal137.png" style="width:550px" alt="1750-1970年英国出生率和死亡率的变化（9年移动平均值）" /></p><p>　　如上图，英国的人口转型过程：</p><ul><li><p>第一阶段：出生率上升、死亡率下降</p><ul><li>出生率上升：结婚年龄下降，工业化进程中经济活动大量扩张抑制了人口增加对实际工资率的抑制作用（因为实际工资率下降会降低人们的生育意愿）</li><li>死亡率下降：营养条件和住房的改善、供水等公共卫生设施建设</li></ul></li><li><p>第二阶段：出生率较高、死亡率保持不变</p><ul><li>出生率较高：经济部门的扩张抑制了工人的实际工资率下降</li><li>死亡率不变：工业化初期人口集中在城市贫民窟，卫生条件有所恶化，死亡率停止下降</li></ul></li><li><p>第三阶段：出生率和死亡率下降，且出生率下降速度更快</p><ul><li>出生率快速下降：1）教育普及和控制未成年劳动力就业，使得孩子进入劳动市场的年龄延迟，孩子的养育成本提高，从工作中得到的收入下降。2）由于金融市场发展，个人储蓄和购买保险解决了养老问题，“养儿防老”的作用下降了。</li></ul></li></ul><p>　　<strong>各个国家的人口转型类型不同。</strong></p><ul><li>英国：比较完整地经历了人口转型的三个阶段</li><li>美国和法国等发达国家：出生率和死亡率下降基本同步</li><li>日本、俄罗斯、东欧、南欧国家等：从第一阶段直接进入第三阶段</li></ul><p>　　<strong>一般来说，一个国家工业化开始越晚，完成人口转型的速度越快。</strong></p><h3 id="印度案例">3. 印度案例</h3><p>　　印度的人口变化过程：</p><ul><li>第一阶段：1920-1960年，出生率稳定在高水平，死亡率快速下降。原因：从发达国家引进现代医疗和卫生技术。</li><li>第二、三阶段：1960年以后，现代医疗和卫生技术的引进，使得死亡率继续下降至发达国家水平，出生率业也跟着下降。原因：1）教育和计划生育；2）卫生技术和教育在农村的普及。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230325160008-br5er90.png" style="width:500px" alt="1871-2001年的印度人口" /></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230325160101-tlvix9c.png" style="width:550px" alt="1901-2000年印度出生率和死亡率的变化（10年移动平均值）" /></p><h2 id="二人口增长理论">二、人口增长理论</h2><h3 id="马尔萨斯malthus模型">1. 马尔萨斯（Malthus）模型</h3><p>　　<strong>马尔萨斯人口理论：</strong>两个前提、三个定理（<ahref="https://baike.baidu.com/item/马尔萨斯的人口理论/3890735">网页链接</a>）</p><ul><li><p>两个前提：</p><ul><li>人类有生育孩子的天性，人口按照几何级数繁衍</li><li>食物生产受到固定的自然资源禀赋制约（特别是土地制约），只能按照算数级数增长</li></ul></li><li><p>三个定理：</p><ul><li>人口制约原理：人口的增长必然要受到生活资料的制约</li><li>人口增殖原理：生活资料增加，人口也随着增加</li><li>人口均衡原理：人均食物供给超过生存水平的余量，最终会被人口增长消耗掉，人口的进一步增长会受到饥荒、疾病和因竞争有限资源引发的战争等所限制，最终人口与生活资料将会达到均衡。</li></ul></li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230325162058-084efhw.png" style="width:400px" alt="马尔萨斯人口理论及其修订" /></p><p>　　上图为工资率<spanclass="math inline">\(W\)</span>和人口增长率（<spanclass="math inline">\(\dot N / N\)</span>）的关系。</p><ul><li>直线<span class="math inline">\(GG\)</span>与横轴交点<spanclass="math inline">\(\overlineW\)</span>表示生存工资率，仅能维持劳动者和家庭的最低生存需要，此时平均家庭规模和总人口不会发生变化。</li><li>直线<span class="math inline">\(GG\)</span>的正斜率表示工资率<spanclass="math inline">\(\overline W\)</span>提高使得人口有正增长（<spanclass="math inline">\(\dot N / N \gt 0\)</span>）。</li><li>人口增长造成过量劳动力供给，工资率会下降至生存水平以下，因此劳动者会减少家庭规模，减少出生孩子数量，最终生存工资率恢复到<spanclass="math inline">\(\overline W\)</span>水平，即达到均衡状态。</li></ul><p>　　问题：</p><ul><li>缺乏实证经验。在人口转型的第三阶段，出生率、死亡率同时下降时，实际工资率处于上涨阶段。</li><li>人口增长率<span class="math inline">\(\dot N  /N\)</span>与实际工资率<spanclass="math inline">\(W\)</span>并非线性上升关系。到达某一个转折点以后，工资率<spanclass="math inline">\(W\)</span>上升会导致人口增长率的下降。</li></ul><h3 id="家庭效用最大化模型">2. 家庭效用最大化模型</h3><h4 id="模型假设">2.1 模型假设</h4><p>　　来宾斯坦（HarveyLeibenstein）的家庭效用最大化模型可以解释家庭对消费品、孩子数量和质量的选择。</p><p>　　模型假定：</p><ul><li>家庭内只有父母有决策权</li><li>丈夫和妻子的效用函数相同，家庭效用函数为丈夫和妻子效用函数的加总</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230325171420-69d9p1v.png" style="width:450px" alt="决定子女数量的家庭效用最大化模型" /></p><p>　　如上图所示：<spanclass="math inline">\(MU\)</span>为多生一个孩子的边际效用，<spanclass="math inline">\(MD\)</span>为多生一个孩子的边际负效用。<spanclass="math inline">\(MU\)</span>和<spanclass="math inline">\(MD\)</span>曲线的纵向差距（<spanclass="math inline">\(MU-MD\)</span>）即为多生一个孩子的净边际效用。</p><p>　　父母养育孩子的效用来源：</p><ul><li>享受天伦之乐，喜爱孩子和有后代的满足感</li><li>预期孩子能为家庭提供收入</li><li>父母年迈时的养老保障</li></ul><p>　　因此，<strong>生孩子是边际效用递减的。</strong></p><p>　　父母养育孩子的负效用来源：</p><ul><li>生育和抚养孩子在体力和精神上的辛苦</li><li>生育和抚养孩子的支出</li><li>父母用在生育和抚养孩子上劳动的机会成本</li></ul><p>　　因此，<strong>生孩子带来的边际负效用是递增的。</strong></p><h4 id="模型解释">2.2 模型解释</h4><p>　　初始状态：边际效用为<spanclass="math inline">\(MU_0\)</span>，边际负效用为<spanclass="math inline">\(MD_0\)</span>，当孩子数量为<spanclass="math inline">\(n_0\)</span>时，父母净效用最大。</p><p>　　在工业化开始时：</p><ul><li>就业和赚取收入的机会增加，但金融和保险市场发育不够完善，社会保障制度还不能覆盖大多数家庭。在此种制度环境下，家庭收入增长将会导致孩子需求增加，边际效用发生改变<spanclass="math inline">\(MU_0 \toMU_1\)</span>。生育行为还具有“养儿防老”的属性，因此生育需求的增长速度远快于收入增长的速度（生育的收入弹性大）。</li><li>劳动法和初级教育体系还没有建立起来，父母对孩子的预期收入将会随着就业和收入机会的增加而增加。这会部分抵消由市场机会增加给母亲增加的劳动机会。因此，边际负效用有可能会增大<spanclass="math inline">\(MD_0 \toMD_1\)</span>。此时，均衡状态下孩子数量为<spanclass="math inline">\(n_1\)</span>，且可能存在<spanclass="math inline">\(n_1 \gt n_0\)</span>的关系。</li><li>随着劳动法的实施和初级教育体系的建立，经济和社会制度发生重大变化。由于劳动力市场的扩张和教育体系的建立，父母养育孩子的支出和机会成本提高，节育避孕技术的的进步使得减少孩子数量的边际成本下降，因此导致了增加孩子的边际成本上升。因此，在工业化的后期，生育的边际负效用会有很大的提升<spanclass="math inline">\(MU_1 \to MU_2\)</span>。</li><li>随着社会保障体系和私人保险市场的发展，养儿防老的作用下降了，因此生育的边际效用曲线会下移至<spanclass="math inline">\(MU_2\)</span>。此时，均衡状态下孩子数量为<spanclass="math inline">\(n_2\)</span>，且存在<spanclass="math inline">\(n_2 \lt n_0\)</span>的关系。</li></ul><p>　　<strong>社会制度和价值体系的调整有时滞。</strong></p><p>　　死亡率因外生原因的急剧下降，未能使出生率对经济增长的反应转变为现代类型。发展中国家应对人口压力，面临以下两方面的问题：</p><ul><li>制度和价值体系调整需要多长时间？</li><li>在低收入国家，教育体系建立和计划生育推广政策在短期内有多大的效果？</li></ul><h2 id="三经济增长的资源制约理论">三、经济增长的资源制约理论</h2><h3 id="从马尔萨斯到罗马俱乐部">1. 从马尔萨斯到罗马俱乐部</h3><p>　　<strong>马尔萨斯人口理论：</strong></p><ul><li>人具有生育的本能，自然资源是不变的</li><li>自然资源稀缺性会束缚经济增长</li></ul><p>　　<strong>罗马俱乐部观点：</strong>经济增长不可能无限持续下去，因为石油等自然资源的供给是有限的。（<ahref="https://baike.baidu.com/item/%E7%BD%97%E9%A9%AC%E4%BF%B1%E4%B9%90%E9%83%A8/2944519">网页链接</a>）</p><p>　　基本假设：人口、工业生产和其他经济活动按照以往（1900-1970年）的平均增长率呈指数式增长，食品和原材料消费按照不变的比例增长。</p><p>　　缺陷：没有考虑经纪人会做出节约资源的理性反应，没有考虑生产系数有可能变化的情况下，将过去的趋势机械外推。</p><h3 id="李嘉图模型">2. 李嘉图模型</h3><h4 id="模型概述">2.1 模型概述</h4><p>　　<strong>李嘉图的经济发展理论：</strong></p><ul><li><p>劳动力需求和资本增长成比例提高。</p><ul><li>将现代工业的资本积累看做经济增长的驱动力；</li><li>资本 /工资基金：在出售用劳动力生产的商品之前为劳动力支付的款项，以及为购置与劳动力的使用相互补充的工具和建筑物所支付的款项总和。</li></ul></li><li><p>劳动力的供给是由愿意全职工作且不考虑工资率的劳动者的数量决定的。</p><ul><li>在短期内（人口数量不发生变化），劳动力供给固定不变，劳动力的供给没有弹性。增加新投资，会使得劳动力需求和工资率上升。</li><li>在长期里（人口和劳动力数量发生变化），当工资率上升到马尔萨斯提出的生存水平<spanclass="math inline">\(\overlineW\)</span>以上时，人口开始增长，导致劳动力供给增加。在长期劳动力供给具有无限弹性。工资率总会回到生存水平<spanclass="math inline">\(\overline W\)</span>上。</li><li>从长期看，工业部门的工资成本不会上升，利润会随着资本的增加成比例增长。利润用于再投资，可以实现现代工业部门的生产和就业继续增长。</li></ul></li><li><p>劳动力的生存工资水平<span class="math inline">\(\overlineW\)</span>依赖于食品价格。</p><ul><li>食品生产受到土地禀赋限制，如果优先使用最肥沃的土地用于农业生产，当其生产的农产品不能满足人口增长的需求，次耕地就会投入使用，同样的劳动力和资本投入无法产出与肥沃土地相同的农产品，农业生产会出现报酬递减现象。</li><li>肥沃耕地和次耕地的产出水平不同，因此其租赁价格有差别。使用优等地必须向地主支付相当于优等地的生产成本和“边际土地”（用于生产的最差的土地）的生产成本之间的差额的更高的地租。</li></ul></li><li><p>食品价格随着成本提高而上升，需要提高工人维持基本生活的生存工资<spanclass="math inline">\(\overlineW\)</span>，用于再投资的利润逐渐降低至消失，经济增长将会停止。</p></li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230325162058-084efhw.png" style="width:400px" alt="马尔萨斯人口理论及其修订" /></p><h4 id="图示与分析">2.2 图示与分析</h4><p>　　如下图所示，使用马歇尔局部均衡模型描述工业部门的劳动力市场，直线<spanclass="math inline">\(DD\)</span>为劳动力需求，表示同所使用的特定资本存量相对应的劳动产品边际价值曲线。直线<spanclass="math inline">\(LS\)</span>为长期劳动供给曲线，为一条水平线，劳动供给具有无限弹性，此时对应工资率为<spanclass="math inline">\(\overline W\)</span>。直线<spanclass="math inline">\(SS\)</span>为短期劳动供给曲线，为一条垂直线，表示劳动力数量保持不变，劳动供给毫无弹性。</p><blockquote><p><strong>补充：</strong></p><p>在李嘉图和英国古典学派理论中，劳动力需求一般由资本（工资基金）决定。</p><ul><li>在长期，就业由工资基金除以生存工资率<spanclass="math inline">\(\overline W\)</span>决定，工资率为生存工资率<spanclass="math inline">\(\overline W\)</span>；</li><li>在短期，就业等于现有的劳动力数量，工资率为工资基金除以现有劳动力数量。</li></ul><p><strong>思考</strong>：</p><p>在今天，资本用于生产设备的投入越来越大，将资本定义为“工资基金”可能不再合适。由于劳动法和劳动力市场的不完善，现实中工人的工资是超过生存工资率<spanclass="math inline">\(\overlineW\)</span>的；考虑到劳动分工的不断深化和劳动力学习新知识和新技能需要时间，劳动者更换岗位或行业面临更高的成本，因此行业之间的工资率也存在很大差异，短期内也难以实现充分就业。</p></blockquote><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230325213759-2yjdq8g.png" style="width:600px" alt="经济发展的李嘉图模型" /></p><p>　　<strong>在工业化之前</strong>（<spanclass="math inline">\(t=0\)</span>）：</p><ul><li>企业家拥有资本存量<spanclass="math inline">\(K_0\)</span>，劳动力需求为<spanclass="math inline">\(DD_0\)</span>，初始均衡点为<spanclass="math inline">\(A\)</span>点，以生存工资率<spanclass="math inline">\(\overline W\)</span>雇佣劳动力<spanclass="math inline">\(L_0\)</span></li><li>工业部门总产值为<span class="math inline">\(O L_0 AD\)</span>，其中工人工资总额为<span class="math inline">\(O L_0 A\overline W\)</span>，<span class="math inline">\(A D \overlineW\)</span>为利润或资本报酬</li></ul><p>　　<strong>资本积累 / 利润再投资阶段</strong>（<spanclass="math inline">\(t=1\)</span>）：古典经济学和马克思主义经济学的共同假设：工人只能得到生存工资水平<spanclass="math inline">\(\overlineW\)</span>，且工人会将所有的工资用于消费；资本家几乎将得到的所有利润用于再投资。</p><ul><li>企业家资本存量增加<span class="math inline">\(K_0 \toK_1\)</span>，其中：<span class="math inline">\(K_1 = K_0 + 面积 A D\overline W\)</span></li><li>劳动产品边际价值曲线（劳动力需求曲线）右移<spanclass="math inline">\(DD_0 \to DD_1\)</span>，均衡点为<spanclass="math inline">\(E\)</span>，工资率为<spanclass="math inline">\(W_S  \gt \overline W\)</span></li><li>由于此时的工资率高于生存水平<span class="math inline">\(W_S  \gt\overline W\)</span>，马尔萨斯法则起作用，短期劳动供给曲线<spanclass="math inline">\(SS\)</span>右移，以压低工资率，长期将达到均衡点为<spanclass="math inline">\(B\)</span>点，工资率为生存工资率<spanclass="math inline">\(\overline W\)</span>，劳动雇佣量为<spanclass="math inline">\(L_1\)</span></li><li>假设生产规模不变，且满足萨伊定律（<ahref="https://baike.baidu.com/item/%E8%90%A8%E4%BC%8A%E5%AE%9A%E5%BE%8B/2574632">Say'sLaw</a>：生产创造需求），那么在以产品单位衡量的生存工资率不变的条件下，产出、资本存量和劳动力就业将长期以相同的速度增加。在长期，劳动力水平供给曲线<spanclass="math inline">\(LS\)</span>，会使得企业家将利润用于再投资，进而保证工业部门资本积累和产出增长</li></ul><p>　　<strong>人口增长与农业生产</strong>：折线<spanclass="math inline">\(HS\)</span>为边际成本决定的谷物供给曲线（竞争性市场下，厂商的<ahref="siyuan://blocks/20220429004920-eslxsam">"短期供给曲线"</a>为边际成本<spanclass="math inline">\(MC\)</span>曲线上大于或等于平均可变成本<spanclass="math inline">\(AVC\)</span>曲线最低点的部分）。假设土地按照最优到最劣等顺序使用，且每类土地的面积固定不变，那么<spanclass="math inline">\(HS\)</span>曲线呈阶梯式上升。在竞争性市场中，商品的销售价格由其边际成本决定。</p><ul><li>时期<span class="math inline">\(t: 0 \to 1\)</span>：人口增长为<spanclass="math inline">\(L_0 \to L_1\)</span>，谷物消费曲线右移<spanclass="math inline">\(d_0  \to d_1\)</span>，在最优等土地<spanclass="math inline">\(Q_1\)</span>产出达到最大化以前，谷物生产的边际成本保持不变，因此均衡价格保持不变，为<spanclass="math inline">\(P_0 = P_1\)</span></li><li>时期<span class="math inline">\(t: 1 \to 2\)</span>：人口增长为<spanclass="math inline">\(L_1 \to L_2\)</span>，谷物消费曲线右移<spanclass="math inline">\(d_1  \tod_2\)</span>，均衡点处的谷物需求量超过最优等土地产出极限<spanclass="math inline">\(Q_1\)</span>，农业生产的边际成本呈阶梯式变化<spanclass="math inline">\(P_1 \to P_2\)</span></li><li>随着越来越多质量较差的土地进入农业生产，其边际成本继续以阶梯式上升</li></ul><p>　　<strong>谷物价格上涨、生存工资与土地租金</strong>（<spanclass="math inline">\(t: 0 \to 2\)</span>）：</p><ul><li><p>生存工资变化</p><ul><li>人口增长为<span class="math inline">\(L_0 \toL_2\)</span>，导致谷物价格上涨<span class="math inline">\(P_1 \toP_2\)</span>，生存工资水平必须上涨<span class="math inline">\(\overlineW \to  { \overlineW}&#39;\)</span>才能满足工人的基本生活需求，因此长期工资率提高到新的生存工资水平<spanclass="math inline">\({\overline W}&#39;\)</span></li><li>企业家资本存量为<spanclass="math inline">\(K_2\)</span>，此时工业部门总产出<spanclass="math inline">\(O L_2 CD\)</span>，利润（或资本报酬）从初始的<span class="math inline">\(C D{\overline W }&#39;\)</span>下降至<span class="math inline">\(G D{\overline W }&#39;\)</span>，资本家将利润用于再投资的激励下降</li></ul></li><li><p>土地租金变化</p><ul><li>谷物价格上涨<span class="math inline">\(P_1 \toP_2\)</span>，使用优等土地的谷物生产者的单位产出可以获得<spanclass="math inline">\(P_2 - P_1\)</span>的超额利润</li><li>生产者之间使用优等土地的竞争会使得优等土地的地租提高<spanclass="math inline">\(P_2 -P_1\)</span>，优等土地的所有者（地主）将获得全部的农业生产的超额利润</li></ul></li></ul><h4 id="李嘉图陷阱">2.3 李嘉图陷阱</h4><p>　　<strong>低收入国家在农业停滞的状态下进行工业发展必然受到自然资源制约的问题。</strong>这种制约问题即为“李嘉图陷阱”。</p><p>　　<strong>李嘉图陷阱</strong>：在各等级土地面积固定的自然资源禀赋条件下，工业化初期经济增长会受到固定土地资源禀赋机制的制约。原因是人口增长导致食品价格上升，经济将处于“停滞状态”，由于超低的利润率无法激励追加投资，劳动者的实际工资水平也处于最低生存水平，只有地主的地租收入在增加。（T.W. Schultz, 1953 - 食品问题）</p><p>　　<strong>摆脱李嘉图陷阱</strong>：开放粮食进口，废除对进口便宜粮食设置关税壁垒的谷物法。通过贸易自由化，利用全球近乎无限的最优等土地，让英国国内的农业生产控制在最优等土地的生产极限范围内（上图<spanclass="math inline">\(t=1\)</span>时期，谷物总产量为<spanclass="math inline">\(Q_1\)</span>，价格为<spanclass="math inline">\(P_0 = P_1\)</span>）。</p><p>　　<strong>反对意见</strong>：</p><ul><li>在工业化初期，低收入国家赚取外汇并不容易，将外汇用于科学技术的引进可能更加有用；</li><li>人口稠密的国家（如亚洲地区）的农业生产成本普遍更高，开放粮食贸易会导致国内农产品价格与国际相比没有竞争优势，且国际价格波动会导致国内价格也难以保持稳定。</li></ul><p>　　<strong>更有用的措施</strong>：促进农业技术进步，通过科学的方式组织农业生产</p><h3 id="二元经济模型">3. 二元经济模型</h3><h4 id="刘易斯模型the-lewis-model">3.1 刘易斯模型（<strong>The LewisModel</strong>）</h4><p>　　<strong>刘易斯模型假设：</strong></p><ul><li><p>经济中存在两个部门：以农业为代表的传统部门、以工业为代表的现代部门</p><ul><li>传统部门：大而弱——产出份额占比高，但生产率低</li><li>现代部门：小而强——产出份额占比低，但生产率高</li></ul></li><li><p>工资率的决定：</p><ul><li>传统部门：由制度决定，为生存最低水平<spanclass="math inline">\(\overline W\)</span>（古典经济学假设）</li><li>现代部门：由劳动边际生产力决定，为效率工资（新古典经济学假设）</li></ul></li><li><p>劳动力供给：</p><ul><li>传统部门：缺乏弹性，存在剩余劳动力，因为在发展中国家的农村地区由于熟人互助或血缘关系，雇佣了过多劳动力</li><li>现代部门：具有无限弹性，从而可以确保基本积累与利润同步增长</li></ul></li><li><p>传统部门的边际劳动力生产力为0，或者远低于制度工资率</p></li></ul><p>　　<strong>刘易斯模型的2个拐点与3个阶段：</strong></p><ul><li><p><strong>第一阶段</strong>：劳动力无限供给阶段，传统部门边际生产力为0的剩余劳动力转移。</p><ul><li>现代部门按照低于效率工资的、固定的制度工资率提供就业机会，农业部门会有大量剩余劳动力转移到工业部门。</li><li>在所有剩余劳动力从传统部门全部转移到现代部门之前，劳动力供给曲线为一条水平线，资本和利润同时增长的过程一直持续（类似于李嘉图理论）。</li><li><strong>刘易斯第一拐点</strong>：从劳动力无限供给转变为劳动力有限供给，此时传统部门不再有零值劳动力（边际生产力为0）。</li></ul></li><li><p><strong>第二阶段</strong>：劳动力有限供给阶段，传统部门边际生产率大于0、小于生存水平工资率<spanclass="math inline">\(\overline W\)</span>的劳动力转移。</p><ul><li>所有传统部门的剩余劳动力都被现代部门吸收，相对应于工业部门对劳动力的进一步吸收，农业部门的工资率将沿着其边际生产力曲线提高。</li><li>该过程中，传统部门逐渐向现代部门转型，其工资率的决定规则也从古典原则逐渐向新古典原则转型。</li><li>劳动力从传统部门向现代部门转移的速度，取决于两个部门的工资率差异。在第二阶段，现代部门的工资率仍为生存水平<spanclass="math inline">\(\overlineW\)</span>，传统部门的工资率从接近0逐渐提高至生存水平<spanclass="math inline">\(\overlineW\)</span>，两个部门的工资率水平差异不断减小，因此劳动力转移的速度也在逐渐放缓。</li><li><strong>刘易斯第二拐点</strong>：从劳动力有限供给转变为劳动力不足，经济的二元性质不再存在，此时传统部门的的工资率已经达到生存水平<spanclass="math inline">\(\overlineW\)</span>，现代部门要继续吸收传统部门的劳动力，必须提高工资率。</li></ul></li><li><p><strong>第三阶段</strong>：劳动力不足阶段，传统部门和现代部门提高工资率，以竞争有限的劳动力。</p><ul><li>传统部门（农业）成为现代经济的组成部分，其工资率和人均收入沿着向上倾斜的劳动供给曲线持续上升。</li><li>二元经济增长过程中，在第二拐点之前，有可能解决不了李嘉图陷阱（或舒尔茨食品问题）导致无法发展。</li></ul></li></ul><h4 id="拉尼斯-费模型the-ranis-fei-model">3.2 拉尼斯-费模型（TheRanis-Fei model）</h4><p>　　拉尼斯-费模型考虑了李嘉图陷阱对经济发展的影响。</p><p>　　如下图所示：<span class="math inline">\(O_1O_2\)</span>为劳动力总量，其中左边为工业部门的劳动力数量，右边为农业部门劳动力数量。凹型曲线<spanclass="math inline">\(O_2R\)</span>为农业部门产量对劳动力投入的反应（生产函数）。</p><p>　　或者倒过来看：随着农业劳动力投入量不断增加，农业边际产出递减，农业总产出增加，超过<spanclass="math inline">\(S\)</span>点后，劳动力的边际产品为0。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230325232436-7gq2zse.png" style="width:450px" alt="Lewis-Ranis-Fei的二元经济模型" /></p><p>　　<strong>上图中的工业发展过程，可以分为三个阶段：</strong></p><ul><li><p><strong>在工业化开始前</strong>（点<spanclass="math inline">\(O_1\)</span>）：所有劳动力从事农业生产（<spanclass="math inline">\(O_1O_2\)</span>），假定农业劳动的边际生产率为0，根据社区户主和收入分享原则，农业产出由劳动者平等分享。每个劳动者的收入为直线<spanclass="math inline">\(O_2R\)</span>的斜率，这个平均生产力为生活费用的决定因素，即为制度决定的生存工资率<spanclass="math inline">\(\overline W\)</span>。</p></li><li><p><strong>第一阶段、第二阶段</strong>（线段<spanclass="math inline">\(O_1 T\)</span>）：</p><ul><li>随着工业部门的资本积累，工业劳动力需求曲线向右移动<spanclass="math inline">\(D_0 \toD_1\)</span>，此时工业部门的工资率为生存水平<spanclass="math inline">\(\overlineW\)</span>，由于农业劳动力的边际生产力低于工业部门提供的制度工资率<spanclass="math inline">\(\overlineW\)</span>，向工业提供劳动力的价格保持不变。</li><li>在<spanclass="math inline">\(S\)</span>点以后，农业劳动力的边际产量开始为正，劳动力进一步向工业部门转移会造成食品总产出的下降，使得食品价格相对工业品价格上升。<spanclass="math inline">\(S\)</span>点为“短缺点”。</li><li>在第二阶段，工业超过了<spanclass="math inline">\(S\)</span>点，以工业产品单位度量的工资率需要上升，以满足劳动力因食品价格上涨导致的生存工资率提高。工业劳动供给曲线从<spanclass="math inline">\(S\)</span>点起向上倾斜。</li><li>在第二阶段，对于大部分劳动力而言，食品仅能满足生存需求，因此需求价格弹性非常小，食品价格和劳动力生存工资率会以很剧烈的幅度上升，曲线的斜率可能会很陡峭。</li><li>如果食品价格的剧烈上涨，严重挤压了工业部门的利润空间，在<spanclass="math inline">\(T\)</span>点以前工业部门的资本积累已经停滞，会使得发展中国家无法跨越李嘉图陷阱。</li></ul></li><li><p><strong>第三阶段</strong>（线段<spanclass="math inline">\(TO_2\)</span>）：</p><ul><li>如果跨越了<spanclass="math inline">\(T\)</span>点（刘易斯第二拐点），结论和刘易斯模型相同。</li></ul></li></ul><p>　　<strong>拉尼斯-费模型的启示：</strong></p><ul><li>农业生产率不会无缘无故提高。如果发展中国家不努力提高农业生产率，强行将资源从农业部门转移至工业部门，很有可能无法实现经济现代化。</li><li>工业化从一开始就需要依靠农业技术进步的支持，以防止食品价格和生存工资率的迅速上升。</li></ul><blockquote><p><strong>补充：</strong></p><p>（个人观点）</p><p>工业生产需要三种生产要素：资金、劳动力和技术。在改革开放后，劳动力主要来自农村的剩余劳动力，资金主要来自工农业剪刀差在工业部门积累的利润和国外资本，并在引进外资的同时通过市场换技术引进了一批生产技术。</p><p><strong>中国为什么没有掉入李嘉图陷阱？</strong></p><ul><li>严格控制人口：实施严格的“计划生育”政策，避免了人口爆炸式增长与农业生产之间的突出矛盾；</li><li>保障农业部门劳动力数量：通过严格的户籍制度，避免了农村劳动力过快流向城市工业部门；</li><li>改善农业基础设施：在20世纪50-60年代，集体农业生产时期建设了大量的灌溉设施等农业基础设施，为改革开放后稳定粮食生产提供了有利条件；</li><li>使用先进生产要素：20世纪80年代以后，化肥、农药等农业直接投入品的使用量迅速提高，节约了大量劳动投入，并提高了单位面积土地的农产品产量。</li></ul></blockquote><h2 id="四打破自然资源限制">四、打破自然资源限制</h2><p>　　低收入国家发展面临的资源约束：</p><ul><li>人口爆炸式增长，人均可利用资源急速下降；</li><li>资源的不合理使用导师土壤侵蚀、荒漠化等环境恶化问题，减少了可利用资源总量。</li></ul><h3 id="农业增长潜力">1. 农业增长潜力</h3><h4 id="历史上的农业增长潜力">1.1历史上的农业增长潜力</h4><p>　　农业机械化的主要作用是替代劳动力，在土地资源受限的情况下，通过机械化难以提高单位土地农业产出。</p><p>　　历史上通过轮作和休耕提高土地生产率：</p><ul><li><strong>两圃制</strong>：粮食作物和休耕轮换，土地利用率为<spanclass="math inline">\(1/2\)</span></li><li><strong>三圃制</strong>：连续两次种植粮食作物，然后休耕，土地利用率<spanclass="math inline">\(2/3\)</span></li><li><strong>四圃制 / <ahref="https://www.zgbk.com/ecph/words?SiteID=1&amp;ID=557304&amp;SubID=75097">诺福克轮作制</a></strong>：以四年为一个周期，每块土地轮换种植小麦、萝卜、大麦、三叶草或芜青，没有休耕地，土地利用率<spanclass="math inline">\(4/4\)</span></li></ul><p>　　以资源为基础（或者说以植物营养循环为基础）的农业发展可以满足低人口增长率（例如小于1%）下的食品需求增长，但当人口增长率超过2%时，上述方法不能保证长期的农业产出增长。</p><h4 id="以科学为基础的农业潜力">1.2 以科学为基础的农业潜力</h4><p>　　以科学为基础的农业：通过科学知识和工业投入（例如：应用化肥、改良作物品种），突破土壤自然肥力的制约从而提高农业土地生产率。</p><p>　　20世纪20-30年代，发展中国家人口爆炸式增长，并且在二战后世界人口增长加速。但是美国的国内粮食价格（美国一直是主要的粮食出口国，国内价格和国际价格变化大致相同）小麦和玉米的价格没有明显升高（甚至价格下降）。</p><p>　　美国粮食产量稳定增长（因而粮食价格总体下降）的原因：</p><ul><li>土地面积没有明显增加：19世纪后期，美国西部地区已经不再开垦新土地。</li><li>劳动节约型技术开发与应用：农业机械化（马 <spanclass="math inline">\(\to\)</span>拖拉机）使得更少的劳动力可以耕种更多的土地。</li><li><strong>改良的作物品种</strong>：例如杂交玉米，提高了作物吸收营养和转化为粮食产量的能力。</li><li><strong>肥料工业的发展</strong>：化肥的使用，提高了土壤营养供给能力。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230326143948-37nm3ve.png" style="width:550px" alt="美国玉米、小麦实际价格的长期变化（以1976年的CPI为标准平减）和亩均产量" /></p><p>　　在1900-1930年期间，品种改良和肥料工业使得农产品价格下降了约40%，土地价格相对于农产品价格上涨了200%。化肥价格相对土地价格急剧下降促进以科学为基础的农业发展，是成功的诱致性技术创新。</p><p>　　<strong>农业技术研发的特点：</strong></p><ul><li><strong>不可分性</strong>：与机械等生产要素的“假不可分性”不同，农业技术的研发具有“真不可分性”，因为研发投入巨大，难以由私人部门（如：农民、私人企业家）开发，往往需要国家（特别是发达国家）建立的农业研究和推广体系完成（T.W. Schultz - 改造传统农业）。</li><li><strong>正外部性</strong>：保护农业技术专利比较困难，开发和推广者很难获得技术带来的所有收益。</li></ul><p>　　<strong>农业技术研发具有公共产品的属性</strong>，且农业技术研究和推广体系的建立需要花费大量资金，往往由发达工业化国家的公共部门完成。</p><blockquote><p><strong>联想：</strong></p><p>联合国粮食与农业组织（FAO）的数据显示，2019年，中国的耕地占全球耕地的8.64%，却利用了全球超过25%的农用化肥折纯量。在耕地资源受限的情况下，依靠增加化肥投入已经难以实现粮食产量的增长。因此，粮食产量稳定与增长，需要依靠作物品种的改良。考虑到中国的工业化已经完成，有能力投入工业积累的资金用于农业技术研发。这也是近两年中国关注种子安全的重要原因。</p></blockquote><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305015312-hmtzqj3.png" style="width:550px" alt="诱致性技术创新模型" /></p><p>　　如上图所示，作物品种改良和肥料工业发展等农业技术创新，减少了农业产出对土地资源的依赖，是<spanclass="math inline">\(i_0 \to i_1\)</span>变化的诱致性技术创新。</p><h3 id="绿色革命">2. 绿色革命</h3><h4 id="关于绿色革命">2.1 关于绿色革命</h4><p>　　将以科学为基础的农业发展机制转移到发展中国家，可以帮助发展中国家缓解人口与资源压力，避免陷入李嘉图陷阱。</p><p>　　转移机制需要适当的公共品供给：</p><ul><li>基础设施建设：如运输道路的建设</li><li>完善法律与制度环境：如专利保护制度</li><li>建立公共研发和推广部门</li></ul><p>　　越贫困（或发展水平越低的）发展中国家，建立转移机制的难度越大。利用发达国家已有的技术是成本更低的选择。但是农业生产受到环境因素的影响很大，通过技术引进实现农业技术转移比工业技术转移更加困难。</p><p>　　在发展中国家开展“绿色革命”，即现代品种的开发和扩散，需要对作物品种进行本地化的适应性调整。</p><p>　　<strong>绿色革命可以看做开发土地节约型技术的机制。</strong></p><h4 id="技术转移的条件">2.2 <strong>技术转移的条件</strong></h4><ul><li><strong>适应性研究</strong></li><li><strong>基础设施的建设</strong></li></ul><p>　　19世纪末，日本进入现代经济之时，已经面临人口与耕地禀赋的严峻矛盾，需要增加单位耕地的农业产出。</p><ul><li>使用商品有机肥料（如鱼粉、豆饼）</li><li>农业试验站对作物品种进行改进</li></ul><p>　　从20世纪初开始，日本的每公顷水稻产量呈现上升趋势。在第一次世界大战的经济高速增长期间，日本大米价格急剧上升，有陷入李嘉图陷阱的风险，因此日本将水稻生产技术转移到其殖民地（朝鲜半岛、台湾）。因此，20世纪20年代开始，朝鲜半岛和台湾的水稻产量开始显著上升。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230326154813-xytfc2s.png" style="width:550px" alt="日本、台湾和朝鲜半岛每公顷水稻（糙米）的产量（五年移动平均值，半对数）" /></p><p>　　台湾进行绿色革命后水稻产出迅速增加的原因：</p><ul><li>开展适应性研究：让种植于日本（温带气候）的水稻品种适合在亚热带环境的台湾种植</li><li>良好的水利设施与灌溉条件：为了种植甘蔗修建的灌溉设施，保证了水稻种植的用水需求</li></ul><p>　　朝鲜半岛的气候条件与日本更相似，没有专门研究适应本地的新品种，但由于日本和朝鲜半岛的水土条件不同，在朝鲜半岛种植日本适宜种植的水稻品种，不能到达日本相似的产量。在20世纪30年代以后，朝鲜半岛改进了灌溉设施，并对种植的品种做了改进，单位面积水稻产量才有了快速上升。</p><p>　　绿色革命的核心是以温带的先进技术为原型，开发适宜热带环境的适应性技术研究。因此，<strong>绿色革命的本质是一种适应性研究能力的转移。</strong></p><h4 id="外延式与内涵式土地扩大">2.3 外延式与内涵式土地扩大</h4><ul><li><strong>外延式土地扩大</strong>：通过<u>增加土地面积</u>实现总产出增长。</li><li><strong>内涵式土地扩大</strong>：通过<u>提高土地生产率</u>实现总产出增长。例如：改善灌溉设施、改良种子、开发肥料技术。</li></ul><p>　　通过耕作劣等地（土地开垦，Landopenings）实现农业产出的增长，耕作劣等地的边际成本更高，因此边际成本曲线<spanclass="math inline">\(A\)</span>呈现上升趋势，且上升速度越来越快。</p><p>　　通过集约经营（例如：灌溉，Irrigation）实现农业产出增长，修建灌溉设施的成本包含在农业生产的边际成本中，因此初始的边际成本更高，但增长更为缓慢。</p><p>　　在<spanclass="math inline">\(P\)</span>点以后，外延式土地扩大的边际成本迅速上升，但内涵式土地扩大的边际车根本迅速的相对更加缓慢。</p><p>　　肥料和良种的使用降低了增加产量带来的灌溉成本上升，体现为边际成本曲线下移<spanclass="math inline">\(I \to I&#39;\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230326162221-w8ec0oo.png" style="width:400px" alt="外延式、内涵式的土地扩大与农业生产边际成本的关系" /></p><h3 id="诱致性创新的障碍">3. 诱致性创新的障碍</h3><p>　　“绿色革命”是人口对有限的土地资源的压力诱致的农业生产技术创新。发展中国家可以引进发达国家的科学技术，使得创新可能性曲线大幅度移动<spanclass="math inline">\(I_0 \toI_1\)</span>，对于土地相对稀缺性的上升<span class="math inline">\(P_0\toP_1\)</span>（要素相对价格上涨反映要素相对稀缺性提高），引进技术会缓解土地的相对稀缺性（点<spanclass="math inline">\(b \to c\)</span>）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305015312-hmtzqj3.png" style="width:550px" alt="诱致性技术创新模型" /></p><p>　　<strong>诱致性技术变迁的实现需要依靠诱致性制度制度创新。</strong>诱致性技术的转移需要满足<u>开展适应性研究</u>和<u>基础设施建设</u>两个条件，依靠私人部门难以完成，需要依靠公共支持的农业研究制度（例如国际农业研究中心）和土地基础设施开发组织这样的制度创新。</p><h4 id="非洲的问题资源禀赋不同造成的社会-制度传统差异">3.1非洲的问题：资源禀赋不同造成的社会-制度传统差异</h4><p>　　<strong>特定资源禀赋下形成的社会-制度传统，可能会成为诱致性创新的阻力。</strong>例如，在非洲，人口密度远低于亚洲，其农业生产方式主要是轮作和游牧，大部分农地为部落/社区所有，共有产权（或私有产权的相对缺失）不利于土地基础设施的长期投资；与定居农业相比，游牧的农业生产方式，会使得道路和灌溉系统等资本形成的相对滞后。亚洲类型的绿色革命（定居农业、内涵式土地扩张的技术）依赖于农业基础设施的建设（如灌溉设施）和现代农业投入品的使用（如化肥），非洲不发达的基础设施，使得亚洲类型的绿色革命难以突破人口爆炸式增长导致的自然资源制约。</p><p>　　图解：</p><ul><li>在上图中（诱致性技术创新模型）：引进亚洲类型的绿色革命技术后，非洲的私人生产者的最优点发生了转移（点<spanclass="math inline">\(a \toc\)</span>），但由于公共产品供给（如产权制度、灌溉设施）不充分，其农业发展陷于点<spanclass="math inline">\(b\)</span>。</li><li>在下图中（外延式、内涵式的土地扩大与农业生产边际成本的关系）：引进亚洲类型绿色革命技术后，这些国家的累积性偏差已经过了<spanclass="math inline">\(P\)</span>点，但使没有能力实现生产边际成本曲线的切换（曲线<spanclass="math inline">\(A \to I\)</span>）。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230326162221-w8ec0oo.png" style="width:400px" alt="外延式、内涵式的土地扩大与农业生产边际成本的关系" /></p><p>　　非洲地区曾经作为殖民地，因此在独立以后，许多国家选择了采取社会主义经济管理模式（即强烈干预市场经济，与之对应是速水佑次郎认为的资本主义的自由市场）。政府倾向于干预私有品市场，而非提供社会需要得公共品，会导致效率低下和腐败，并且加速工业化也会成为剥夺农业的手段（如贸易保护政策、垄断农产品的购销等）。</p><p>　　剥夺农业剩余用于工业化进程中的资本积累，在发展中国家很常见。例如中国的“工农业剪刀差”，对于缺乏资本原始积累的发展中国家而言，用农业补贴工业是可以获得工业资本积累的最方便的途径之一。</p><p>　　<strong>为什么亚洲使用公共品的适宜供给来补偿对农业的剥夺，而非洲国家选择分配私有品作为补偿的主要模式？</strong></p><ul><li>非洲从土地资源禀赋风度迅速转变为土地资源稀缺，没有足够的时间对传统和惯例进行改变、建设灌溉等基础设施；</li><li>非洲国家的国界由宗主国划定，没有考虑当地人口的社会完整性，在独立以后，公民和政治家的部落社区意识比国家意识更强，会优先考虑部落/ 社区的利益，而非国家整体利益。</li></ul><h4 id="绿色革命的发展方向">3.2 绿色革命的发展方向</h4><p>　　<strong>绿色革命本质是国际技术的转移过程，当技术接受国的技术水平接近世界技术前沿时，技术转移过程就会停止。</strong></p><p>　　绿色革命下的国际技术会先转移到环境条件最有利的地区，然后通过提高引进技术的适应性，使得适应技术接受国的特定环境条件，并提高当地的环境条件，将技术扩散到条件不利的地区。</p><p>　　技术适应性具有从有利地区发展到不利地区的顺序性。</p><p>　　如果技术扩散即将结束，但发展中国家还未完全解决人口增长与资源禀赋制约的矛盾，即粮食无法保持自给，发展中国家就有重新陷入李嘉图陷阱的可能。</p><h3 id="靠冗余的自然资源获得发展">4. 靠冗余的自然资源获得发展</h3><p>　　发展中国家的经济活动（特别是出口）高度依赖自然资源。一些发展中国家拥有大量的自然资源，发展初期主要依靠开发自然资源与生产初级产品。</p><h4 id="殖民主义和剩余输出理论">4.1 殖民主义和剩余输出理论</h4><p>　　<strong>剩余输出理论</strong>（迈因特，HlaMyint，1971）：人口密度低、有大片未利用土地和丰富自然资源的“广袤的土地”上的发展过程。</p><p>　　在殖民主义下，非洲、东南亚等地区的经济体被卷入国际贸易，因为一些土著居民尚未开发、利用的自然资源可以生产外部需求很高的初级产品，这些殖民地的自然资源开始拥有市场价值。外国资本和企业家开发殖民地的自然资源所形成的收入源用于宗主国的资本积累。</p><p>　　这种基于殖民主义的自然资源开发和剩余输出，并没有给殖民地的居民带来收入和生活水平的明显提高，即剩余的物质资本主要流向宗主国。为了保证劳动力价格低廉，宗主国会防止本地工人参与教育和学习技能，也未形成人力资本。</p><p>　　<strong>马克思的“依赖理论”</strong>：要保持发达国家的资本高报酬率，就必然造成第三世界的贫困。</p><p>　　因此，在殖民地独立后形成的发展中国家，形成了支持进口替代工业化政策和实现外国企业和资源国有化的意识形态。</p><p>　　<strong>以开发冗余自然资源为基础的经济增长能否持续，并且增加当地居民的福利，主要取决于能否将资源租金动员起来，并用于人力资本投资、改善基础设施和制度建设，使得市场机制有效地运作起来。</strong></p><blockquote><p><strong>补充：</strong></p><p><strong>我的观点：</strong>对于发展中国家（特别是前殖民地国家）来说，发展的关键是制度形成与资本积累，市场机制在初期并不能起到决定性作用。</p><p>在殖民地经济中，市场机制是被扭曲的。在被殖民以前，对本地居民而言的冗余自然资源有价值，但并非市场价值；殖民行为发生后，这种非市场价值被开发。前殖民地国家能否获得发展，关键是是否形成了资本积累，包括冗余自然资源开发带来的物质资本在本地的积累，以及<u>在地物质资本</u>（留在当地的物资资本）形成的人力资本。而制度形成的关键则是构建适应性制度-文化系统与市场机制。</p><p>市场机制并不应该被割裂的讨论，它属于国家制度特征的一部分，市场机制并不以社会主义和资本主义的名称而区别。</p></blockquote><h4 id="原材料理论">4.2 原材料理论</h4><p>　　原材料理论和剩余输出理论在理论结构上相同，区别在于原材料理论以发达国家历史经验为基础，而剩余输出理论则以殖民地经济为基础。</p><p>　　<strong>原材料理论</strong>：在空地的经济发展过程中，从利用冗余自然资源出口向国内工商业增长转变的方式。</p><p>　　出口原材料或初级产品，为资源丰富的发展中国家提供了就业和收入机会，可以带动国内消费以及原材料生产、加工和运输等，并诱致国内工商业的发展。</p><p>　　工商业的发展依赖国民收入和人口数量。如果在人口达到工商业出现规模经济的门槛以前停止，或原材料生产的冗余资源在达到这个门槛前耗竭了，就不能实现可持续的经济增长。</p><h4 id="荷兰病">4.3 荷兰病</h4><p>　　<strong>荷兰病</strong>：丰富的自然资源禀赋是经济发展的财产，有时候也会成为导致经济停滞的陷阱。</p><p>　　在资源丰富的国家，因资源出口增加引起的农业和制造业的附加值降低，足以从资源部门收入增长中得到补偿。但由于天然气、石油和矿物等具有高资本密集的特征，自然资源开采部门的就业增加不足吸纳农业和工业部门解雇的工人。</p><p>　　这种失业中的一部分可以被非贸易品生产（如建筑业和服务业）的就业增加所吸纳，但非贸易品生产部门的劳动力在配置通常会有一个较长的时滞。</p><p>　　自然资源禀赋丰富并不一定是经济发展的必要条件，而有可能成为经济发展的障碍。只要采取适当的政策就可以使资源丰富的国家避免落入荷兰病陷阱。</p>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜第2章：对发展中经济的比较研究</title>
      <link href="/posts/15687/"/>
      <url>/posts/15687/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>参考内容：</strong></p><p>速水佑次郎 《发展经济学（第 3 版）》 chap 2</p></blockquote><h2 id="一经济增长与结构变化">一、经济增长与结构变化</h2><p>　　使用 GDP 来衡量国家的产出水平存在一些问题：</p><ul><li><strong>不同国家的核算结果可比性问题：</strong>仅计算市场交易中的部分，家庭消费与家庭投资无法被计算在内。一个国家中市场行为的比例越低（即自给程度越高），国民收入和投投资被低估的可能性越大。</li><li><strong>不同货币的核算结果可比性问题：</strong>将发展中国家的国民收入按照汇率转换为美元，会低估发展中国家的经济福利水平。原因：一是市场汇率较低。发展中国家的劳务和不动产的价格很低，市场规律往往低估了发展中国家绝大部分商品和劳务的购买力。二是政府干预汇率。为了促进某些产业的发展，发展中国家往往高估官方汇率，以促进某些产品的出口。</li></ul><h3 id="人均-gdp-及其增长">1. 人均 GDP 及其增长</h3><p>　　时间范围是：1965～2000</p><p>　　使用汇率换算法计算的人均 GDP 时，与高收入国家相比，低收入国家离45º线更远，表明低收入国家的人均收入更容易被低估（原因：市场价格低估和政府干预汇率）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230323171424-ngsryft.png" style="width:550px" alt="2000年人均GDP国际比较：通过汇率转换和购买力平价换算（以美元计；对数尺度）" /></p><p>　　不论怎么对 GDP的统计范围和购买力平价进行调整，低收入国家与高收入国家之间，以人均 GDP衡量的人均收入差距很大。</p><p>　　世界不平等的现象并没有缓解，而是越来越严重了。</p><p>　　东亚地区（特别是中国和韩国）的发展中国家与其他发展中国家的情况完全不同，人均GDP 增长率远高于发达国家。</p><h3 id="产业结构变化">2. 产业结构变化</h3><p>　　时间范围是：1965～2000</p><ul><li>高收入国家的农业部门和工业部门占 GDP的份额都下降了，服务业部门有较大的扩张。</li><li>在非洲国家，制造品的出口份额很低，工业的占 GDP的份额相对较高。这是因为这些国家主要实行了“进口替代政策”等贸易保护政策，通过限制进口，保护国内的工业发展，促进国内制造业获得国内市场。</li><li>在中国与印度等自然资源相对稀缺（相对人口）的国家，制造品占商品的出口份额高于工业占GDP的份额，即以出口型经济为主。在自然资源禀赋丰富的拉丁美洲国家则相反。</li><li>非洲国家的贸易保护措施，可能加剧了非洲经济的停滞，使得非洲国家的工业能力没有提升到可以与国际竞争的水平。</li></ul><h2 id="二资本积累的结构">二、资本积累的结构</h2><blockquote><p><strong>补充：</strong>世界银行对国家财富的评估方式，来源《变化中的国家财富：对可持续发展能力的测量》</p><p>国家的总财富（综合财富）主要包括 4 个部分：</p><ol type="1"><li><strong>产出资本</strong>：包括机器、建筑物、设备等；</li><li><strong>自然资本</strong>：包括农业用地、保护区、森林、矿产和资源等；</li><li><strong>无形资本</strong>：是“剩余资产衡量”，为总财富与产出资本、自然资本之间的差额，隐含人力资本、社会和制度资本等。</li><li><strong>净国外资产</strong></li></ol><p>发展中国家的财富变化规律：<strong>发展使得总财富增长，也会改变财富构成。</strong>具体来看：</p><ol type="1"><li>无形财富是最大的组成部分，也是增长最快的部分；</li><li>大多数发展中国家开始时对自然资本依赖程度较高；</li><li>无形资本的快速增长，主要原因是发展中国家的教育程度提高、制度与管理等因素得到改善；</li><li>在低收入国家中，自然资本占总财富的比重仍然很大，部分国家会超过产出资本；</li><li>对于以来不可再生自然资本的国家来说，把自然资本转化为其他财富形式是通往可持续发展的路径（例如合适的产权和管理制度促进国家可持续发展）；</li><li>亚洲国家（特别是中国）的 <span class="math inline">\(ANS\)</span>与人均 <span class="math inline">\(ANS\)</span> 均有明显提高（<spanclass="math inline">\(ANS\)</span>：<spanclass="math inline">\(调整后的净储蓄=国民净储蓄-自然资本价值损失+教育支出\)</span>）。</li></ol></blockquote><h3 id="经济增长中国的资本形成与储蓄">1.经济增长中国的资本形成与储蓄</h3><p>　　以人均 GDP衡量的人均收入增长主要由“<strong>广义资本</strong>”禀赋的增长带来。</p><p>　　广义资本的内容：</p><ul><li><strong>有形资本：</strong>如机器、工厂、存货等</li><li><strong>无形资本：</strong>教育、训练、卫生、研究与开发等投资形成的人的知识水平与能力提升</li></ul><p>　　资本形成与 GDP的增长高度相关。高储蓄率和高速经济增长的影响路径：</p><ol type="1"><li>高储蓄率 <span class="math inline">\(\to\)</span> 高投资 <spanclass="math inline">\(\to\)</span> 高速经济增长</li><li>高速经济增长 <span class="math inline">\(\to\)</span> 高投资回报预期<span class="math inline">\(\to\)</span> 高储蓄率（弗里德曼“<ahref="https://fgzfgz.github.io/posts/53788/">永久收入假说</a>”）</li></ol><p>　　在亚洲，上述的双向因果关系形成了良性循环，高储蓄率推动了亚洲国家的高速经济增长，高速经济增长又形成了高储蓄率……</p><h3 id="外债与通货膨胀">2. 外债与通货膨胀</h3><p>　　<strong>资本形成的来源：国内储蓄、引进外资</strong></p><ul><li>国内储蓄：利率</li><li>引进外资：国内与国外资本市场的预期投资回报率差异，包括该国家的风险和政府对外国企业活动干预</li></ul><p>　　一些国家的投资需求超过了其自身的储蓄能力，从国外引进资本有可能促进其摆脱低经济增长与低储蓄率的恶性循环。</p><p>　　四部门经济的国民收入核算中，国民生产总值 <spanclass="math inline">\(YY﻿\)</span>：</p><p><span class="math display">\[\begin{align}Y = C+I+G+(X-M)\end{align}\]</span></p><ul><li><span class="math inline">\(C\)</span>：私人消费</li><li><span class="math inline">\(G\)</span>：政府消费</li><li><span class="math inline">\(X-M\)</span>：净出口</li><li><spanclass="math inline">\(I\)</span>：国内总投资，包括存货投资</li></ul><p>　　国民生产总值 <spanclass="math inline">\(Y\)</span>（即国家可支配收入）：</p><p><span class="math display">\[\begin{align}Y + N +T = C+G+ S\end{align}\]</span></p><ul><li><span class="math inline">\(N\)</span>：国外要素净支付</li><li><span class="math inline">\(T\)</span>：国外净转移流量</li></ul><p>　　这里忽略了资本折旧、非直接税收、补贴和统计误差。</p><p>　　因此，本国储蓄缺口（即国外投资）为：</p><p><span class="math display">\[\begin{align}S-I = (X-M) +N +T\end{align}\]</span></p><p>　　上式中，<span class="math inline">\(F = (X-M)+N+T\)</span>为经常性支付平衡账户（外部资产净增加或向国外的净组本输出），记作 <spanclass="math inline">\(F\)</span>。因此：</p><p><span class="math display">\[\begin{align}I = S+ (-F)\end{align}\]</span></p><p>　　上式表示：事后国内投资（<spanclass="math inline">\(I\)</span>）等于国内储蓄（<spanclass="math inline">\(S\)</span>）与国外净引进资本（<spanclass="math inline">\(-F\)</span>）之和。</p><p>　　净引进资本（<spanclass="math inline">\(-F\)</span>）通过缩小当前创汇和付款（经常性平衡账户赤字）、国内投资和储蓄之间的差异（受制于“双缺口分析”），能够协调贫困发展中国家的经济增长。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230324000625-tjvojmx.png" style="width:550px" alt="从1965-1980年到1981-2000年人均GDP和投资-储蓄缺口的变化（半对数）" /></p><p>　　从上图，可以看出：</p><ol type="1"><li><p>对于发展中国家，通过投资-储蓄缺口表示的资本净进口和人均 GDP之间呈现负相关。</p><ul><li>国家越贫困，资本形成越依赖引进外资</li><li>国际资本流动方向：高收入国家 <spanclass="math inline">\(\to\)</span> 低收入国家</li></ul></li><li><p>存在部分国家引进外资用于资本形成，导致借债国无法履行偿付债务（包括利息与本金）责任的情况。</p></li></ol><p>　　在国民经济核算中，总有事后的 <spanclass="math inline">\(I=S+(-F)\)</span>的关系成立。但是国外资本并不会自动流入一个国家，用于填补国内投资 <spanclass="math inline">\(I\)</span> 和国内储蓄 <spanclass="math inline">\(S\)</span>之间的缺口。可以引进多少资本取决于国内和国外资本市场的预期收益率的差异。在对发展中国家的资本市场预期收益率进行评估时，该国家的风险和政府对外国企业活动干预也会被纳入考量。</p><p>　　如果国家投资风险大，外资流入受到抑制，资本流出受到鼓励。如果引进外资（<spanclass="math inline">\(-F\)</span>）无法结清国内的投资-储蓄缺口 <spanclass="math inline">\(I-S\)</span>，就会产生通货膨胀压力。发展中国家为了避免失业和减少破产以稳固其政治基础，会倾向于使用扩张性政策。扩张性政策（特别是扩张性货币政策）会在加深通货膨胀的同时，抑制社会失业。通过扩张性财政政策筹集过量投资，会积累成高通货膨胀率。</p><p>　　（传送门：<ahref="https://fgzfgz.github.io/posts/7692/">菲利普斯曲线、相机抉择</a>）</p><p>　　20 世纪 80 年代的拉丁美洲恶性通货膨胀：石油等初级原材料价格上涨<span class="math inline">\(\to\)</span> 资源丰富的拉丁美洲经济繁荣<span class="math inline">\(\to\)</span> 引进外资增加 <spanclass="math inline">\(\to\)</span> 石油价格下跌 <spanclass="math inline">\(\to\)</span> 财政预算赤字、资本外逃 <spanclass="math inline">\(\to\)</span> 投资-储蓄缺口 <spanclass="math inline">\(I-S\)</span> 增大 <spanclass="math inline">\(\to\)</span> 扩张性货币政策 <spanclass="math inline">\(\to\)</span> 国外投资者风险升高 <spanclass="math inline">\(\to\)</span> 资本外逃加剧 <spanclass="math inline">\(\to\)</span> 投资-储蓄缺口 <spanclass="math inline">\(I-S\)</span> 增大 <spanclass="math inline">\(\to\)</span> 扩张性货币政策 <spanclass="math inline">\(\to\)</span> 资本外逃加剧 <spanclass="math inline">\(\to\)</span> ……</p><p>　　<strong>对于发展中国家，只有借助适宜的政策才能保持国民收入、投资的螺旋式上升。</strong></p><h2 id="三人力资本积累">三、人力资本积累</h2><h3 id="人力资本的衡量">1. 人力资本的衡量</h3><p>　　<strong>人力资本：</strong>通过教育、卫生、训练等活动，提高人的生产能力，例如更好的身体素质、经验和知识水平等。</p><p>　　衡量人力资本：</p><ul><li>25 岁及以上人群的平均受教育年限</li><li>出生时的平均预期寿命或已死亡人口的平均存活年限</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230324004339-4c28gtf.png" style="width:550px" alt="2000年人均受教育年限和平均预期寿命的国际比较（半对数）" /></p><p>　　从上图可以看出：</p><ul><li>人力资本（包括人均受教育年限与平均预期寿命）与人均 GDP呈高度正相关</li><li>反向的因果：更高的人均收入会诱使人们提高人力资本，增加教育与医疗保健方面的投入。</li></ul><h3 id="教育水平的地区差异">2. 教育水平的地区差异</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230324004727-uy7cfl7.png" style="width:550px" alt="1965-2000年人均GDP年均增长率与平均受教育年限、预期寿命增长的国际比较" /></p><p>　　如上图所示：</p><ul><li>1965-2000 年期间，人均 GDP年均增长率与人力资本增长率的相关性很低</li><li>教育方面：通过教育获得经济回报需要相当长的时期，因此在下一时期，教育投资可能对同期的经济增长影响不大，但教育投资可能成为将来的增长的主要源泉。教育的初始水平可能决定了一个国家从国外引进先进技术的能力，进而影响了经济增长率。</li><li>保健方面：卫生和保健的投入的经济回报周期可能也很长。</li></ul><p>　　<strong>人力资本增长的问题：</strong></p><ul><li>教育方面：对于低收入国家来说，有限的现金流到底用于短期的经济增长，还是用于投资回报周期很长的教育？</li><li>保健方面：低人口死亡率、高人口出生率，会导致低收入国家面临巨大的人口负担。</li></ul><h2 id="四人口自然资源与食品">四、人口、自然资源与食品</h2><p>　　人类的生产活动是使用劳动和资本加工自然资源的活动。从某种意义上说，文明的进步就是在人口增长的压力下用人造资本替代自然资源的过程。这种替代关系是靠技术和制度创新促进的。</p><h3 id="人口对自然资源的压力">1. 人口对自然资源的压力</h3><p>　　<strong>如果自然资源可以有效地被人造资本替代，自然资源禀赋就不会成为长期经济增长的重大制约。</strong></p><p>　　衡量自然资源相对稀缺性：每平方公里地表面积上的人口数量</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230324011429-hdkt2v7.png" style="width:650px" alt="若干国家的人口、土地和粮食生产" /></p><p>　　每平方公里土地上的人口数量与人均 GDP数据相关性很低。<strong>自然资源不是经济增长无法逾越的限制。</strong></p><p>　　在人均自然资源禀赋急剧下降、人口爆炸式增长的情形下，以维持人均收入的速度实现资本对自然资源的替代是不容易的，其关键在于如何加速技术与制度创新。</p><h3 id="人口增长与食品供给">2. 人口增长与食品供给</h3><p>　　根据非洲农业土地面积和粮食生产的趋势中可以看出，低收入国家激增的人口对自然资源的压力不断升高。开垦农业土地的速度远远小于人口扩张的速度。</p><p>　　人均的粮食产量下降表明，非洲未能通过增加资本和改进的技术，抵偿人均自然资源禀赋下降的负面影响。在农业部门站主导地位的低收入国家，由人均粮食产量下降反映出来的农业生产停滞，对整体的经济发展有重大不利影响。</p><ul><li>低收入国家在工业化过程中，特别是工业化早期阶段，通过提高农业生产率来克服土地资源对粮食生产的制约是必要的。</li><li>在高收入阶段，国内粮食生产能力已经不是制约经济发展的障碍。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230324010948-d6i1wrc.png" style="width:550px" alt="1965-2000年人均GDP年平均增长率和人均食物生产增长率的国际比较" /></p>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜第1章：经济增长与经济发展</title>
      <link href="/posts/58541/"/>
      <url>/posts/58541/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>参考内容：</strong></p><p>速水佑次郎 《发展经济学（第 3 版）》 chap 1</p></blockquote><h2 id="一经济发展的理论框架">一、经济发展的理论框架</h2><h3 id="社会体制的发展">1. 社会体制的发展</h3><h4 id="辩证的社会发展模型">1.1 辩证的社会发展模型</h4><p>　　社会中包含两个子系统。一个为经济子系统，由<strong>资源</strong>与<strong>技术</strong>构成。</p><ul><li>资源即为“生产要素”，包括自然资源、劳动力和土地等。</li><li>技术是利用特定生产要素组合生产产品价值的决定因素（经济学中称为生产函数）。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230304170326-imf22rq.png" style="width:500px" alt="社会系统间的相互作用" /></p><h5 id="经济子系统">1.1.1 经济子系统</h5><p>　　如果以人均产出（或收入）的增长量度量经济增长，则经济增长依靠人均资源增加与技术进步实现。其中，技术进步指既定资源投入下产出的增加。</p><ul><li><strong>技术进步是资源增长的基础。</strong>例如，随着控制水流技术的开发与利用，如建设灌溉设施和水闸，单位土地上就可以产出更多的粮食，粮食剩余就可以储存起来形成资本积累，进而在下一期将更多劳动投入到从粮食生产到资本形成的活动中。</li><li><strong>有目的的利用资源推动技术进步。</strong>例如，灌溉技术进步就是通过识别水流类型的研究以及通过各种设计的实验开发出能充分控制水流的灌溉设施来实现的。这些工作需要科学家与技术人员在实验室中开展实验，并需要农民在农场中简单试错完成。这种实验与试错过程，增加了工程知识的储备，是<u>人力资本的形成过程</u>，为“<u>无形资本投资</u>”。</li></ul><p>　　关于人力资本积累：</p><ul><li>人力资本：通过教育、培训和医疗卫生知识等手段提高人的能力和身体素质。</li><li>对人力资本投资将提高知识生产的效率，并提高社会中利用既定资源产出经济增加价值的生产效率。</li></ul><h5 id="文化-制度子系统">1.1.2 文化-制度子系统</h5><blockquote><p>广义的制度与技术是文化的一部分。这里指代狭义的文化。</p></blockquote><p>　　关于文化与制度：</p><ul><li>文化：社会中人们的价值体系。</li><li>制度：社会成员认同的规则，包括正式制定的法律和非正式习俗。</li><li>制度与文化不可分割，相互联系。</li></ul><h5 id="两个子系统的相互影响">1.1.3 两个子系统的相互影响</h5><p>　　储蓄率是资本供给的重要影响因素，而储蓄率受到人们对未来预期与现期消费的偏好影响（例如：<ahref="https://fgzfgz.github.io/posts/53788/">跨期消费决策</a>）。在新古典增长模型中，假定消费者的偏好水平不会发生变化，即储蓄率是一个确定的数值，或者不讨论储蓄率为什么发生变化，仅讨论储蓄率变化的影响（联系：高级宏观索洛模型中储蓄率变化对产出的影响）。</p><p>　　（传送门：<ahref="https://fgzfgz.github.io/posts/27640/">新古典增长理论</a>）</p><p>　　文化对经济系统具有影响。社会文化会影响消费习惯与储蓄率，这是人们价值系统的一部分。</p><p>　　当文化与制度保持基本不变时，使用新古典增长模型来衡量经济增长，将储蓄率看作一个参数而非变量，是一种可行的办法。但制度与文化不可避免会发生重大变化，使用新古典的分析方式不再合理。<ahref="https://zh.wikipedia.org/zh/马克斯·韦伯">马克思·韦伯</a>的理论可能具有借鉴意义。</p><blockquote><p><strong>补充：</strong></p><p>韦伯因此就宗教和其他社会现象之间的关系提出了两大命题。这在其知名著作《新教伦理与资本主义精神》中体现得十分明显。</p><ol type="1"><li>韦伯描述了新教中的禁欲思想对现代西方资本主义发展的推动作用，并且提出宗教的影响是造成东西方文化差距的重要原因。</li><li>韦伯认为随着现代化的加深，西方社会在朝着世俗化、理性化的方向发展。</li></ol><p>资料来源：<ahref="https://zh.wikipedia.org/zh-cn/马克斯·韦伯">【维基百科】马克思·韦伯</a></p></blockquote><h4 id="案例狩猎采集经济向农业畜牧经济转型">1.2案例：狩猎/采集经济向农业（畜牧）经济转型</h4><p>　　<strong>经济力量和文化制度因素相互推动经济和社会发展。</strong>（联系：<u>经济基础和上层建筑的关系</u>）</p><p>　　<strong>资源与技术的演进。</strong></p><ol type="1"><li><strong>农业起源于人口增长压力下自然资源稀缺稀缺性的提高。</strong>随着人口增长，自然资源（如野生动植物）的开发总会有超过其自然再生能力的时候，狩猎/采集经济具有不可持续性。为了避免资源耗竭引起的生存危机，通过利用捕捉的动物和采集的食物进行扩大再生产，从而增加收获，成了必然选择。</li><li><strong>扩大再生产的经济基础是资本积累。</strong>狩猎采摘经济向农业经济过度，是以资本积累为前提的。狩猎采摘经济中，主要资本品为狩猎与采摘工具，而农业经济的资本品则是饲养的动物、种植的植物、耕地、农垦工具等。当农业生产体系进化到主要依靠排灌设施等人在设施与工具时，农业经济对资本的需求进一步增长了。</li><li>驯化和饲养动物、培育和种植植物的方法的积累，是无形资本投资的主要来源。这种因自然资源稀缺性增长而扩大的再生产过程，很可能是生产者的生存需求诱发导致的。（联系：诱致性创新理论）</li></ol><p>　　<strong>产权制度的演进与文化的作用。</strong></p><ol type="1"><li><p>技术知识的进展是必要的，但需要<strong>建立生产性资源的产权制度。</strong></p></li><li><p>早期的生产资料来源于自然资源，因此全部资源都是大家的共同财产，而不属于个人。这种产权制度下，生产资料的排他性较弱。</p></li><li><p>从事农业生产的人不得不保护自己的劳动成果，避免其他人无偿使用自己生产性投资，这种对个人产权的保护从牲畜和作物逐渐扩大到耕地上。生产资料的排他性逐渐提高。</p><ul><li>拥有土地产权的人，对于改善土地质量有强烈的投资激励，修建排灌设施、篱笆等成了其理性选择。</li></ul></li><li><p>因此，土地产权发生了重大转变，由村庄或部落的公社所有制逐渐转变为农户或个人所有的私有制。<strong>私有制的拍他能力更强，因而私有投资的激励也更强。</strong></p></li><li><p><strong>界定产权和实施产权需要成本。</strong>如果人们破坏规则、选择“免费搭便车”的倾向很高，那么保护规则就需要很高的社会成本。</p></li><li><p><strong>文化（例如公共道德）降低了实施社会规则的成本。</strong></p></li></ol><h4 id="马克思和新制度主义">1.3 马克思和新制度主义</h4><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230304170326-imf22rq.png" style="width:500px" alt="社会系统间的相互作用" /></p><p>　　上面的理论框架，与卡尔·马克思和弗里德里希·恩格斯的社会制度进化观点相类似。</p><ul><li>经济基础：决定物质资料生产能力所需的技术（对应：经济子系统）</li><li>上层建筑：生产资料的产权关系的统治（对应：文化-制度子系统）</li></ul><p>　　<strong>基本观点：制度形成是对经济需求的反应。</strong></p><ol type="1"><li>制度决定技术的生产潜力能否实现。</li><li>技术是制度建设的基本力量。</li><li>制度设计要以最大限度地利用物质生产的潜力为目标。</li></ol><p>　　<strong>基本假设：在物质生产能力提高和制度变迁之间有一个很长的滞后期，会导致社会制度变化的不连续和突变</strong></p><ol type="1"><li>技术知识和有形资本是逐步积累的，并带来了生产能力的持续增长；</li><li>制度必须在相当长的时间内保持稳定，以便人们在交往中建立的社会规则能有效发挥作用。</li></ol><p>　　核心制度是每个经济发展阶段的关键生产要素的产权界定。不同社会的核心生产要素不同：</p><ul><li>奴隶社会——奴隶</li><li>封建社会——土地</li><li>现代资本主义社会——资本</li></ul><p>　　由于制度变迁会遭到独占财产所有权的显赫阶级的强烈抵制，制度的变迁往往具有时滞性。随着技术进步和资本积累，曾经是经济发展的载体的制度会在新技术体制下称为发展的阻碍。<strong>制度和生产潜力之间的隔阂最终需要通过强烈的政治革命来消除。</strong></p><p>　　作者对马克思主义的评价：</p><ol type="1"><li>马克思认为技术进步和资本积累对社会生产能力具有决定性作用，但人口与自然资源相对不重要，作者认为应当重视人口增长与其他因素引起的相对资源禀赋和价格变化带来的影响。</li><li>制度变迁不一定要用暴力革命的方式完成。</li></ol><h3 id="诱致性创新理论">2. 诱致性创新理论</h3><h4 id="诱致性技术创新">2.1 诱致性技术创新</h4><p>　　诱致性技术创新本质是生产者理论中的成本最小化问题。</p><p>　　<strong>诱致性技术创新理论：</strong>在经济子系统)中，资源禀赋的变化会诱发技术变迁。</p><p>　　<strong>希克斯的理论假设：</strong>当一种要素（例如资本）的禀赋相对于另一种要素（例如劳动力）变得更为丰富时，特定的相对要素价格会诱导节约劳动力、增加资本的技术变迁（理论推导：<ahref="https://fgzfgz.github.io/posts/20531/">附录A2-技术变化的分类</a>）。这种有偏向的技术变迁源于追求利润的企业家用相对更丰富（因而更便宜）的资源替代更稀缺的资源，以降低生产成本。</p><p>　　<strong>新古典经济学框架内诱致性创新理论的假设：</strong>有一个竞争性市场，借助这个市场，厂商生产计划中使用的要素价格反映了要素的相对丰度和稀缺性。如果生产者可以根据反映资源的社会机会成本的影子价格，认识到资源的相对稀缺性，这个理论就可以应用到自给型的非市场经济中。</p><p>　　狩猎采集经济向农业经济转变的过程如下图所示。假设三种要素投入：劳动<span class="math inline">\(L\)</span>、资本 <spanclass="math inline">\(K\)</span>、土地（自然资源）<spanclass="math inline">\(A\)</span>。以粮食生产为例，假定资本主要是由过去的劳动投入生产出来的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305015312-hmtzqj3.png" style="width:550px" alt="诱致性技术创新模型" /></p><p>　　<span class="math inline">\(A-L\)</span>象限表示生产单位等产量线，即生产单位产品的土地与劳动之间的替代关系。</p><p>　　<span class="math inline">\(K-L\)</span> 象限的曲线 <spanclass="math inline">\(OZ\)</span>表示用劳动替代土地时，资本与劳动的互补关系。如：刀耕火种的轮作方式下，对农业生产工具利用较小，但需要大量土地；定居农业下经营固定耕地时，会进行资本积累，对农业生产工具的利用会大幅上升，此时资本与劳动呈现互补关系。此时，资本-劳动比率<span class="math inline">\(K/L\)</span> 呈现指数增长，曲线 <spanclass="math inline">\(OZ\)</span> 为凹函数。</p><blockquote><p><strong>补充：</strong>经济学里曲线的凹凸性，参考数学分析中的函数凹凸性，而非高等数学的曲线凹凸性。</p><p>可以使用二次导数来判别凹函数与凸函数（<ahref="https://www.baike.com/wikiid/7306647361639485382?view_id=2e411lzs54ulfk">网页链接</a>）：</p><ul><li>凸函数：<spanclass="math inline">\(f&#39;&#39;(x)&gt;0\)</span></li><li>凹函数：<spanclass="math inline">\(f&#39;&#39;(x)&lt;0\)</span></li></ul></blockquote><p>　　在 <span class="math inline">\(A-L\)</span> 象限中，<spanclass="math inline">\(I\)</span>曲线表示创新可能性曲线，为同一时期内可利用的知识和人的能力开发出来的所有技术相对应的单位等产量线的包络线。在<span class="math inline">\(t: 0 \to 1\)</span>时期，随着知识积累和人力资本提升，<span class="math inline">\(I\)</span>曲线会逐渐向原点移动 <span class="math inline">\(I_0 \toI_1\)</span>。</p><p>　　根据诱致性技术创新理论，<span class="math inline">\(i_0\)</span>表示在 <span class="math inline">\(t=0\)</span>时期时开发并利用的技术，时在特定土地和劳动价格比率 <spanclass="math inline">\(P_0\)</span>下生产成本最小化的技术，土地和劳动价格比率 <spanclass="math inline">\(P_0\)</span> 反映了 <spanclass="math inline">\(t=0\)</span> 时期的要素相对稀缺性。曲线 <spanclass="math inline">\(i_0\)</span>、曲线 <spanclass="math inline">\(I_0\)</span> 与等成本线 <spanclass="math inline">\(P_0\)</span> 均相切于点 <spanclass="math inline">\(a\)</span>。</p><blockquote><p><strong>补充：</strong></p><p>在竞争性市场下，要素价格的比率反映要素的相对稀缺性。如果是非竞争性市场，市场的不完善会扭曲要素的相对价格，无法反映要素的相对稀缺性。</p><p>推导过程：<a href="https://fgzfgz.github.io/posts/20531/">附录A2 -技术变化的分类</a></p></blockquote><p>　　假设在替代土地方面，劳动与资本具有互补性，即通过劳动与资本投入的增加，可以减少土地面积的投入，此时<span class="math inline">\(a\)</span> 点的土地-劳动比率 <spanclass="math inline">\(OA_0/OL_0\)</span> 与 <spanclass="math inline">\(d\)</span> 点的资本-劳动比率 <spanclass="math inline">\(OK_0/OL_0\)</span> 相对应。</p><p>　　假定资本由过去劳动积累所形成的，此时资本与土地的价格之比大致和劳动-土地价格比率<span class="math inline">\(P_0\)</span> 平行移动。</p><p>　　在 <span class="math inline">\(t: 0 \to 1\)</span>时期，土地的相对稀缺性提高，使得劳动对土地相对价格下降 <spanclass="math inline">\(P_0 \to P_1\)</span>，创新可能炒香原点的方向移动<span class="math inline">\(I_0 \toI_1\)</span>，即以使用更少的生产要素投入实现单位粮食的社会生产能力的提高。</p><p>　　由于土地的相对价格上涨，生产者选择过 <spanclass="math inline">\(c\)</span> 点的技术 <spanclass="math inline">\(i_1\)</span>，比创新可能性曲线 <spanclass="math inline">\(I_1\)</span>（包络线）上的其他点更优。但在技术<span class="math inline">\(i_1\)</span>开发出来以前，生产者必须继续使用 <spanclass="math inline">\(i_0\)</span> 技术，其均衡点变化为 <spanclass="math inline">\(a \to b\)</span>。</p><p>　　<strong>诱致性技术创新理论的基本前提</strong>：在均衡点 <spanclass="math inline">\(b \to c\)</span> 的变化过程中，由 <spanclass="math inline">\(P_1\)</span> 与 <spanclass="math inline">\(P_1&#39;\)</span>之间的距离为生产者的<u>预期收益增加量</u>或<u>预期成本减少量</u>，收益的增加诱使他们开发技术。</p><p>　　在狩猎采集经济时期，人口稀少，可利用土地的可得性很高，土地稀缺性<span class="math inline">\(P_0\)</span>很低，通过采集和狩猎的方式（技术 <spanclass="math inline">\(i_0\)</span>）是成本最小化的最优技术。</p><p>　　随着人口增长，土地相对稀缺性上升 <span class="math inline">\(P_0\to P_1\)</span>，在有限的土地上投入更多劳动（<spanclass="math inline">\(a \tob\)</span>），使得劳动的边际食物产出越来越低。如果可以利用种植技术 <spanclass="math inline">\(i_1\)</span>，人们就可以在一定数量的土地 <spanclass="math inline">\(b \to c\)</span>上以更低的成本生产出更多的食品。</p><h4 id="诱致性制度创新">2.2 诱致性制度创新</h4><h5 id="技术进步有利性与可能性">2.2.1 技术进步有利性与可能性</h5><p>　　诱致性技术创新本质是生产者理论中的成本最小化问题。在市场经济中，技术创新主要由具有研究和开发能力的大公司承担。上面“生存经济”案例的分析逻辑需要做出调整。</p><p>　　一些学者认为，在发展中国家，生存型小农能够合理配置资源并对有利的经济机会做出反应(Schultz, 1964,《改造传统农业》)。这一观点基于一个前提假设：根据要素的相对稀缺性和创新可能性，小农可以预见到完整的创新可能性曲线的变化（如下图曲线<span class="math inline">\(I\)</span> 线性朝 <spanclass="math inline">\(c\)</span> 点移动）。这一假设是不合理的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305015312-hmtzqj3.png" style="width:550px" alt="诱致性技术创新模型" /></p><p>　　更加合理的假设是：随着人口数量的增加，为了应对自然资源压力的增长，狩猎采集经济的人均食物产量下降，迫使他们通过试错的方式寻找增加食物供给的方式，且只有恰好达到<span class="math inline">\(i_1\)</span>曲线（农业经济）的族群存活了下来 (Nelson-Winter, 1982)。</p><p>　　这种观点的含义：总有一些人可能找不到增加食物供给的办法，继续陷于旧技术<span class="math inline">\(i_0\)</span> 中以至于难以存活下来。</p><h5 id="制度与技术进步">2.2.2 制度与技术进步</h5><p>　　技术进步是技术创新与制度创新的有机产物。</p><ol type="1"><li>技术创新——技术开发与利用的有利性</li><li>资本积累——来自以往的产出剩余</li><li>投资激励——资本积累用于投资需要产权制度的保护</li></ol><p>　　例如，狩猎采集经济向农业经济转变的过程中，需要大量的资本积累，如驯化牲畜、改进种植工具、改善耕作条件等。技术创新的有利性决定了是否能出现产出剩余，产出剩余转化为资本积累，进而变成投资激励的机制在于社会中人们的集体行动。</p><ol type="1"><li>公共设施的建立需要集体行动：如修建大型灌溉设施</li><li>技术创新向投资机理的转化需要集体行动：如遵守并执行相关的产权保护制度</li></ol><p>　　如上图所示，假设技术进步发生，如果均衡点发生 <spanclass="math inline">\(b \to c\)</span> 的移动时，<spanclass="math inline">\(社会总利润 \gt集体行动成本\)</span>，集体行动就可以被组织起来。例如：伴随人口对自然资源压力的在增加，为了修建农业基础设施（如灌溉设施），加强了产权和制度。</p><h4 id="政治市场的逻辑">2.3 政治市场的逻辑</h4><p>　　<strong>诱致性制度创新不总是有效的。</strong></p><h5 id="政治市场上的诱致性机制">2.3.1 政治市场上的诱致性机制</h5><p>　　对应关系：普通商品——经济市场；公共品——政治市场</p><p>　　从社会经济福利的角度看，由于公共品的供给具有正外部性，政治市场机制并不能保证公共品的最优供给。承担组织行动成本的人只能得到部分利润，组织起来的经济体行动通常低于社会最优水平。</p><p>　　公共品的供给具有非排他性与非竞争性。使用公共产品时“搭便车”会导致支付供给成本者得到更少的收益，也难以获得相称的公共品供给。</p><blockquote><p><strong>非排他性</strong>：一种商品可以被不支付其供给成本的人使用</p><p><strong>非竞争性</strong>：一种商品可以被许多人共同使用</p></blockquote><p>　　政治 / 政治运动：通过国家形成和控制国家强制力的集体行动。</p><p>　　政治领导人 / 政客：政治运动的组织者。</p><p>　　政客通过各种手段使得集体行动得以实施，需要付出极大努力，且集体行动创造的公共品能带来巨大的经济收益，但经济收益并不被政客独享。例如，牲畜产权的界定和保护可以使最初的猎人从事农业（点<span class="math inline">\(b \to c\)</span>），其中线段 <spanclass="math inline">\(P_1 P_1&#39;\)</span>（直线 <spanclass="math inline">\(P_1\)</span> 和 <spanclass="math inline">\(P_1&#39;\)</span>的差距）表示狩猎采集生产向农业生产的单个生产者获得的公共产品经济收益。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230305015312-hmtzqj3.png" style="width:550px" alt="诱致性技术创新模型" /></p><p>　　政治领导人从组织公共产品供给（如产权保护）的集体行动中的得到回报是权利基础的加强，即从公共产品中获得经济利益的人们对他的支持增加。</p><p>　　如下图，<span class="math inline">\(MR\)</span>为政治领导人增加公共品供给、呈现递减规律的边际收益，为每增加一单位公共品而从权利基础加强中得到的效用增量（如选票的增加）。<spanclass="math inline">\(MC\)</span>为领导人组织集体行动的时间和努力的边际负效用，即为边际成本。由于存在“搭便车”行为，公共品供给量越高，<spanclass="math inline">\(MC\)</span> 也会越高。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230309124750-tiaka0f.png" style="width:550px" alt="公共品的政治市场模型" /></p><p>　　政治领导人的边际净效用 / 边际利润：<spanclass="math inline">\(MR-MC\)</span></p><p>　　初始期 <span class="math inline">\(t=0\)</span>：边际成本 <spanclass="math inline">\(MC_0\)</span>，边际收益 <spanclass="math inline">\(MR_0\)</span>，均衡点 <spanclass="math inline">\(f\)</span> 为政治领导人提供公共品的最优水平。</p><p>　　时期 <spanclass="math inline">\(t=1\)</span>：发生技术进步，资源的相对稀缺性发生了变化，旧技术转换为新技术对社会绝大多数生产者有利可图。新技术受益者增加对提供公共品（如产权保护）的领导人的政治支持，其公共品供给的边际收益增加<span class="math inline">\(MR_0 \to MR_1\)</span>，边际成本下降 <spanclass="math inline">\(MC_0 \to MC_1\)</span>。</p><p>　　<strong>技术和制度的诱致性创新机制可以通过“政治市场”上公共品的供给的诱致机制起作用。</strong></p><h5 id="政治市场诱致性机制的有效性">2.3.2政治市场诱致性机制的有效性</h5><p>　　政治市场诱致性机制的有效性取决于社会福利最大化标准能否有效运作。</p><ul><li><p>边际收益 <span class="math inline">\(MR\)</span>低：政治诱致机制的转化效率很低，总体社会收益很大但单个私人生产者收益甚微，政治领导人难以动员起政治支持活动。</p></li><li><p>边际成本 <span class="math inline">\(MC\)</span>高：与边际成本平缓（如曲线 <spanclass="math inline">\(MC_0\)</span>）的公共品相比，边际成本曲线陡峭（如曲线<span class="math inline">\(MC_0&#39;\)</span>）的公共品供给更少。</p><ul><li>例如，在技术发生变化（<span class="math inline">\(MR_0 \toMR_1\)</span>）后，在社会环境更差的国家（如 <spanclass="math inline">\(MC_0&#39;\)</span>），保护产权的成本更高，公共品的供给数量更少（如点<span class="math inline">\(h\)</span> 和 <spanclass="math inline">\(g\)</span> 相比，<spanclass="math inline">\(Q_1&#39; \lt Q_1\)</span>）。</li><li>社会集团利益冲突会增大 <span class="math inline">\(MC\)</span>曲线斜率，为避免潜在利益和地位受到损失，制度创新的反抗力量会严重限制公共品的供给。</li></ul></li></ul><h4 id="历史上的路径依赖">2.4 历史上的路径依赖</h4><p>　　<strong>基于特定技术体制的制度体制形成的规模经济，是诱致性创新机制的主要制制约因素。</strong>例如，游牧业向农业转型过程中，即使农民之间相互尊重土地和作物的产权，这些少数农民利用集体行动建立耕作农业是困难的。由于人口对土地资源的压力诱致的定居农业的变迁，可能会遭到传统的游牧文化和制度的破坏。但是，由于历史原因（如美国西部的自耕农迁徙）大多数土地被栅栏围起来，游牧民难以维系传统的生活方式，并不得不转移到定居农业中。</p><blockquote><p><strong>补充：</strong></p><p>中国的文化大革命，通过长达十年的政治运动，比较彻底地破除了传统文化对中国发展的限制，也使得人民可以接受改革开放这类资产阶级性质浓厚的社会经济改革打下了一定的基础。这在很大程度上是消除了上千年来文化与观念上的路径依赖，降低了制度变革的观念边际成本。</p></blockquote><p>　　<strong>社会以“新增长理论”（基本假设：基于外部性的报酬递增）相似的方式达到多重均衡是可能性的。</strong>一个社会达到何种均衡，很大程度上依靠它的历史路径。</p><blockquote><p><strong>补充：</strong>多重均衡案例</p><p>在英国，中世纪后期—<ahref="https://zh.wikipedia.org/zh-cn/公地悲劇">公地悲剧</a>—<ahref="https://zh.wikipedia.org/zh-hans/圈地运动">圈地运动</a>，土地私有产权逐渐得到加强。在现代<ahref="https://zh.wikipedia.org/zh-hans/輪作">轮作制</a>（例如粮食和豆类作物轮种）替代传统<ahref="https://zh.wikipedia.org/zh-hans/三圃制">三圃制</a>的基础上，圈地运动为土地生产力的显著增长（即“农业革命”）准备了条件。</p></blockquote><p>　　即使发展中国家从发达国家引进先进技术在经济上有利可图，<strong>如果忽视文化和社会习俗差异，单纯为使用先进技术而引进外国制度，不可能达到预设目标，而只能造成社会混乱。</strong></p><p>　　有效的政策导向是通过利用根植于传统的规范和习俗，创造出一种能够最好地开发新的经济机会的制度。</p><h3 id="用这种理论框架解释发展中经济体">3.用这种理论框架解释发展中经济体</h3><p>　　<strong>发展中国家的主要问题是资源禀赋和技术变化的速度缓慢。</strong>人口的爆炸性增长加剧了自然资源的稀缺，特别是土地相对于劳动力的稀缺性。每个农业劳动力可获得的耕地禀赋下降，是农村人口贫困化的重要原因。出于生存压力，一些农民被迫开垦山区生态脆弱的土地，造成环境恶化；作为替代选择，许多人被迫迁徙到城市贫民窟，依靠非正式活动维持生存。</p><p>　　<strong>劳动和资本对自然资源的替代和利用适宜技术的努力可以解决这个问题。</strong>通过适应性研究投资，以发达国家积累的科学和技术知识为基础，开发出适宜的农业技术是可能的。发展中国家可以利用这些适宜的技术，实现快速工业化，并创造出大量非农就业机会和非农收入（<strong>技术的有利性</strong>）。然而在现实中，发展中国家引进的技术往往是发达国家在高收入、劳动稀缺阶段开发出来的资本高度密集的技术（劳动节约型技术），这种技术的引进和应用往往会导致发展中国家劳动力剩余（农村）和失业（城市）问题的加重。</p><p>　　<strong>为了发挥技术的有利性，同时针对发展中国家的经济与社会环境对外国技术进行调整，需要在市场结构、产业组织、劳动管理和调控、研究、培训和教育等领域进行制度创新。</strong></p><p>　　<strong>制度对经济环境的迅速变化做出适应性调整面临很大的困难：</strong></p><ol type="1"><li>内部因素：文化传统和社会习惯会严重制约制度调整；</li><li>外部因素：外来意识形态的引进会加大经济子系统与文化-社会子系统之间的矛盾。例如：最低工资和工会等社会福利制度的引进和建立，可能会促进发展中国家的大型企业使用资本替代劳动，造成正式部门就业减少，非正式部门的失业问题可能会更加严重（联想：灵活就业、地摊经济与社会隐性失业）。</li></ol><p>　　<strong>经济子系统与制度-文化子系统之间如果不匹配，会造成发展中国家矛盾的加剧。</strong></p><ol type="1"><li>如果文化-制度子系统与经济子系统（如技术进步）是相互分离的，在系统内部不会相互影响，那么外来的影响可能加剧发展中国家的矛盾。这是由于经济子系统（资源禀赋和技术）的变化速度远远快于文化-制度子系统（价值体系和组织原则）的调整。</li><li>非正式组织的道德与习俗对组织内的个体具有约束作用，通过社区或团体的力量（例如：宗教戒律、社区的个人联系），可以缓和经济子系统与制度子系统的矛盾，减少免费搭便车的行为。</li><li>在一些发展中国家（特别是前殖民地国家），人民对社区的归属观念强于对国家的归属观念。本地优先的原则会使得政治家最关注的不是国家的整体利益，而是所在的社区实现更好的发展，导致绝大多数人付费、少数人受益的行为盛行。</li></ol><p>　　<strong>经济子系统与制度子系统的不匹配问题，在经济子系统（资源禀赋和技术）快速变化的国家更加突出。</strong>发展中国家与发达国家的技术与制度差距，可能是发展中国家经济快速发展的源泉。需要构建一种反馈机制，使得制度调整与资源禀赋、技术的快速变化相适应，以提高诱致性创新的速度。</p><p>　　关注制度做出快速调整的适应性机制，需要关注三个方面的局部关系：</p><ul><li>人口与自然资源的关系</li><li>资源与技术的关系</li><li>技术与制度的关系</li></ul>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>收藏｜实证与文献的账号推荐</title>
      <link href="/posts/41378/"/>
      <url>/posts/41378/</url>
      
        <content type="html"><![CDATA[<p>推荐一些获取实证方法、软件使用和文献分享的渠道，主要包括公众号、UP主与网站等。网站与BiliBiliUP主附有网址链接。</p><p><strong>几个主要来源：</strong></p><ol type="1"><li><strong>[期刊官网] <ahref="http://ciejournal.ajcass.org">中国工业经济</a>、<ahref="http://www.jqte.net/sljjjsjjyj/ch/index.aspx">数量经济技术经济研究</a></strong>：<u>公开论文、数据和代码</u>，可以用于论文复刻和代码学习</li><li><strong>[网站] <ahref="http://www.econometrics-stata.com">陈强老师的个人网站</a></strong>：Stata实证分析、Python 机器学习，教材对应PPT、数据集和勘误</li><li><strong>[网站] <a href="https://bbs.pinggu.org">经管之家 /人大经济论坛</a></strong>：经管类学习综合平台，代码学习、实证模型、资源下载等</li><li><strong>[公众号]计量经济圈</strong>：实证模型、因果推断、代码分享、文章分享</li><li><strong>[网站] <ahref="https://lianxh.cn">连享会</a></strong>：实证模型、数据清洗、命令开发、代码分享、文章分享</li><li><strong>[公众号]连享会</strong>：实证模型、数据清洗、命令开发、代码分享、文章分享</li><li><strong>[公众号]君泉计量</strong>：实证模型、数据清洗、命令开发、代码分享、文章分享</li><li><strong>[公众号]香樟经济学术圈</strong>：文章分享、因果推断、顶刊搬运</li><li><strong>[公众号] RandomWalkTheory</strong>：研究心得、对话学者Podcast、实证模型</li><li><strong>[网站] <a href="https://yiqingxu.org">XuYiqing</a></strong>：政治经济学、实证模型开发、因果推断</li><li><strong>[BiliBili] <ahref="https://space.bilibili.com/480682506">学术苑</a></strong>：因果推断、实证模型</li><li><strong>[BiliBili] <ahref="https://space.bilibili.com/483144353">计量经济圈</a></strong>：因果推断、实证模型</li><li><strong>[BiliBili] <ahref="https://space.bilibili.com/1873681734">老徐快别打星际了</a></strong>：因果推断、实证模型介绍</li><li><strong>[BiliBili] <ahref="https://space.bilibili.com/1086486458/">江西财经大学习明明</a></strong>：计量经济学、因果推断、实证模型、论文分享</li><li><strong>[公众号]狗熊会</strong>：统计学知识、数据分析、机器学习</li><li><strong>[BiliBili] <ahref="https://space.bilibili.com/479849093">狗熊会</a></strong>：统计学知识、数据分析、机器学习</li><li><strong>[BiliBili] <ahref="https://space.bilibili.com/550661456/">Michaelscholar</a></strong>：计量经济学、文献分享、实证模型、因果推断</li><li><strong>[公众号]经济理论与实证建模</strong>：因果推断、实证模型、文章分享、代码分享</li><li><strong>[公众号]计量经济学</strong>：因果推断、实证模型、统计学、计量经济学、代码分享</li><li><strong>[公众号]随机漫步的西瓜</strong>：因果推断、实证模型、论文写作</li><li><strong>[公众号]土豆的经管Workshop</strong>：文章分享、顶刊搬运</li><li><strong>[公众号] 567Seminar</strong>：经济学文章分享</li><li><strong>[BiliBili] <ahref="https://space.bilibili.com/9840842">Silencedream</a></strong>：Stata学习、Python 学习、数据清洗、实证模型</li><li><strong>[网站] <a href="https://silencedream.gitee.io">Silencedream的小站</a></strong>：Stata 学习、Python 学习、数据清洗、实证模型</li><li><strong>[公众号] OneStata</strong>：实证模型、Stata学习、命令开发、Python 学习、实证问题分享</li><li><strong>[网站] <ahref="https://shutterzor.cn">ShutterZor</a></strong>：实证模型、Stata学习、命令开发</li><li><strong>[网站] <ahref="https://pwya.github.io">潘王雨昂</a></strong>：实证模型、因果推断、数据分享</li><li><strong>[网站] <ahref="https://sites.google.com/view/frank-yifei/about">ZhuYifei</a></strong>：政治经济学、政治方法论、机器学习、文本模型</li><li><strong>[BiliBili] <ahref="https://space.bilibili.com/40545247">拿铁一定要加冰</a></strong>：实证模型、Stata学习、命令开发、Python 学习、实证问题分享</li><li><strong>[网站] <a href="https://yeshan-geo.github.io">YeShan</a></strong>：R语言-数据分析与可视化、GIS数据集</li><li><strong>[网站] <a href="https://yuzhang.net">Zhang Yu'sSpace</a></strong>：顶刊文献分享、代码</li><li><strong>[网站] <a href="https://sites.google.com/view/zhiren-hu/">HuZhiren</a></strong>：论文分享、数据分享</li><li><strong>[网站] <a href="https://wenjun-zheng.github.io">ZhengWenjun</a></strong>：博弈论</li><li><strong>[网站] <ahref="https://sites.google.com/view/yufengxia/home">XiaYufeng</a></strong>：数据分享、R、Stata 和 Python 的学习资源分享</li><li><strong>[BiliBili] <ahref="https://space.bilibili.com/694044865/">斯特利姆cosin</a></strong>：文献分享、单口相声</li><li><strong>[公众号] songbl</strong>：Stata学习、命令开发</li><li><strong>[网站] <a href="https://stata-club.github.io/">StataClub</a></strong>：Stata学习、数据清洗、命令开发</li><li><strong>[网站] <ahref="https://cosx.org">统计之都</a></strong>：统计数据、数据分析、R学习</li></ol><hr /><p>也可以关注我的账号：</p><ol type="1"><li>[个人网站] <a href="https://fgzfgz.github.io/">FGZ</a></li><li>[BiliBili] <ahref="https://space.bilibili.com/455889108">破而后立fgz</a></li><li>[知乎] <ahref="https://www.zhihu.com/people/xueshulsh">fgzfgz</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 公众号 </tag>
            
            <tag> 个人网站 </tag>
            
            <tag> BiliBili </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜计量结果不显著怎么办？</title>
      <link href="/posts/39253/"/>
      <url>/posts/39253/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.zhihu.com/question/526265116">原文链接</a></p><p>别人做的结果是显著的，而我的结果为什么是不显著的？即便是同样的数据，不同的人做的结果都有很大概率不同，尤其在微观数据中更为常见。</p><p><strong>不显著可能原因：</strong></p><ol type="1"><li>数据清洗不到位，存在异常值、数值设置不合理等问题</li><li>变量可能需要做取对数、中心化、标准化等处理</li><li>选取的控制变量不合理</li><li>该做的检验没有做</li><li>计量方法没用对，或者用对了计量方法，但操作有问题</li><li>实际上应该不显著，对现实问题/理论的理解有误</li></ol><p>获取数据—清洗数据—使用数据中间是一个黑箱，你看到了别人的数据来源，看到了结果，但看不清中间的操作。</p><p><strong>补救的办法：</strong></p><ol type="1"><li>重新清洗数据：检查数据的异常值情况、变量取值和样本问题</li><li>部分变量可能需要做取对数一类的处理</li><li>控制变量的选取要尽可能全面，但要尽可能排除相关性高、共线性强的变量做控制变量</li><li>在不改变计量方法的前提下，看看是不是命令使用错误，或者如何调整目前的计量</li><li>更改计量方法（可以考虑是否存在非线性关系）</li><li>从理论和现实出发，对不显著的结果做合理的解释。</li></ol><p><strong>推荐试试 ShutterZor 大佬调整显著性与控制变量的利器！【<ahref="https://mp.weixin.qq.com/s/k3GzVXqc6nx5iq4GzDJ2Xw">OneClick</a>】</strong></p><hr /><p><strong>相关链接：</strong></p><p><ahref="https://mp.weixin.qq.com/s/k3GzVXqc6nx5iq4GzDJ2Xw">[OneStata]"oneclick5.0" 较大的更新与显著的进步 by <em>ShutterZor</em></a></p><p><ahref="https://mp.weixin.qq.com/s/XBRe454I70NJjzvxkPOA6Q">[OneStata]ChatGPT-对回归结果不显著的几点建议 by <em>ShutterZor</em></a></p><p><ahref="https://www.zhihu.com/question/526265116/answer/2431807546">[知乎]自变量因变量的线性关系不显著怎么办？</a></p><p><ahref="https://www.zhihu.com/question/357861691/answer/911278828">[知乎]stata面板数据结果不显著该怎么办？</a></p><p><a href="https://lianxh.cn/news/279171ecf8309.html">[连享会]0.0005：估计系数太小怎么办？</a></p><p><a href="https://www.lianxh.cn/news/046d284fd51b2.html">[连享会]加入控制变量后结果悲催了！</a></p><p><ahref="https://mp.weixin.qq.com/s/HiuHZGxZtliRncJpNUjvQg">[OneStata]「econsig」一键计算6种经济显著性</a></p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> Stata </tag>
            
            <tag> 显著性 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教对象Stata系列｜第5课代码：循环语句的使用</title>
      <link href="/posts/31732/"/>
      <url>/posts/31732/</url>
      
        <content type="html"><![CDATA[<p>这是<strong>教对象Stata系列视频</strong>的配套代码。对应视频与笔记链接请见下方链接，配套代码请见分割线下方。</p><p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><p><ahref="https://www.bilibili.com/video/BV1RT411R7sK/">bilibili视频链接</a></p><p><a href="https://fgzfgz.github.io/posts/36223/">配套笔记链接</a></p><hr /><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Do File <span class="doctag">Note:</span></span></span><br><span class="line"><span class="comment">日期：2023年2月1日</span></span><br><span class="line"><span class="comment">系列：教对象Stata系列</span></span><br><span class="line"><span class="comment">主题：循环语句的使用</span></span><br><span class="line"><span class="comment">内容：1. foreach 命令: 列表循环 —— 文本/数值</span></span><br><span class="line"><span class="comment">     2. forvalues 命令: 数列循环 —— 数值</span></span><br><span class="line"><span class="comment">   3. 简单案例: </span></span><br><span class="line"><span class="comment">   4. 综合案例: 循环语句嵌套   */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">************************** 一、foreach 命令: 列表循环 **************************</span></span><br><span class="line"><span class="comment">** 1. local —— 局部宏</span></span><br><span class="line"><span class="keyword">local</span> grains <span class="string">&quot;rice wheat corn rye barley oats&quot;</span></span><br><span class="line"><span class="keyword">foreach</span> x of <span class="keyword">local</span> grains &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="string">&quot;`x&#x27;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 等效命令</span></span><br><span class="line"><span class="keyword">foreach</span> x <span class="keyword">in</span> rice wheat corn rye barley oats &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="string">&quot;`x&#x27;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. global —— 全局宏</span></span><br><span class="line"><span class="keyword">global</span> money <span class="string">&quot;Franc Dollar Lira Pound&quot;</span></span><br><span class="line"><span class="keyword">foreach</span> y of <span class="keyword">global</span> money &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="string">&quot;`y&#x27;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 等效命令</span></span><br><span class="line"><span class="keyword">foreach</span> y <span class="keyword">in</span> Franc Dollar Lira Pound &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="string">&quot;`y&#x27;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// global指代特定文本</span></span><br><span class="line"><span class="keyword">webuse</span> womenwage, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">global</span> Xlist <span class="string">&quot;age age2 nev_mar rural school tenure wage wagecat&quot;</span></span><br><span class="line"><span class="keyword">corr</span> <span class="variable">$Xlist</span></span><br><span class="line">collin <span class="variable">$Xlist</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 3. 三种列表</span></span><br><span class="line"><span class="comment">** 3.1 varlist - 变量列表</span></span><br><span class="line"><span class="keyword">foreach</span> v of <span class="keyword">varlist</span> age* rural-wage &#123;</span><br><span class="line">    <span class="keyword">summ</span> <span class="symbol">`v&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 等效命令</span></span><br><span class="line"><span class="keyword">foreach</span> v <span class="keyword">in</span> age* rural-wage &#123;</span><br><span class="line">    <span class="keyword">summ</span> <span class="symbol">`v&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** 3.2 newlist - 新变量列表</span></span><br><span class="line"><span class="keyword">foreach</span> v of newlist z1-z20 &#123;</span><br><span class="line">    <span class="keyword">gen</span> <span class="symbol">`v&#x27;</span> = .</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 等效命令</span></span><br><span class="line"><span class="keyword">forvalues</span> <span class="keyword">n</span> = 1/20 &#123;</span><br><span class="line">    <span class="keyword">gen</span> z<span class="symbol">`n&#x27;</span> = .</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** 3.3 numlist - 数列</span></span><br><span class="line"><span class="comment">** 3.3.1 简单、有规律的数列</span></span><br><span class="line"><span class="keyword">foreach</span> <span class="keyword">n</span> of <span class="keyword">numlist</span> 1/7 &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="symbol">`n&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 等效命令</span></span><br><span class="line"><span class="keyword">forvalues</span> <span class="keyword">n</span> = 1/7 &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="symbol">`n&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 3.3.2 不规则数列</span></span><br><span class="line"><span class="keyword">foreach</span> <span class="keyword">n</span> of <span class="keyword">numlist</span> 1 4/8 13(2)21 &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="symbol">`n&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">************************* 二、forvalues 命令: 数列循环 *************************</span></span><br><span class="line"><span class="comment">** 1. 间隔默认为1</span></span><br><span class="line"><span class="keyword">forvalues</span> i=4/8 &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="symbol">`i&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. 间隔为2</span></span><br><span class="line"><span class="keyword">forvalues</span> i=13(2)22 &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="symbol">`i&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** 3. 间隔为3</span></span><br><span class="line"><span class="keyword">forvalues</span> i=5 8 : 21 &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="symbol">`i&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">********************************* 三、简单案例 *********************************</span></span><br><span class="line"><span class="comment">* 内容: 将逐年的风速、降水、日照、湿度数据合并为一个数据</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:/Users/wugan/Desktop/教对象Stata系列/第5课：循环语句的使用/示范数据&quot;</span></span><br><span class="line"><span class="comment">// 【`】输入方式——tab键上面的，英文波浪号键，【&#x27;】英文引号键</span></span><br><span class="line"><span class="keyword">global</span> <span class="keyword">type</span> <span class="string">&quot;风速 日照 湿度 降水&quot;</span></span><br><span class="line"><span class="keyword">foreach</span> t of <span class="keyword">global</span> <span class="keyword">type</span> &#123;</span><br><span class="line"><span class="comment">** 1. 数据导入</span></span><br><span class="line"><span class="keyword">forvalues</span> y = 2000/2020 &#123;</span><br><span class="line">import excel <span class="string">&quot;气象数据/2000-2020年逐年`t&#x27;/【`y&#x27;年】逐年`t&#x27;.xlsx&quot;</span>, firstrow sheet(<span class="string">&quot;Sheet1&quot;</span>) <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">tostring</span> 年份 省份 城市 城市代码, <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;气象数据/Stata_Data/`y&#x27;-`t&#x27;.dta&quot;</span>, <span class="keyword">replace</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 2. 数据接驳 —— 将不同年份的数据进行拼接</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;气象数据/Stata_Data/2000-`t&#x27;.dta&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">forvalues</span> y = 2001/2020 &#123;</span><br><span class="line"><span class="keyword">append</span> using <span class="string">&quot;气象数据/Stata_Data/`y&#x27;-`t&#x27;.dta&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;气象数据/Stata_Data/`t&#x27;.dta&quot;</span>, <span class="keyword">replace</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** 3. 数据匹配</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;气象数据/Stata_Data/风速.dta&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">foreach</span> t <span class="keyword">in</span> 日照 湿度 降水 &#123;</span><br><span class="line"><span class="keyword">merge</span> 1:1 年份 城市 using <span class="string">&quot;气象数据/Stata_Data/`t&#x27;.dta&quot;</span>, nogen</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;气象数据/Stata_Data/气象数据&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">// 问题1: 关注merge错误: 使用nogen / 删除_merge</span></span><br><span class="line"><span class="comment">** 4. 删除临时的数据</span></span><br><span class="line"><span class="keyword">foreach</span> t of <span class="keyword">global</span> <span class="keyword">type</span> &#123;</span><br><span class="line"><span class="keyword">forvalues</span> y = 2000/2020 &#123;</span><br><span class="line"><span class="keyword">rm</span> <span class="string">&quot;气象数据/Stata_Data/`y&#x27;-`t&#x27;.dta&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">******************************* 四、循环语句嵌套 *******************************</span></span><br><span class="line"><span class="comment">*  相关链接:「循环语句嵌套」https://zhuanlan.zhihu.com/p/534643804</span></span><br><span class="line"><span class="comment">*  内容: 使用2012-2018年CFPS数据生成分城乡、分省份的各类消费均值数据</span></span><br><span class="line"><span class="comment">*  1) 划分城乡类型</span></span><br><span class="line"><span class="comment">*  2) 筛选所需数据</span></span><br><span class="line"><span class="comment">*  3) 分省份、分城乡计算各类消费均值数据</span></span><br><span class="line"><span class="comment">*  4) 导出所需数据</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">forvalues</span> y = 2012(2)2018 &#123;</span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CFPS/raw_data/cfps`y&#x27;famecon.dta&quot;</span>,<span class="keyword">clear</span> </span><br><span class="line"><span class="comment">** 1. 划分城乡类型: 不同年份问卷的城乡指标变量不同</span></span><br><span class="line"><span class="keyword">if</span> <span class="symbol">`y&#x27;</span>==2012 &#123;</span><br><span class="line"><span class="keyword">gen</span> <span class="keyword">type</span>=<span class="string">&quot;城镇&quot;</span> <span class="keyword">if</span> fa0==1, after(provcd)</span><br><span class="line"><span class="keyword">replace</span> <span class="keyword">type</span>=<span class="string">&quot;农村&quot;</span> <span class="keyword">if</span> fa0==5</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> <span class="symbol">`y&#x27;</span>==2014 &#123;</span><br><span class="line"><span class="keyword">gen</span> <span class="keyword">type</span>=<span class="string">&quot;城镇&quot;</span> <span class="keyword">if</span> fa1==1, after(provcd)</span><br><span class="line"><span class="keyword">replace</span> <span class="keyword">type</span>=<span class="string">&quot;农村&quot;</span> <span class="keyword">if</span> fa1==5</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> <span class="symbol">`y&#x27;</span>&gt;=2016&#123;</span><br><span class="line"><span class="keyword">gen</span> <span class="keyword">type</span>=<span class="string">&quot;城镇&quot;</span> <span class="keyword">if</span> fa1==1 | (<span class="built_in">inlist</span>(fa1,-1,-8,77) &amp; fa101==1), after(provcd)</span><br><span class="line"><span class="keyword">replace</span> <span class="keyword">type</span>=<span class="string">&quot;农村&quot;</span> <span class="keyword">if</span> fa1==5 | (<span class="built_in">inlist</span>(fa1,-1,-8,77) &amp; fa101==5)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 2. 变量与样本筛选: 删除无法区分城乡的样本、删除多余变量</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> <span class="keyword">type</span>!=<span class="string">&quot;&quot;</span> &amp; provcd!=.</span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> <span class="keyword">type</span> <span class="string">&quot;城乡类型划分&quot;</span></span><br><span class="line"><span class="keyword">global</span> Xlist <span class="string">&quot;daily dress eec food house med trco pce other eptran epwelf mortage expense&quot;</span></span><br><span class="line"><span class="keyword">keep</span> provcd <span class="keyword">type</span> <span class="variable">$Xlist</span></span><br><span class="line"><span class="comment">** 3. 分组计算各类支出的均值</span></span><br><span class="line"><span class="keyword">foreach</span> v of <span class="keyword">global</span> Xlist &#123;</span><br><span class="line">ereplace <span class="symbol">`v&#x27;</span>=<span class="keyword">mean</span>(<span class="symbol">`v&#x27;</span>), <span class="keyword">by</span>(provcd <span class="keyword">type</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 4. 删除重复样本</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> <span class="keyword">type</span> provcd, force   <span class="comment">// 与ereplace的by分组相同</span></span><br><span class="line"><span class="keyword">sort</span> provcd</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;CFPS/CFPS`y&#x27;&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 5. 数据导出</span></span><br><span class="line"><span class="keyword">local</span> <span class="keyword">type</span> <span class="string">&quot;城镇 农村&quot;</span></span><br><span class="line"><span class="keyword">foreach</span> t of <span class="keyword">local</span> <span class="keyword">type</span> &#123;</span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CFPS/CFPS`y&#x27;&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> <span class="keyword">type</span>==<span class="string">&quot;`t&#x27;&quot;</span></span><br><span class="line">export excel <span class="string">&quot;CFPS/分省分城乡家庭支出.xlsx&quot;</span>, sheet(<span class="string">&quot;`y&#x27;-`t&#x27;&quot;</span>, <span class="keyword">replace</span>) firstrow(varl) </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 问题2: 关注if条件的使用 —— line 145</span></span><br><span class="line"><span class="comment">// 问题3: 关注数据格式 —— line 140</span></span><br><span class="line"><span class="comment">// 问题4: 关注local的重复使用 —— line 162</span></span><br><span class="line"><span class="comment">// 问题5: 关注数据的保存与打开 —— line 164</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> CFPS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 代码库 </tag>
            
            <tag> 气象数据 </tag>
            
            <tag> 教对象Stata系列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教对象Stata系列｜第5课：循环语句的使用</title>
      <link href="/posts/36223/"/>
      <url>/posts/36223/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>附件：</strong></p><ul><li>【附件内容】do文件，PDF笔记，录屏</li><li>【附件下载】链接：https://pan.baidu.com/s/1F6-cMjF3dqIvNdhjoZ7jMw?pwd=vnwl</li></ul></blockquote><p>本文是<strong>教对象Stata系列视频</strong>的笔记内容。对应视频与配套代码请见下方链接，笔记内容请见分割线下方。</p><p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><p><ahref="https://www.bilibili.com/video/BV1RT411R7sK/">bilibili视频链接</a></p><p><a href="https://fgzfgz.github.io/posts/31732/">配套代码链接</a></p><hr /><p>​ 在 Stata 中，通过使用循环语句，可以简化有规律、高度重复的命令。</p><p>　　循环语句的命令包括 <code>foreach</code> 和 <code>forvalues</code>两个。<code>foreach</code>可以对指定列表进行循环，该列表可以是数列，也可以是文本列表。<code>forvalues</code>可以对数列进行循环。</p><h2 id="一foreach-命令-列表循环">一、foreach 命令: 列表循环</h2><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">foreach</span> lname &#123;<span class="keyword">in</span>|of listtype&#125; <span class="keyword">list</span> &#123;</span><br><span class="line">    commands referring to <span class="symbol">`lname&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　其中，<code>lname</code> 表示循环指示符，<code>of listtype</code>中的列表类型有<code>local</code>、<code>global</code>、<code>varlist</code>、<code>newlist</code>、<code>numlist</code>五种。</p><p>　　<code>foreach</code> 命令需要使用大括号：</p><ul><li>左大括号和 <code>foreach</code> 出现在同一行</li><li>大括号后面只能添加备注</li><li>下一行输入要运行的命令</li><li>右大括号必须单独占一行</li></ul><h3 id="local---局部宏">1. local - 局部宏</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 局部宏</span></span><br><span class="line"><span class="keyword">local</span> grains <span class="string">&quot;rice wheat corn rye barley oats&quot;</span></span><br><span class="line"><span class="keyword">foreach</span> x of <span class="keyword">local</span> grains &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="string">&quot;`x&#x27;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 等效命令</span></span><br><span class="line"><span class="keyword">foreach</span> x <span class="keyword">in</span> rice wheat corn rye barley oats &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="string">&quot;`x&#x27;&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="global---全局宏">2. global - 全局宏</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 全局宏</span></span><br><span class="line"><span class="keyword">global</span> money <span class="string">&quot;Franc Dollar Lira Pound&quot;</span></span><br><span class="line"><span class="keyword">foreach</span> y of <span class="keyword">global</span> money &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="string">&quot;`y&#x27;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 等效命令</span></span><br><span class="line"><span class="keyword">foreach</span> y <span class="keyword">in</span> Franc Dollar Lira Pound &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="string">&quot;`y&#x27;&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="三种-list-类型">3. 三种 list 类型</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** varlist 变量列表</span></span><br><span class="line"><span class="keyword">foreach</span> v of <span class="keyword">varlist</span> pri-rep t* &#123;</span><br><span class="line">    <span class="keyword">sum</span> <span class="symbol">`v&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 等效命令</span></span><br><span class="line"><span class="keyword">foreach</span> v <span class="keyword">in</span> pri-rep t* &#123;</span><br><span class="line">    <span class="keyword">sum</span> <span class="symbol">`v&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** newlist 新变量列表</span></span><br><span class="line"><span class="keyword">foreach</span> <span class="keyword">var</span> of newlist z1-z20 &#123;</span><br><span class="line">    <span class="keyword">gen</span> <span class="symbol">`var&#x27;</span> = .</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 等效命令</span></span><br><span class="line"><span class="keyword">forvalues</span> <span class="keyword">n</span>=1/20 &#123;</span><br><span class="line">    <span class="keyword">gen</span> z<span class="symbol">`n&#x27;</span> = .</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** numlist 数列</span></span><br><span class="line"><span class="keyword">foreach</span> <span class="keyword">n</span> of <span class="keyword">numlist</span> 1 4/8 13(2)21 103 &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="symbol">`n&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="二forvalues-命令-数值循环">二、forvalues 命令: 数值循环</h2><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">forvalues</span> lname = <span class="keyword">range</span> &#123;</span><br><span class="line">    commands referring to <span class="symbol">`lname&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　<code>forvalues</code> 命令需要使用大括号：</p><ul><li>左大括号和 <code>forvalues</code> 出现在同一行</li><li>大括号后面只能添加备注</li><li>下一行输入要运行的命令</li><li>右大括号必须单独占一行</li></ul><p>　　其中，数值范围 <code>range</code> 可以写成4种形式：</p><ul><li><code>a/b</code> : 在 <span class="math inline">\([a,b]\)</span>之间循环，循环间隔为1，循环方向是<span class="math inline">\(a \tob\)</span>。</li><li><code>a(d)b</code> : 在 <span class="math inline">\([a,b]\)</span>之间循环，循环间隔为<spanclass="math inline">\(d\)</span>，循环方向是<spanclass="math inline">\(a \to b\)</span>。</li><li><code>a c to b</code> : 在 <spanclass="math inline">\([a,b]\)</span> 之间循环，循环间隔为<spanclass="math inline">\(c-a\)</span>，循环方向是<spanclass="math inline">\(a \to b\)</span>。</li><li><code>a c : b</code> : 在 <span class="math inline">\([a,b]\)</span>之间循环，循环间隔为<spanclass="math inline">\(c-a\)</span>，循环方向是<spanclass="math inline">\(a \to b\)</span>。</li></ul><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">forvalues</span> i=4/8 &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="symbol">`i&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">forvalues</span> i=13(2)21 &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="symbol">`i&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">forvalues</span> i=5 8 : 21 &#123;</span><br><span class="line">    <span class="keyword">display</span> <span class="symbol">`i&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> CFPS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
            <tag> 气象数据 </tag>
            
            <tag> 教对象Stata系列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教对象Stata系列｜第4课代码：数据管理-长宽数据转换</title>
      <link href="/posts/31571/"/>
      <url>/posts/31571/</url>
      
        <content type="html"><![CDATA[<p>这是<strong>教对象Stata系列视频</strong>的配套代码。对应视频与笔记链接请见下方链接，配套代码请见分割线下方。</p><p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><p><ahref="https://www.bilibili.com/video/BV13Y4y1d7ui">bilibili视频链接</a></p><p><a href="https://fgzfgz.github.io/posts/35419/">配套笔记链接</a></p><hr /><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Do File <span class="doctag">Note:</span></span></span><br><span class="line"><span class="comment">日期：2023年1月29日</span></span><br><span class="line"><span class="comment">系列：教对象Stata系列</span></span><br><span class="line"><span class="comment">主题：长宽数据转换</span></span><br><span class="line"><span class="comment">内容：1. reshape 命令: 简单与综合案例</span></span><br><span class="line"><span class="comment">      2. 其他命令: tidy 包提供的 gather、spread 命令。   */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:/Users/wugan/Desktop/教对象Stata系列/第4课：数据管理-长宽数据转换/示范数据&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">******************************* 一、reshape 命令 *******************************</span></span><br><span class="line"><span class="comment">*  相关命令: reshape</span></span><br><span class="line"><span class="comment">*  相关链接: 「Stata：使用reshape实现长宽数据转换」https://fgzfgz.github.io/posts/2262/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 1. 简单案例</span></span><br><span class="line"><span class="comment">// wide --&gt; long</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;wide_data&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">reshape</span> long x, <span class="built_in">i</span>(id) <span class="built_in">j</span>(<span class="keyword">list</span>)</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">if</span> x==.</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;long_data&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">// long --&gt; wide</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;long_data&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">reshape</span> wide x, <span class="built_in">i</span>(id) <span class="built_in">j</span>(<span class="keyword">list</span>)</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;wide_data&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. wide --&gt; long</span></span><br><span class="line"><span class="comment">*  内容: 将2018年CGSS的家庭成员表(A1表)转化为独立的成员数据</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;中国综合社会调查/CGSS2018&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 2.1 保留需要转换的变量: 性别、年龄、是否同吃同住、是否经济独立、婚姻状况、与受访人关系</span></span><br><span class="line"><span class="keyword">keep</span> id <span class="keyword">token</span> provinces <span class="keyword">type</span> a00 a0102* a0103* a0104* a0105* a0106* a010601*</span><br><span class="line"><span class="keyword">drop</span> a0106022-a01061414   <span class="comment">// 删除家庭成员关系变量</span></span><br><span class="line"><span class="comment">** 2.2 宽数据 --&gt; 长数据</span></span><br><span class="line"><span class="keyword">reshape</span> long a0102 a0103 a0104 a0105 a0106 a010601, <span class="built_in">i</span>(id) <span class="built_in">j</span>(PID)</span><br><span class="line"><span class="comment">** 2.3 定义变量标签</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> a0102 <span class="string">&quot;性别&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> a0103 <span class="string">&quot;年龄&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> a0104 <span class="string">&quot;是否同吃同住&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> a0105 <span class="string">&quot;是否经济独立&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> a0106 <span class="string">&quot;婚姻状况&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> a010601 <span class="string">&quot;与受访人关系&quot;</span></span><br><span class="line"><span class="comment">** 2.4 删除无效样本</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">if</span> a0102==.</span><br><span class="line"><span class="comment">** 2.5 计算相关指标</span></span><br><span class="line"><span class="comment">/*  */</span></span><br><span class="line"><span class="comment">** 2.6 保存数据</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;中国综合社会调查/CGSS_person_2018&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 3. long --&gt; wide</span></span><br><span class="line"><span class="comment">*  内容: 将2018年CLDS的劳动力养老保险情况转化为家庭层面宽数据</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;中国劳动力动态调查/2018个体问卷&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> FID2018 I1_20_*  <span class="comment">// 个人编码问题</span></span><br><span class="line"><span class="comment">** 3.1 生成户内成员顺序码</span></span><br><span class="line"><span class="keyword">egen</span> PID=seq(),to(1000) <span class="keyword">by</span>(FID2018)</span><br><span class="line"><span class="comment">** 3.2 调整成员顺序码</span></span><br><span class="line"><span class="keyword">tostring</span> PID, <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">replace</span> PID=<span class="string">&quot;_&quot;</span>+PID</span><br><span class="line"><span class="comment">** 3.3 长数据 --&gt; 宽数据</span></span><br><span class="line"><span class="keyword">reshape</span> wide *, <span class="built_in">i</span>(FID2018) <span class="built_in">j</span>(PID)   <span class="comment">// 问题1: PID是字符型变量, 应当使用选项string</span></span><br><span class="line"><span class="keyword">reshape</span> wide *, <span class="built_in">i</span>(FID2018) <span class="built_in">j</span>(PID) string  <span class="comment">// 问题2: 需要指明具体变量, 不能使用通配符</span></span><br><span class="line"><span class="keyword">reshape</span> wide I1_20_1 I1_20_2 I1_20_3 I1_20_4 I1_20_50 I1_20_5 I1_20_6 I1_20_7, <span class="built_in">i</span>(FID2018) <span class="built_in">j</span>(PID) string</span><br><span class="line"><span class="comment">** 3.4 保存数据</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;中国劳动力动态调查/2018个体养老保险(wide)&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">********************************* 二、其他命令 *********************************</span></span><br><span class="line"><span class="comment">* 相关命令: gather、spread</span></span><br><span class="line"><span class="comment">* 相关链接: 「长宽数据转换：gather 与 spread」https://zhuanlan.zhihu.com/p/535622840</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 1. 安装 tidy: 仅首次使用需要安装 </span></span><br><span class="line"><span class="keyword">ssc</span> install tidy, <span class="keyword">replace</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. gather: wide --&gt; long </span></span><br><span class="line"><span class="keyword">sysuse</span> educ99gdp.dta, <span class="keyword">clear</span>  <span class="comment">// 发达国家教育经费占GDP比重数据</span></span><br><span class="line">gather public private, variable(sector) value(edu)</span><br><span class="line"></span><br><span class="line"><span class="comment">** 3. spread: long --&gt; wide</span></span><br><span class="line">spread sector edu</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> CLDS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 代码库 </tag>
            
            <tag> 教对象Stata系列 </tag>
            
            <tag> CGSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教对象Stata系列｜第4课：数据管理-长宽数据转换</title>
      <link href="/posts/35419/"/>
      <url>/posts/35419/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>附件：</strong></p><ul><li>【附件内容】do文件，PDF笔记，录屏</li><li>【附件下载】链接：https://pan.baidu.com/s/1GNT1PwtE3TzEHaaL4TLP9g?pwd=e8zw</li></ul></blockquote><p>本文是<strong>教对象Stata系列视频</strong>的笔记内容。对应视频与配套代码请见下方链接，笔记内容请见分割线下方。</p><p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><p><ahref="https://www.bilibili.com/video/BV13Y4y1d7ui/">bilibili视频链接</a></p><p><a href="https://fgzfgz.github.io/posts/31571/">配套代码链接</a></p><hr /><h2 id="一使用-reshape-命令">一、使用 <code>reshape</code> 命令</h2><p>　　将竖向的列变为横向的行，即为“长转宽”；将横的行变为竖向的列，即为“宽转长”。在Stata 中，通过 <code>reshape</code> 命令可以实现长宽数据转换。</p><h3 id="基本语法">1. 基本语法</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 宽数据转化为长数据 (wide to long)</span></span><br><span class="line"><span class="keyword">reshape</span> long stubnames, <span class="built_in">i</span>(<span class="keyword">varlist</span>) [options]</span><br><span class="line"></span><br><span class="line"><span class="comment">** 长数据转化为宽数据 (long to wide)</span></span><br><span class="line"><span class="keyword">reshape</span> wide stubnames, <span class="built_in">i</span>(<span class="keyword">varlist</span>) [options]</span><br><span class="line"></span><br><span class="line"><span class="comment">** 长宽数据转换失败时，列出转换失败的样本</span></span><br><span class="line"><span class="keyword">reshape</span> <span class="keyword">error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> stubnames 表示变量前缀名；</span></span><br><span class="line"><span class="comment">         i(varlist): varlist 是宽数据中可以唯一识别每组样本的变量，如家庭数据中的家庭编码；</span></span><br><span class="line"><span class="comment">         j(varname): varname 是在长数据中，根据宽数据唯一识别码的分组后，每组中每个样本的识别码，如家庭成员数据中的成员顺序码；</span></span><br><span class="line"><span class="comment">         string: 长宽数据转换时，j(varname) 中的 varlist 不是数值时，需要使用string；不特别指定，默认是数值。               */</span></span><br></pre></td></tr></table></figure><h3 id="图示">2. 图示</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* reshape 示例：</span></span><br><span class="line"><span class="comment">         long data</span></span><br><span class="line"><span class="comment">        +-----------------+                  wide data</span></span><br><span class="line"><span class="comment">        | id  j    x    y |                 +--------------------------+</span></span><br><span class="line"><span class="comment">        |-----------------|                 | id   x1    x2    x3    y |</span></span><br><span class="line"><span class="comment">        | 1   1   4.1   1 |     reshape     |--------------------------|</span></span><br><span class="line"><span class="comment">        | 1   2   4.5   1 |   &lt;---------&gt;   | 1    4.1   4.5     .   1 |</span></span><br><span class="line"><span class="comment">        | 2   1   3.3   3 |                 | 2    3.3     3   5.5   3 |</span></span><br><span class="line"><span class="comment">        | 2   2     3   3 |                 +--------------------------+</span></span><br><span class="line"><span class="comment">        | 2   3   5.5   3 |  </span></span><br><span class="line"><span class="comment">        +-----------------+                                           */</span></span><br></pre></td></tr></table></figure><p>　　<strong>常见情况：</strong></p><p>　　家庭数据中，家庭编码 ID可以唯一识别每一个家庭样本，每个家庭成员在家庭内有唯一顺序码PID，用家庭编码 ID 和家庭内顺序码 PID 可以唯一识别每个家庭成员。</p><p>　　<strong>注意事项：</strong></p><ul><li><p>适用于树状数据的跨层级关系。</p></li><li><p>wide --&gt; long：</p><ul><li><code>i(varlist)</code> 唯一识别每个样本；</li><li>需要指定被转换的变量，未被指定的变量，将会根据<code>i(varlist)</code> 分组后复制到组内样本中。</li></ul></li><li><p>long --&gt; wide:</p><ul><li><code>i(varlist)</code> 与 <code>j(varname)</code>共同唯一识别每个样本。</li><li>需要指定被转换的变量，未被转换的变量，根据 <code>i(varlist)</code>分组后，组内每个样本的取值应该相同，否则无法转换成功。</li></ul></li><li><p>当 <code>j(varname)</code> 是字符型变量时，需要使用<code>string</code> 选项才能转换成功。</p></li></ul><h3 id="示例">3. 示例</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** wide to long: X1_1 X1_2 X2_1 X2_2 --&gt; X1 X2</span></span><br><span class="line"><span class="keyword">reshape</span> long X1 X2,<span class="built_in">i</span>(ID) <span class="built_in">j</span>(PID) string</span><br><span class="line"><span class="comment">** Note: 每个样本的唯一识别码是ID，需要转换的变量是X1*、X2*(星号表示通配符)，可将X1_1 X1_2转换为X1，并将&quot;_1&quot;和&quot;_2&quot;作为新生成变量PID的值，PID不是数值型，因此需要加上string选项。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** long to wide (长数据转化为宽数据)</span></span><br><span class="line"><span class="keyword">reshape</span> wide X1 X2,<span class="built_in">i</span>(ID) <span class="built_in">j</span>(PID) string</span><br><span class="line"><span class="comment">** Note: 转换为宽数据后，ID应作为唯一识别码，需要将X1、X2转换为X1*、X2*，其中*是对应PID的取值。若PID不是数值型，应当加上string。</span></span><br></pre></td></tr></table></figure><p>　　组合命令示例：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** wide to long</span></span><br><span class="line"><span class="keyword">reshape</span> long X1,<span class="built_in">i</span>(ID) <span class="built_in">j</span>(PID) string   <span class="comment">//将X1_1 ~ X1_5转化为长数据</span></span><br><span class="line"><span class="comment">** 将PID转为数值型(方法一)</span></span><br><span class="line"><span class="keyword">forvalues</span> i=1/5 &#123;</span><br><span class="line">    <span class="keyword">replace</span> PID=<span class="string">&quot;`i&#x27;&quot;</span> <span class="keyword">if</span> PID==<span class="string">&quot;_`i&#x27;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">destring</span> PID, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 将PID转为数值型(方法二)</span></span><br><span class="line"><span class="keyword">destring</span> PID, <span class="built_in">i</span>(_) <span class="keyword">replace</span>    <span class="comment">//i(_)表示忽略下划线，将其他数字转换为数值型。</span></span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> 转换结果: X1，PID取值为1～5。*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** long to wide</span></span><br><span class="line"><span class="comment">** 将PID转为字符型</span></span><br><span class="line"><span class="keyword">tostring</span> PID,<span class="keyword">replace</span></span><br><span class="line"><span class="keyword">replace</span> PID=<span class="string">&quot;_&quot;</span>+PID</span><br><span class="line"><span class="keyword">reshape</span> wide X1,<span class="built_in">i</span>(ID) <span class="built_in">j</span>(PID) string</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> 转换结果: X1_1 X1_2 X1_3 X1_4 X1_5。*/</span></span><br></pre></td></tr></table></figure><h2 id="二其他命令-tidy-包">二、其他命令: tidy 包</h2><p>　　除了 <code>reshape</code> 命令外，<code>tidy</code> 包提供的<code>gather</code> 与 <code>spread</code>命令，也可以实现长宽数据转换。</p><ul><li><code>gather</code>可以将宽数据转化为长数据，功能相当于<code>reshape long</code>；</li><li><code>spread</code>可以将长数据转化为宽数据，功能相当于<code>reshape wide</code>。</li><li>使用 <code>reshepe</code>进行长宽数据转换时，需要变量命名规则一致。<code>gather</code> 与<code>spread</code> 很好地解决了变量名无规律时不能使用<code>reshape</code> 进行长宽数据转化的问题。</li></ul><h3 id="安装"><strong>1. 安装</strong></h3><p>　　安装 <code>tidy</code> 命令，仅首次使用需要安装。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ssc</span> install tidy, <span class="keyword">replace</span></span><br></pre></td></tr></table></figure><h3 id="基本语法-1"><strong>2. 基本语法</strong></h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gather varlist , [variable(newvar) value(newvar) label(newvar)]</span><br><span class="line">/* variable(newvar): 变量名转化后的新变量名; 默认是“variable”;</span><br><span class="line">   value(newvar): 变量取值生成的新变量名称; 默认为“value”;</span><br><span class="line">   label(newvar): 生成一个新变量来存储 varlist 的变量标签。   */</span><br><span class="line"></span><br><span class="line">spread variable value , [label(varname)]</span><br><span class="line">/* label(varname): 使用字符型变量 varname 为新变量构造变量标签。   */</span><br></pre></td></tr></table></figure><h3 id="示例-1"><strong>3. 示例</strong></h3><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">** 调用示范数据(发达国家教育经费占GDP比重)</span><br><span class="line">sysuse educ99gdp.dta, clear</span><br><span class="line">** 查看数据</span><br><span class="line">     +----------------------------------+</span><br><span class="line">     |       country   public   private |</span><br><span class="line">     |----------------------------------|</span><br><span class="line">  1. |     Australia       .7        .7 |</span><br><span class="line">  2. |       Britain       .7        .4 |</span><br><span class="line">  3. |        Canada      1.5        .9 |</span><br><span class="line">  4. |       Denmark      1.5        .1 |</span><br><span class="line">  5. |        France       .9        .4 |</span><br><span class="line">  6. |       Germany       .9        .2 |</span><br><span class="line">  7. |       Ireland      1.1        .3 |</span><br><span class="line">  8. |   Netherlands        1        .4 |</span><br><span class="line">  9. |        Sweden      1.5        .2 |</span><br><span class="line"> 10. | United States      1.1       1.2 |</span><br><span class="line">     +----------------------------------+</span><br><span class="line"></span><br><span class="line">** 转化为长数据</span><br><span class="line">gather public private, variable(sector) value(edu)</span><br><span class="line">** 转化结果</span><br><span class="line">     +-------------------------------+</span><br><span class="line">     |       country    sector   edu |</span><br><span class="line">     |-------------------------------|</span><br><span class="line">  1. |     Australia    public    .7 |</span><br><span class="line">  2. |     Australia   private    .7 |</span><br><span class="line">  3. |       Britain    public    .7 |</span><br><span class="line">  4. |       Britain   private    .4 |</span><br><span class="line">  5. |        Canada    public   1.5 |</span><br><span class="line">  6. |        Canada   private    .9 |</span><br><span class="line">  7. |       Denmark    public   1.5 |</span><br><span class="line">  8. |       Denmark   private    .1 |</span><br><span class="line">  9. |        France    public    .9 |</span><br><span class="line"> 10. |        France   private    .4 |</span><br><span class="line"> 11. |       Germany    public    .9 |</span><br><span class="line"> 12. |       Germany   private    .2 |</span><br><span class="line"> 13. |       Ireland    public   1.1 |</span><br><span class="line"> 14. |       Ireland   private    .3 |</span><br><span class="line"> 15. |   Netherlands    public     1 |</span><br><span class="line"> 16. |   Netherlands   private    .4 |</span><br><span class="line"> 17. |        Sweden    public   1.5 |</span><br><span class="line"> 18. |        Sweden   private    .2 |</span><br><span class="line"> 19. | United States    public   1.1 |</span><br><span class="line"> 20. | United States   private   1.2 |</span><br><span class="line">     +-------------------------------+</span><br><span class="line"></span><br><span class="line">** 使用 spread , 上述的长数据可以很简单地转化为宽数据</span><br><span class="line">spread sector edu</span><br></pre></td></tr></table></figure><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> CLDS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
            <tag> 教对象Stata系列 </tag>
            
            <tag> CGSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗专题视频｜使用CMDS计算地级市宏观指标</title>
      <link href="/posts/14589/"/>
      <url>/posts/14589/</url>
      
        <content type="html"><![CDATA[<p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><blockquote><p><strong>附件：</strong></p><ul><li>do文件与录屏，下载链接：https://pan.baidu.com/s/1pEa3scL3k0oA6Yp7D-aQJQ?pwd=c5i3</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> 公开数据库 </tag>
            
            <tag> CMDS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
            <tag> 代码库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教对象Stata系列｜第3课代码：变量管理、统计分析与数据管理</title>
      <link href="/posts/7941/"/>
      <url>/posts/7941/</url>
      
        <content type="html"><![CDATA[<p>这是<strong>教对象Stata系列视频</strong>的配套代码。对应视频与笔记链接请见下方链接，配套代码请见分割线下方。</p><p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><p><ahref="https://www.bilibili.com/video/BV1vY4y1R7tH">bilibili视频链接</a></p><p><a href="https://fgzfgz.github.io/posts/39149/">配套笔记链接</a></p><hr /><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Do File <span class="doctag">Note:</span></span></span><br><span class="line"><span class="comment">日期：2023年1月26日</span></span><br><span class="line"><span class="comment">主题：stata 变量管理、统计分析与数据管理</span></span><br><span class="line"><span class="comment">内容：1. 变量管理(3): 数值型与字符型变量转换</span></span><br><span class="line"><span class="comment">     2. 统计分析: 常用命令与分析方法</span></span><br><span class="line"><span class="comment">     3. 数据管理(1): append 数据接驳 (纵向拼接)</span></span><br><span class="line"><span class="comment"> 4. 数据管理(2): merge 数据匹配 (横向合并)</span></span><br><span class="line"><span class="comment">     5. 数据管理综合案例   */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">******************************** 一、变量管理(3) ********************************</span></span><br><span class="line"><span class="comment">* 相关命令: tostring、destring</span></span><br><span class="line"><span class="comment">* 相关链接: 「Stata 数据格式转换」https://fgzfgz.github.io/posts/33587/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 1. tostring 命令: 数值型 --&gt; 字符型</span></span><br><span class="line"><span class="keyword">webuse</span> lifeexp,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">tostring</span> region, <span class="keyword">g</span>(region2) <span class="comment">// 生成新变量</span></span><br><span class="line"><span class="keyword">tostring</span> region, <span class="keyword">replace</span>    <span class="comment">// 替换原有变量</span></span><br><span class="line"><span class="keyword">tostring</span> *, <span class="keyword">replace</span>         <span class="comment">// 所有变量转化为字符型</span></span><br><span class="line"><span class="keyword">tostring</span> *, <span class="keyword">replace</span> force   <span class="comment">// 忽略信息缺失，强制转化为字符型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. destring 命令: 字符型 --&gt; 数值型</span></span><br><span class="line"><span class="keyword">webuse</span> destring2, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">destring</span> date, <span class="built_in">i</span>(<span class="string">&quot; &quot;</span>) <span class="keyword">gen</span>(newdate)</span><br><span class="line"><span class="keyword">destring</span> percent, <span class="built_in">i</span>(<span class="string">&quot;%&quot;</span>) <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">destring</span> price, <span class="built_in">i</span>(<span class="string">&quot;$&quot;</span> <span class="string">&quot;,&quot;</span>) <span class="keyword">g</span>(price2)  <span class="comment">// 忽略多个文本字符</span></span><br><span class="line"><span class="keyword">destring</span> price, <span class="built_in">i</span>(<span class="string">&quot;$&quot;</span>) <span class="keyword">replace</span> force  <span class="comment">// 删除带文本字符的数据，强制转化为数值型</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">********************************** 二、统计分析 **********************************</span></span><br><span class="line"><span class="comment">* 相关命令: list、summ、tab、tabstat、table</span></span><br><span class="line"><span class="comment">* 相关链接: 「统计分析」 https://fgzfgz.github.io/posts/15857/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 1. list 命令</span></span><br><span class="line"><span class="keyword">webuse</span> lifeexp, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 1.1 查看所有变量所有样本</span></span><br><span class="line"><span class="keyword">list</span> </span><br><span class="line"><span class="comment">** 1.2 配合in使用: 特定位置样本取值列表</span></span><br><span class="line"><span class="keyword">gsort</span> + safewater</span><br><span class="line"><span class="keyword">list</span> safewater <span class="keyword">in</span> 1/20   <span class="comment">// 前20个样本取值</span></span><br><span class="line"><span class="keyword">gsort</span> - safewater</span><br><span class="line"><span class="keyword">list</span> safewater <span class="keyword">in</span> 1/20   <span class="comment">// 前20个样本取值</span></span><br><span class="line"><span class="comment">** 1.3 配合IF使用: 特定条件的取值列表</span></span><br><span class="line"><span class="keyword">list</span> country safewater <span class="keyword">if</span> region==1  <span class="comment">// 查看亚欧国家的safewater得分</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. summ 命令</span></span><br><span class="line"><span class="keyword">summ</span> lexp safewater     <span class="comment">// 样本数、均值、标准差、最大值、最小值</span></span><br><span class="line"><span class="keyword">summ</span> lexp safewater, <span class="keyword">d</span>  <span class="comment">// 逐个变量单独显示详情</span></span><br><span class="line"><span class="comment">// 配合 if(或in) 使用</span></span><br><span class="line"><span class="keyword">summ</span> lexp safewater <span class="keyword">if</span> region==1</span><br><span class="line"></span><br><span class="line"><span class="comment">** 3. tab 命令</span></span><br><span class="line"><span class="comment">** 3.1 缺失值</span></span><br><span class="line"><span class="keyword">tab</span> safewater</span><br><span class="line"><span class="keyword">tab</span> safewater, <span class="keyword">m</span></span><br><span class="line"><span class="comment">** 3.2 变量标签</span></span><br><span class="line"><span class="keyword">tab</span> region</span><br><span class="line"><span class="keyword">tab</span> region, nol</span><br><span class="line"><span class="comment">** 3.3 带IF条件</span></span><br><span class="line"><span class="keyword">tab</span> lexp <span class="keyword">if</span> region==1</span><br><span class="line"></span><br><span class="line"><span class="comment">** 4. tabstat 命令</span></span><br><span class="line"><span class="comment">** 4.1 分组查看: 样本数、均值、最大值、最小值、标准差、极差</span></span><br><span class="line"><span class="keyword">tabstat</span> lexp, stat(<span class="keyword">n</span> <span class="keyword">mean</span> max min sd <span class="keyword">range</span>) <span class="built_in">f</span>(%9.3f) <span class="keyword">by</span>(region)  <span class="comment">// 保留三位小数</span></span><br><span class="line"><span class="comment">** 4.2 百分位数</span></span><br><span class="line"><span class="keyword">tabstat</span> lexp, stat(p1 p5 p10 q p90 p95 p99) <span class="built_in">f</span>(%9.3f) <span class="keyword">by</span>(region)  <span class="comment">// 保留三位小数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">******************************** 三、数据管理(1) ********************************</span></span><br><span class="line"><span class="comment">* 相关命令: 数据接驳 (纵向拼接) —— append</span></span><br><span class="line"><span class="comment">* 相关链接: 「Stata数据匹配、接驳」https://fgzfgz.github.io/posts/19316/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:/Users/wugan/Desktop/教对象Stata系列/第3课：变量管理、统计分析与数据管理/示范数据&quot;</span></span><br><span class="line"><span class="comment">** 1. 拆分亚洲与美洲国家数据</span></span><br><span class="line"><span class="keyword">webuse</span> lifeexp, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> region==1</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;亚欧&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">webuse</span> lifeexp, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> region!=1</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;美洲&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. 数据接驳: 亚欧+美洲</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;亚欧&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">append</span> using <span class="string">&quot;美洲&quot;</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;亚欧+美洲&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">******************************** 四、数据管理(2) ********************************</span></span><br><span class="line"><span class="comment">*  相关命令: 数据匹配 (横向合并) —— merge</span></span><br><span class="line"><span class="comment">*  内容: 地级市数据——经济数据+气象数据</span></span><br><span class="line"><span class="comment">*  相关数据: 1. 2000-2022年城市气象数据</span></span><br><span class="line"><span class="comment">*            2. 2000-2021年地级市分产业增加值数据</span></span><br><span class="line"><span class="comment">/* 相关链接: 「Stata数据匹配、接驳」https://fgzfgz.github.io/posts/19316/    */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 1. 数据匹配</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;气象数据&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">merge</span> 1:1 CID using <span class="string">&quot;产业增加值&quot;</span>  <span class="comment">// 问题1: 识别变量不同</span></span><br><span class="line"><span class="keyword">rename</span> CID 城市代码</span><br><span class="line"><span class="keyword">merge</span> 1:1 城市代码 using <span class="string">&quot;产业增加值&quot;</span>  <span class="comment">// 问题2: 识别变量对应关系错误</span></span><br><span class="line"><span class="keyword">rename</span> year 年份</span><br><span class="line"><span class="keyword">merge</span> 1:1 年份 城市代码 using <span class="string">&quot;产业增加值&quot;</span> <span class="comment">// 问题3: 识别变量的类型不同</span></span><br><span class="line"><span class="comment">** 2. 解决问题3——识别变量的类型不同</span></span><br><span class="line"><span class="comment">// 使用force</span></span><br><span class="line"><span class="keyword">merge</span> 1:1 年份 城市代码 using <span class="string">&quot;产业增加值&quot;</span>, force</span><br><span class="line"><span class="comment">// 转换变量类型</span></span><br><span class="line"><span class="keyword">destring</span> 年份 城市代码, <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">merge</span> 1:1 年份 城市代码 using <span class="string">&quot;产业增加值&quot;</span>  <span class="comment">// 关注未匹配成功样本</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> _merge==3</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;气象+增加值&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">********************************** 五、综合案例 **********************************</span></span><br><span class="line"><span class="comment">*  相关命令: append、merge、egen</span></span><br><span class="line"><span class="comment">*  内容: 使用2016、2018年CFPS数据计算家庭规模与成员平均年龄，并与家庭收入、支出数据合并，生成一个家庭数据。</span></span><br><span class="line"><span class="comment">*  相关变量: 1) 家庭经济库——家庭收入、家庭支出; 2) 家庭成员关系库——家庭规模、成员平均年龄</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:/Users/wugan/Desktop/教对象Stata系列/第3课：变量管理、统计分析与数据管理/综合案例数据&quot;</span></span><br><span class="line"><span class="comment">** 1. 2018年数据</span></span><br><span class="line"><span class="comment">** 1.1 家庭收入、家庭支出</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CFPS2018/2018家庭经济&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> fid18 cyear fwage_1 foperate_1 fproperty_1 ftransfer_1 felse_1 fincome1 daily-expense</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;DATA/2018家庭经济&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 1.2 家庭规模、家庭成员平均年龄</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CFPS2018/2018家庭成员关系&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">egen</span> famsize=<span class="keyword">count</span>(fid18), <span class="keyword">by</span>(fid18)</span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> famsize <span class="string">&quot;家庭规模&quot;</span></span><br><span class="line"><span class="keyword">egen</span> famage=<span class="keyword">mean</span>(2018-tb1y_a_p), <span class="keyword">by</span>(fid18)</span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> famage <span class="string">&quot;家庭平均年龄&quot;</span></span><br><span class="line"><span class="keyword">keep</span> fid18 cyear famsize famage</span><br><span class="line"><span class="comment">** 1.3 删除重复样本</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> fid18, force</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;DATA/2018家庭成员关系&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 1.4 数据匹配</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;DATA/2018家庭经济&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">merge</span> 1:1 fid18 using <span class="string">&quot;DATA/2018家庭成员关系&quot;</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> _merge==3</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;DATA/CFPS2018&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. 2016年数据</span></span><br><span class="line"><span class="comment">** 2.1 家庭收入、家庭支出</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CFPS2016/2016家庭经济&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> fid16 cyear fwage_1 foperate_1 fproperty_1 ftransfer_1 felse_1 fincome1 daily-expense</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;DATA/2016家庭经济&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 2.2 家庭规模、家庭成员平均年龄</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CFPS2016/2016家庭成员关系&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">egen</span> famsize=<span class="keyword">count</span>(fid16), <span class="keyword">by</span>(fid16)</span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> famsize <span class="string">&quot;家庭规模&quot;</span></span><br><span class="line"><span class="keyword">egen</span> famage=<span class="keyword">mean</span>(2016-tb1y_a_p), <span class="keyword">by</span>(fid16)</span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> famage <span class="string">&quot;家庭平均年龄&quot;</span></span><br><span class="line"><span class="keyword">keep</span> fid16 cyear famsize famage</span><br><span class="line"><span class="comment">** 2.3 删除重复样本</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> fid16, force</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;DATA/2016家庭成员关系&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 2.4 数据匹配</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;DATA/2016家庭经济&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">merge</span> 1:1 fid16 using <span class="string">&quot;DATA/2016家庭成员关系&quot;</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> _merge==3</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;DATA/CFPS2016&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 3. 数据接驳</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;DATA/CFPS2018&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">append</span> using <span class="string">&quot;DATA/CFPS2016&quot;</span>   <span class="comment">// fid编码问题待修正</span></span><br><span class="line"><span class="keyword">rename</span> fid18 fid</span><br><span class="line"><span class="keyword">replace</span> fid=fid16 <span class="keyword">if</span> fid==. &amp; fid16!=.</span><br><span class="line"><span class="keyword">drop</span> fid16 _merge </span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;DATA/CFPS(16-18)&quot;</span>, <span class="keyword">replace</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> CFPS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 代码库 </tag>
            
            <tag> 教对象Stata系列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教对象Stata系列｜第3课：变量管理、统计分析与数据管理</title>
      <link href="/posts/39149/"/>
      <url>/posts/39149/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>附件：</strong></p><ul><li>【附件内容】do文件，PDF笔记,录屏</li><li>【附件下载】链接：https://pan.baidu.com/s/1OX7X6gwd3E1ErQjvibrbUg?pwd=8zbi</li></ul></blockquote><p>本文是<strong>教对象Stata系列视频</strong>的笔记内容。对应视频与配套代码请见下方链接，笔记内容请见分割线下方。</p><p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><p><ahref="https://www.bilibili.com/video/BV1vY4y1R7tH">bilibili视频链接</a></p><p><a href="https://fgzfgz.github.io/posts/7941/">配套代码链接</a></p><hr /><h2 id="一变量管理-3-数值型与字符型变量转换">一、变量管理 (3) :数值型与字符型变量转换</h2><p>　　使用 <code>destring</code>命令可以将字符型变量转化为数值型变量，使用 <code>tostring</code>命令可以将数值型变量转化为字符型变量。</p><h3 id="tostring-命令数值型----字符型">1. <code>tostring</code>命令：数值型 --&gt; 字符型</h3><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">tostring</span> <span class="keyword">varlist</span> [, options]</span><br></pre></td></tr></table></figure><p>　　<strong>options：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 常用 Options: </span></span><br><span class="line"><span class="comment">    1) generate(newvarlist): 指定新的字符型变量列表名称，简写gen(newvarlist)或g(newvarlist)</span></span><br><span class="line"><span class="comment">    2) replace: 将原变量替换字符型变量</span></span><br><span class="line"><span class="comment">    3) force: 强制转换为字符型变量(忽略信息缺失)   */</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">tostring</span> X, <span class="keyword">g</span>(Y)    <span class="comment">// X数值型 --&gt; Y字符型</span></span><br><span class="line"><span class="keyword">tostring</span> *,<span class="keyword">replace</span>  <span class="comment">// 将所有变量替换为字符型变量</span></span><br></pre></td></tr></table></figure><h3 id="destring-命令字符型----数值型">2. <code>destring</code>命令：字符型 --&gt; 数值型</h3><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">字符型 --&gt; 数值型</span><br><span class="line"><span class="keyword">destring</span> [<span class="keyword">varlist</span>] [,options]</span><br></pre></td></tr></table></figure><p>　　<strong>options：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 常用 Options: </span></span><br><span class="line"><span class="comment">    1) generate(newvarlist): 指定新的字符型变量列表名称，简写 gen(newlist) 或g (newlist) </span></span><br><span class="line"><span class="comment">    2) replace: 将原变量替换数值型变量</span></span><br><span class="line"><span class="comment">    3) ignore(&quot;chars&quot;): 指定忽略的文本内容，简写 i(&quot;chars&quot;)</span></span><br><span class="line"><span class="comment">    4) force: 讲字符型变量强制转化为数值型变量    */</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">destring</span> X, <span class="keyword">g</span>(Y)     <span class="comment">// X字符型 --&gt; Y数值型</span></span><br><span class="line"><span class="keyword">destring</span> X, <span class="keyword">replace</span>  <span class="comment">// X字符型 --&gt; X数值型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">destring</span> X, <span class="built_in">i</span>(<span class="string">&quot;NA&quot;</span>) <span class="keyword">replace</span>  <span class="comment">// X字符型 --&gt; X数值型: 忽略「NA」</span></span><br></pre></td></tr></table></figure><h2 id="二统计分析">二、统计分析</h2><h3 id="list-命令列出变量的取值">1. <code>list</code>命令：列出变量的取值</h3><p>　　使用 <code>list</code>命令可以按需求列出变量的取值。<code>list</code> 命令可以简写为<code>l</code> 。</p><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">list</span> [<span class="keyword">varlist</span>] [<span class="keyword">if</span>] [<span class="keyword">in</span>] [, options]</span><br></pre></td></tr></table></figure><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230124214725-zurvfwl.png"alt="image" /></p><p>　　<strong>options：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 常用 Options: </span></span><br><span class="line"><span class="comment">    1) mean: 在列表最下方显示均值</span></span><br><span class="line"><span class="comment">    2) sum: 在列表最下方显示加总值</span></span><br><span class="line"><span class="comment">    3) N: 在列表最下方显示样本量    */</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">list</span> X <span class="keyword">if</span> X2==1   <span class="comment">// list 配合 IF 条件使用</span></span><br><span class="line"><span class="keyword">list</span> X <span class="keyword">in</span> 1/50, <span class="keyword">sum</span> <span class="keyword">mean</span> <span class="keyword">N</span>   <span class="comment">// 变量 X 的 1-50 行样本的均值、加总值与样本量</span></span><br></pre></td></tr></table></figure><h3 id="summarize-命令汇报统计量">2. <code>summarize</code>命令：汇报统计量</h3><p>　　使用 <code>summarize</code> 可以汇报变量的常见统计量，可简写作<code>summ</code> 或 <code>su</code> 。</p><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">summarize</span> [<span class="keyword">varlist</span>] [<span class="keyword">if</span>] [<span class="keyword">in</span>] [weight] [, options]</span><br></pre></td></tr></table></figure><p>　　<strong>opitons：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 常用 Options: </span></span><br><span class="line"><span class="comment">    1) detail: 显示变量的详细统计量，简写为「d」   */</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">summ</span> X1 X2     <span class="comment">// X1 与 X2 的样本数、均值、标准差、最大值、最小值</span></span><br><span class="line"><span class="keyword">summ</span> X1 X2, <span class="keyword">d</span>  <span class="comment">// 显示详细信息</span></span><br></pre></td></tr></table></figure><h3 id="tabulate-与-tabstat-命令">3. <code>tabulate</code> 与<code>tabstat</code> 命令</h3><h4 id="tabulate-命令">3.1 <code>tabulate</code> 命令</h4><p>　　使用 <code>tabulate</code>可以查看==<strong>某一个数值型/字符型</strong>==变量的取值分布与累积百分比情况，简写做<code>tab</code> 或 <code>ta</code> 。</p><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">tabulate</span> varname1 [varname2] [<span class="keyword">if</span>] [<span class="keyword">in</span>] [weight] [, options]</span><br></pre></td></tr></table></figure><p>　　<strong>options：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 常用 Options: </span></span><br><span class="line"><span class="comment">    1) missing: 显示缺失值数量，简写「m」</span></span><br><span class="line"><span class="comment">    2) nofreq: 不显示取值分布频率，简写「nof」</span></span><br><span class="line"><span class="comment">    3) nolabel: 不显示变量值标签，简写「nol」 */</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">tab</span> X      <span class="comment">// 查看 X 取值分布</span></span><br><span class="line"><span class="keyword">tab</span> X, <span class="keyword">m</span>   <span class="comment">// 查看 X 取值分布(包括缺失值)</span></span><br><span class="line"><span class="keyword">tab</span> X, nol <span class="comment">// 不显示值标签</span></span><br><span class="line"><span class="keyword">tab</span> X <span class="keyword">if</span> select==1  <span class="comment">// 带条件</span></span><br></pre></td></tr></table></figure><h4 id="tabstat-命令">3.2 tabstat 命令</h4><p>　　与 <code>tab</code> 命令相比，使用 <code>tabstat</code>命令：</p><ul><li>可以查看更多统计量</li><li>可以查看分组统计量</li><li><strong>仅能查看数值型变量</strong>的统计量</li></ul><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">tabstat</span> <span class="keyword">varlist</span> [<span class="keyword">if</span>] [<span class="keyword">in</span>] [weight] [, options]</span><br></pre></td></tr></table></figure><p>　　<strong>options：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 常用 Options: </span></span><br><span class="line"><span class="comment">    1) by(variable): 通过变量 variable 分组</span></span><br><span class="line"><span class="comment">    2) statistics(...): 注明要计算的统计量，简写「stat(...)」或「s(...)」</span></span><br><span class="line"><span class="comment">    3) missing: 将 by(variable) 中的分组变量取值为缺失值的视为一组，简写「m」</span></span><br><span class="line"><span class="comment">    4）format(%fmt): 设置显示格式，简写「f(%fmt)」  */</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 样本数、均值、最大值、最小值、标准差、极差：根据 Z 变量进行分组，保留两位小数（4f）</span></span><br><span class="line"><span class="keyword">tabstat</span> X1 X2, stat(<span class="keyword">count</span> <span class="keyword">mean</span> min max sd rang) <span class="built_in">f</span>(%9.4f) <span class="keyword">by</span>(Z)</span><br><span class="line"><span class="keyword">tabstat</span> X1 X2, stat(<span class="keyword">n</span>     <span class="keyword">mean</span> min max sd r   ) <span class="built_in">f</span>(%9.4f) <span class="keyword">by</span>(Z)  <span class="comment">// 同上一行</span></span><br><span class="line"><span class="comment">// 查看分位数：p表示百分位数，q表示四分位数(p25、p50、p75)</span></span><br><span class="line"><span class="keyword">tabstat</span> X1 X2, stat(p1 p5 p10 q p90 p95 p99) </span><br></pre></td></tr></table></figure><h2 id="三关于数据结构">三、关于数据结构</h2><p>　　<strong>链式数据：</strong>严格一对一的对应关系，更常见于多个统计数据库之间</p><p>　　<strong>树形数据：</strong>存在一对多的对应关系，呈向下分散状，更常见于统计数据内部与抽样调查数据内部</p><p>　　<strong>网状数据：</strong>可以存在多对多的对应关系，例如一个学生可以选择很多门课程，一个老师也可能教很多门课程</p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/22-20230126222819-4x8nm1d.jpg"alt="22" /></p><h2 id="四数据管理-1-数据接驳-append">四、数据管理 (1):数据接驳-append</h2><p>　　数据接驳是数据集的<strong>纵向扩展</strong>，将不同的数据集纵向拼接在一起。</p><ul><li>数据匹配使用 <code>append</code> 命令。与 <code>merge</code>不同，数据接驳 <code>append</code> 命令不需要指定识别变量；</li><li>当前使用的数据是 master data，<code>append</code>命令可以生成一个结果变量注明样本的来源；</li><li>在接驳的数据集中，变量名相同的变量的值将保存在同一变量名下。</li></ul><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">append</span> using filename [filename ...] [, options]</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> filename 表示待接驳的外部数据，若不在当前工作路径下，可以使用cd命令变更工作路径，</span></span><br><span class="line"><span class="comment">         或者在filename处填写完整的数据存放路径；append命令一次可以接驳多条命令。    */</span></span><br></pre></td></tr></table></figure><p>　　<strong>所有选项 options：</strong></p><p>　　<code>append</code> 的选项大多与 <code>merge</code>命令相同。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Options: </span></span><br><span class="line"><span class="comment">    keep(varlist)：仅从其他数据集中接驳varlist变量到master data，简写作&quot;keep(varlist)&quot;；</span></span><br><span class="line"><span class="comment">    generate(newvar)：生成一个新变量标记样本的来源，简写作&quot;gen(newvar)&quot;；</span></span><br><span class="line"><span class="comment">    nolabel：在接驳完成后，去除using data匹配变量中的值标签，简写作&quot;nol&quot;；</span></span><br><span class="line"><span class="comment">    force：强制接驳配字符型与数值型变量。                                            */</span></span><br></pre></td></tr></table></figure><p>　　比较常用的 options 是<code>keepus(varlist)</code>、<code>gen(newvar)</code> 。</p><p>　　<strong>示例：</strong></p><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="string">&quot;data1.dta&quot;</span></span><br><span class="line"><span class="keyword">append</span> using <span class="string">&quot;data2.dta&quot;</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;new_data.dta&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 接驳数据图示：</span></span><br><span class="line"><span class="comment">                                                               new_data</span></span><br><span class="line"><span class="comment">   data1                  data2                               +---------------------+</span></span><br><span class="line"><span class="comment">  +---------------+      +----------------+                   | id   x1   x2   x3   |</span></span><br><span class="line"><span class="comment">  | id   x1  x3   |      | id    x1    x2 |                   |---------------------|</span></span><br><span class="line"><span class="comment">  |---------------|      |----------------|      append       | 101   3   .    2    |</span></span><br><span class="line"><span class="comment">  | 101  3   2    |      | 103    1   3.3 |    ----------&gt;    | 102   5   .    1.1  |</span></span><br><span class="line"><span class="comment">  | 102  5   1.1  |      | 104    2   3.0 |                   | 103   1   3.3  .    |</span></span><br><span class="line"><span class="comment">  +---------------+      +----------------+                   | 104   2   3.0  .    |</span></span><br><span class="line"><span class="comment">                                                              +---------------------+      */</span></span><br></pre></td></tr></table></figure><p>　　‍</p><h2 id="五数据管理-2-数据匹配-merge">五、数据管理 (2):数据匹配-merge</h2><p>　　数据匹配是数据数据的横向合并，目的是添加其他数据库中的某几个变量。使用<code>merge</code> 命令可以实现数据的精确匹配。</p><p>　　数据匹配是数据集的<strong>横向扩展</strong>，通过识别某些变量在不同数据集中的对应关系，将其他数据集的一些变量匹配到当前数据中。</p><ul><li>数据匹配使用 <code>merge</code> 命令，当前打开的数据称为 masterdata，待匹配的数据称为 using data；</li><li>数据匹配包含 1:1，1:m，m:1，m:m 四种类型；</li><li>在匹配完成后，会生成一个显示匹配结果的变量，默认是“_merge”。</li></ul><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">merge</span> X:X <span class="keyword">varlist</span> using filename [, options]</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> X:X 表示匹配类型，可以是1:1，1:m，m:1，m:m；</span></span><br><span class="line"><span class="comment">         varlist 表示master data和using data之间匹配的识别变量，根据匹配的类型不同，varlist的要求也不同；</span></span><br><span class="line"><span class="comment">         filename 表示using data的名称，若不在当前工作路径下，可以使用cd命令变更工作路径，或者在filename处填写完整的数据存放路径。*/</span></span><br></pre></td></tr></table></figure><p>　　<strong>所有选项 options：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Options: </span></span><br><span class="line"><span class="comment">    keepusing(varlist)：仅从using data中匹配varlist变量到master data，简写作&quot;keepus(varlist)&quot;；</span></span><br><span class="line"><span class="comment">    generate(newvar)：定义匹配结果变量名，默认是&quot;_merge&quot;，简写作&quot;gen(newvar)&quot;；</span></span><br><span class="line"><span class="comment">    nogenerate：匹配完成后，不生成匹配结果变量&quot;_merge&quot;，简写作&quot;nogen&quot;，不能和gen(newvar)选项同时使用；</span></span><br><span class="line"><span class="comment">    nolabel：在匹配完成后，去除using data匹配变量中的值标签，简写作&quot;nol&quot;；</span></span><br><span class="line"><span class="comment">    update：更新同名变量数据，即使用using data中的非缺失值替换master data中同名变量的缺失值；</span></span><br><span class="line"><span class="comment">    replace：替换同名变量数据，即使用using data中的非缺失值替换master data中的所有同名变量的值；</span></span><br><span class="line"><span class="comment">    noreport：不汇报匹配结果；</span></span><br><span class="line"><span class="comment">    force：强制匹配字符型与数值型变量。                                                     */</span></span><br></pre></td></tr></table></figure><p>　　<code>merge</code> 命令一般使用 options 较少，比较常用的 options是 <code>keepus(varlist)</code>、<code>gen(newvar)</code>。</p><p>　　<strong>匹配结果：</strong></p><p>　　不论哪种匹配方式，生成的匹配结果变量会有三个固定的取值：</p><p>　　_merge=1：未匹配成功，该样本的数据仅来自 master data；</p><p>　　_merge=2：未匹配成功，该样本的数据仅来自 using data；</p><p>　　_merge=3：匹配成功，该样本的数据同时来自 master data 和 usingdata；</p><p>　　因此，可以根据匹配结果变量的取值，筛选出需要的样本：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 不删除任何样本，直接删除_merge变量</span></span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="comment">** 仅保留匹配成功的样本</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> _merge==3</span><br><span class="line"><span class="comment">** 仅保留来自master data相关的样本</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">if</span> _merge==2</span><br><span class="line"><span class="comment">** 删除master data中未匹配成功的样本</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">if</span> _merge==1</span><br></pre></td></tr></table></figure><h3 id="one-to-one-merge">1. one-to-one merge</h3><p>　　<strong>使用 1:1 匹配的条件：</strong>用于匹配的 varlist 在master data 和 using data中可以<strong>唯一识别</strong>每一个样本。若某一个变量不能唯一识别每个样本，则要求通过多个变量可以唯一识别两套数据中的每一个样本。</p><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="string">&quot;master_data.dta&quot;</span></span><br><span class="line"><span class="keyword">merge</span> 1:1 id using <span class="string">&quot;using_data.dta&quot;</span></span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;new_data.dta&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 匹配结果展示</span></span><br><span class="line">    Result                      Number of obs</span><br><span class="line">    -----------------------------------------</span><br><span class="line">    Not matched                             2</span><br><span class="line">        from master                         1  (_merge==1)</span><br><span class="line">        from using                          1  (_merge==2)</span><br><span class="line"></span><br><span class="line">    Matched                                 3  (_merge==3)</span><br><span class="line">    -----------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 匹配结果图示：</span></span><br><span class="line"><span class="comment">   master_data           using_data                     new_data</span></span><br><span class="line"><span class="comment">  +--------------+      +------------+                 +---------------------------------------+</span></span><br><span class="line"><span class="comment">  | id   x1  x2  |      | id    x3   |                 | id    x1    x2   x3   _merge          | </span></span><br><span class="line"><span class="comment">  |--------------|      |------------|                 |---------------------------------------| </span></span><br><span class="line"><span class="comment">  | 101  1   4.1 |      | 101    2   |      merge      | 101    1   4.1   2    Matched (3)     | </span></span><br><span class="line"><span class="comment">  | 102  2   4.5 |      | 102    1.1 |    ---------&gt;   | 102    2   4.5   1.1  Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 103  3   3.3 |      | 103    5   |                 | 103    3   3.3   5    Matched (3)     | </span></span><br><span class="line"><span class="comment">  | 104  4   3.0 |      | 105    7   |                 | 104    4   3.0   .    Master only (1) |</span></span><br><span class="line"><span class="comment">  +--------------+      +------------+                 | 105    .   .     7    Using only (2)  | </span></span><br><span class="line"><span class="comment">                                                       +---------------------------------------+   */</span></span><br></pre></td></tr></table></figure><h3 id="one-to-many-merge">2. one-to-many merge</h3><p>　　<strong>使用 1:m 匹配的条件：</strong>用于匹配的 varlist 在master data 中可以<strong>唯一识别</strong>每一个样本，且在 using data中对应多个样本。</p><p>　　<strong>常见使用场景：</strong></p><ul><li>master data 是家庭数据，using data是个体数据，一个家庭对应多个个体，使用家庭的编码进行识别；</li><li>master data 是省级数据，using data是地级市数据，一个省对应多个地级市，使用省份的编码进行识别。</li></ul><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="string">&quot;master_data.dta&quot;</span></span><br><span class="line"><span class="keyword">merge</span> 1:<span class="keyword">m</span> id using <span class="string">&quot;using_data.dta&quot;</span></span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;new_data.dta&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 匹配结果展示</span></span><br><span class="line"></span><br><span class="line">    Result                      Number of obs</span><br><span class="line">    -----------------------------------------</span><br><span class="line">    Not matched                             1</span><br><span class="line">        from master                         1  (_merge==1)</span><br><span class="line">        from using                          0  (_merge==2)</span><br><span class="line"></span><br><span class="line">    Matched                                 4  (_merge==3)</span><br><span class="line">    -----------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 匹配结果图示：</span></span><br><span class="line"><span class="comment">   master_data           using_data                     new_data</span></span><br><span class="line"><span class="comment">  +--------------+      +------------+                 +---------------------------------------+</span></span><br><span class="line"><span class="comment">  | id   x1  x2  |      | id    x3   |                 | id    x1    x2   x3   _merge          | </span></span><br><span class="line"><span class="comment">  |--------------|      |------------|                 |---------------------------------------| </span></span><br><span class="line"><span class="comment">  | 101  1   4.1 |      | 101    2   |      merge      | 101    1   4.1   2    Matched (3)     | </span></span><br><span class="line"><span class="comment">  | 102  2   4.5 |      | 102    1.1 |    ---------&gt;   | 102    2   4.5   1.1  Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 103  3   3.3 |      | 102    2.7 |                 | 102    2   4.5   2.7  Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 104  4   3.0 |      | 103    5   |                 | 103    3   3.3   5    Matched (3)     |</span></span><br><span class="line"><span class="comment">  +--------------+      +------------+                 | 104    4   3.0   .    Master only (1) |   </span></span><br><span class="line"><span class="comment">                                                       +---------------------------------------+  */</span></span><br></pre></td></tr></table></figure><h3 id="many-to-one-merge">3. many-to-one merge</h3><p>　　将 1:m 匹配中的 master data 和 using data的数据特征互换时，就应该使用 m:1 匹配。</p><p>　　<strong>使用 m:1 匹配的条件：</strong>用于匹配的 varlist 在 usingdata 中可以<strong>唯一识别</strong>每一个样本，且在 master data中对应多个样本。</p><p>　　<strong>常见使用场景：</strong></p><ul><li>master data 是个体数据，using data是家庭数据，多个个体可以同时在一个家庭内，使用家庭的编码进行识别；</li><li>master data 是地级市数据，using data是省级数据，多个地级市同属于一个省份，使用省份的编码进行识别。</li></ul><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="string">&quot;master_data.dta&quot;</span></span><br><span class="line"><span class="keyword">merge</span> <span class="keyword">m</span>:1 id using <span class="string">&quot;using_data.dta&quot;</span></span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;new_data.dta&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 匹配结果展示</span></span><br><span class="line"></span><br><span class="line">    Result                      Number of obs</span><br><span class="line">    -----------------------------------------</span><br><span class="line">    Not matched                             1</span><br><span class="line">        from master                         1  (_merge==1)</span><br><span class="line">        from using                          0  (_merge==2)</span><br><span class="line"></span><br><span class="line">    Matched                                 4  (_merge==3)</span><br><span class="line">    -----------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 匹配结果图示：</span></span><br><span class="line"><span class="comment">   master_data           using_data                     new_data</span></span><br><span class="line"><span class="comment">  +--------------+      +------------+                 +---------------------------------------+</span></span><br><span class="line"><span class="comment">  | id   x1  x2  |      | id    x3   |                 | id    x1    x2   x3   _merge          | </span></span><br><span class="line"><span class="comment">  |--------------|      |------------|                 |---------------------------------------| </span></span><br><span class="line"><span class="comment">  | 101  1   4.1 |      | 101    2   |      merge      | 101    1   4.1   2    Matched (3)     | </span></span><br><span class="line"><span class="comment">  | 102  2   4.5 |      | 102    1.1 |    ---------&gt;   | 102    2   4.5   1.1  Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 103  3   3.3 |      | 103    5   |                 | 103    3   3.3   5    Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 103  9   5.5 |      +------------+                 | 103    9   5.5   5    Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 104  4   3.0 |                                     | 104    4   3.0   .    Master only (1) |   </span></span><br><span class="line"><span class="comment">  +--------------+                                     +---------------------------------------+  */</span></span><br></pre></td></tr></table></figure><h3 id="many-to-many-merge">4. many-to-many merge</h3><p>　　<strong>m:m匹配不建议使用，因为其匹配结果是不确定的！</strong></p><p>　　在数据匹配时，多数情况使用 1:1、1:m、m:1已经可以解决问题。此处不再展示 m:m 的用法。</p><h3 id="其他数据匹配命令">5. 其他数据匹配命令</h3><p>　　<code>joinby</code> ：解决 merge 的多对多精确匹配问题</p><p>　　<code>reclink</code> ：模糊匹配</p><p>　　<code>nearmrg</code> ：近似值匹配</p><p>　　<code>mergemany</code>、<code>mergeall</code>：多个文件 (数据库)匹配</p><p>　　<strong>资料来源：</strong></p><p>　　<ahref="https://www.lianxh.cn/news/7f3598d66d286.html">Stata：数据合并与匹配-merge-reclink|连享会主页 (lianxh.cn)</a></p><p>　　<a href="https://www.jianshu.com/p/8d70fac20345">mergemany --一个灵活的命令来合并许多文件 - 简书 (jianshu.com)</a></p><p>　　<a href="https://www.jianshu.com/p/932661ee84da">mergeall --合并多个文件的安全方法 - 简书 (jianshu.com)</a></p><h3 id="数据匹配中常见问题">6. 数据匹配中常见问题</h3><p>　　<strong>问 1：能否使用多个变量作为匹配的依据？</strong></p><p>　　<strong>答1：</strong>可以，且匹配时应当尽量保证作为匹配依据的变量类型相同：文本对文本，数值对数值</p><p>　　<strong>问 2：遇到多对多匹配怎么办？</strong></p><p>　　<strong>答2：</strong>不建议使用多对多匹配，绝大多数的多对多精确匹配问题可以通过添加匹配变量解决。例如：在面板数据中加入年份，可以解决某一个体多年编码重复的问题。匹配前应当检查数据是否有误，并充分了解数据结构后再匹配，多数多对多匹配的问题往往来自数据的错误与对数据结构的不了解。</p><p>　　<strong>问 3：数据匹配中常见有哪些错误？</strong></p><p>　　<strong>答 3：</strong>常见错误包括：</p><ul><li><strong><code>_merge</code>变量已存在：</strong>多个数据库连续匹配时易出现，删除已有_merge变量，或在匹配时自定义_merge变量的名称</li><li><strong>作为匹配依据的识别变量不能唯一识别所有样本：1)</strong>跨类型数据库、面板数据库匹配时易出现，了解数据库结构后，添加匹配依据变量即可。<strong>2)</strong>这类问题还会在数据存在错误时出现，例如作为匹配依据的 ID生成过程有误，或数据导入数据出错（例如 Excel导入易出现空白单元格）。</li><li><strong>变量名重复导致数据被覆盖：</strong>using data仅保留待匹配变量，匹配前核对变量名，是否与master data 重复。</li></ul><p>　　<strong>问 4：未匹配成功的样本是否应当保留？</strong></p><p>　　<strong>答4：</strong>在不了解数据匹配命令时，不应随意删除样本，大量数据未匹配成功极有可能是数据有误或匹配错了。确认数据无误后，根据研究需要筛选样本，一般仅保留匹配成功的样本，有时也会保留仅来自masterdata的样本。</p><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> CFPS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
            <tag> 教对象Stata系列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教对象Stata系列｜第2课代码：变量管理与IF条件使用</title>
      <link href="/posts/14887/"/>
      <url>/posts/14887/</url>
      
        <content type="html"><![CDATA[<p>这是<strong>教对象Stata系列视频</strong>的配套代码。对应视频与笔记链接请见下方链接，配套代码请见分割线下方。</p><p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><p><ahref="https://www.bilibili.com/video/BV1e14y1M7Ju">bilibili视频链接</a></p><p><a href="https://fgzfgz.github.io/posts/47947/">配套笔记链接</a></p><hr /><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Do File <span class="doctag">Note:</span></span></span><br><span class="line"><span class="comment">日期：2023年1月18日</span></span><br><span class="line"><span class="comment">主题：stata 变量管理、IF条件使用</span></span><br><span class="line"><span class="comment">内容：1. 变量管理(1): 变量生成与取值替换</span></span><br><span class="line"><span class="comment">  2. IF条件的使用</span></span><br><span class="line"><span class="comment">  3. 变量管理(2): 重命名、标签、排列、删除与保留   */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">******************************** 一、变量管理(1) ********************************</span></span><br><span class="line"><span class="comment">* 相关链接: </span></span><br><span class="line"><span class="comment">* 1)「Stata变量生成与替换」https://fgzfgz.github.io/posts/9680/</span></span><br><span class="line"><span class="comment">* 2)「Stata字符型变量运算」https://fgzfgz.github.io/posts/45943/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:/Users/wugan/Desktop/教对象Stata系列/第2课：变量管理与IF条件使用&quot;</span></span><br><span class="line"><span class="comment">** 1. 数值型变量</span></span><br><span class="line"><span class="keyword">webuse</span> renamexmpl, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 1.1 变量生成与数值替换</span></span><br><span class="line"><span class="keyword">gen</span> X=.  <span class="comment">// 变量生成 —— generate 简写为 gen 或 g</span></span><br><span class="line"><span class="keyword">replace</span>  X=2  <span class="comment">// 数值替换</span></span><br><span class="line"><span class="comment">** 1.2 四则运算、对数、指数、幂运算</span></span><br><span class="line"><span class="keyword">replace</span> X=X+1      <span class="comment">// 加法</span></span><br><span class="line"><span class="keyword">replace</span> X=X-1      <span class="comment">// 减法</span></span><br><span class="line"><span class="keyword">replace</span> X=X*3      <span class="comment">// 乘法</span></span><br><span class="line"><span class="keyword">replace</span> X=X/3      <span class="comment">// 除法</span></span><br><span class="line"><span class="keyword">replace</span> X=<span class="built_in">ln</span>(X)    <span class="comment">// 自然对数</span></span><br><span class="line"><span class="keyword">replace</span> X=<span class="built_in">log10</span>(X) <span class="comment">// 以10为底的对数</span></span><br><span class="line"><span class="keyword">replace</span> X=3^X      <span class="comment">// 指数运算</span></span><br><span class="line"><span class="keyword">replace</span> X=<span class="built_in">exp</span>(X)   <span class="comment">// 自然指数</span></span><br><span class="line"><span class="keyword">replace</span> X=X^2      <span class="comment">// 幂运算</span></span><br><span class="line"><span class="keyword">rename</span> inc income</span><br><span class="line"><span class="comment">** 1.3 取整函数</span></span><br><span class="line"><span class="keyword">gen</span> inc_ceil=<span class="built_in">ceil</span>(income)   <span class="comment">// 大于或等于income取值的最小整数</span></span><br><span class="line"><span class="keyword">gen</span> inc_floor=<span class="built_in">floor</span>(income) <span class="comment">// 小于或等于income取值的最大整数</span></span><br><span class="line"><span class="keyword">gen</span> inc_int=int(income)     <span class="comment">// 取整函数: 各位</span></span><br><span class="line"><span class="keyword">gen</span> inc_round=<span class="built_in">round</span>(income) <span class="comment">// 取整函数: 个位</span></span><br><span class="line"><span class="keyword">gen</span> inc_round=<span class="built_in">round</span>(income,.01)  <span class="comment">// 取整函数: 百分位</span></span><br><span class="line"><span class="keyword">gen</span> inc_round=<span class="built_in">round</span>(income,7)    <span class="comment">// 取整函数: income取值最接近的7的整数倍</span></span><br><span class="line"><span class="comment">** 1.4 余数函数</span></span><br><span class="line"><span class="keyword">gen</span> inc_mod=<span class="built_in">mod</span>(income,2)  <span class="comment">// 余数函数: income除以2的余数</span></span><br><span class="line"><span class="comment">** 2. 字符型变量</span></span><br><span class="line"><span class="keyword">gen</span> X1=<span class="string">&quot;&quot;</span>  <span class="comment">// 生成字符型缺失值</span></span><br><span class="line"><span class="keyword">replace</span> X1=<span class="string">&quot;NA&quot;</span></span><br><span class="line"><span class="keyword">gen</span> X2=<span class="string">&quot;缺失值&quot;</span></span><br><span class="line"><span class="keyword">gen</span> Y2=income+X2 <span class="comment">// 类型不同无法相加</span></span><br><span class="line"><span class="keyword">gen</span> Y=X1+X2     <span class="comment">// 字符型变量相加</span></span><br><span class="line"><span class="comment">// 字符提取</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;气象数据.dta&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">// str——string</span></span><br><span class="line"><span class="keyword">gen</span> provincename=usubstr(province,1,2)    <span class="comment">// 提取2个中文字符: 从第1位开始提取, 提取两位</span></span><br><span class="line"><span class="keyword">gen</span> birthyear=usubstr(ID,7,4)     <span class="comment">// 提取数字: 在身份证号ID中，从第7位开始提取4位数字，作为出生年份</span></span><br><span class="line"><span class="keyword">gen</span> region_type=usubstr(province,-1,.)  <span class="comment">// 提取最后1个字符: &quot;-1&quot;表示从右向左数1个字符，&quot;.&quot;表示提取至最后一位</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 3. gen 与 replace 的扩展: egen 与 ereplace </span></span><br><span class="line"><span class="comment">/* 目标: 依据省份与年份分组,计算以下内容: </span></span><br><span class="line"><span class="comment">1)分组:生成分组顺序数</span></span><br><span class="line"><span class="comment">2)计数:地级市数量</span></span><br><span class="line"><span class="comment">3)加总值/平均值/标准差/最大值/最小值</span></span><br><span class="line"><span class="comment">4)合并地址信息</span></span><br><span class="line"><span class="comment">5)分位数</span></span><br><span class="line"><span class="comment">6)数列</span></span><br><span class="line"><span class="comment">7)行运算  */</span></span><br><span class="line"><span class="comment">** 3.1 分组:生成分组顺序数</span></span><br><span class="line"><span class="keyword">egen</span> ProvinceGroup=<span class="built_in">group</span>(province year)  <span class="comment">// 缺失值为一组</span></span><br><span class="line"><span class="comment">** 3.2 计数:地级市数量</span></span><br><span class="line"><span class="keyword">egen</span> city_num=<span class="keyword">count</span>(city), <span class="keyword">by</span>(province year)</span><br><span class="line"><span class="comment">** 3.3 加总值/平均值/标准差/最大值/最小值</span></span><br><span class="line"><span class="keyword">egen</span> wind_total=<span class="keyword">total</span>(平均风速), <span class="keyword">by</span>(province year)    <span class="comment">// 加总值: 缺失值视为0</span></span><br><span class="line"><span class="keyword">egen</span> wind_mean =<span class="keyword">mean</span>(平均风速) , <span class="keyword">by</span>(province year)    <span class="comment">// 平均值</span></span><br><span class="line"><span class="keyword">egen</span> wind_sd   =sd(平均风速)   , <span class="keyword">by</span>(province year)    <span class="comment">// 标准差</span></span><br><span class="line"><span class="keyword">egen</span> wind_max  =<span class="built_in">max</span>(平均风速)  , <span class="keyword">by</span>(province year)    <span class="comment">// 最大值</span></span><br><span class="line"><span class="keyword">egen</span> wind_min  =<span class="built_in">min</span>(平均风速)  , <span class="keyword">by</span>(province year)    <span class="comment">// 最小值</span></span><br><span class="line"><span class="comment">** 3.4 合并地址信息</span></span><br><span class="line"><span class="keyword">egen</span> address1=concat(province city)  <span class="comment">// 无分隔符</span></span><br><span class="line"><span class="keyword">egen</span> address2=concat(province city), punct(<span class="string">&quot; &quot;</span>)  <span class="comment">// 以空格为分隔符</span></span><br><span class="line"><span class="keyword">egen</span> address3=concat(province city), punct(,)    <span class="comment">// 以逗号为分隔符</span></span><br><span class="line"><span class="comment">** 3.5 分位数</span></span><br><span class="line"><span class="keyword">egen</span> wind_p50=<span class="keyword">median</span>(平均风速), <span class="keyword">by</span>(province year)         <span class="comment">// 中位数 (50%分位数)</span></span><br><span class="line"><span class="keyword">egen</span> wind_p30=<span class="keyword">pctile</span>(平均风速), <span class="keyword">by</span>(province year) p(30)   <span class="comment">// 30%分位数</span></span><br><span class="line"><span class="comment">** 3.6 数列</span></span><br><span class="line"><span class="keyword">egen</span> <span class="keyword">list</span>=seq(),from(1) to(3) <span class="keyword">by</span>(province year)    <span class="comment">// 生成1-3的数列</span></span><br><span class="line"><span class="comment">// 特殊用法: 生成1-100000的数列,可以保证每一类list取值为1的样本只有一个,可以查看样本的数量分布情况</span></span><br><span class="line"><span class="keyword">egen</span> list2=seq(), to(100000) <span class="keyword">by</span>(province year)</span><br><span class="line"><span class="comment">** 3.7 行运算</span></span><br><span class="line"><span class="keyword">egen</span> wind_rtotal=rowtotal(平均气温 平均风速 累积降水 累积日照 平均湿度) <span class="comment">// 加总值</span></span><br><span class="line"><span class="keyword">egen</span> wind_rmean =rowmean(平均气温 平均风速 累积降水 累积日照 平均湿度)  <span class="comment">// 平均值</span></span><br><span class="line"><span class="keyword">egen</span> wind_rsd   =rowsd(平均气温 平均风速 累积降水 累积日照 平均湿度)    <span class="comment">// 标准差</span></span><br><span class="line"><span class="keyword">egen</span> wind_rmax  =rowmax(平均气温 平均风速 累积降水 累积日照 平均湿度)   <span class="comment">// 最大值</span></span><br><span class="line"><span class="keyword">egen</span> wind_rmin  =rowmin(平均气温 平均风速 累积降水 累积日照 平均湿度)   <span class="comment">// 最小值</span></span><br><span class="line"><span class="comment">** 3.8 erepalce 的使用</span></span><br><span class="line"><span class="comment">// ereplace可使用的函数与egen相同</span></span><br><span class="line"><span class="keyword">ssc</span> install ereplace, <span class="keyword">replace</span>   <span class="comment">// 仅首次使用需要安装</span></span><br><span class="line"></span><br><span class="line"><span class="comment">******************************** 二、IF条件的使用 ********************************</span></span><br><span class="line"><span class="comment">/* 相关链接: </span></span><br><span class="line"><span class="comment">「Stata的IF条件用法」https://zhuanlan.zhihu.com/p/479001988</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*  gen type=1 if 累积降水!=.  // 干旱=1: 不等号「!=」  */</span></span><br><span class="line"><span class="keyword">gen</span> <span class="keyword">type</span>=1 <span class="keyword">if</span> 累积降水&gt;=0 &amp; 累积降水&lt;200</span><br><span class="line"><span class="keyword">replace</span> <span class="keyword">type</span>=2 <span class="keyword">if</span> 累积降水&gt;=200 &amp; 累积降水&lt;400  <span class="comment">// 半干旱=2: 「且」关系——「&amp;」</span></span><br><span class="line"><span class="keyword">replace</span> <span class="keyword">type</span>=3 <span class="keyword">if</span> 累积降水&gt;=400 &amp; 累积降水&lt;800  <span class="comment">// 半湿润=3</span></span><br><span class="line"><span class="keyword">replace</span> <span class="keyword">type</span>=4 <span class="keyword">if</span> 累积降水&gt;=800 &amp; 累积降水!=.   <span class="comment">// 湿润=4</span></span><br><span class="line"><span class="comment">/* Stata 中，数值型变量的缺失值【.】被定义为无穷大   */</span></span><br><span class="line"><span class="keyword">gen</span> select=1 <span class="keyword">if</span> <span class="keyword">type</span>==2 | <span class="keyword">type</span>==4  <span class="comment">// 半干旱或湿润地区: 「或」关系——「|」</span></span><br><span class="line"><span class="comment">// 等价命令</span></span><br><span class="line"><span class="keyword">replace</span> <span class="keyword">type</span>=4 <span class="keyword">if</span> <span class="built_in">inrange</span>(累积降水,800,9000000)  <span class="comment">// 等价湿润地区的区间: 两端取等号</span></span><br><span class="line"><span class="keyword">replace</span> select=1 <span class="keyword">if</span> <span class="built_in">inlist</span>(<span class="keyword">type</span>,2,4)  <span class="comment">// 等价半干旱或湿润地区</span></span><br><span class="line"><span class="keyword">gen</span> region=1 <span class="keyword">if</span> <span class="built_in">inlist</span>(province,<span class="string">&quot;上海市&quot;</span>,<span class="string">&quot;浙江省&quot;</span>,<span class="string">&quot;江苏省&quot;</span>)</span><br><span class="line"><span class="keyword">replace</span> region=1 <span class="keyword">if</span> <span class="built_in">strmatch</span>(province,<span class="string">&quot;*上海*&quot;</span>) | <span class="built_in">strmatch</span>(province,<span class="string">&quot;*浙江*&quot;</span>) | <span class="built_in">strmatch</span>(province,<span class="string">&quot;*江苏*&quot;</span>)  <span class="comment">// 字符匹配——strmatch</span></span><br><span class="line"><span class="keyword">replace</span> region=1 <span class="keyword">if</span> province==<span class="string">&quot;山东省&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">******************************** 三、变量管理(2) ********************************</span></span><br><span class="line"><span class="comment">/* 相关链接: </span></span><br><span class="line"><span class="comment">「Stata变量管理」https://zhuanlan.zhihu.com/p/479828341</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">** 1. 重命名</span></span><br><span class="line"><span class="keyword">webuse</span> renamexmpl,<span class="keyword">clear</span>    <span class="comment">// 打开 rename 的示范数据集</span></span><br><span class="line"><span class="comment">** 1.1 单个变量重命名</span></span><br><span class="line"><span class="keyword">rename</span> famid familycode</span><br><span class="line"><span class="comment">** 1.2 组变量重命名</span></span><br><span class="line"><span class="keyword">rename</span> (sex inc) (gender income)</span><br><span class="line"><span class="keyword">gen</span> Var1=.</span><br><span class="line"><span class="keyword">gen</span> Var2=.</span><br><span class="line"><span class="keyword">rename</span> <span class="keyword">Var</span># =new  <span class="comment">// 单个数字通配符 #</span></span><br><span class="line"><span class="keyword">rename</span> <span class="keyword">Var</span>* V*    <span class="comment">// 任意字符通配符 *</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. 标签</span></span><br><span class="line"><span class="comment">** 2.1 查看标签</span></span><br><span class="line"><span class="keyword">d</span> gender <span class="comment">// describe 简写</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">dir</span>   <span class="comment">// 查看值标签列表</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">list</span> sex   <span class="comment">// 查看值标签与数值对应关系</span></span><br><span class="line"><span class="comment">** 2.2 定义变量标签</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> gender <span class="string">&quot;性别&quot;</span>   <span class="comment">// variable 简写</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> income <span class="string">&quot;收入&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> familycode <span class="string">&quot;家庭编码&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// excel数据批量生成变量标签</span></span><br><span class="line"><span class="comment">** 2.3 数值标签</span></span><br><span class="line"><span class="comment">// 移除值标签</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">drop</span> sex        <span class="comment">// 数据层面: 移除数据的值标签</span></span><br><span class="line"><span class="keyword">label</span> values gender   <span class="comment">// 变量层面: 移除varlist的值标签</span></span><br><span class="line"><span class="comment">// 添加值标签</span></span><br><span class="line"><span class="keyword">label</span> define gender 1 <span class="string">&quot;男&quot;</span> 2 <span class="string">&quot;女&quot;</span>, add  <span class="comment">// 定义值标签</span></span><br><span class="line"><span class="keyword">label</span> values gender gender</span><br><span class="line"></span><br><span class="line"><span class="comment">** 3. 排序</span></span><br><span class="line"><span class="comment">// 变量排序</span></span><br><span class="line"><span class="keyword">order</span> familycode gender </span><br><span class="line"><span class="keyword">order</span> promo, after(familycode)</span><br><span class="line"><span class="keyword">order</span> promo, before(gender)</span><br><span class="line"><span class="keyword">order</span> V*new, after(gender)</span><br><span class="line"><span class="comment">// 样本排序</span></span><br><span class="line"><span class="keyword">sort</span> familycode    <span class="comment">// 单变量</span></span><br><span class="line"><span class="keyword">sort</span> familycode gender </span><br><span class="line"><span class="keyword">gsort</span> + familycode gender <span class="comment">// 等价命令</span></span><br><span class="line"><span class="keyword">gsort</span> - familycode + gender </span><br><span class="line"></span><br><span class="line"><span class="comment">** 4. 删除与保留</span></span><br><span class="line"><span class="comment">// 变量删除与保留</span></span><br><span class="line"><span class="keyword">drop</span> V*new</span><br><span class="line"><span class="keyword">keep</span> familycode edu gender income</span><br><span class="line"><span class="comment">// 样本删除与保留</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> edu&gt;0  <span class="comment">// 保留edu取值是正数的样本</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">if</span> familycode&gt;100  <span class="comment">// 删除家庭编码超过100的样本</span></span><br><span class="line"><span class="comment">// 删除重复样本</span></span><br><span class="line">ereplace income=<span class="keyword">total</span>(income), <span class="keyword">by</span>(familycode)</span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> familycode, force</span><br><span class="line"><span class="comment">// 导出数据</span></span><br><span class="line">export excel <span class="string">&quot;演示数据.xlsx&quot;</span>,sheet(<span class="string">&quot;Sheet1&quot;</span>) firstrow(<span class="keyword">var</span>) <span class="keyword">replace</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> bilibili </tag>
            
            <tag> 代码库 </tag>
            
            <tag> 教对象Stata系列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教对象Stata系列｜第2课：变量管理与IF条件使用</title>
      <link href="/posts/47947/"/>
      <url>/posts/47947/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>附件：</strong></p><ul><li>【附件内容】do文件，随手记PDF (笔记内容)、录屏</li><li>【附件下载】链接:https://pan.baidu.com/s/1c-f1D5shjC4-oCy4sKBm8w?pwd=w3p5</li></ul></blockquote><p>本文是<strong>教对象Stata系列视频</strong>的笔记内容。对应视频与配套代码请见下方链接，笔记内容请见分割线下方。</p><p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><p><ahref="https://www.bilibili.com/video/BV1e14y1M7Ju">bilibili视频链接</a></p><p><a href="https://fgzfgz.github.io/posts/14887/">配套代码链接</a></p><hr /><h2 id="一变量管理-1">一、变量管理 (1)</h2><h3 id="数值型变量略">1. 数值型变量——略</h3><h3 id="字符型变量略">2. 字符型变量——略</h3><h3 id="gen-与-replace-的扩展-egen-与-ereplace">3. gen 与 replace的扩展: egen 与 ereplace</h3><h4 id="基本语法">3.1 基本语法</h4><p>　　<code>egen</code> 可以实现许多无法通过 <code>gen</code>命令计算的内容，其基本语法如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> [<span class="keyword">type</span>] newvar = fcn(arguments) [<span class="keyword">if</span>] [<span class="keyword">in</span>] [, options]</span><br></pre></td></tr></table></figure><p>　　<code>egen</code> 命令中运算函数 <code>fcn</code> 运算对象<code>arguments</code> 可以分为三类：<strong>1. 变量</strong>(<em>varlist</em>)；<strong>2. 表达式</strong>(<em>expression</em>)；<strong>3. 数列</strong> (<em>numlist</em>)。</p><p>　　其中，变量运算可以分为<strong>单变量运算函数</strong><strong>(varname)</strong>和<strong>对多个变量运算的多变量运算函数</strong><strong>(varlist)</strong>。表达式运算函数可以对单个变量进行运算，相当于 <spanclass="math inline">\(1\times varname\)</span>，多变量运算函数也大多可以支持单变量运算。</p><p>　　<code>by(varlist)</code> 选项可以根据 <code>varlist</code>对样本进行分组，在 <code>egen</code> 命令中，部分运算函数可以使用<code>by(varlist)</code> 选项对样本进行分组，在每组内进行运算。</p><h5 id="表达式运算函数">3.1.1 表达式运算函数</h5><p>　　表达式运算是对不同样本的某个表达式计算值进行运算。所有表达式运算函数支持<code>by</code> 选项。</p><p>　　<a href="siyuan://blocks/20211104115128-q9dguvn">"count"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"iqr"</a>、<ahref="siyuan://blocks/20211104173152-2pi7zh7">"kurt"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"mad"</a>、<ahref="siyuan://blocks/20211104115129-qcd69qx">"max"</a>、<ahref="siyuan://blocks/20211104115129-qcd69qx">"min"</a>、<ahref="siyuan://blocks/20211104115129-qcd69qx">"mean"</a>、<ahref="siyuan://blocks/20211104115129-qcd69qx">"sd"</a>、<ahref="siyuan://blocks/20211104115129-qcd69qx">"mdev"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"median"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"pctile"</a>、<ahref="siyuan://blocks/20211104134937-oyqeup9">"pc"</a>、rank、skew、std、<ahref="siyuan://blocks/20211104134937-oyqeup9">"total"</a></p><h5 id="单变量运算函数">3.1.2 单变量运算函数</h5><p>　　单变量运算是对不同样本进行运算，仅有 <code>mode</code> 支持<code>by</code> 选项。</p><p>　　<ahref="siyuan://blocks/20211104104152-45vn1jo">"anyvalue"</a>、cut、ends、mode</p><h5 id="多变量运算函数">3.1.3 多变量运算函数</h5><p>　　多变量运算是对不同变量进行运算，都不支持 <code>by</code>选项。</p><p>　　<ahref="siyuan://blocks/20211104104152-45vn1jo">"anycount"</a>、<ahref="siyuan://blocks/20211104104152-45vn1jo">"anymatch"</a>、<ahref="siyuan://blocks/20211104110140-sy9btim">"concat"</a>、diff、<ahref="siyuan://blocks/20211104134937-oyqeup9">"group"</a>、mtr、rowfirst、rowlast、<ahref="siyuan://blocks/20211104115129-gdoczuz">"rowmax"</a>、<ahref="siyuan://blocks/20211104115129-gdoczuz">"rowmin"</a>、<ahref="siyuan://blocks/20211104115129-gdoczuz">"rowmean"</a>、<ahref="siyuan://blocks/20211104115129-gdoczuz">"rowsd"</a>、<ahref="siyuan://blocks/20211104115128-q9dguvn">"rowmiss"</a>、<ahref="siyuan://blocks/20211104115128-q9dguvn">"rownonmiss"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"rowmedian"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"rowpctile"</a>、<ahref="siyuan://blocks/20211104134937-oyqeup9">"rowtotal"</a>、tag</p><h5 id="数列运算函数">3.1.4 数列运算函数</h5><p>　　<code>fill</code> 不支持 <code>by</code> 选项，<code>seq</code>支持 <code>by</code> 选项。</p><p>　　fill、<ahref="siyuan://blocks/20211104160735-axd81cx">"seq"</a></p><h4 id="函数-function-和-选项-option">3.2 函数 function 和 选项option</h4><p>　　<kbd>egen</kbd>命令的运算函数很多，此处忽略了部分不常用的用法。完整使用方法请参考<kbd>egen</kbd> 的 HELP 文档。</p><h5 id="变量值匹配anycountanymatch-和-anyvalue">3.2.1变量值匹配：anycount、anymatch 和 anyvalue</h5><p>　　这三个运算不能与 <kbd>by</kbd> 组合使用</p><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** anycount: 变量列表varlist取值与整数列numlist取值匹配的变量个数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = anycount(<span class="keyword">varlist</span>), values(integer <span class="keyword">numlist</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">** anymatch: 变量列表varlist取值是否与整数列numlist取值匹配</span></span><br><span class="line"><span class="keyword">egen</span> newvar = anymatch(<span class="keyword">varlist</span>), values(integer <span class="keyword">numlist</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">** anyvalue: 变量varname的取值仅保留与整数列numlist匹配的取值，未匹配的改为缺失值</span></span><br><span class="line"><span class="keyword">egen</span> newvar = anyvalue(varname), values(integer <span class="keyword">numlist</span>)</span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** anycount</span></span><br><span class="line"><span class="keyword">egen</span> check = anycount(x1 x2 x3 x4), values(1 2 5 8)    <span class="comment">//固定取值的整数</span></span><br><span class="line"><span class="keyword">egen</span> check = anycount(x1 x2 x3 x4), values(1/10)       <span class="comment">//连续整数</span></span><br><span class="line"><span class="keyword">egen</span> check = anycount(x1 x2 x3 x4), values(0(2)10)     <span class="comment">//固定间隔整数(间隔为2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** anymatch</span></span><br><span class="line"><span class="keyword">egen</span> check = anymatch(x1 x2 x3 x4), values(1/10)</span><br><span class="line"></span><br><span class="line"><span class="comment">** anymatch</span></span><br><span class="line"><span class="keyword">egen</span> check = anymatch(x1), values(1/10)</span><br></pre></td></tr></table></figure><h5 id="连接-合并变量concat">3.2.2 连接 / 合并变量：concat</h5><p>　　该命令不能与 <code>by</code> 组合使用。按照 <code>varlist</code>的顺序连接各变量，可以生成以下变量：</p><ul><li>按照原样字符型变量；</li><li>在 <code>format(%fmt)</code> 选项下使用数字格式转换；</li><li>在 <code>decode</code> 选项下解码。</li></ul><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> strvar = concat(<span class="keyword">varlist</span>) [, <span class="keyword">format</span>(%fmt) <span class="keyword">decode</span> maxlength(#) punct(pchars)]</span><br></pre></td></tr></table></figure><p>　　<code>maxlength(#)</code> 表示控制最大标签长度</p><p>　　<code>punct(pchars)</code> 表示变量之间的分隔符号</p><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 按照x1、x3、x2的顺序连接变量</span></span><br><span class="line"><span class="keyword">egen</span> strvar = concat(x1 x3 x2)</span><br><span class="line"><span class="comment">** 使用空格作为分隔符</span></span><br><span class="line"><span class="keyword">egen</span> strvar = concat(x1 x3 x2),punct(<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="comment">** 使用逗号作为分隔符</span></span><br><span class="line"><span class="keyword">egen</span> strvar = concat(x1 x3 x2),punct(,)</span><br></pre></td></tr></table></figure><h5 id="记数countrownonmiss-和-rowmiss">3.2.3 记数：count、rownonmiss 和rowmiss</h5><p>　　<code>count</code> 可以与 <code>by</code>组合使用，<code>rownonmiss</code> 和 <code>rowmiss</code> 不能与<code>by</code> 组合使用。</p><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** count: 表达式exp计算结果不是缺失值的样本数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = <span class="keyword">count</span>(exp)</span><br><span class="line"></span><br><span class="line"><span class="comment">** rownonmiss: 每个样本的变量列表varlist中非缺失值的变量数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = rownonmiss(<span class="keyword">varlist</span>) [, strok]    <span class="comment">//varlist中包含字符型变量，则需要使用strok选项</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** rowmiss: 每个样本的变量列表varlist中缺失值的变量数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = rowmiss(<span class="keyword">varlist</span>)       <span class="comment">//rowmiss不能使用strok选项</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** count: 按照diqu分组，计算x1和x2乘积不是缺失值的样本数</span></span><br><span class="line"><span class="keyword">egen</span> x3 = <span class="keyword">count</span>(x1*x2),<span class="keyword">by</span>(diqu)</span><br><span class="line"></span><br><span class="line"><span class="comment">** rownonmiss和rowmiss</span></span><br><span class="line"><span class="keyword">egen</span> checkmiss = rownonmiss(x1 x2 x3)    <span class="comment">//非缺失值数量，无字符型变量</span></span><br><span class="line"><span class="keyword">egen</span> checkmiss = rowmiss(x1 x2 x3)       <span class="comment">//缺失值数量</span></span><br><span class="line"><span class="comment">** 简写</span></span><br><span class="line"><span class="keyword">egen</span> checkmiss = rowmiss(x*)             <span class="comment">//所有以&quot;x&quot;开头的变量的缺失情况</span></span><br><span class="line"><span class="comment">** rownonmiss有字符型变量情况</span></span><br><span class="line"><span class="keyword">egen</span> checkmiss = rownonmiss(x*), strok</span><br></pre></td></tr></table></figure><h5 id="分组-求和-占比grouptotalrowtotalpc">3.2.4 分组 &amp; 求和 &amp;占比：group、total、rowtotal、pc</h5><p>　　<code>total</code> 可以与 <code>by</code>组合使用，<code>group</code> 和 <code>rowtotal</code> 不能与<code>by</code> 组合使用。</p><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** group: 依据字符型/数值型取值分组，可以是字符型、数值型的组合</span></span><br><span class="line"><span class="keyword">egen</span> newvar = <span class="built_in">group</span>(<span class="keyword">varlist</span>) [, missing <span class="keyword">label</span>[(lblname[, <span class="keyword">replace</span> truncate(#)])]]</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> option用法：</span></span><br><span class="line"><span class="comment">         missing: 将缺失值当作一个取值进行分类。若不使用missing选项，变量列表varlist中任意变量的取值是缺失值，生成的newvar就是缺失值。</span></span><br><span class="line"><span class="comment">         label[(lblname[, replace truncate(#)])]: 创建值标签。                                */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** total: 对多个样本取值进行加总</span></span><br><span class="line"><span class="keyword">egen</span> newvar = <span class="keyword">total</span>(exp) [, missing]</span><br><span class="line"><span class="comment">/* missing: </span></span><br><span class="line"><span class="comment">        若使用missing选项，当exp(某一组)全部都是缺失值时，该组加总值设置为缺失值；</span></span><br><span class="line"><span class="comment">        若不使用missing选项，当exp(某一组)全部都是缺失值时，该组加总值设置为0。        */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** rowtotal: 对多个变量取值进行加总</span></span><br><span class="line"><span class="keyword">egen</span> newvar = rowtotal(exp)</span><br><span class="line"></span><br><span class="line"><span class="comment">** pc: 每个样本的exp取值占exp加总值的比例</span></span><br><span class="line"><span class="keyword">egen</span> newvar = pc(exp) [, <span class="keyword">prop</span>]       <span class="comment">//prop选项：设置prop，取值范围在0～1之间；不设置prop，取值范围在0～100之间</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** group: 根据 county 生成分组变量 CID</span></span><br><span class="line"><span class="keyword">egen</span> CID = <span class="built_in">group</span>(county)</span><br><span class="line"></span><br><span class="line"><span class="comment">** 以CID为分组依据，对每一组内的样本的收入进行加总</span></span><br><span class="line"><span class="comment">//缺失值设为0: 一组样本 x1 所有取值都是缺失值，则该组的加总值为0</span></span><br><span class="line"><span class="keyword">egen</span> x1_total = <span class="keyword">total</span>(x1), <span class="keyword">by</span>(diqu)</span><br><span class="line"><span class="comment">//忽略缺失值: 一组样本 x1 所有取值都是缺失值，则该组的加总值也是缺失值</span></span><br><span class="line"><span class="keyword">egen</span> x1_total = <span class="keyword">total</span>(x1), <span class="keyword">by</span>(diqu) missing</span><br></pre></td></tr></table></figure><h5id="中位数-分位数与相关运算medianpctilemadiqrrowmedianrowpctile">3.2.5中位数 &amp;分位数与相关运算——median、pctile、mad、iqr、rowmedian、rowpctile</h5><p>　　<code>median</code>、<code>pctile</code>、<code>mad</code> 和<code>iqr</code> 可以与 <code>by</code> 组合使用，<code>rowmedian</code>和 <code>rowpctile</code> 不能与 <code>by</code> 组合使用。</p><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** median: 中位数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = <span class="keyword">median</span>(exp)</span><br><span class="line"></span><br><span class="line"><span class="comment">** pctile: 百分位数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = <span class="keyword">pctile</span>(exp) [, p(#)]   <span class="comment">//p(#)表示百分位数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** mad: exp 取值和中位数偏差的绝对值的中位数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = mad(exp)</span><br><span class="line"></span><br><span class="line"><span class="comment">** iqr: 四分位数差距 —— 75%分位数和25%分位数的差值</span></span><br><span class="line"><span class="keyword">egen</span> newvar = iqr(exp)</span><br><span class="line"></span><br><span class="line"><span class="comment">** rowmedian: 每个样本的变量列表取值的中位数(忽略缺失值)</span></span><br><span class="line"><span class="keyword">egen</span> newvar = rowmedian(<span class="keyword">varlist</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">** rowpctile: 每个样本的变量列表取值的百分位数(忽略缺失值)</span></span><br><span class="line"><span class="keyword">egen</span> newvar = rowpctile(<span class="keyword">varlist</span>) [, p(#)]       <span class="comment">//p(#)表示百分位数</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** pctile: 按省分组统计x1的20%分位数</span></span><br><span class="line"><span class="keyword">egen</span> x1_p20 = <span class="keyword">pctile</span>(x1), p(20) <span class="keyword">by</span>(province)</span><br><span class="line"><span class="keyword">egen</span> x1_p20 = <span class="keyword">pctile</span>(x1), p(.2) <span class="keyword">by</span>(province)</span><br><span class="line"></span><br><span class="line"><span class="comment">** rowpctile: 20%分位数</span></span><br><span class="line"><span class="keyword">egen</span> p20 = <span class="keyword">pctile</span>(x1 x2 x3 x4 x5 x6 x7 x8 x9 x10), p(20)</span><br><span class="line"><span class="keyword">egen</span> p20 = <span class="keyword">pctile</span>(x1 x2 x3 x4 x5 x6 x7 x8 x9 x10), p(.2)</span><br><span class="line"><span class="keyword">egen</span> p20 = <span class="keyword">pctile</span>(x1-x10), p(.2)</span><br></pre></td></tr></table></figure><h5 id="样本均值标准差最值sdmeanminmaxmdev">3.2.6样本均值、标准差、最值：sd、mean、min、max、mdev</h5><p>　　该 5 个函数都可以与 <code>by</code> 组合使用。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> x1_sd = sd(x1)           <span class="comment">//x1 的标准差</span></span><br><span class="line"><span class="keyword">egen</span> x1_mean = <span class="keyword">mean</span>(x1)       <span class="comment">//x1 的有效均值(缺失值不进入平均运算)</span></span><br><span class="line"><span class="keyword">egen</span> x1_min = <span class="built_in">min</span>(x1)         <span class="comment">//x1 的最小值</span></span><br><span class="line"><span class="keyword">egen</span> x1_max = <span class="built_in">max</span>(x1)         <span class="comment">//x1 的最大值</span></span><br><span class="line"><span class="keyword">egen</span> x1_mdev = mdev(x1)       <span class="comment">//x1 取值和均值偏差的绝对值的均值</span></span><br></pre></td></tr></table></figure><h5 id="多变量均值标准差最值rowsdrowmeanrowminrowmax">3.2.7多变量均值、标准差、最值：rowsd、rowmean、rowmin、rowmax</h5><p>　　该 4 个函数都不能与 <code>by</code> 组合使用。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> xx_total = rowtotal(x1 x2 x3)   <span class="comment">//x1、x2、x3的加总值</span></span><br><span class="line"><span class="keyword">egen</span> xx_mean = rowmean(x1 x2 x3)     <span class="comment">//x1、x2、x3的有效均值(缺失值不进入平均运算)</span></span><br><span class="line"><span class="keyword">egen</span> xx_min = rowmin(x1 x2 x3)       <span class="comment">//x1、x2、x3的最小值</span></span><br><span class="line"><span class="keyword">egen</span> xx_max = rowmax(x1 x2 x3)       <span class="comment">//x1、x2、x3的最大值</span></span><br></pre></td></tr></table></figure><h5 id="数列seq">3.2.8 数列——seq</h5><p>　　该运算函数可以与 <code>by</code> 组合使用。</p><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> newvar = seq() [, from(#) to(#) block(#)]</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> from(#) 表示从 # 开始计数，默认为 1；</span></span><br><span class="line"><span class="comment">         to(#) 表示计数到 # 为止；</span></span><br><span class="line"><span class="comment">         block(#) 表示每个数字计数的次数。         */</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 每个数字计数一次，范围1～4，重复计数: 1,2,3,4, | 1,2,3,4, | 1,……</span></span><br><span class="line"><span class="keyword">egen</span> <span class="keyword">list</span>=seq(), to(4)</span><br><span class="line"><span class="keyword">egen</span> <span class="keyword">list</span>=seq(), to(4) block(1)</span><br><span class="line"><span class="comment">** 每个数字计数两次，范围1～4，重复计数: 1,1,2,2,3,3,4,4, | 1,1,2,2,3,3,4,4, | 1,……</span></span><br><span class="line"><span class="keyword">egen</span> <span class="keyword">list</span>=seq(), to(4) block(2)</span><br><span class="line"><span class="comment">** 每个数字计数两次，范围3～4，重复计数: 3,3,4,4, | 3,3,4,4, | 3,……</span></span><br><span class="line"><span class="keyword">egen</span> <span class="keyword">list</span>=seq(), from(3) to(4) block(2)</span><br></pre></td></tr></table></figure><h5 id="其他kurt">3.2.9 其他——kurt、</h5><p>　　<code>kurt</code> 命令可以与 <code>by</code> 组合使用。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** kurt: 表达式exp的峰度</span></span><br><span class="line"><span class="keyword">egen</span> x1_kurt = kurt(x1), <span class="keyword">by</span>(PID)     <span class="comment">//根据PID分组计算变量x1的峰度</span></span><br></pre></td></tr></table></figure><h4 id="ereplace-使用">3.2 ereplace 使用</h4><p>　　<code>ereplace</code>是一个外部命令，首次使用前需要安装，可使用的函数与 <code>egen</code>相同。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssc install ereplace, replace   // 仅首次使用需要安装</span><br></pre></td></tr></table></figure><h2 id="二if条件使用">二、IF条件使用</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 大小关系比较</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> e11==5    <span class="comment">//等于号“==”</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> e11!=5    <span class="comment">//不等号“!=”，其中感叹号为英文符</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> e11&gt;=5    <span class="comment">//大于等于号“&gt;=”</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> e11&lt;=5    <span class="comment">//小于等于号“&lt;=”</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 集合关系运算</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span>  e11==5 |  e11==6     <span class="comment">//【或】关系：条件为 e11=5 或者 e11=6，select变量取值是 0</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span>  e11==5 &amp;  e11==6     <span class="comment">//【且】关系：条件为 e11=5 并且 e11=6，jianyan 变量取值是 0</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> (e11==5 &amp;  e11==6) | e12==5     <span class="comment">//先且后或</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span>  e11==5 &amp; (e12==5  | e12==6)    <span class="comment">//先或后且</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** inlist: 保留特定取值的样本</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> <span class="built_in">inlist</span>(x,<span class="string">&quot;是&quot;</span>,<span class="string">&quot;否&quot;</span>)</span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> <span class="built_in">inlist</span>(x,1,0)</span><br><span class="line"></span><br><span class="line"><span class="comment">** inrange: 保留 x∈[1,10] 的样本</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> <span class="built_in">inrange</span>(x,1,10)</span><br><span class="line"></span><br><span class="line"><span class="comment">** 字符型变量</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> city==<span class="string">&quot;上海&quot;</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> <span class="built_in">strmatch</span>(address,<span class="string">&quot;*上海*&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="三变量管理-2">三、变量管理 (2)</h2><h3 id="变量重命名">1. 变量重命名</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 单个变量:A1 --&gt; X1</span></span><br><span class="line"><span class="keyword">rename</span> A1 X1</span><br><span class="line"><span class="comment">** 组变量</span></span><br><span class="line"><span class="keyword">rename</span> (A1 A2 A3) (X1 X2 X3)</span><br><span class="line"><span class="keyword">rename</span> <span class="keyword">Var</span>* V*   <span class="comment">// 任意字符通配符</span></span><br><span class="line"><span class="keyword">rename</span> <span class="keyword">Var</span># =new <span class="comment">// 单个数字通配符: 0-9之间 --&gt; Var#new</span></span><br></pre></td></tr></table></figure><h3 id="标签">2. 标签</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 查看标签</span></span><br><span class="line"><span class="keyword">d</span>   <span class="comment">// describe 简写</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">dir</span>     <span class="comment">// 查看值标签列表</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">list</span> X  <span class="comment">// 值标签与变量取值对应关系</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 变量标签</span></span><br><span class="line"><span class="keyword">label</span> variable select <span class="string">&quot;选择变量&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> select <span class="string">&quot;选择变量&quot;</span>      <span class="comment">//上一条命令的简写</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 值标签</span></span><br><span class="line"><span class="comment">// 移除值标签</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">drop</span> lblname    <span class="comment">// 数据层面: 删除 lblname 值标签</span></span><br><span class="line"><span class="keyword">label</span> values <span class="keyword">varlist</span>  <span class="comment">// 变量层面: 删除 varlist 的值标签</span></span><br><span class="line"><span class="comment">// 添加值标签</span></span><br><span class="line"><span class="keyword">label</span> define lblname # <span class="string">&quot;label&quot;</span> # <span class="string">&quot;label&quot;</span> ..., add | modify | <span class="keyword">replace</span>  <span class="comment">// 定义值标签</span></span><br><span class="line"><span class="keyword">label</span> values <span class="keyword">varlist</span> lblname   <span class="comment">// 将 varlist 使用值标签 lblname 进行标记</span></span><br></pre></td></tr></table></figure><h3 id="排序">3. 排序</h3><h4 id="样本排序">3.1 样本排序</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sort</span> fid18           <span class="comment">//根据 fid18 排列，默认升序排列</span></span><br><span class="line"><span class="keyword">gsort</span> + fid18        <span class="comment">//根据 fid18 升序排列</span></span><br><span class="line"><span class="keyword">gsort</span> - fid18        <span class="comment">//根据 fid18 降序排列</span></span><br><span class="line"><span class="keyword">gsort</span> - fid18 - pid  <span class="comment">//根据 </span></span><br></pre></td></tr></table></figure><h4 id="变量排序">3.2 变量排序</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 对Province、pcode、ID三个变量排序</span></span><br><span class="line"><span class="keyword">order</span> Province pcode ID           <span class="comment">//将三个变量按顺序放在数据最前面</span></span><br><span class="line"><span class="keyword">order</span> Province pcode ID, first    <span class="comment">//同上一条命令</span></span><br><span class="line"><span class="keyword">order</span> Province pcode ID, last     <span class="comment">//将三个变量按顺序放在数据最后面</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">order</span> Province pcode ID, before(name)   <span class="comment">//将三个变量按顺序放在变量 name 之前</span></span><br><span class="line"><span class="keyword">order</span> Province pcode ID, after(name)    <span class="comment">//将三个变量按顺序放在变量 name 之后</span></span><br></pre></td></tr></table></figure><h3 id="变量删除保留">4. 变量删除、保留</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 少数变量的删除、保留</span></span><br><span class="line"><span class="keyword">drop</span> _merge e11 e12   <span class="comment">//删除三个变量</span></span><br><span class="line"><span class="keyword">keep</span> city ID GDP      <span class="comment">//保留三个变量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 变量批量删除、保留</span></span><br><span class="line"><span class="keyword">drop</span> new_* NH4A_*      <span class="comment">//删除以&quot;new_&quot;和&quot;NH4A_&quot;开头的变量</span></span><br><span class="line"><span class="keyword">keep</span> new_* NH4A_*      <span class="comment">//保留以&quot;new_&quot;和&quot;NH4A_&quot;开头的变量</span></span><br><span class="line"><span class="keyword">keep</span> NH4A_1-NH4A_10    <span class="comment">//按当前变量顺序，保留某一个范围内的变量</span></span><br></pre></td></tr></table></figure><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
            <tag> 教对象Stata系列 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教对象Stata系列｜第1课代码：软件介绍与数据管理</title>
      <link href="/posts/38591/"/>
      <url>/posts/38591/</url>
      
        <content type="html"><![CDATA[<p>这是<strong>教对象Stata系列视频</strong>的配套代码。对应视频与笔记链接请见下方链接，配套代码请见分割线下方。</p><p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><p><ahref="https://www.bilibili.com/video/BV1Dv4y1y7FC">bilibili视频链接</a></p><p><a href="https://fgzfgz.github.io/posts/38617/">配套笔记链接</a></p><hr /><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Do File <span class="doctag">Note:</span></span></span><br><span class="line"><span class="comment">日期：2023年1月14日</span></span><br><span class="line"><span class="comment">主题：stata 软件简介与数据管理</span></span><br><span class="line"><span class="comment">内容： 1. 软件介绍——版本、窗口、使用注意事项</span></span><br><span class="line"><span class="comment">   2. 命令安装与查询</span></span><br><span class="line"><span class="comment">   3. 日志功能的使用</span></span><br><span class="line"><span class="comment">   4. 数据管理——数据打开、保存与删除</span></span><br><span class="line"><span class="comment">   5. 数据管理——数据导入与导出          */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">********************************* 一、软件介绍 *********************************</span></span><br><span class="line"><span class="comment">** 1. 版本与窗口介绍——略</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. 使用注意事项</span></span><br><span class="line"><span class="comment">** 2.1 Do File 备注</span></span><br><span class="line"><span class="comment">*  —— 星号在行首为行备注</span></span><br><span class="line"><span class="comment">// —— 双斜杠为行内备注, 若不在行首, 则前面需要有至少一个空格</span></span><br><span class="line"><span class="comment">/* 跨行备注: 第1行</span></span><br><span class="line"><span class="comment"> 第2行</span></span><br><span class="line"><span class="comment"> 第3行   */</span></span><br><span class="line"><span class="comment">** 分行符号 —— ///</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2.2 Do File 内颜色的含义</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2.3 数据窗口</span></span><br><span class="line"><span class="keyword">webuse</span> womenwage.dta</span><br><span class="line"><span class="keyword">webuse</span> lifeexp, <span class="keyword">clear</span>   <span class="comment">// 1998年各国预期寿命数据</span></span><br><span class="line"><span class="comment">** 【.】小数点表示数值型变量的缺失值;字符型变量的缺失值就是空缺的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2.4 结果窗口——颜色与含义</span></span><br><span class="line"><span class="comment">// 转圈圈</span></span><br><span class="line"><span class="comment">/* cd &quot;C:\Users\wugan\Desktop\教对象Stata系列\第1课：软件简介与数据管理&quot;  // 定义工作路径</span></span><br><span class="line"><span class="comment">set maxvar 10000</span></span><br><span class="line"><span class="comment">import spss using &quot;CLHLS-HF\SPSS_data\clhls_2002_2018_longitudinal_dataset_released_version1.sav&quot;,clear  */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">****************************** 二、命令安装与查询 ******************************</span></span><br><span class="line"><span class="comment">** 1. 查询命令</span></span><br><span class="line"><span class="keyword">findit</span> ivqreg2 </span><br><span class="line"><span class="keyword">help</span> <span class="keyword">regress</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. 在线安装Stata外部命令</span></span><br><span class="line"><span class="keyword">ssc</span> install ivqreg2</span><br><span class="line"><span class="keyword">ssc</span> install ivqreg2, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> 若未安装，则安装该命令;</span></span><br><span class="line"><span class="comment">         若已安装，替换当前已有版本，可用于命令版本更新。 */</span></span><br><span class="line"><span class="comment">** 3. 其他外部命令——下载后导入,导入安装位置—ado-base-对应首字母的文件夹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">****************************** 三、日志功能的使用 ******************************</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:\Users\wugan\Desktop\教对象Stata系列\第1课：软件简介与数据管理&quot;</span>  <span class="comment">//指定工作路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 1. 替换日志文件</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;日志文件\日志.smcl&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 2. 暂停/继续记录日志</span></span><br><span class="line"><span class="keyword">log</span> off     <span class="comment">//暂停日志</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">on</span>      <span class="comment">//继续日志</span></span><br><span class="line"><span class="comment">** 3. 关闭日志</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">close</span></span><br><span class="line"><span class="comment">** 4. 接驳日志文件</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;日志文件\日志.smcl&quot;</span>, <span class="keyword">append</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">close</span></span><br><span class="line"></span><br><span class="line"><span class="comment">**************************** 四、数据打开/保存/删除 ****************************</span></span><br><span class="line"><span class="comment">** 1. 打开内部数据/在线数据——略</span></span><br><span class="line"><span class="keyword">webuse</span> womenwage.dta</span><br><span class="line"><span class="comment">** 2. 打开本地用户数据</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CLHLS-HF\Stata_data\CLHLS_2018&quot;</span>,<span class="keyword">clear</span>  <span class="comment">// 清除内存数据</span></span><br><span class="line"><span class="comment">** 3. 保存数据</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;CLHLS-HF\Stata_data\演示数据&quot;</span>,<span class="keyword">replace</span>  <span class="comment">// 替换之前的数据</span></span><br><span class="line"><span class="comment">** 4. 删除临时数据</span></span><br><span class="line"><span class="keyword">rm</span> <span class="string">&quot;CLHLS-HF\Stata_data\演示数据.dta&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">****************************** 五、数据导入与导出 ******************************</span></span><br><span class="line"><span class="comment">** 1. 数据导入</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:\Users\wugan\Desktop\教对象Stata系列\第1课：软件简介与数据管理\气象数据&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Excel数据</span></span><br><span class="line">import excel <span class="string">&quot;2000-2020年逐年风速\【2000年】逐年风速.xlsx&quot;</span>, sheet(<span class="string">&quot;Sheet1&quot;</span>) firstrow <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;Stata数据\2000年-风速.dta&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">// 逗号分隔符数据——CSV数据</span></span><br><span class="line">import delimited <span class="string">&quot;2001-2022年逐年平均气温\【2001年】逐年平均气温.csv&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;Stata数据\2001年-平均气温.dta&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">// 导入SPSS数据</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:\Users\wugan\Desktop\教对象Stata系列\第1课：软件简介与数据管理&quot;</span></span><br><span class="line">import spss using <span class="string">&quot;CLHLS-HF\SPSS_data\clhls_2018_cross_sectional_dataset_15874.sav&quot;</span>,<span class="keyword">clear</span> </span><br><span class="line"><span class="comment">** 2. 数据导出</span></span><br><span class="line">export excel using <span class="string">&quot;CLHLS-HF\SPSS_data\clhls_2018&quot;</span>,<span class="keyword">replace</span> sheet(<span class="string">&quot;2018&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> bilibili </tag>
            
            <tag> 代码库 </tag>
            
            <tag> 气象数据 </tag>
            
            <tag> 教对象Stata系列 </tag>
            
            <tag> CLHLS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>教对象Stata系列｜第1课：软件介绍与数据管理</title>
      <link href="/posts/38617/"/>
      <url>/posts/38617/</url>
      
        <content type="html"><![CDATA[<blockquote><p><strong>附件：</strong></p><ul><li>【附件内容】do文件，随手记(笔记内容)PDF、录屏</li><li>【附件下载】链接：https://pan.baidu.com/s/1jIrqOZY3HTjHOAfL6wJCIA?pwd=xpse</li></ul></blockquote><p>本文是<strong>教对象Stata系列视频</strong>的笔记内容。对应视频与配套代码请见下方链接，笔记内容请见分割线下方。</p><p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><p><ahref="https://www.bilibili.com/video/BV1Dv4y1y7FC">bilibili视频链接</a></p><p><a href="https://fgzfgz.github.io/posts/38591/">配套代码链接</a></p><hr /><h2 id="一软件介绍">一、软件介绍</h2><p>　　Stata 版本：IC、BE、SE、MP</p><p>　　窗口设置：颜色与字体</p><p>　　窗口：命令窗口、数据浏览/编辑窗口、Do 文件编辑器窗口</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">webuse</span> womenwage.dta</span><br><span class="line"><span class="keyword">webuse</span> lifeexp, <span class="keyword">clear</span>   <span class="comment">// 1998年各国预期寿命数据</span></span><br></pre></td></tr></table></figure><p>　　Do 文件使用：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 行备注</span></span><br><span class="line"><span class="comment">// 行内备注</span></span><br><span class="line"><span class="comment">/* 跨行备注: 第1行</span></span><br><span class="line"><span class="comment">           第2行 */</span> </span><br><span class="line"></span><br><span class="line">命令分行 —— <span class="comment">///</span></span><br></pre></td></tr></table></figure><p>　　颜色与含义</p><p>　　Stata 路径查看：<code>sysdir</code></p><h2 id="二stata-命令安装查询">二、Stata 命令安装、查询</h2><p>　　命令检索：help、findit</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 查找 Stata 命令</span></span><br><span class="line"><span class="keyword">findit</span> ivqreg2</span><br><span class="line"><span class="keyword">help</span> <span class="keyword">regress</span>     <span class="comment">//查看已安装命令regress的使用说明</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 在线安装 Stata 外部命令 ivqreg2</span></span><br><span class="line"><span class="keyword">ssc</span> install ivqreg2</span><br><span class="line"><span class="keyword">ssc</span> install ivqreg2, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> 若未安装，则安装该命令;</span></span><br><span class="line"><span class="comment">         若已安装，替换当前已有版本，可用于命令版本更新。 */</span></span><br></pre></td></tr></table></figure><p>　　命令安装：help、ssc install、下载后导入</p><h2 id="三日志功能的使用">三、日志功能的使用</h2><p>　　查看 Stata 路径：<code>sysdir</code></p><p>　　使用 <code>log</code> 命令可以开启 Stata 的日志功能，记录 Stata运行的命令与结果。使用 <code>cmdlog</code> 命令可以开启 Stata的命令日志功能，记录 Stata 运行的命令，但不记录命令运行的结果。</p><h4 id="日志文件">日志文件：</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 汇报日志状态</span></span><br><span class="line"><span class="keyword">log</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">query</span></span><br><span class="line"><span class="comment">** 开启记录日志</span></span><br><span class="line"><span class="keyword">log</span> using filename [, <span class="keyword">append</span> <span class="keyword">replace</span> [text|smcl] name(logname) nomsg]</span><br><span class="line"><span class="comment">** 关闭记录日志</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">close</span> [logname | _all]</span><br><span class="line"><span class="comment">** 暂停/继续记录日志</span></span><br><span class="line"><span class="keyword">log</span> off [logname]  <span class="comment">//暂停记录</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">on</span> [logname]   <span class="comment">//继续记录</span></span><br></pre></td></tr></table></figure><h4 id="命令日志文件">命令日志文件：</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 汇报日志文件状态</span></span><br><span class="line"><span class="keyword">cmdlog</span></span><br><span class="line"><span class="comment">** 打开日志文件</span></span><br><span class="line"><span class="keyword">cmdlog</span> using filename [, <span class="keyword">append</span> <span class="keyword">replace</span>]</span><br><span class="line"><span class="comment">** 关闭日志文件/暂停日志/继续日志</span></span><br><span class="line"><span class="keyword">cmdlog</span> &#123;<span class="keyword">close</span>|off|<span class="keyword">on</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** 设置默认日志格式</span></span><br><span class="line"><span class="keyword">set</span> logtype &#123;text|smcl&#125; [, permanently]</span><br><span class="line"><span class="keyword">set</span> logtype &#123;text|smcl&#125; [, perm]      <span class="comment">//简写</span></span><br><span class="line"><span class="comment">** 设定屏幕宽度</span></span><br><span class="line"><span class="keyword">set</span> linesize #</span><br></pre></td></tr></table></figure><h4 id="示例">示例：</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 替换日志文件</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;~/Desktop/log.smcl&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 暂停/继续记录日志</span></span><br><span class="line"><span class="keyword">log</span> off     <span class="comment">//暂停日志</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">on</span>      <span class="comment">//继续日志</span></span><br><span class="line"><span class="comment">** 关闭日志</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">close</span></span><br><span class="line"><span class="comment">** 拼接到之前的日志文件上</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;~/Desktop/log.smcl&quot;</span>, <span class="keyword">append</span></span><br></pre></td></tr></table></figure><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 指定日志文件格式</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;~/Desktop/log.smcl&quot;</span>, <span class="keyword">replace</span> s  <span class="comment">// smcl简写</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;~/Desktop/log.log&quot;</span>,  <span class="keyword">replace</span> t  <span class="comment">// text简写</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;~/Desktop/log.txt&quot;</span>,  <span class="keyword">replace</span> t  <span class="comment">// text简写</span></span><br></pre></td></tr></table></figure><h2 id="四数据打开保存与删除">四、数据打开、保存与删除</h2><h3 id="数据打开与保存">1. 数据打开与保存</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 定义工作路径</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:/Users/wugan/Desktop/演示/CLHLS-HF/Stata_data&quot;</span></span><br><span class="line"><span class="comment">** 打开数据</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CLHLS-2014_2018.dta&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 保存数据</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;CLHLS-2014_2018.dta&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;演示数据.dta&quot;</span>,<span class="keyword">replace</span></span><br></pre></td></tr></table></figure><h3 id="删除文件">2. 删除文件</h3><p>　　使用 <code>erase</code> 和 <code>rm</code>命令可以删除文件，需要指定路径和准确的文件名。如果路径和文件名中没有空格，可以删除引号。</p><p>　　使用 <code>erase</code> 和 <code>rm</code>命令时，引号内需要注明：</p><ul><li>路径信息：绝对路径 / 相对路径</li><li>文件名</li><li>文件格式</li></ul><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">erase</span> <span class="string">&quot;~/Desktop/newdata.dta&quot;</span></span><br><span class="line"><span class="keyword">rm</span> <span class="string">&quot;~/Desktop/newdata.dta&quot;</span></span><br></pre></td></tr></table></figure><p>　　示例：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">rm</span> <span class="string">&quot;演示数据.dta&quot;</span></span><br></pre></td></tr></table></figure><h2 id="五数据导入与导出">五、数据导入与导出</h2><h3 id="数据导入">1. 数据导入</h3><p>　　导入Excel数据：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 基础语法</span></span><br><span class="line">import excel [using] filename [, options]</span><br><span class="line"><span class="comment">/* Options: 1) sheet 指定导入的工作表</span></span><br><span class="line"><span class="comment">            2) firstrow 将第一行作为变量名</span></span><br><span class="line"><span class="comment">            3) case 指定导入后变量名大小写</span></span><br><span class="line"><span class="comment">            4) clear 清除内存, 替换内存中的数据</span></span><br><span class="line"><span class="comment">            5) allstring 将所有变量以字符型数据导入 */</span> </span><br><span class="line"><span class="comment">** 示例</span></span><br><span class="line">import excel <span class="string">&quot;数据导入表.xlsx&quot;</span>, sheet(<span class="string">&quot;Sheet1&quot;</span>) firstrow <span class="keyword">clear</span></span><br></pre></td></tr></table></figure><p>　　导入其他数据：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 导入逗号分隔符数据——CSV</span></span><br><span class="line">import delimited <span class="string">&quot;逗号分隔符数据.csv&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 导入SPSS数据</span></span><br><span class="line">import spss <span class="string">&quot;SPSSdata.sav&quot;</span>, <span class="keyword">clear</span></span><br></pre></td></tr></table></figure><p>　　<strong>导入 Excel 与 CSV 数据注意事项：</strong></p><ol type="1"><li><p>表头设置为一行</p></li><li><p>变量名命名规范：</p><ul><li>变量名不能重复</li><li>不能以数字/符号开头，必须以英文字母或汉字开头</li><li>不能有中文符号，可以有汉字</li><li>无特殊英文字符，例如小数点、减号、乘号、空格，一般可以有【_】</li></ul></li></ol><h3 id="数据导出">2. 数据导出</h3><p>　　基础语法：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export excel [using] filename [<span class="keyword">if</span>] [<span class="keyword">in</span>] [, options]</span><br><span class="line"><span class="comment">/* Options: 1) sheet(&quot;Sheet1&quot;,modify|replace) 指定导出的工作表名称</span></span><br><span class="line"><span class="comment">            2) firstrow(variables|varlabels) 变量名或变量标签作为excel表的第一行,简写作first(var|varl)</span></span><br><span class="line"><span class="comment">            3) nolabel 导出变量数值而非变量值标签</span></span><br><span class="line"><span class="comment">            4) replace 替换excel文件</span></span><br><span class="line"><span class="comment">            5) missing(&quot;repval&quot;) 将缺失值替换为 repval  */</span> </span><br></pre></td></tr></table></figure><p>　　示例：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 导出数据到Excel</span></span><br><span class="line">export excel using <span class="string">&quot;数据表.xlsx&quot;</span>, sheet(<span class="string">&quot;Sheet1&quot;</span>) firstrow(varlabels) <span class="keyword">replace</span>    <span class="comment">//替换Excel文件</span></span><br><span class="line">export excel using <span class="string">&quot;数据表.xlsx&quot;</span>, sheet(<span class="string">&quot;Sheet1&quot;</span>,<span class="keyword">replace</span>) firstrow(varlabels)    <span class="comment">//替换Sheet表格，firstrow(varlabels) 将变量标签作为表头</span></span><br><span class="line">export excel using <span class="string">&quot;数据表.xlsx&quot;</span>, sheet(<span class="string">&quot;Sheet1&quot;</span>,modify ) firstrow(variables)    <span class="comment">//替换Sheet表格中的指定列，firstrow(variables) 将变量名作为表头</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
            <tag> 气象数据 </tag>
            
            <tag> 教对象Stata系列 </tag>
            
            <tag> CLHLS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗专题视频｜使用 CFPS 计算分性别家庭子女数</title>
      <link href="/posts/51274/"/>
      <url>/posts/51274/</url>
      
        <content type="html"><![CDATA[<p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><blockquote><p><strong>附件：</strong></p><ul><li>录屏文件与do文件下载链接：https://pan.baidu.com/s/1B0oBN0X1-7WRZoN8JyvUtQ?pwd=lvo9</li></ul></blockquote><hr /><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">************************ 计算家庭子女数 ************************</span></span><br><span class="line"><span class="comment">** 方法一：来自childproxy 库</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:\Users\wugan\Desktop\CFPS-中国家庭追踪调查（2010-2020）\CFPS2018\data&quot;</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;cfps2018childproxy_202012.dta&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 计算孩子数量:gen——replace; egen——ereplace</span></span><br><span class="line"><span class="keyword">ssc</span> install ereplace, <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">egen</span> male_size=<span class="keyword">count</span>(fid18) <span class="keyword">if</span> gender_update==1, <span class="keyword">by</span>(fid18)</span><br><span class="line">ereplace male_size=<span class="keyword">mean</span>(male_size), <span class="keyword">by</span>(fid18)   <span class="comment">// mean 函数补充缺失值——分组后，每组内有取值的变量取值都是一样的</span></span><br><span class="line"><span class="keyword">replace</span> male_size=0 <span class="keyword">if</span> male_size==.</span><br><span class="line"><span class="keyword">egen</span> female_size=<span class="keyword">count</span>(fid18) <span class="keyword">if</span> gender_update==0, <span class="keyword">by</span>(fid18)</span><br><span class="line">ereplace female_size=<span class="keyword">mean</span>(female_size), <span class="keyword">by</span>(fid18)</span><br><span class="line"><span class="keyword">replace</span> female_size=0 <span class="keyword">if</span> female_size==.</span><br><span class="line"><span class="comment">// 男孩+女孩</span></span><br><span class="line"><span class="keyword">egen</span> child_num=rowtotal(male_size female_size)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除重复样本</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> fid18, force</span><br><span class="line"><span class="keyword">keep</span> fid18 male_size female_size child_num</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;merge_data__child&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;cfps2018famecon_202101&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">merge</span> 1:1 fid18 using <span class="string">&quot;merge_data__child&quot;</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">if</span> _merge==2</span><br><span class="line"><span class="keyword">replace</span> male_size=0 <span class="keyword">if</span> _merge==1   <span class="comment">// 补充数据——将未匹配成功的家庭的子女数改为0</span></span><br><span class="line"><span class="keyword">replace</span> female_size=0 <span class="keyword">if</span> _merge==1</span><br><span class="line"><span class="keyword">replace</span> child_num=0 <span class="keyword">if</span> _merge==1</span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;cfps2018famecon&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 方法二：来自famconf库</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;cfps2018famconf_202008.dta&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">gen</span> member_age=2018-tb1y_a_p <span class="keyword">if</span> tb1y_a_p!=-1 &amp; tb1y_a_p!=-9  <span class="comment">// 排除缺失与不知道的情况</span></span><br><span class="line"><span class="comment">** 计算孩子数量</span></span><br><span class="line"><span class="keyword">egen</span> male_size2=<span class="keyword">count</span>(fid18) <span class="keyword">if</span> tb2_a_p==1 &amp; member_age&lt;=15, <span class="keyword">by</span>(fid18)</span><br><span class="line">ereplace male_size2=<span class="keyword">mean</span>(male_size2), <span class="keyword">by</span>(fid18)</span><br><span class="line"><span class="keyword">replace</span> male_size2=0 <span class="keyword">if</span> male_size2==.</span><br><span class="line"><span class="keyword">egen</span> female_size2=<span class="keyword">count</span>(fid18) <span class="keyword">if</span> tb2_a_p==0 &amp; member_age&lt;=15, <span class="keyword">by</span>(fid18)</span><br><span class="line">ereplace female_size2=<span class="keyword">mean</span>(female_size2), <span class="keyword">by</span>(fid18)</span><br><span class="line"><span class="keyword">replace</span> female_size2=0 <span class="keyword">if</span> female_size2==.</span><br><span class="line"><span class="comment">// 男孩+女孩</span></span><br><span class="line"><span class="keyword">egen</span> child_num2=rowtotal(male_size2 female_size2)</span><br><span class="line"><span class="comment">// 删除重复样本</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> fid18, force</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;cfps2018famconf_202008.dta&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 匹配数据</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;cfps2018famecon&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">merge</span> 1:1 fid18 using <span class="string">&quot;cfps2018famconf_202008&quot;</span>, keepusing(male_size2 female_size2 child_num2)</span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> _merge==3</span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;cfps2018famecon&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">************************ 面板数据的家庭子女数 ************************</span></span><br><span class="line"><span class="comment">** 考虑的问题：</span></span><br><span class="line"><span class="comment">** 1. 研究的年份范围</span></span><br><span class="line"><span class="comment">** 2. 你需要平衡面板还是非平衡面板</span></span><br><span class="line"><span class="comment">** 3. 家庭分户、家庭消亡问题——根据调查基期进行汇总数据——加总、求均值 —— 1)计算所需变量; 2)删除重复样本,筛选所需要变量; 3)append接驳(变量名一致性问题)——生成面板数据</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> 公开数据库 </tag>
            
            <tag> CFPS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
            <tag> 代码库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗专题视频｜CFPS隔代照料问题的讨论</title>
      <link href="/posts/15842/"/>
      <url>/posts/15842/</url>
      
        <content type="html"><![CDATA[<p><a href="https://fgzfgz.github.io/BiliBili/">视频目录</a></p><blockquote><p><strong>附件：</strong></p><ul><li>【附件】录屏与随手记内容下载链接：https://pan.baidu.com/s/1qema_mVZ-W3FmmgB4hyu9A?pwd=8ui5</li></ul></blockquote>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> 公开数据库 </tag>
            
            <tag> CFPS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗专题视频｜使用公开数据库测算家庭规模</title>
      <link href="/posts/11382/"/>
      <url>/posts/11382/</url>
      
        <content type="html"><![CDATA[<p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><blockquote><p><strong>附件：</strong></p><ul><li>录屏、数据的部分变量、do文件，下载链接：链接：https://pan.baidu.com/s/1NPmzfPcl_jHVLAy28szuWw?pwd=wnrc</li></ul></blockquote><hr /><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 使用公开数据库测算家庭规模\成员数量</span></span><br><span class="line"><span class="comment">日期：2023年1月3日</span></span><br><span class="line"><span class="comment">类型：1. 已汇报 —— CFPS</span></span><br><span class="line"><span class="comment">  2. 长数据 —— CHFS </span></span><br><span class="line"><span class="comment">  3. 宽数据 —— CSS </span></span><br><span class="line"><span class="comment">CFPS - 中国家庭动态追踪调查 北京大学</span></span><br><span class="line"><span class="comment">CSS  - 中国社会状况综合调查 中国社会科学院</span></span><br><span class="line"><span class="comment">CHFS - 中国家庭金融调查     西南财经大学     */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">* 什么是家庭成员？</span></span><br><span class="line"><span class="comment">* 1. 有经济往来的成员 (eg:共享收入&amp;共担支出)</span></span><br><span class="line"><span class="comment">* 2. 同住成员 (同吃/同住——是否一年内同住3\6个月以上)</span></span><br><span class="line"><span class="comment">* 3. 户籍成员</span></span><br><span class="line"><span class="comment">* 4. 家庭主事人/户主认定的家庭成员</span></span><br><span class="line"><span class="comment">* 5. ......</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:/Users/wugan/Desktop/测算家庭规模&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 1. 已经汇报家庭规模 —— CFPS</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CFPS-2018/cfps2018famecon_202101&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> fid18 fid16 fid14 fid12 fid10 provcd18 countyid18 cid18 urban18 iwmode feinterv fml_count fa01 cyear cmonth fa1 fa101 familysize18 releaseversion</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;CFPS-2018/cfps2018famecon_202101&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="keyword">tab</span> fml_count</span><br><span class="line"><span class="keyword">tab</span> familysize18</span><br><span class="line"><span class="comment">/* 关注问卷汇报的家庭规模与家庭成员数据计算出家庭规模的差异; 关注多个家庭成员数量的定义方式区别 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. 长数据(家庭成员数据) —— CHFS</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CHFS-2019/chfs2019_ind_202112&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="comment">// count函数计算：【https://fgzfgz.github.io/posts/9680/】</span></span><br><span class="line"><span class="keyword">egen</span> fam_size=<span class="keyword">count</span>(hhid), <span class="keyword">by</span>(hhid)</span><br><span class="line"><span class="keyword">keep</span> hhid pline pline_order a2000c a2001  a2003 a2005 fam_size</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;CHFS-2019/chfs2019_ind_202112&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 3. 宽数据(家庭数据) —— CSS</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CSS-2021/2021_Stata&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> v1 v2 v3_1 v3_2 a1a* a1b*</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;CSS-2021/2021_Stata&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">*** 方法1: 宽数据中直接算</span></span><br><span class="line"><span class="keyword">forvalues</span> i=2/30 &#123;</span><br><span class="line"><span class="comment">// 是否存在第`i&#x27;个家庭成员</span></span><br><span class="line"><span class="keyword">gen</span> member_<span class="symbol">`i&#x27;</span>=0</span><br><span class="line"><span class="keyword">replace</span> member_<span class="symbol">`i&#x27;</span>=1 <span class="keyword">if</span> a1a<span class="symbol">`i&#x27;</span>!=.</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">gen</span> member_1=1</span><br><span class="line"><span class="keyword">egen</span> fam_size=rowtotal(member_2 member_3 member_4 member_5 member_6 member_7 member_8 member_9 member_10 member_11 member_12 member_13 member_14 member_15 member_16 member_17 member_18 member_19 member_20 member_21 member_22 member_23 member_24 member_25 member_26 member_27 member_28 member_29 member_30 member_1)</span><br><span class="line"></span><br><span class="line"><span class="comment">*** 方法2: 1)宽数据转化为长数据; 2)重复长数据计算过程</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CSS-2021/2021_Stata&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">replace</span> a1a1=0</span><br><span class="line"><span class="comment">**** 长宽数据转换</span></span><br><span class="line"><span class="keyword">reshape</span> long a1a a1b, <span class="built_in">i</span>(v1) <span class="built_in">j</span>(<span class="keyword">list</span>)  <span class="comment">// 关注X_j——string</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">if</span> a1a==.   <span class="comment">// 删除无效样本</span></span><br><span class="line"><span class="comment">**** 使用count函数计算</span></span><br><span class="line"><span class="keyword">egen</span> fam_size=<span class="keyword">count</span>(v1), <span class="keyword">by</span>(v1)</span><br><span class="line"><span class="comment">**** 转化为家庭数据</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> v1, force</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;CSS-2021/2021_ind_fam&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">**** 匹配到家庭数据</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CSS-2021/2021_Stata&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">merge</span> 1:1 v1 using <span class="string">&quot;CSS-2021/2021_ind_fam&quot;</span>, keepusing(fam_size) </span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;CSS-2021/2021_Stata&quot;</span>,<span class="keyword">replace</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> 公开数据库 </tag>
            
            <tag> CFPS </tag>
            
            <tag> CHFS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
            <tag> 代码库 </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗专题视频｜使用逐年气象数据生成面板数据</title>
      <link href="/posts/37511/"/>
      <url>/posts/37511/</url>
      
        <content type="html"><![CDATA[<p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><blockquote><p><strong>附件：</strong></p><ul><li>录屏文件与do文件下载链接：https://pan.baidu.com/s/1MqhgojKIbuwRSQ2ngLNEog?pwd=9sro</li></ul></blockquote><hr /><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Do File <span class="doctag">Note:</span> 逐年气象数据转化为Stata格式的面板数据</span></span><br><span class="line"><span class="comment">   1. 数据导入 —— CSV/xlsx--&gt;DTA —— import;</span></span><br><span class="line"><span class="comment">   2. 数据接驳 —— append; </span></span><br><span class="line"><span class="comment">   3. 数据匹配 —— merge 。 */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:/Users/wugan/Desktop/20230101-气象数据合并&quot;</span></span><br><span class="line"><span class="comment">** 1. 数据导入、数据接驳</span></span><br><span class="line"><span class="comment">*** 1.1 数据——风速/日照/降水/湿度</span></span><br><span class="line"><span class="keyword">global</span> sheet <span class="string">&quot;风速 日照 降水 湿度&quot;</span></span><br><span class="line"><span class="keyword">foreach</span> s of <span class="keyword">global</span> sheet &#123;</span><br><span class="line"><span class="comment">// 数据导入</span></span><br><span class="line"><span class="keyword">forvalues</span> y=2000/2020 &#123;</span><br><span class="line">import excel <span class="string">&quot;2000-2020年逐年`s&#x27;/【`y&#x27;年】逐年`s&#x27;.xlsx&quot;</span>, sheet(<span class="string">&quot;Sheet1&quot;</span>) firstrow <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">tostring</span> 年份, <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;Stata数据/`y&#x27;-`s&#x27;&quot;</span>, <span class="keyword">replace</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 数据接驳</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;Stata数据/2000-`s&#x27;&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">forvalues</span> y=2001/2020 &#123;</span><br><span class="line"><span class="keyword">append</span> using <span class="string">&quot;Stata数据/`y&#x27;-`s&#x27;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;Stata数据/`s&#x27;&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">// 删除临时数据</span></span><br><span class="line"><span class="keyword">forvalues</span> y=2000/2020 &#123;</span><br><span class="line"><span class="keyword">rm</span> <span class="string">&quot;Stata数据/`y&#x27;-`s&#x27;.dta&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">*** 1.2 数据——平均气温</span></span><br><span class="line"><span class="comment">// 数据导入</span></span><br><span class="line"><span class="keyword">forvalues</span> y=2001/2022 &#123;</span><br><span class="line">import delimited <span class="string">&quot;2001-2022年逐年平均气温/【`y&#x27;年】逐年平均气温.csv&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">tostring</span> 年份, <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;Stata数据/`y&#x27;-气温&quot;</span>, <span class="keyword">replace</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 数据接驳</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;Stata数据/2001-气温&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">forvalues</span> y=2002/2022 &#123;</span><br><span class="line"><span class="keyword">append</span> using <span class="string">&quot;Stata数据/`y&#x27;-气温&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;Stata数据/气温&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">// 删除临时数据</span></span><br><span class="line"><span class="keyword">forvalues</span> y=2001/2022 &#123;</span><br><span class="line"><span class="keyword">rm</span> <span class="string">&quot;Stata数据/`y&#x27;-气温.dta&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** 2. 数据匹配</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;Stata数据/气温&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">foreach</span> s of <span class="keyword">global</span> sheet &#123;</span><br><span class="line"><span class="keyword">merge</span> 1:1 年份 省份 城市 using <span class="string">&quot;Stata数据/`s&#x27;&quot;</span>, nogen</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 填补缺失的省份代码</span></span><br><span class="line">ereplace 省份代码=<span class="keyword">mean</span>(省份代码), <span class="keyword">by</span>(省份)   <span class="comment">// 组内非缺失值样本的取值都相同的时候</span></span><br><span class="line"><span class="keyword">tabstat</span> 省份代码,stat(<span class="keyword">mean</span> min max) <span class="keyword">by</span>(省份)   <span class="comment">// 检验填补省份代码的缺失值是否正确</span></span><br><span class="line"><span class="keyword">drop</span> v1</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;Stata数据/气象数据&quot;</span>,<span class="keyword">replace</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
            <tag> 代码库 </tag>
            
            <tag> 气象数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>《2030年可持续发展议程》各项可持续发展目标和具体目标全球指标框架</title>
      <link href="/posts/49468/"/>
      <url>/posts/49468/</url>
      
        <content type="html"><![CDATA[<p><strong>联合国《2030年可持续发展议程》各项可持续发展目标和具体目标全球指标框架：</strong></p><ul><li><ahref="https://pan.baidu.com/s/1cwiG6E2gu5kwEsZNec8cDw?pwd=f7yr">百度网盘下载链接</a>，提取码:f7yr</li><li><ahref="https://unstats.un.org/sdgs/indicators/Global%20Indicator%20Framework%20after%202020%20review_Chi.pdf">联合国官网</a></li></ul><hr /><p><strong>可持续发展目标：</strong></p><ol type="1"><li>No Poverty：在世界各地消除一切形式的贫困</li><li>Zero Hunger：消除饥饿，实现粮食安全、改善营养和促进可持续农业</li><li>Good Health andWellbeing：确保各年龄段人群的健康生活方式，促进他们的福祉</li><li>QualityEducation：确保包容和公平的优质教育，让全民终身享有学习机会</li><li>Gender Equality：实现性别平等，增强所有妇女和女童的权能</li><li>Clean Water andSanitation：为所有人提供水和环境卫生并对其进行可持续管理</li><li>Affordable and CleanEnergy：确保人人获得负担得起的、可靠和可持续的现代能源</li><li>Decent Work and EconomicGrowth：促进持久、包容和可持续经济增长，促进充分的生产性就业和人人获得体面工作</li><li>Industry, Innovation andInfrastructure：建造具备抵御灾害能力的基础设施，促进具有包容性的可持续工业化，推动创新</li><li>Reduced Inequalities：减少国家内部和国家之间的不平等</li><li>Sustainable cities andcommunities：建设包容、安全、有抵御灾害能力和可持续的城市和人类住区</li><li>Sustainable Consumption andProduction：确保采用可持续的消费和生产模式</li><li>Climate Action：采取紧急行动应对气候变化及其影响</li><li>Life UnderWater：保护和可持续利用海洋和海洋资源以促进可持续发展</li><li>Life onLand：保护、恢复和促进可持续利用陆地生态系统，可持续管理森林，防治荒漠化，制止和扭转土地退化，遏制生物多样性的丧失</li><li>Institutions，goodgovernance：创建和平、包容的社会以促进可持续发展，让所有人都能诉诸司法，在各级建立有效、负责和包容的机构</li><li>Partnerships for thegoals：加强执行手段，重振可持续发展全球伙伴关系筹资</li></ol><p>　　‍</p><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 可持续发展 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 可持续发展 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜显著性相关</title>
      <link href="/posts/29986/"/>
      <url>/posts/29986/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><h4 id="显著性的含义">1. 显著性的含义</h4><p><a href="https://mp.weixin.qq.com/s/M1gHVNOjeTpIRrJKFqEM0g">君泉计量- 抛弃p值？经济显著性与统计显著性</a></p><h4 id="不显著怎么办">2. 不显著怎么办？</h4><p><ahref="https://mp.weixin.qq.com/s/VEQMANQlBkCe-7pTqf5sKA">刘西川阅读写作课- 不显著，怎么办？</a></p><p><ahref="https://www.zhihu.com/question/526265116/answer/2431807546">知乎 -自变量因变量的线性关系不显著怎么办？</a></p><p><a href="https://www.lianxh.cn/news/046d284fd51b2.html">连享会 -加入控制变量后结果悲催了！</a></p><p><ahref="https://www.zhihu.com/question/357861691/answer/911278828">知乎 -Stata面板数据结果不显著该怎么办？</a></p><p><a href="https://lianxh.cn/news/279171ecf8309.html">连享会 -0.0005：估计系数太小怎么办？</a></p><h4 id="调整显著性">3. 调整显著性</h4><p><a href="https://mp.weixin.qq.com/s/k3GzVXqc6nx5iq4GzDJ2Xw">OneStata- OneClick 5.0 较大的更新与显著的进步（<em>显著性调整神器</em>）</a></p><p><a href="https://mp.weixin.qq.com/s/XBRe454I70NJjzvxkPOA6Q">OneStata- ChatGPT-对回归结果不显著的几点建议</a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 显著性 </tag>
            
            <tag> 收藏集锦 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>模型｜广义倾向得分匹配 (Generalized Propensity Score Matching, GPSM)</title>
      <link href="/posts/17189/"/>
      <url>/posts/17189/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><p><ahref="https://mp.weixin.qq.com/s/FNbko32tDzHBohmCcNPF8w">[计量经济圈]广义PSM,连续政策变量因果识别的不二利器</a></p><p><ahref="https://mp.weixin.qq.com/s/txdAQd7kR1U38EJVxeFncw">[计量经济圈]广义倾向得分匹配GPSM实证数据, 代码和相关解读结果公开！</a></p><p><a href="https://zhuanlan.zhihu.com/p/60234077">[知乎]GPSM拓展｜严重偏态处理变量在广义倾向得分中的处理</a></p><p><a href="https://zhuanlan.zhihu.com/p/59537280">[知乎]政策评估方法引荐｜广义倾向得分匹配（GPSM）</a></p><p><ahref="https://kns.cnki.net/kcms2/article/abstract?v=3uoqIhG8C44YLTlOAiTRKibYlV5Vjs7i0-kJR0HYBJ80QN9L51zrP00IKfnBCnn8DXIoS5FxUhLeX5PeTmMLg9orDRbPV3O8&amp;uniplatform=NZKPT">[中国工业经济]“减碳”政策制约了中国企业出口吗</a></p><p><ahref="https://www.stata-journal.com/article.html?article=st0150">[TheStata Journal] A Stata package for the estimation of the dose–responsefunction through adjustment for the generalized propensity score</a></p><p><ahref="https://mpra.ub.uni-muenchen.de/45013/1/MPRA_paper_45013.pdf">[MPRA]Estimating the dose-response function through the GLM approach</a></p><p><ahref="https://www.stata-journal.com/article.html?article=st0328">[TheStata Journal] Estimating the dose–response function through ageneralized linear model approach</a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 控制变量 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜机制分析</title>
      <link href="/posts/54110/"/>
      <url>/posts/54110/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><h4 id="机制分析概述">1. 机制分析概述</h4><p><ahref="https://mp.weixin.qq.com/s/64NV7XJd5-bxAjLlM-jR9g">计量经济圈 -又被拒稿了！机制检验除了中介效应还有其他方法吗？</a></p><p><ahref="https://mp.weixin.qq.com/s/DwQWFcOmMGUGp1tFGr9vWw">计量经济圈 -实证机制分析那些事，机制分析什么鬼？</a></p><p><ahref="https://mp.weixin.qq.com/s/2-PzmooHDzFWcpqojElmWQ">计量经济圈 -关于影响机制的分析思路和实操策略, 我们能够做的就只有这么多了！</a></p><p><ahref="https://mp.weixin.qq.com/s/Z6nEUKrKwYRQ4oBpti8bcg">计量经济圈 -一文彻底弄懂调节(交互)效应, 中介(机制)效应, 控制(混淆)变量等内容</a></p><p><ahref="https://mp.weixin.qq.com/s/POXj3mHmVncM5dRY9LMEiA">计量经济圈 -实证研究中是用理论框架还是概念框架呢? 这次弄懂区别</a></p><h4 id="中介效应">2. 中介效应</h4><p><ahref="https://kns.cnki.net/kcms2/article/abstract?v=3uoqIhG8C44YLTlOAiTRKgchrJ08w1e7M8Tu7YZds88HvMJUA_sIa_Vm8XKqMAAxjP2_SGApEsefGapZuJfVkr4SiRJ3yUJj&amp;uniplatform=NZKPT">CNKI- 心理科学进展: 中介效应分析:方法和模型发展 by<em>温忠麟</em>、<em>叶宝娟</em></a></p><p><ahref="https://mp.weixin.qq.com/s/2GhzemesKCG_95Z2O2xpeA">计量经济圈 -操作讲解中介效应机制分析：原理, 程序, Bootstrap方法及其应用</a></p><p><ahref="https://mp.weixin.qq.com/s/WOQVRwPMj3jRHP7EwkApew">计量经济圈 -我最近看到AER, JPE文章, 人家用的就是类似中介效应三步走方法</a></p><p><ahref="https://mp.weixin.qq.com/s/WjwHfzjTmrzbAhlpYEr65A">计量经济圈 -在机制分析中必须是正向的中间影响路径吗?负向的影响路径可以吗？</a></p><p><a href="https://www.lianxh.cn/news/fc35ac55f5085.html">连享会 -Stata+R：一文读懂中介效应</a></p><p><a href="https://www.lianxh.cn/news/fc7fde1bd0dba.html">连享会 -Stata：中介效应分析新命令-sgmediation2</a></p><p><ahref="https://mp.weixin.qq.com/s/6O8xWB1Bs0RSXTpkixUSkw">计量经济圈 -中介效应检验流程, 示意图公布, 不再畏惧中介分析</a></p><h4 id="因果中介分析">3. 因果中介分析</h4><p><a href="https://mp.weixin.qq.com/s/0MoQ4KCcOvlafTxkVhjsNw">连享会 -中介效应：有序因果中介分析的半参数估计A-理论</a></p><p><a href="https://mp.weixin.qq.com/s/ZZK6y9dvP-7F-8f_DEcqLQ">连享会 -中介效应：有序因果中介分析的半参数估计B-实操</a></p><p><a href="https://www.lianxh.cn/news/73d3dcc88376e.html">连享会 -Stata：一般化的因果中介分析</a></p><h4 id="调节效应">4. 调节效应</h4><p><ahref="https://mp.weixin.qq.com/s/yrQGnp9ntDlnIPiS4saPtQ">计量经济圈 -调节效应的陷阱</a></p><p><a href="https://www.lianxh.cn/news/29ab818725ff0.html">连享会 -Stata：图示交互效应-调节效应</a></p><h4 id="非线性关系">5. 非线性关系</h4><p><ahref="https://kns.cnki.net/kcms2/article/abstract?v=3uoqIhG8C44YLTlOAiTRKibYlV5Vjs7iJTKGjg9uTdeTsOI_ra5_XVNrOrh_M-U0wpqdgeVeks8fdVUg-dXaXJ8zXYTeJ2m9&amp;uniplatform=NZKPT">CNKI- 南开管理评论: 管理学领域的曲线效应及统计检验方法 by<em>林伟鹏</em>、<em>冯保艺</em></a></p><h4 id="有中介的调节与有调节的中介">6. 有中介的调节与有调节的中介</h4><p><a href="https://lianxh.cn/news/96f42c47f4ea6.html">连享会 -Stata：调节中介效应检验</a></p><h4 id="中介与调节之争">7. 中介与调节之争</h4><p><ahref="https://kns.cnki.net/kcms2/article/abstract?v=3uoqIhG8C44YLTlOAiTRKibYlV5Vjs7iJTKGjg9uTdeTsOI_ra5_XWyxrFJDFLKNDtjsyYKtP0BxO2SA5qO7pV59oOW5-y5-&amp;uniplatform=NZKPT">CNKI- 中国工业经济: 因果推断经验研究中的中介效应与调节效应 by<em>江艇</em></a></p><p><ahref="https://mp.weixin.qq.com/s/S9PqKTYuXo0YcW3NZSOmVw">计量经济圈 -争议, 因果推断经验研究中的中介效应与调节效应</a></p><p><a href="https://mp.weixin.qq.com/s/npqJhMADEBad6Roap5in0g">连享会 -三段式中介效应模型真的适用于经济学研究吗？</a></p><p><ahref="https://www.zhihu.com/question/483289482/answer/2091567079">知乎 -连玉君:三段式中介效应模型真的适用于经济学研究吗？还可以用什么方法来检验影响机制？</a></p><h4 id="遮掩效应-抑制效应">8. 遮掩效应 / 抑制效应</h4><p><ahref="https://blog.csdn.net/Hellolijunshy/article/details/123630283">CSDN- Stata：机制检验，如何判断是不是遮掩效应？</a></p><h4 id="混杂效应">9. 混杂效应</h4><p><ahref="https://mp.weixin.qq.com/s/2XykqjT8VEPAGAtHhpib4w">计量经济圈 -添加一个新变量能使以前不显著的变量变得显著了？</a></p><h4 id="分组回归-异质性的检验机制">10. 分组回归 / 异质性的检验机制</h4><p><ahref="https://mp.weixin.qq.com/s/BaK7WWnwu4m9_ALoczbliA">计量经济圈 -异质性分析用来检验中间传导机制,分组回归或交互项就可以完成机制分析</a></p><p><ahref="https://kns.cnki.net/kcms2/article/abstract?v=eoCTaIZmBONluK56oYhyHL51GTlIaNhnlN93u-s-LFrK-8u8iGsysOXp6Cd8SB8d-3LeNWZlrTpDM7X8J0fd81FaHWANfooLkZLilgywOk7f153-HxGD7HW60ywXE0gwcV0Fg6ey-M6-zL_uWIrftQ==&amp;uniplatform=NZKPT&amp;language=CHS">CNKI- 中国工业经济：因果推断经验研究中的中介效应与调节效应 by<em>江艇</em></a>，使用分组回归，检验<strong>调节效应的强论证与弱论证是否成立</strong></p><p><a href="https://www.lianxh.cn/news/051e3a01cdb19.html">连享会 -Stata: 如何检验分组回归后的组间系数差异？</a></p><p><a href="https://www.lianxh.cn/details/725.html">连享会 -Stata：分组回归系数比较的新思路</a></p><h4 id="顶刊-经典案例">11. 顶刊 / 经典案例</h4><p><ahref="https://mp.weixin.qq.com/s/j5FxwvBGQhBH2g30bURX_w">计量经济圈 -TOP5刊上五种常用机制分析方法及对应文献</a></p><p><ahref="https://mp.weixin.qq.com/s/2zkDKxbjkRVolvQeCE6h-A">计量经济圈 -TOP5刊上5种常用机制检验方法及对应文献: 更新</a></p><p><ahref="https://mp.weixin.qq.com/s/rtFcciNNdsT6omdrluYm_A">计量经济圈 -这种机制分析方法受到经济学认可, 曾出现在经济学TOP5期刊上！</a></p><p><ahref="https://mp.weixin.qq.com/s/fwbAVW8tWzpfPe66xiNUZA">计量经济圈 -机制分析做到极致的JPE趣文, 身高与收入</a></p><p><ahref="https://mp.weixin.qq.com/s/iqYF_QtfSALhdE1w2dGO4Q">计量经济圈 -实证中如何做竞争性假说的检验？AER范本的方法还能当机制分析用</a></p><p><ahref="https://mp.weixin.qq.com/s/9v7NJjcEhjhb6Zqqoj2JhQ">计量经济圈 -Top5最新: 为什么富有的父母有富有的孩子? 一篇学好机制分析的佳作！</a></p><p><ahref="https://mp.weixin.qq.com/s/bWJ3F-Z-c8u8ouI6aDbkJA">计量经济圈 -PSM-DID,机制分析和DID稳健性检验的实证策略指南一则</a></p><p><ahref="https://mp.weixin.qq.com/s/06eeAldj2XZNNHe9Xn7f0A">计量经济圈 -实锤! TOP刊上30%文章使用控制变量实现统计和经济显著性！</a></p><h4 id="相关合集">12. 相关合集</h4><p><ahref="https://mp.weixin.qq.com/s/kdXQOpL8T7-gMI75vs6IkQ">计量经济圈 -整理了34篇关于中介, 调节和机制分析的文章!揭开事务间的机理就靠它了!</a></p><p><ahref="https://mp.weixin.qq.com/s/pklAKseq5UWK2MAJohS7ZQ">计量经济圈 -机制分析, 中介渠道, 调节效应必读系列合集</a></p><h4 id="机制分析中的变量问题">13. 机制分析中的变量问题</h4><p><ahref="https://mp.weixin.qq.com/s/0Q5JhlPOcroqg8tZ6SL20w">计量经济圈 -主回归与机制分析中的控制变量可以不同吗？</a></p><p><ahref="https://mp.weixin.qq.com/s/pZk5pNBivUjh-kC_b3igdw">计量经济圈 -调节变量, 中介变量和控制变量啥区别与联系?</a></p><p><ahref="https://mp.weixin.qq.com/s/FUKG2sLsuHVfit6EPHq6mQ">计量经济圈 -加入其他控制变量后, 估计系数的符号相反了？</a></p><h4 id="机制分析中的内生性问题">14. 机制分析中的内生性问题</h4><p><ahref="https://www.zhihu.com/question/479745469/answer/2097335044">知乎 -连玉君: 机制检验要做内生性检验吗?</a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 中介效应 </tag>
            
            <tag> 调节效应 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 机制分析 </tag>
            
            <tag> 遮掩效应 </tag>
            
            <tag> 抑制效应 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>模型｜分位数回归 (Quantile Regression, QR)</title>
      <link href="/posts/12023/"/>
      <url>/posts/12023/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><p><a href="http://www.econ.uiuc.edu/~roger/research/rq/rq.html">Prof.Koenker - Quantile Regression</a></p><p><a href="https://mp.weixin.qq.com/s/RxoidXpaEYM3ttO9xOo07g">连享会 -分位数回归及Stata实现</a></p><p><a href="https://zhuanlan.zhihu.com/p/75401490">连享会(知乎) -分位数回归及Stata实现</a></p><p><a href="https://mp.weixin.qq.com/s/6d5rLFobmtdqxFPRY0bhXg">连享会 -qregplot：分位数回归图示</a></p><p><a href="https://mp.weixin.qq.com/s/a9Ew9jLdJzowwBD8LuuR4A">连享会 -Stata：无条件分位数回归及应用</a></p><p><ahref="https://www.researchgate.net/publication/251351301_Quantile_regression_in_R_a_vignette">ResearchGate- <em>Quantile regression in R: a vignette</em> by <strong>RogerKoenker</strong></a></p><p><ahref="https://mp.weixin.qq.com/s/ooHT7UBXIGtaKpjL8Z9lHg">计量经济圈 -广义分位数回归和分位数处理效应, 用数据, 代码和code进行操作</a></p><p><ahref="https://mp.weixin.qq.com/s/rd_JRYeP8SBW7YucBXZbZQ">计量经济圈 -无条件分位数回归: 文献综述与应用实例</a></p><p><ahref="https://mp.weixin.qq.com/s/eh2gF6z3cHgRUC5vqkJGUA">计量经济圈 -广义分位数回归是什么, 新的前沿因果推断方法介绍！</a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 分位数回归 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜异质性分析</title>
      <link href="/posts/18747/"/>
      <url>/posts/18747/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><h4 id="异质性分析的含义与原理">1. 异质性分析的含义与原理</h4><p><a href="https://lianxh.cn/news/bafafbd2aa5ca.html">连享会 -DID最新进展：异质性处理条件下的双向固定效应DID估计量 (TWFEDD)</a></p><p><a href="https://zhuanlan.zhihu.com/p/152234353">知乎 -学术苑：异质性效应问题</a></p><p><a href="https://mp.weixin.qq.com/s/s8f_TvG7McG8q6G5zCINRw">连享会 -异质性分析！异质性分析！</a></p><h4 id="异质性分析方法">2. 异质性分析方法</h4><h5 id="汇总文章">2.1 汇总文章</h5><p><a href="https://lianxh.cn/news/424b22920a877.html">连享会 -Stata：异质性稳健DID估计量方法汇总</a></p><h5 id="异质性分析模型">2.2 异质性分析模型</h5><p><a href="https://lianxh.cn/news/bffb1cca7c960.html">连享会 -异质性分析：系数平滑可变模型</a></p><p><a href="https://lianxh.cn/news/eb362aedd59e7.html">连享会 -Stata因果推断：hettreatreg-用OLS估计异质性处理效应</a></p><h5 id="交互项与分组回归">2.3 交互项与分组回归</h5><p><ahref="https://mp.weixin.qq.com/s/NNFtE1G-f7DFwv8r57T-gQ">计量经济圈 -交互项有什么用？为啥要做异质性分析？</a></p><p><ahref="https://mp.weixin.qq.com/s/BaK7WWnwu4m9_ALoczbliA">计量经济圈 -异质性分析用来检验中间传导机制,分组回归或交互项就可以完成机制分析</a></p><p><ahref="https://mp.weixin.qq.com/s/W5PtvoevZePTF0ST6X48kg">计量经济圈 -交互项与分组回归的区别是什么? 异质性分析</a></p><h5 id="分位数回归">2.4 分位数回归</h5><p><em>- 待更新 -</em></p><h5 id="异质性处理效应">2.5 异质性处理效应</h5><p><ahref="https://mp.weixin.qq.com/s/gzM0vstZp6P1Kft3c4aGIg">计量经济圈 -AER文的数据和代码可下载供复制结果!双重差分法和异质性处理效应分析范文</a></p><h4 id="论文与代码">3. 论文与代码</h4><p><ahref="https://mp.weixin.qq.com/s/WvaEW-_CbP0ijrB1JcbRMg">计量经济圈 -中文顶刊上关于零工经济的研究,思路和方法借鉴的是这篇金融TOP刊文章？</a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 异质性分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜工具变量相关</title>
      <link href="/posts/31997/"/>
      <url>/posts/31997/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><p><a href="https://mp.weixin.qq.com/s/tSeQRdbyYZJnAt4OGlHIPw">君泉计量- IV 估计：工具变量不外生时也可以用！</a></p><p><ahref="https://mp.weixin.qq.com/s/SmBVZJRidQslE5TkP28ojg?spm_id_from=444.41.rich-text.link.click">连享会- Stata：testex-控制函数法中排他性约束的检验和应对</a></p><p><a href="https://mp.weixin.qq.com/s/JXkxZMBi8ku6K82qhJsQEQ">君泉计量- 论文复现：装模做样的IV</a></p><p><ahref="https://mp.weixin.qq.com/s/zUHNXBZuF5tEgEpLSvIYXg">社科学术汇 -工具变量估计:假设、陷阱和指南</a></p><p><ahref="https://sangmino.notion.site/1a897b8106ca44eeaf31dcd5ae5a61b1?v=ff7dc75862c6427eb4243e91836e077e"><strong>SangminS. Oh - Plausibly Exogenous Galore</strong>(外文期刊上的工具变量列表)</a></p><p><ahref="https://pan.baidu.com/s/1RWQt-tBJXysgrvG81znwGg?pwd=ttud"><strong>近似外生工具变量文献.xlsx</strong></a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 工具变量 </tag>
            
            <tag> 收藏集锦 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜稳健性检验</title>
      <link href="/posts/31209/"/>
      <url>/posts/31209/</url>
      
        <content type="html"><![CDATA[<p>实证分析的结果，是基于数据本身的分析，可以把这个过程理解成一个计算器，它本身并没有实际意义，是需要结合专业背景与现实才有意义，而很多因素都会影响到计量结果，例如样本的数量、数据的分布、变量的选择、变量的取值、变量的定义、有没有用对实证模型、实证模型用对了但设置有没有问题…..</p><p>因此，要通过一些手段，排除可能造成计算器算出的结果扭曲实际因果关系的可能性。</p><p>简而言之，稳健性检验有三种方法：</p><ol type="1"><li>更换/调整数据：<ul><li>通常通过变更样本实现，例如添加样本、删减样本、分样本回归</li><li>部分论文通过更换数据集实现</li></ul></li><li>更换/调整变量：<ul><li>变更核心解释变量或被解释变量的定义</li><li>调整其他解释变量：即更换、添加、删除部分控制变量实现</li><li>有的论文会通过加入和不加入其他解释变量来进行验证</li></ul></li><li>更换/调整模型：对回归的方法或参数进行调整。例如，更换工具变量法估计的命令，通过不同的模型来验证结果的可靠性。在截面数据中，一些论文也会采取主回归考虑内生性、稳健性检验不考虑内生性的做法。</li></ol><p>（原文链接：<ahref="https://www.zhihu.com/question/533129115/answer/2488567900">Link1</a>、<ahref="https://www.zhihu.com/question/528700800/answer/2445892671">Link2</a>）</p><hr /><h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><p><a href="https://www.zhihu.com/question/394735840">知乎 - 连玉君:稳健性检验的方式有哪些？</a></p><p><a href="https://www.lianxh.cn/news/32ae13ec789a1.html">连享会 -稳健性检验！稳健性检验！</a></p><p><a href="https://www.lianxh.cn/news/4832e3735dc81.html">连享会 -Stata新命令：konfound - 因果推断的稳健性检验</a></p><p><ahref="https://mp.weixin.qq.com/s/g_6fo0NqfXS2QUxcIzu6dw">计量经济圈 -稳健性检验如何做? 有哪些稳健性检验常用思路？</a></p><p><ahref="https://mp.weixin.qq.com/s/nRzrcgSIOPFjF_L20YV2Uw">计量经济圈 -实证应用经济学中的稳健性检验是什么? 怎么做？哪些策略呢？</a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 稳健性检验 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜比较两个变量取值是否相同</title>
      <link href="/posts/29621/"/>
      <url>/posts/29621/</url>
      
        <content type="html"><![CDATA[<h3 id="方法一">方法一：</h3><p>在数据清洗过程中，有时需要检查两个变量的取值是否相等。使用下述命令可以进行检验。当a、b 两个变量完全相同时，Stata 的结果窗口将会显示红色的“OK”；当 a、b两个变量不相同时，结果窗口则会显示蓝色的“not ok”字样。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if a==b &#123;</span><br><span class="line">dis in red &quot;ok&quot;</span><br><span class="line">&#125;</span><br><span class="line">else if a!=b &#123;</span><br><span class="line">dis in blue &quot;not ok&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上述命令仅在满足以下条件时才会显示“OK”字样：</p><ul><li>两个变量的所有取值完全相同</li><li>变量格式相同</li></ul><h3 id="方法二">方法二：</h3><p>对于数值型变量，也可以考虑通过减运算，来比较两个变量的取值。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gen gap = a - b</span><br><span class="line">tab gap</span><br></pre></td></tr></table></figure><p>只要观察 tab 的结果，即可知道有多少样本的 a、b 变量的取值不同。</p><p>更多关于两个变量的大小关系，可以查看：</p><p><a href="https://zhuanlan.zhihu.com/p/479001988">1.2 Stata的IF条件用法 - 知乎 (zhihu.com)</a></p><p>当然，对于数值型变量也可以使用 diff 函数来检验。</p><hr /><h3 id="参考资料">参考资料：</h3><p><ahref="https://bbs.pinggu.org/thread-3519072-1-1.html">如何判断两个变量是否相等？- Stata专版 - 经管之家(原人大经济论坛) (pinggu.org)</a></p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CMDS数据使用注意事项</title>
      <link href="/posts/43071/"/>
      <url>/posts/43071/</url>
      
        <content type="html"><![CDATA[<p>　　中国流动人口动态监测调查数据 (CMDS)是社会科学领域被广泛使用的公开数据之一，目前公开的数据到2018年。</p><p>　　点击这个链接，可以申请CMDS数据：<ahref="https://www.chinaldrk.org.cn/wjw/#/application/index">数据申请(chinaldrk.org.cn)</a></p><p>　　然而，一些朋友使用的 CMDS数据，是从公众号获取、闲鱼等平台购买或者经管之家购买的，使用 CMDS数据时需要注意以下几点：</p><ul><li>CMDS 不是追踪调查数据，每年的调查数据都是重新抽样的；</li><li>使用非官方获取的 2018 年数据，可能存在问题</li></ul><p>　　这里重点说第二点问题，即非官方获取的 2018 年数据存在的问题。</p><h3 id="数据年份错误">1. 数据年份错误</h3><p>　　一些非官方获取的 2018年数据，数据其实是2017年的数据。典型问题是样本总量，2017年的样本总量是169,899个样本，一些公众号/卖家将2017年数据修改文件名、删除部分变量后，以2018 年数据的名义售卖。</p><p>　　因此，在使用非官方数据 (特别是2018年)时，需要特别注意样本量问题。如下图，某公众号宣称的2018年CMDS数据，实际是169899样本的2017年数据（CSV格式的表格，第一行为表头，即变量名）。</p><p>　　<imgsrc="https://pica.zhimg.com/80/v2-265e962eb01245065a4817aa0ceffe27_1440w.png?source=d16d100b" /></p><p>　　乱码的CSV格式的假数据 (标称2018实为2017)</p><h3 id="数据的变量名与问卷不对应">2. 数据的变量名与问卷不对应</h3><p>　　一些非官方获取的 2018 年 Excel 格式 (.xlsx)的数据，虽然样本量正确，为 152,000个样本，但是变量名与数据并不对应，且提供的变量名和变量标签是2017年的变量对应表。</p><p>　　考虑到各年调查问卷有所调整，使用该数据无疑会导致使用时出错。因此，需要特别注意变量名与数据的对应关系。</p><ul><li>样本量正确（为 152,000，与 2017 年的 169,899 有明显区别）</li><li>错误的数据与变量名的对应关系，例如，GF列是“您是去上一份工作的年份”，但回答是职业类型与各种数字。</li></ul><p>　　<imgsrc="https://picx.zhimg.com/80/v2-a0ec145ba5b4b0db5e0f6b2660d56162_1440w.png?source=d16d100b"title="正确的样本量" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-340de9b1f668e3fc6fa820208445b270_1440w.png?source=d16d100b" /></p><h3 id="stata-格式数据乱码">3. Stata 格式数据乱码</h3><p>　　官方数据是 152,000 样本的 Stata格式数据，变量名与数据之间的对应关系正确，但是存在乱码问题。</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-6c480dd524d3ce93745904e260fd2cd9_1440w.png?source=d16d100b" /></p><p>　　这里可以使用下面命令进行转码。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">clear</span><br><span class="line">cd &quot;C:\Users\Desktop\转码&quot;    // 新建一个转码文件夹，然后修改自己的路径</span><br><span class="line">unicode encoding set gb18030</span><br><span class="line">unicode analyze 流动人口数据个人问卷2018.dta   // 文件名根据自己的数据进行调整</span><br><span class="line">unicode translate 流动人口数据个人问卷2018.dta, invalid   // 文件名根据自己的数据进行调整</span><br></pre></td></tr></table></figure><p>　　转码后即可在 Stata 14及更新的软件版本中打开，不会存在乱码问题。</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-ab20792b5f5d0fc30fd3431d35e31a00_1440w.png?source=d16d100b" /></p><hr /><h3 id="总结">总结：</h3><p>　　使用网络上购买的公开微观数据库，应当检查以下几点：</p><ol type="1"><li>数据年份是否对应</li><li>如果数据不是 dta 格式，变量名和数据是否对应</li><li>数据中存在的其他问题</li></ol>]]></content>
      
      
      <categories>
          
          <category> 数据相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据相关 </tag>
            
            <tag> 公开数据库 </tag>
            
            <tag> 心得记录 </tag>
            
            <tag> CMDS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>公开数据库的地理位置信息相关问题</title>
      <link href="/posts/52202/"/>
      <url>/posts/52202/</url>
      
        <content type="html"><![CDATA[<p>　　现在社会科学研究中，常用的数据库包括了CFPS、CLDS、CHFS、CMDS、CGSS、CSS、CHNS、CHARLS等，一些研究中需要一些区县或地级市的数据与微观数据进行匹配，但多数调查因保护受访者隐私的需要，没有公布地理位置信息。</p><p>　　下面是一些关于公开数据中城市、区县地理信息公开情况的讨论。</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-949c40c20f7e223c1c0e93b6d89d5123_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-d22ccb5404c473e078745f5ef9d1123a_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-4dfb091d00a11b517bec48fe0168ccce_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-2a68caf12d83f5c883b120fa455d13c8_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-ef774723992b354d5957798354f2a734_1440w.png?source=d16d100b" /></p>]]></content>
      
      
      <categories>
          
          <category> 数据相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据相关 </tag>
            
            <tag> 公开数据库 </tag>
            
            <tag> 心得记录 </tag>
            
            <tag> 地理位置信息 </tag>
            
            <tag> CFPS </tag>
            
            <tag> CHFS </tag>
            
            <tag> CLDS </tag>
            
            <tag> CHARLS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据采集｜如何搜集中国各级行政区的宏观数据</title>
      <link href="/posts/52457/"/>
      <url>/posts/52457/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://zhuanlan.zhihu.com/p/496308024">原文链接</a></strong></p><h2 id="各级行政区的数据">各级行政区的数据：</h2><ol type="1"><li>全国和省级行政区的宏观数据：①国家统计局；②全国各种统计年鉴；③各省的统计年鉴</li><li>地级市的宏观数据：①国家统计局官网会统计部分重点城市的月度、季度、年度检测数据与统计数据；②《城市统计年鉴》，③各省统计年鉴，④各地级市统计年鉴</li><li>县级市：①《城市统计年鉴》，②各省统计年鉴，③各地级市统计年鉴</li><li>区、县宏观数据：①各省统计年鉴，②各地级市统计年鉴</li><li>乡镇级数据可用度不高（指标很少），不建议找，行政村级的统计数据基本上没有，如果有需要可以考虑去乡镇、村所在的区/县的统计部门申请（有的可以通过依申请公开流程申请，详见所在县人民政府网站）。</li></ol><p>先找统计局的数据，再来找统计年鉴的数据，最后考虑第三方数据网站、数据平台的数据。</p><p>统计局会权威、官方，更重要的是会根据抽样调查和各种普查数据对已发布的数据进行修正、更新。</p><p>统计年鉴的数据权威且来自官方，但不会定期修正已发布数据。</p><p>第三方数据往往收费，且许多数据来源不唯一、不够可靠，多数第三方数据库的数据虽然全，但数据来源标注不够清晰，很多数据甚至没有明确来源，部分数据与官方发布的数据可能有较大出入，慎用。</p><h2 id="注意">注意：</h2><ol type="1"><li><strong>所有国家统计局统计的数据</strong>（包括统计年鉴），都是<strong>网络公开/公开出版</strong>的，大多有有电子版，就看自己能不能找到。</li><li><strong>所有省份的统计年鉴</strong>都是<strong>公开出版</strong>的，只是少数省份没有电子版，花点心思都能搜罗来。没有公布电子版统计年鉴的省份可以在公众号、某宝、某海鲜市场找一找，基本上都可以找到。</li><li><strong>地级市的统计年鉴</strong>，经济发达地区的公开出版的比较多，比如江浙沪一带的城市一般都会公开出版，经济欠发达地区部分地级市会出版统计年鉴，但可能不会在网络上公开，这类地区的会比较难找。</li><li><strong>区、县、县级市的统计年鉴基本上不公开出版</strong>，在一线城市、经济发达地区的县、区、县级市可能会在网络上公布统计数据。</li></ol>]]></content>
      
      
      <categories>
          
          <category> 数据相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据相关 </tag>
            
            <tag> 数据采集 </tag>
            
            <tag> 宏观数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>模型｜断点回归 (Regression Discontinuity, RD)</title>
      <link href="/posts/22729/"/>
      <url>/posts/22729/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><p><ahref="https://mp.weixin.qq.com/s/ZDk6ML5Uo0UnpD-pCSBnRA">数量经济学 -2023最新必读的断点RD教程及复现网站（附代码+案例应用）</a></p><p><a href="https://mp.weixin.qq.com/s/EoCHflxPWDEyQzf9OKxDZw">连享会 -Stata：pzms-RDD和RKD的最优模型选择</a></p><p><a href="https://mp.weixin.qq.com/s/1ZadUwsvPZ_kjOtFkgjTxQ">连享会 -倒U型+RDD：利用断点回归检验 U 形关系</a></p><p><ahref="https://mp.weixin.qq.com/s/Xr1mf5xtFt9K6KHRwP3nJA">数量经济学 -断点回归经典案例：民主党当选对该选区联邦支出影响</a></p><p><a href="https://mp.weixin.qq.com/s/1BhfB-7BlMGEaxNQ0NFfkw">君泉计量- RDD-断点回归：实践指南</a></p><p><ahref="https://mp.weixin.qq.com/s/5YWt7gGeJXCj0H-dWk8spQ">数量经济学 -Stata: 不可不知的4种断点回归 (RDD) 中的平滑性检验方法</a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> RD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件｜zotero中文论文参考文献信息作者姓氏和名字分离的问题</title>
      <link href="/posts/38294/"/>
      <url>/posts/38294/</url>
      
        <content type="html"><![CDATA[<p>　　使用 Zotero Connector插件保存知网论文时，作者的姓氏和名字会被分开，在引用时会出现只有姓氏的情况。</p><p>　　修改【CNKI.js】文件或者选择合适的 CSL引用格式，可以解决此问题。</p><ul><li>修改【CNKI.js】文件，新加入的中文文献，作者的姓氏和名字会被合并，显示在作者的姓氏中，已有的文献不会做修改。</li><li>优点：简单</li><li>缺点：zotero重装、多端同步后可能出错，使得新加入的文献再次出现只有姓氏的问题。</li><li>使用合适的 CSL引用格式，不论新加入的还是已有的文献，都不会有问题</li><li>优点：以前的文献不用重新导入</li><li>缺点：CSL 的格式如果不符合自己投稿期刊的需求，修改比较麻烦。</li></ul><h3 id="方法一修改cnki.js文件">方法一：修改【CNKI.js】文件</h3><p>　　<imgsrc="https://picx.zhimg.com/80/v2-cad9405d44e93616327cafcac9a4ea56_1440w.png?source=d16d100b" /></p><p>　　<strong>具体操作如下：</strong></p><p>　　<strong>1.找到文件存放位置：打开【首选项—高级—文件和文件夹】，点击【打开数据文件夹】</strong></p><p>　　<imgsrc="https://pica.zhimg.com/80/v2-8a38393e73773d191fa336dc02f8c968_1440w.png?source=d16d100b" /></p><p>　　<strong>2.打开文件夹后，在【zotero—translators】文件夹中，找到【CNKI.js】文件，使用文本编辑器或者其他可以打开js 文件的编辑器打开。(我使用的是VScode，需要输入字母【i】后才可以编辑。)</strong></p><p>　　<strong>3. 搜索【Chinese name】，即可找到以下代码，我的位置大概在227～229 行。</strong></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-b025c4fd44e81f33adbfbabcfcd6a363_1440w.png?source=d16d100b" /></p><p>　　原始代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">else &#123;</span><br><span class="line">// Chinese name. first character is last name, the rest are first name</span><br><span class="line">creator.firstName = creator.lastName.substr(1);</span><br><span class="line">creator.lastName = creator.lastName.charAt(0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　修改为：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">else &#123;</span><br><span class="line">// Chinese name. first character is last name, the rest are first name</span><br><span class="line">// creator.firstName = creator.lastName.substr(1);</span><br><span class="line">// creator.lastName = creator.lastName.charAt(0);</span><br><span class="line">creator.firstName = &quot;&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>　　修改的地方有三处：</p><ol type="1"><li>228 行添加双斜杠，将命令变成备注</li><li>229 行添加双斜杠，将命令变成备注</li><li>229 行后插入一行，插入内容是【creator.firstName = "";】</li></ol><p>　　修改结果如下所示：</p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-086b6433025f1f315cf0766f534baee4_1440w.png?source=d16d100b" /></p><p>　　<strong>4. 保存【CNKI.js】，关闭编辑器即可。重启Zotero，新导入的论文会将作者的姓与名合并。</strong></p><h3 id="方法二使用合适的-csl-引用格式">方法二：使用合适的 CSL引用格式</h3><p>　　推荐 <ahref="https://www.zhihu.com/people/268c1f41a479e6ee24a9c0969a06e188"><spanclass="citation" data-cites="redleafnew">@redleafnew</span></a>大佬修改的几种引用格式，根据自己的需要，选择一种下载后在 Zotero 内安装CSL 文件即可。</p><p>　　下载地址（Github/Gitee）：</p><p>　　<ahref="https://github.com/redleafnew/Chinese-STD-GB-T-7714-related-csl">GitHub- redleafnew/Chinese-STD-GB-T-7714-related-csl: GB/T7714相关的csl以及Zotero使用技巧及教程。</a></p><p>　　<ahref="https://gitee.com/redleafnew00/Chinese-STD-GB-T-7714-related-csl">Give- redleafnew00/Chinese-STD-GB-T-7714-related-csl</a></p><p>　　Github 如果打不开，需要科学上网，或者在Gitee下载。</p><hr /><p>　　参考：</p><p>　　<a href="https://www.zhihu.com/question/58599043">【知乎】Zotero作者按西文的方式显示，如何调整为中式？</a></p><p>　　<a href="https://www.zhihu.com/people/johnmy-89">【知乎】个人主页- redleafnew</a></p><p>　　<ahref="https://github.com/redleafnew/Chinese-STD-GB-T-7714-related-csl">【GitHub】redleafnew- Chinese-STD-GB-T-7714-related-csl</a></p>]]></content>
      
      
      <categories>
          
          <category> 软件相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件相关 </tag>
            
            <tag> zotero </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗专题视频｜CFPS/CLDS/CMDS等公开数据库的数据清洗</title>
      <link href="/posts/25255/"/>
      <url>/posts/25255/</url>
      
        <content type="html"><![CDATA[<p><a href="https://fgzfgz.github.io/BiliBili/">视频合集</a></p><blockquote><p><strong>附件：</strong></p><ul><li>录屏文件和do文件下载链接：https://pan.baidu.com/s/1LNlyOOa5LPzinmYT2dbm4Q?pwd=mb2i</li></ul></blockquote><hr /><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Do File <span class="doctag">Note:</span></span></span><br><span class="line"><span class="comment">主题: 公开数据库的数据清理</span></span><br><span class="line"><span class="comment">     1. 变量管理(CFPS、CLDS) —— 截面</span></span><br><span class="line"><span class="comment">     2. 数据管理(CFPS、CMDS) —— 截面</span></span><br><span class="line"><span class="comment">     3. 整理成面板数据(CFPS) —— 截面——&gt;面板</span></span><br><span class="line"><span class="comment">生成时间: 2022年11月13日</span></span><br><span class="line"><span class="comment">更新日期: 2023年1月8日, 修订内容: 修正生成CX变量的命令中if条件未考虑「不适用」的问题。 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">* 清理思路: 1.逐期清理; 2.逐个数据库清理</span></span><br><span class="line"><span class="comment">* 清理原则: 1.尽量保留变量原始信息; 2.尽量做最小的改动; 3.尽量不要删除数据和样本</span></span><br><span class="line"></span><br><span class="line"><span class="comment">* do 文件中不会展示的命: tab、tabstat</span></span><br><span class="line"><span class="comment">/*常用的命令: </span></span><br><span class="line"><span class="comment">    1.变量管理: gen replace egen ereplace label drop keep rename </span></span><br><span class="line"><span class="comment">2.数据管理: merge append reshape use save</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">**********************************一、变量管理**********************************</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:\Users\wugan\Desktop\DATA\CFPS中国家庭追踪调查&quot;</span>   <span class="comment">// macOS-&quot;/&quot;; windows-&quot;\&quot;</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CFPS2018\cfps2018famecon&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">ssc</span> install ereplace,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">* 1. 变量生成</span></span><br><span class="line"><span class="comment">** 1.1 居住地属性</span></span><br><span class="line"><span class="keyword">tabstat</span> fa1,stat(<span class="keyword">mean</span>) <span class="keyword">by</span>(fa1)  <span class="comment">//不适用=-8，9999,9998,9999,888,-1,-10</span></span><br><span class="line"><span class="keyword">tabstat</span> fa101,stat(<span class="keyword">mean</span>) <span class="keyword">by</span>(fa101)</span><br><span class="line"><span class="comment">// 关注不适用、不知道的情况</span></span><br><span class="line"><span class="comment">/* 备注: 2023年1月8日更新CX变量生成命令, 原命未考虑到「不适用」的情况。感谢 BiliBili 网友「fjjlclw」指出的问题。 */</span></span><br><span class="line"><span class="keyword">gen</span> CX=1 <span class="keyword">if</span> fa1==1 | ((fa1==77 | fa1==-8) &amp; fa101==1)  <span class="comment">// 居委会</span></span><br><span class="line"><span class="keyword">replace</span> CX=0 <span class="keyword">if</span> fa1==5 | ((fa1==77 | fa1==-8) &amp; fa101==5)  <span class="comment">// 村委会</span></span><br><span class="line"></span><br><span class="line"><span class="comment">***数据矫正与补充：</span></span><br><span class="line"><span class="comment">// (1)使用其他数据补充(例 fl10 fl10 fl10_max fl10_min fl10_est)</span></span><br><span class="line"><span class="keyword">tab</span> fl10</span><br><span class="line"><span class="comment">// (2)使用其他数据矫正: 参见do文件末尾</span></span><br><span class="line"><span class="comment">// 收入数据：家庭净收入=工资性收入+经营净收入+财产性收入+转移净收入</span></span><br><span class="line"><span class="comment">// (3)基于经验矫正</span></span><br><span class="line"></span><br><span class="line"><span class="comment">* 2. 离散变量</span></span><br><span class="line"><span class="comment">// 关注二分类变量的取值问题</span></span><br><span class="line"><span class="keyword">gen</span> </span><br><span class="line"><span class="comment">** 2.1 生成地区变量</span></span><br><span class="line"><span class="comment">//地区变量</span></span><br><span class="line"><span class="keyword">gen</span> diqu=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">label</span> variable diqu <span class="string">&quot;地区&quot;</span></span><br><span class="line"><span class="keyword">replace</span> diqu=<span class="string">&quot;东部地区&quot;</span> <span class="keyword">if</span> pcode==11 | pcode==12 | pcode==13 | pcode==31 | pcode==32 | pcode==33 | pcode==35 | pcode==37 | pcode==44 | pcode==46</span><br><span class="line"><span class="keyword">replace</span> diqu=<span class="string">&quot;中部地区&quot;</span> <span class="keyword">if</span> pcode==14 | pcode==34 | pcode==36 | pcode==41 | pcode==42 | pcode==43</span><br><span class="line"><span class="keyword">replace</span> diqu=<span class="string">&quot;西部地区&quot;</span> <span class="keyword">if</span> pcode==15 | pcode==45 | pcode==50 | pcode==51 | pcode==52 | pcode==53 | pcode==54 | pcode==61 | pcode==62 | pcode==63 | pcode==64 | pcode==65 | pcode==66</span><br><span class="line"><span class="keyword">replace</span> diqu=<span class="string">&quot;东北地区&quot;</span> <span class="keyword">if</span> pcode==21 | pcode==22 | pcode==23</span><br><span class="line"><span class="comment">// 编码问题</span></span><br><span class="line"><span class="comment">// 省+市+县(伪码)——6位</span></span><br><span class="line"><span class="comment">* 3. 连续变量</span></span><br><span class="line"><span class="comment">// 极大值、极小值: 最大最小值的极端值问题、可能存在的负值问题</span></span><br><span class="line"><span class="comment">// 数据的逻辑跳转问题</span></span><br><span class="line"><span class="comment">// 做人均处理、加总处理(工作时长)</span></span><br><span class="line"><span class="comment">// 处理极端值时,stata的数据存储问题导致的小数点问题</span></span><br><span class="line"><span class="keyword">tab</span> X <span class="keyword">if</span> X&gt;999999 &amp; X&lt;1000001</span><br><span class="line"></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;数据清洗\cfps2018cfps2018famecon&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">**********************************二、数据管理**********************************</span></span><br><span class="line"><span class="comment">* 1. reshape演示 —— CMDS数据</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:\Users\wugan\Desktop\DATA&quot;</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CMDS流动人口动态监测数据\2017\2017_Migrant_A_desensitized.dta&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> newID C1 C2 C3 C6 C7 Q100 q101*</span><br><span class="line"><span class="keyword">forvalues</span> i=1/10 &#123;</span><br><span class="line">    <span class="keyword">rename</span> (q101c<span class="symbol">`i&#x27;</span>y q101c<span class="symbol">`i&#x27;</span><span class="keyword">m</span> q101j<span class="symbol">`i&#x27;</span>a q101j<span class="symbol">`i&#x27;</span>b q101m<span class="symbol">`i&#x27;</span>y q101m<span class="symbol">`i&#x27;</span><span class="keyword">m</span>) (q101cy<span class="symbol">`i&#x27;</span> q101cm<span class="symbol">`i&#x27;</span> q101ja<span class="symbol">`i&#x27;</span> q101jb<span class="symbol">`i&#x27;</span> q101my<span class="symbol">`i&#x27;</span> q101mm<span class="symbol">`i&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">** 1.1 wide data to long data</span></span><br><span class="line"><span class="keyword">reshape</span> long q101id q101a q101b q101cy q101cm q101d q101e q101f q101g q101h q101i q101ja q101jb q101k q101l q101my q101mm q101n, <span class="built_in">i</span>(newID) <span class="built_in">j</span>(<span class="keyword">list</span>)   <span class="comment">// 字符型添加string选项: q101id_1</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">if</span> q101a==.   <span class="comment">// 这里等同于: drop if list&gt;Q100</span></span><br><span class="line"><span class="comment">** 1.2 生成变量: 以年龄、学历为例</span></span><br><span class="line"><span class="comment">// 年龄</span></span><br><span class="line"><span class="keyword">gen</span> age=2017-q101cy</span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> age <span class="string">&quot;年龄&quot;</span></span><br><span class="line"><span class="comment">// 学历</span></span><br><span class="line"><span class="keyword">tabstat</span> q101e,stat(<span class="keyword">mean</span> <span class="keyword">n</span>) <span class="keyword">by</span>(q101e)</span><br><span class="line"><span class="keyword">gen</span> edu=.</span><br><span class="line"><span class="keyword">replace</span> edu=0  <span class="keyword">if</span> q101e==1   <span class="comment">// 未上过</span></span><br><span class="line"><span class="keyword">replace</span> edu=6  <span class="keyword">if</span> q101e==2   <span class="comment">// 小学</span></span><br><span class="line"><span class="keyword">replace</span> edu=9  <span class="keyword">if</span> q101e==3   <span class="comment">// 初中</span></span><br><span class="line"><span class="keyword">replace</span> edu=12 <span class="keyword">if</span> q101e==4   <span class="comment">// 高中/中专</span></span><br><span class="line"><span class="keyword">replace</span> edu=15 <span class="keyword">if</span> q101e==5   <span class="comment">// 专科</span></span><br><span class="line"><span class="keyword">replace</span> edu=16 <span class="keyword">if</span> q101e==6   <span class="comment">// 本科</span></span><br><span class="line"><span class="keyword">replace</span> edu=19 <span class="keyword">if</span> q101e==7   <span class="comment">// 研究生</span></span><br><span class="line"><span class="comment">// 劳动力</span></span><br><span class="line"><span class="keyword">gen</span> labor=1</span><br><span class="line"><span class="keyword">replace</span> labor=0 <span class="keyword">if</span> age&gt;60 | age&lt;18</span><br><span class="line"><span class="keyword">replace</span> labor=0 <span class="keyword">if</span> health==7  <span class="comment">// 假设7为残疾</span></span><br><span class="line"><span class="comment">** 1.3 计算家庭均值</span></span><br><span class="line"><span class="keyword">ssc</span> install ereplace,<span class="keyword">replace</span></span><br><span class="line">ereplace age=<span class="keyword">mean</span>(age),<span class="keyword">by</span>(newID)   <span class="comment">//如果计算劳动力的,加上 if labor==1</span></span><br><span class="line">ereplace edu=<span class="keyword">mean</span>(edu),<span class="keyword">by</span>(newID)</span><br><span class="line"><span class="comment">** 1.4 生成用于匹配的数据</span></span><br><span class="line"><span class="keyword">duplicates</span> <span class="keyword">drop</span> newID,force</span><br><span class="line"><span class="keyword">keep</span> newID age edu</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;数据清洗\CMDS2017_merge.dta&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 1.5 数据匹配</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CMDS流动人口动态监测数据\2017\2017_Migrant_A_desensitized.dta&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">merge</span> 1:1 newID using <span class="string">&quot;数据清洗\CMDS2017_merge.dta&quot;</span>,nogen   <span class="comment">// 不熟悉merge操作不要用nogen</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;数据清洗\2017_Migrant_A&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="keyword">rm</span> <span class="string">&quot;数据清洗\CMDS2017_merge.dta&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">* 2.匹配家庭和成员数据 (CFPS)</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:\Users\wugan\Desktop\DATA&quot;</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">use &quot;CFPS中国家庭追踪调查\CFPS2018\cfps2018person&quot;,clear</span></span><br><span class="line"><span class="comment">keep fid18 X1 X2</span></span><br><span class="line"><span class="comment">save &quot;数据清洗\merge.dta&quot;,replace</span></span><br><span class="line"><span class="comment">use &quot;CFPS中国家庭追踪调查\CFPS2018\cfps2018famecon&quot;,clear</span></span><br><span class="line"><span class="comment">merge 1:m fid18 using &quot;数据清洗\merge.dta&quot;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CFPS中国家庭追踪调查\CFPS2018\cfps2018famecon&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">merge</span> 1:<span class="keyword">m</span> fid18 using <span class="string">&quot;CFPS中国家庭追踪调查\CFPS2018\cfps2018person&quot;</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> _merge==3</span><br><span class="line"><span class="comment">/* drop if _merge==2 */</span></span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;数据清洗\cfps2018famecon&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">/* 多期数据可以使用这种方式实现(不推荐)</span></span><br><span class="line"><span class="comment">forvalues i=10(2)18 &#123;</span></span><br><span class="line"><span class="comment">    use &quot;CFPS20`i&#x27;\cfps20`i&#x27;famecon&quot;,clear</span></span><br><span class="line"><span class="comment">merge 1:m fid`i&#x27; using &quot;CFPS20`i&#x27;\cfps20`i&#x27;person&quot;</span></span><br><span class="line"><span class="comment">keep if _merge==3</span></span><br><span class="line"><span class="comment">drop _merge</span></span><br><span class="line"><span class="comment">save &quot;数据清洗\cfps20`i&#x27;famecon&quot;,replace</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">* 3. 数据乱码问题</span></span><br><span class="line"><span class="keyword">clear</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:\Users\wugan\Desktop\DATA\转码\CLDS2016(Stata13)&quot;</span>   <span class="comment">// 转码中遇到的问题</span></span><br><span class="line">unicode encoding <span class="keyword">set</span> gb18030</span><br><span class="line">unicode analyze *</span><br><span class="line">unicode <span class="keyword">translate</span> *, invalid</span><br><span class="line"></span><br><span class="line"><span class="comment">**********************************三、面板数据**********************************</span></span><br><span class="line"><span class="comment">// 2014-2018年数据家庭支出面板数据</span></span><br><span class="line"><span class="comment">* 1. 提取数据</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:\Users\wugan\Desktop\DATA\CFPS中国家庭追踪调查&quot;</span></span><br><span class="line"><span class="keyword">forvalues</span> i=14(2)18 &#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="string">&quot;CFPS20`i&#x27;\cfps20`i&#x27;famecon.dta&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> fid* daily dress eec eptran epwelf expense food house med mortage other pce trco</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;数据清洗\cfps20`i&#x27;&quot;</span>,<span class="keyword">replace</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;数据清洗\cfps2014&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 2. 编码唯一性检查</span></span><br><span class="line"><span class="comment">use &quot;数据清洗\cfps2016&quot;,clear</span></span><br><span class="line"><span class="comment">egen list=seq(),to(1000000) by(fid14)</span></span><br><span class="line"><span class="comment">egen XXX=function(), option  // 根据需要计算</span></span><br><span class="line"><span class="comment">duplicates drop newID,force</span></span><br><span class="line"><span class="comment">save &quot;数据清洗\cfps2016&quot;,replace</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">* 3. 数据接驳——使用append命令将各期数据拼接成面板数据</span></span><br><span class="line"><span class="comment">/* 备注: 2023年1月8日更新, 生成面板数据应当使用append命令将数据接驳在一起, 视频中相关部分有错误。 */</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;数据清洗\cfps2018&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">append</span> using <span class="string">&quot;数据清洗\cfps2016&quot;</span></span><br><span class="line"><span class="keyword">append</span> using <span class="string">&quot;数据清洗\cfps2014&quot;</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;数据清洗\cfps14-18&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">*-----------------------------------分  割  线-----------------------------------*</span></span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> 以下命令仅供参考, 内容是: 分省份、分城乡、分消费收入组计算各类消费的均值。在计算过程中, 根据各家庭往年收入, 对数据进行了矫正。 */</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;/~/CFPS分省分收入组各项支出/计算消费支出&quot;</span></span><br><span class="line"><span class="keyword">forvalues</span> yy=14(2)18 &#123;</span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;校正支出数据/CFPS/CFPS20`yy&#x27;&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 一、生成城乡区分码</span></span><br><span class="line"><span class="keyword">gen</span> CX=.</span><br><span class="line"><span class="keyword">replace</span> CX=1 <span class="keyword">if</span> fa1==1 | fa101==1</span><br><span class="line"><span class="keyword">replace</span> CX=2 <span class="keyword">if</span> fa1==5 | fa101==5</span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> CX <span class="string">&quot;城乡识别码:1=城镇;2=农村&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 二、家庭、人均可支配收入</span></span><br><span class="line"><span class="comment">** 1.家庭可支配收入</span></span><br><span class="line"><span class="keyword">egen</span> disposable_inc=rowtotal(fwage_1 foperate_1 fproperty_1 ftransfer_1 felse_1)</span><br><span class="line"><span class="comment">** 2.人均可支配收入</span></span><br><span class="line"><span class="keyword">gen</span> dis_inc=disposable_inc/familysize<span class="symbol">`yy&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 三、调整样本、计算分位数</span></span><br><span class="line"><span class="comment">** 1.省码</span></span><br><span class="line"><span class="keyword">tostring</span> provcd<span class="symbol">`yy&#x27;</span>,<span class="keyword">g</span>(pcode)</span><br><span class="line"><span class="comment">** 2.筛选变量</span></span><br><span class="line"><span class="keyword">gen</span> select=1</span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> (pcode==<span class="string">&quot;.&quot;</span> | pcode==<span class="string">&quot;15&quot;</span> | pcode==<span class="string">&quot;46&quot;</span> | pcode==<span class="string">&quot;54&quot;</span> | pcode==<span class="string">&quot;63&quot;</span> | pcode==<span class="string">&quot;64&quot;</span> | pcode==<span class="string">&quot;65&quot;</span>) | CX==.</span><br><span class="line"><span class="comment">** 3.调整样本</span></span><br><span class="line"><span class="keyword">local</span> <span class="keyword">var</span> <span class="string">&quot;daily dress eec food house med trco other eptran epwelf mortage&quot;</span></span><br><span class="line"><span class="keyword">foreach</span> j of <span class="keyword">local</span> <span class="keyword">var</span> &#123;</span><br><span class="line"><span class="keyword">replace</span> <span class="symbol">`j&#x27;</span>=0 <span class="keyword">if</span> <span class="symbol">`j&#x27;</span>==.</span><br><span class="line"><span class="keyword">replace</span> <span class="symbol">`j&#x27;</span>=. <span class="keyword">if</span> select==0</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">replace</span> dis_inc=0 <span class="keyword">if</span> dis_inc==.</span><br><span class="line"><span class="comment">** 4.可支配收入分位数</span></span><br><span class="line"><span class="keyword">gen</span> type5=.</span><br><span class="line"><span class="comment">//收入组划分标准----分城乡</span></span><br><span class="line"><span class="keyword">forvalues</span> j=1/2 &#123;</span><br><span class="line"><span class="keyword">egen</span> p0_<span class="symbol">`j&#x27;</span>=<span class="built_in">min</span>(dis_inc) <span class="keyword">if</span> select==1 &amp; CX==<span class="symbol">`j&#x27;</span>,<span class="keyword">by</span>(pcode)</span><br><span class="line"><span class="keyword">forvalues</span> i=20(20)80 &#123;</span><br><span class="line"><span class="keyword">egen</span> p<span class="symbol">`i&#x27;</span>_<span class="symbol">`j&#x27;</span>=<span class="keyword">pctile</span>(dis_inc) <span class="keyword">if</span> select==1 &amp; CX==<span class="symbol">`j&#x27;</span>,p(<span class="symbol">`i&#x27;</span>) <span class="keyword">by</span>(pcode)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">egen</span> p100_<span class="symbol">`j&#x27;</span>=<span class="built_in">max</span>(dis_inc) <span class="keyword">if</span> select==1 &amp; CX==<span class="symbol">`j&#x27;</span>,<span class="keyword">by</span>(pcode)</span><br><span class="line"><span class="comment">//替换type5取值</span></span><br><span class="line"><span class="keyword">replace</span> type5=1 <span class="keyword">if</span> dis_inc&gt;=p0_<span class="symbol">`j&#x27;</span>  &amp; dis_inc&lt;p20_<span class="symbol">`j&#x27;</span></span><br><span class="line"><span class="keyword">replace</span> type5=2 <span class="keyword">if</span> dis_inc&gt;=p20_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;p40_<span class="symbol">`j&#x27;</span></span><br><span class="line"><span class="keyword">replace</span> type5=3 <span class="keyword">if</span> dis_inc&gt;=p40_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;p60_<span class="symbol">`j&#x27;</span></span><br><span class="line"><span class="keyword">replace</span> type5=4 <span class="keyword">if</span> dis_inc&gt;=p60_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;p80_<span class="symbol">`j&#x27;</span></span><br><span class="line"><span class="keyword">replace</span> type5=5 <span class="keyword">if</span> dis_inc&gt;=p80_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;=p100_<span class="symbol">`j&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** 四、收入数据校正</span></span><br><span class="line"><span class="comment">/* 注：1.CFPS比较了当期和上一期调查的收入数据,取两者的较大值得到了家庭净收入数据,</span></span><br><span class="line"><span class="comment">这里使用的家庭可支配收入数据是校正后的CFPS家庭净收入数据;</span></span><br><span class="line"><span class="comment">       2.偏差较大的数据,偏差使用【分城乡的人均可支配收入的五分类-不分城乡CFPS家庭</span></span><br><span class="line"><span class="comment">人均净收入】,差距是-3或-4时,替换使用CFPS纠正的数据进行计算。</span></span><br><span class="line"><span class="comment">原因:(1)这个收入的偏差主要是高收入者故意汇报较低的收入导致的偏差，因此这个差值</span></span><br><span class="line"><span class="comment">是负数的时候,可能存在较大偏误；</span></span><br><span class="line"><span class="comment">    (2)从2018年的数据来看，差距是-2、-1的样本比较多(合计大约有1970户)，大批量</span></span><br><span class="line"><span class="comment">的样本出现偏误的可能性不大。      */</span></span><br><span class="line"><span class="comment">** 1.计算收入组分类差距</span></span><br><span class="line"><span class="keyword">destring</span> type5,<span class="keyword">replace</span></span><br><span class="line"><span class="keyword">gen</span> typegap=type5-fincome1_per_p</span><br><span class="line"><span class="keyword">egen</span> new_disposable_inc=rowtotal(fincome1) <span class="keyword">if</span> (typegap==-3 | typegap==-4) &amp; fincome1!=.</span><br><span class="line"><span class="comment">** 2.校正家庭可支配收入</span></span><br><span class="line"><span class="keyword">replace</span> disposable_inc=new_disposable_inc <span class="keyword">if</span> (typegap==-3 | typegap==-4) &amp; fincome1!=.</span><br><span class="line"><span class="keyword">drop</span> new_disposable_inc typegap</span><br><span class="line"><span class="comment">** 3.校正人均可支配收入</span></span><br><span class="line"><span class="keyword">drop</span> dis_inc</span><br><span class="line"><span class="keyword">gen</span> dis_inc=disposable_inc/familysize<span class="symbol">`yy&#x27;</span></span><br><span class="line"><span class="keyword">replace</span> dis_inc=0 <span class="keyword">if</span> dis_inc==.</span><br><span class="line"><span class="comment">** 4.校正人均可支配收入分组</span></span><br><span class="line"><span class="keyword">drop</span> type5 p*_*</span><br><span class="line"><span class="keyword">gen</span> type5=.</span><br><span class="line"><span class="comment">//收入组划分标准----分城乡</span></span><br><span class="line"><span class="keyword">forvalues</span> j=1/2 &#123;</span><br><span class="line"><span class="keyword">egen</span> p0_<span class="symbol">`j&#x27;</span>=<span class="built_in">min</span>(dis_inc) <span class="keyword">if</span> select==1 &amp; CX==<span class="symbol">`j&#x27;</span>,<span class="keyword">by</span>(pcode)</span><br><span class="line"><span class="keyword">forvalues</span> i=20(20)80 &#123;</span><br><span class="line"><span class="keyword">egen</span> p<span class="symbol">`i&#x27;</span>_<span class="symbol">`j&#x27;</span>=<span class="keyword">pctile</span>(dis_inc) <span class="keyword">if</span> select==1 &amp; CX==<span class="symbol">`j&#x27;</span>,p(<span class="symbol">`i&#x27;</span>) <span class="keyword">by</span>(pcode)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">egen</span> p100_<span class="symbol">`j&#x27;</span>=<span class="built_in">max</span>(dis_inc) <span class="keyword">if</span> select==1 &amp; CX==<span class="symbol">`j&#x27;</span>,<span class="keyword">by</span>(pcode)</span><br><span class="line"><span class="comment">//替换type5取值</span></span><br><span class="line"><span class="keyword">replace</span> type5=1 <span class="keyword">if</span> dis_inc&gt;=p0_<span class="symbol">`j&#x27;</span>  &amp; dis_inc&lt;p20_<span class="symbol">`j&#x27;</span></span><br><span class="line"><span class="keyword">replace</span> type5=2 <span class="keyword">if</span> dis_inc&gt;=p20_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;p40_<span class="symbol">`j&#x27;</span></span><br><span class="line"><span class="keyword">replace</span> type5=3 <span class="keyword">if</span> dis_inc&gt;=p40_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;p60_<span class="symbol">`j&#x27;</span></span><br><span class="line"><span class="keyword">replace</span> type5=4 <span class="keyword">if</span> dis_inc&gt;=p60_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;p80_<span class="symbol">`j&#x27;</span></span><br><span class="line"><span class="keyword">replace</span> type5=5 <span class="keyword">if</span> dis_inc&gt;=p80_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;=p100_<span class="symbol">`j&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** 五、分组依据、统计</span></span><br><span class="line"><span class="keyword">tostring</span> CX,<span class="keyword">replace</span></span><br><span class="line"><span class="keyword">tostring</span> type5,<span class="keyword">replace</span></span><br><span class="line"><span class="keyword">gen</span> group=pcode+<span class="string">&quot;0&quot;</span>+CX+<span class="string">&quot;0&quot;</span>+type5</span><br><span class="line"><span class="keyword">local</span> <span class="keyword">var</span> <span class="string">&quot;daily dress eec food house med trco other eptran epwelf mortage&quot;</span></span><br><span class="line"><span class="keyword">foreach</span> i of <span class="keyword">local</span> <span class="keyword">var</span> &#123;</span><br><span class="line"><span class="keyword">gen</span> new_<span class="symbol">`i&#x27;</span>=.</span><br><span class="line"><span class="keyword">forvalues</span> j=1/5 &#123;</span><br><span class="line">ereplace new_<span class="symbol">`i&#x27;</span>=<span class="keyword">mean</span>(<span class="symbol">`i&#x27;</span>) <span class="keyword">if</span> select==1 &amp; CX==<span class="string">&quot;1&quot;</span> &amp; type5==<span class="string">&quot;`j&#x27;&quot;</span> &amp; new_<span class="symbol">`i&#x27;</span>==., <span class="keyword">by</span>(pcode)</span><br><span class="line">ereplace new_<span class="symbol">`i&#x27;</span>=<span class="keyword">mean</span>(<span class="symbol">`i&#x27;</span>) <span class="keyword">if</span> select==1 &amp; CX==<span class="string">&quot;2&quot;</span> &amp; type5==<span class="string">&quot;`j&#x27;&quot;</span> &amp; new_<span class="symbol">`i&#x27;</span>==., <span class="keyword">by</span>(pcode)</span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//分省份、城乡、收入组的平均家庭规模</span></span><br><span class="line"><span class="keyword">egen</span> famsize=<span class="keyword">mean</span>(familysize<span class="symbol">`yy&#x27;</span>) <span class="keyword">if</span> select==1,<span class="keyword">by</span>(group)</span><br><span class="line"> </span><br><span class="line"><span class="comment">** 六、生成结果变量</span></span><br><span class="line"><span class="comment">** 1.筛选样本</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> select==1    <span class="comment">//剔除样本小于100、无法判断城乡的样本</span></span><br><span class="line"><span class="keyword">sort</span> group</span><br><span class="line"><span class="keyword">keep</span> fid<span class="symbol">`yy&#x27;</span> fid14 pcode CX type5 group new_* dis_inc daily dress eec food house med trco other eptran epwelf mortage famsize familysize<span class="symbol">`yy&#x27;</span> disposable_inc dis_inc fincome1_per_p</span><br><span class="line"><span class="comment">** 3.导出数据</span></span><br><span class="line"><span class="keyword">destring</span> pcode CX type5 group,<span class="keyword">replace</span></span><br><span class="line"><span class="keyword">keep</span> fid<span class="symbol">`yy&#x27;</span> fid14 pcode CX type5 group new_* daily dress eec food house med trco other eptran epwelf mortage familysize<span class="symbol">`yy&#x27;</span> disposable_inc dis_inc fincome1_per_p</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;校正支出数据/使用数据/1028-CFPS20`yy&#x27;&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 七、生成校正数据做统计(将分户的加总——基于fid14)</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;校正支出数据/使用数据/1028-CFPS20`yy&#x27;&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 城乡、收入组划分</span></span><br><span class="line"><span class="keyword">tostring</span> CX type5,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">//城乡识别码</span></span><br><span class="line"><span class="keyword">replace</span> CX=<span class="string">&quot;城镇&quot;</span> <span class="keyword">if</span> CX==<span class="string">&quot;1&quot;</span></span><br><span class="line"><span class="keyword">replace</span> CX=<span class="string">&quot;农村&quot;</span> <span class="keyword">if</span> CX==<span class="string">&quot;2&quot;</span></span><br><span class="line"><span class="comment">//收入组划分指标</span></span><br><span class="line"><span class="keyword">replace</span> type5=<span class="string">&quot;低收入户(20%)&quot;</span> <span class="keyword">if</span> type5==<span class="string">&quot;1&quot;</span></span><br><span class="line"><span class="keyword">replace</span> type5=<span class="string">&quot;中间偏下户(20%)&quot;</span> <span class="keyword">if</span> type5==<span class="string">&quot;2&quot;</span></span><br><span class="line"><span class="keyword">replace</span> type5=<span class="string">&quot;中间收入户(20%)&quot;</span> <span class="keyword">if</span> type5==<span class="string">&quot;3&quot;</span></span><br><span class="line"><span class="keyword">replace</span> type5=<span class="string">&quot;中间偏上户(20%)&quot;</span> <span class="keyword">if</span> type5==<span class="string">&quot;4&quot;</span></span><br><span class="line"><span class="keyword">replace</span> type5=<span class="string">&quot;高收入户(20%)&quot;</span> <span class="keyword">if</span> type5==<span class="string">&quot;5&quot;</span></span><br><span class="line"><span class="comment">//省份识别码</span></span><br><span class="line"><span class="keyword">merge</span> <span class="keyword">m</span>:1 pcode using <span class="string">&quot;/～/CFPS分省分收入组各项支出/计算消费支出/城乡分组消费数据/省份识别码&quot;</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> _merge==3</span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="comment">** 计算分组统计数值</span></span><br><span class="line"><span class="keyword">egen</span> expense=rowtotal(daily dress eec food house med trco other eptran epwelf mortage)</span><br><span class="line"><span class="keyword">gen</span> <span class="keyword">count</span>=1</span><br><span class="line"><span class="keyword">egen</span> count_num=<span class="keyword">total</span>(<span class="keyword">count</span>),<span class="keyword">by</span>(group)</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">count</span></span><br><span class="line"><span class="keyword">egen</span> new_expense=<span class="keyword">mean</span>(expense),<span class="keyword">by</span>(group)</span><br><span class="line"><span class="keyword">egen</span> min_expense=<span class="built_in">min</span>(expense), <span class="keyword">by</span>(group)</span><br><span class="line"><span class="keyword">egen</span> max_expense=<span class="built_in">max</span>(expense), <span class="keyword">by</span>(group)</span><br><span class="line"><span class="comment">** 校正支出数据</span></span><br><span class="line"><span class="keyword">egen</span> expense_<span class="symbol">`yy&#x27;</span>=<span class="keyword">total</span>(expense),<span class="keyword">by</span>(fid14)</span><br><span class="line"><span class="keyword">local</span> varname <span class="string">&quot;daily dress eec food house med trco other eptran epwelf mortage familysize`yy&#x27;&quot;</span></span><br><span class="line"><span class="keyword">foreach</span> v of <span class="keyword">local</span> varname &#123;</span><br><span class="line">ereplace <span class="symbol">`v&#x27;</span>=<span class="keyword">total</span>(<span class="symbol">`v&#x27;</span>),<span class="keyword">by</span>(fid14)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 设置支出占比最大的样本的省份作为主要省份</span></span><br><span class="line"><span class="keyword">sort</span> fid14 expense</span><br><span class="line"><span class="keyword">egen</span> <span class="keyword">list</span>=seq(),to(100) <span class="keyword">by</span>(fid14)</span><br><span class="line"><span class="keyword">egen</span> list_max=<span class="built_in">max</span>(<span class="keyword">list</span>),<span class="keyword">by</span>(fid14)</span><br><span class="line"><span class="keyword">gen</span> check=1 <span class="keyword">if</span> list_max==<span class="keyword">list</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> check==1</span><br><span class="line"><span class="keyword">gen</span> fenhu<span class="symbol">`yy&#x27;</span>=0     <span class="comment">//是否分户</span></span><br><span class="line"><span class="keyword">replace</span> fenhu<span class="symbol">`yy&#x27;</span>=1 <span class="keyword">if</span> list_max&gt;=2 &amp; list_max&lt;=100</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">list</span> expense check list_max</span><br><span class="line"><span class="comment">** label variables</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> type5    <span class="string">&quot;收入组划分&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> group    <span class="string">&quot;分类识别码(省码+城乡识别码+收入组划分码)&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> pcode    <span class="string">&quot;省份识别码&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> province <span class="string">&quot;省份名称&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> daily   <span class="string">&quot;原-家庭设备及日用品&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> dress   <span class="string">&quot;原-衣着&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> eec     <span class="string">&quot;原-文化教育娱乐&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> food    <span class="string">&quot;原-食品&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> house   <span class="string">&quot;原-居住(房租、水电等,不含房贷)&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> med     <span class="string">&quot;原-医疗保健&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> trco    <span class="string">&quot;原-交通通讯&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> other   <span class="string">&quot;原-其他消费支出&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> eptran  <span class="string">&quot;原-转移性支出&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> epwelf  <span class="string">&quot;原-保障性支出&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> mortage <span class="string">&quot;原-建房购房贷款支出&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> expense <span class="string">&quot;原-家庭总支出&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_daily   <span class="string">&quot;1.家庭设备及日用品&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_dress   <span class="string">&quot;2.衣着&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_eec     <span class="string">&quot;3.文化教育娱乐&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_food    <span class="string">&quot;4.食品&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_house   <span class="string">&quot;5.居住(房租、水电等,不含房贷)&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_med     <span class="string">&quot;6.医疗保健&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_trco    <span class="string">&quot;7.交通通讯&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_other   <span class="string">&quot;8.其他消费支出&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_eptran  <span class="string">&quot;9.转移性支出&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_epwelf  <span class="string">&quot;10.保障性支出&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_mortage <span class="string">&quot;11.建房购房贷款支出&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> new_expense <span class="string">&quot;家庭总支出(分组均值)&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> count_num   <span class="string">&quot;样本数&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> fenhu<span class="symbol">`yy&#x27;</span>   <span class="string">&quot;是否分户(1=是,0=否)&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> min_expense <span class="string">&quot;家庭总支出(分组最小值)&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> max_expense <span class="string">&quot;家庭总支出(分组最大值)&quot;</span></span><br><span class="line"><span class="comment">** 排序</span></span><br><span class="line"><span class="keyword">order</span> fid<span class="symbol">`yy&#x27;</span> province pcode CX type5 group daily dress eec food house med trco other eptran epwelf mortage expense new_* fenhu<span class="symbol">`yy&#x27;</span></span><br><span class="line"><span class="keyword">sort</span> group</span><br><span class="line"><span class="comment">** 原始数据</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;校正支出数据/校正20`yy&#x27;&quot;</span>,<span class="keyword">replace</span></span><br><span class="line">export excel using <span class="string">&quot;校正支出数据/三期数据表.xlsx&quot;</span>, sheet(<span class="string">&quot;CFPS20`yy&#x27;&quot;</span>,modify) firstrow(varlabels)</span><br><span class="line"><span class="comment">** 分组统计</span></span><br><span class="line"><span class="keyword">egen</span> <span class="keyword">list</span>=seq(),to(1000) <span class="keyword">by</span>(group)</span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> <span class="keyword">list</span>==1</span><br><span class="line"><span class="keyword">drop</span> fid<span class="symbol">`yy&#x27;</span> <span class="keyword">list</span></span><br><span class="line">export excel using <span class="string">&quot;校正支出数据/三期数据表.xlsx&quot;</span>, sheet(<span class="string">&quot;20`yy&#x27;分组统计&quot;</span>,modify) firstrow(varlabels)</span><br><span class="line"><span class="comment">** 生成待匹配数据</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;校正支出数据/校正20`yy&#x27;&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> fid<span class="symbol">`yy&#x27;</span> fid14 province pcode CX type5 group daily dress eec food house med trco other eptran epwelf mortage expense new_expense count_num min_expense max_expense familysize<span class="symbol">`yy&#x27;</span> fenhu<span class="symbol">`yy&#x27;</span></span><br><span class="line"><span class="keyword">local</span> varname <span class="string">&quot;province pcode CX type5 group daily dress eec food house med trco other eptran epwelf mortage expense new_expense count_num min_expense max_expense&quot;</span></span><br><span class="line"><span class="keyword">foreach</span> v of <span class="keyword">local</span> varname&#123;</span><br><span class="line"><span class="keyword">rename</span> <span class="symbol">`v&#x27;</span> <span class="symbol">`v&#x27;</span><span class="symbol">`yy&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;校正支出数据/校正20`yy&#x27;&quot;</span>,<span class="keyword">replace</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 视频合集 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> 公开数据库 </tag>
            
            <tag> CMDS </tag>
            
            <tag> CFPS </tag>
            
            <tag> CLDS </tag>
            
            <tag> bilibili </tag>
            
            <tag> 视频 </tag>
            
            <tag> 代码库 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>模型｜合成控制法 (Synthetic Control Method, SCM)</title>
      <link href="/posts/48726/"/>
      <url>/posts/48726/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><h4 id="合成控制法概述">1. 合成控制法概述</h4><p><a href="https://lianxh.cn/news/f0c24b225eb69.html">[连享会]合成控制法简介</a></p><p><a href="https://lianxh.cn/news/fe320d20a9420.html">[连享会]Stata：合成控制法介绍-synth2</a></p><p><ahref="https://mp.weixin.qq.com/s/dvm6ePOj5Sjvru875TQYEQ">[计量经济圈]广义合成控制法gsynth, 基于交互固定效应的因果推断</a></p><p><ahref="https://mp.weixin.qq.com/s/rSidfMUkizUjaoP5RClHXA">[公共视野与定量方法]合成控制法：一种架空历史的思维方式</a></p><p><ahref="https://mp.weixin.qq.com/s/j7JvvKXwYGQQW2J0A1225w">[计量经济圈]合成控制法创始人如何用SCM做实证呢？这些规定动作一个都不能少！</a></p><h4 id="代码与软件实现">2. 代码与软件实现</h4><p><a href="https://yiqingxu.org/software/">[Xu Yiqing] gsynth:Generalized Synthetic Control Method</a></p><p><a href="https://lianxh.cn/news/9e1bb97a57041.html">[连享会]合成控制法 (Synthetic Control Method) 及 Stata实现</a></p><p><a href="https://lianxh.cn/news/d7c94c7777226.html">[连享会]Stata：合成控制法-synth-命令无法加载-plugin-的解决办法</a></p><p><a href="https://lianxh.cn/news/db3d2785cd5c0.html">[连享会]Synth_Runner命令：合成控制法高效实现</a></p><p><a href="https://lianxh.cn/news/bcf8d62073675.html">[连享会]Stata：合成控制法的预测区间-scpi</a></p><p><ahref="https://mp.weixin.qq.com/s/R3cUFWoQewyFjBcvQeHenA">[计量经济圈]分享一篇使用合成控制法SCM进行实证研究的文章的代码</a></p><p><ahref="https://mp.weixin.qq.com/s/tpKkDCjUk3lcD2qQyAMMfA">[数量经济学]一文读懂合成控制法 (Synthetic Control Method)操作及Stata应用</a></p><p><ahref="https://mp.weixin.qq.com/s/mc293hSIgaLxOZoqWtPwpA">[数量经济学]合成控制法操作及Stata应用（附香烟控制法案及房产税经典论文实现）</a></p><h4 id="合成控制与机器学习">3. 合成控制与机器学习</h4><p><a href="https://lianxh.cn/news/e66e82b083bc6.html">[连享会]Stata：基于Lasso的合成控制法-scul</a></p><p><ahref="https://mp.weixin.qq.com/s/AmjTI36cJeClgm-CO9dh0w">[计量经济圈]用合成控制法, 机器学习和面板数据模型开展政策评估的论文！</a></p><p><ahref="https://mp.weixin.qq.com/s/Y_Yv2-Yoq6S5ygMncGSY6Q">[计量经济圈]合成控制法SCM新进展, 直接通过代码演示, 附数据和code！</a></p><h4 id="合成双重差分合成控制法与-did-的杂交">4.合成双重差分：合成控制法与 DID 的杂交</h4><p><ahref="https://pwya.github.io/post/计量前沿did方法实用手册/">[潘王雨昂]前沿DID方法实用手册：Fuzzy DID,合成控制DID,DML</a> —— SDID：合成控制与DID 的结合</p><p><ahref="https://mp.weixin.qq.com/s/eREDvoGi8xGQia4cmI1COw">[计量经济圈]前沿, 合成双重差分法SDID方法介绍和示例, 附code和数据！</a></p><h4 id="合集与论文推介">5. 合集与论文推介</h4><p><ahref="https://mp.weixin.qq.com/s/fue2zQ6KhVW8Bf0EfgrGig">[数量经济学]综合控制、合成DID最新书单、命令包汇总</a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 合成控制法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>资源分享｜农业经济类书籍</title>
      <link href="/posts/52858/"/>
      <url>/posts/52858/</url>
      
        <content type="html"><![CDATA[<h3 id="下载链接">下载链接</h3><p>链接: <ahref="https://pan.baidu.com/s/14kB-osOUUZqLXUfKztg7eA?pwd=sc8a">百度网盘下载链接</a></p><p>提取码: sc8a</p><h3 id="书籍清单">书籍清单</h3><ol type="1"><li>T. W. Schultz (西奥多 W. 舒尔茨)， 《 <em>Transforming TraditionalAgriculture</em> (改造传统农业)》，<strong>中文版与英文版</strong></li><li>黄宗智，《明清以来的乡村社会经济变迁》，含《华北的小农经济与社会变迁》与《长江三角洲小农家庭与乡村发展》分卷</li><li>费孝通，《江村经济》 &amp; 《 <em>Peasant Life in China ：A FieldStudy of Country Life in the Yangtze Valley</em>》，<strong>中文版与英文版</strong></li><li>Frank Ellis (弗克兰 · 艾利思)，《 <em>Peasant Economics：FarmHouseholds in Agrarian Development</em>(农民经济学：农民家庭农业和农业发展) 》, <strong>英文版</strong></li><li>A. V. Chayanov (恰亚诺夫)，《 <em>The Theory of the PeasantEconomy</em> (农民经济组织) 》, <strong>中文版与英文版</strong></li><li>速水佑次郎，弗农·拉坦，《农业发展：国际前景》，<strong>中文版</strong><ul><li>《农业发展：国际前景》，商务印书馆，1993</li><li>《农业发展：国际前景》，商务印书馆，2014</li><li>《农业发展的国际分析（修订扩展版）》，中国社会科学出版社，2000</li></ul></li><li>Chang Pei-kang (张培刚)，《 <em>Agriculture andindustrialization</em> (农业与工业化)》，<strong>中文版</strong>与<strong>英文版</strong></li><li>Douglass C. North (道格拉斯 · 诺思)，《 <em>The Rise of the WesternWorld A New Economic History</em> (西方世界的兴起)》，<strong>中文版</strong>与<strong>英文版</strong></li><li>考茨基，《土地问题》，<strong>中文版</strong>，三联书店出版社，1926</li><li>阿比吉特 ·班纳吉，《贫穷的本质：我们为什么摆脱不了贫困》，<strong>中文版</strong></li><li>约翰·冯·杜能，《孤立国同农业和国民经济的关系》，<strong>中文版</strong>，1986，商务印书馆</li><li>林毅夫，《制度、技术与中国农业发展》</li><li>温铁军，《中国农村基本经济制度研究：三农问题世纪反思》</li><li>Chihiro Nakajima《<em>Subjective Equilibrium Theory of the FarmHousehold</em>》, <strong>英文版</strong>, 1986年出版, Elsevier SciencePublishers B. V.</li><li>Inderjit Singh, Lyh Squire and John Strauss《<em>AgriculturalHousehold Models: Extensions, Applications and Policy</em>》,<strong>英文版</strong>, 1986年出版, Johns Hopkins UiniversityPress.</li><li>孔祥智《崛起与超越——中国农村改革的过程及机理分析》，<strong>中文版</strong>，2008年出版，中国人民大学出版社</li><li>WenRong QIAN (钱文荣, 浙江大学)《<em>Societal Development in RuralChina</em>》，<strong>英文版</strong></li><li>WenRong QIAN (钱文荣, 浙江大学)《<em>The Economy of Chinese RuralHouseholds</em>》，<strong>英文版</strong></li><li>George W. Norton, Jeffrey Alwang and William A.Masters《<em>Economics of Agricultural Development: World Food Systemsand Resource Use</em>》,<strong>英文版</strong>, 2nd Edition,2010年出版, Published in Taylor &amp; Francis e-Library</li><li>《<em>Handbook of Agricultural Economics</em>》系列,<strong>英文版</strong><ul><li>Volume 1A</li><li>Volume 1B</li><li>Volume 2A</li><li>Volume 2B</li><li>Volume 3</li><li>Volume 4</li></ul></li><li>杨月欣，《中国食物成分表(标准版)》，第六版，<strong>中文版</strong>：<ul><li>第一册：PDF、EPUB 格式，2018 年出版</li><li>第二册：PDF 格式，2019 年出版</li></ul></li></ol>]]></content>
      
      
      <categories>
          
          <category> 资源共享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 农业经济 </tag>
            
            <tag> 资源分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>模型｜双重差分法 (Difference-in-Difference, DID)</title>
      <link href="/posts/53153/"/>
      <url>/posts/53153/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接">相关链接：</h3><p><strong>注意⚠️：以下为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><h4 id="关于差分法">1. 关于差分法</h4><p><ahref="https://pwya.github.io/post/计量前沿did方法实用手册/">[潘王雨昂]前沿DID方法实用手册：Fuzzy DID,合成控制DID,DML</a></p><p><ahref="https://mp.weixin.qq.com/s/VMKmW5WiC9qB2UxUn702Uw">[人类有趣行为实验室]Handbook of DID family</a></p><p><a href="https://mp.weixin.qq.com/s/te_fJpPhilzMTIs5R091BQ">[连享会]Stata：各种DID估计量的比较分析</a></p><p><ahref="https://mp.weixin.qq.com/s/sKaLgD21Qcdy3Kkobp3-oQ">[香樟经济学术圈]香樟推文2791：新的DiD理论文献让你眼花缭乱？系统性梳理DiD方法前沿进展</a></p><h4 id="双重差分法">2. 双重差分法</h4><p><ahref="https://mp.weixin.qq.com/s/_mZ0QiRcKk62un6uby9Eiw">[数量经济学]不可不知的双重差分法（DID）经典案例合集</a></p><p><ahref="https://mp.weixin.qq.com/s/jAfuF7p0HIeZCMbX-85t-A">[数量经济学]2023年国内必读的TOP3-DID论文：《数量经济技术经济研究》+《产业经济评论》+《东北财经大学学报》上DID论文推荐</a></p><p><a href="https://mp.weixin.qq.com/s/_5OE5Ak36FpkG-Wj0TmB3w">[连享会]如何在R语言中实现多期DID</a></p><p><ahref="https://mp.weixin.qq.com/s/j5k1KghQ5xNh7YiV1liEBw">[随机漫步的西瓜]A Checklist for DID Practitioners</a></p><p><a href="https://mp.weixin.qq.com/s/YBJkVclky3aJKSIw0q0gBQ">[学术宅]异质性稳健DID估计量：Stata &amp; R</a></p><p><ahref="https://mp.weixin.qq.com/s/stwOsJjS72VyTLtqsFjvKA">[土豆的经管Workshop]科研随笔：双重差分要放入虚拟变量单项吗？</a></p><p><ahref="https://mp.weixin.qq.com/s/CT2Qz8hxN7A58xfHEQ96yQ">[数量经济学]DRDID--双重稳健估计量</a></p><p><ahref="https://mp.weixin.qq.com/s/DmQSkABS1RYfJ6_49CB6UQ">[数量经济学]双重差分及三重差分（倍差法）操作及应用手册</a></p><p><ahref="https://mp.weixin.qq.com/s/gtPrFWVPZK67Hg8KH5DZ1Q">[数量经济学]一文读懂DID中TWFE估计时存在的偏误问题</a></p><p><ahref="https://mp.weixin.qq.com/s/9vWfYgCzCXTJjYbWhaWbSw">[计量经济圈]12年试点, 15年推广到全国的政策, 回归时是否包括16和17年数据？</a></p><h4 id="三重差分法">3. 三重差分法</h4><p><ahref="https://mp.weixin.qq.com/s/TqL0Bv9kPwx9Tt_01YE9iw">[君泉计量]三重差分--碳减排政策的真实效应：财务约束与溢出效应</a></p><p><ahref="https://mp.weixin.qq.com/s/DmQSkABS1RYfJ6_49CB6UQ">[数量经济学]双重差分及三重差分（倍差法）操作及应用手册</a></p><h4 id="模糊双重差分">4. 模糊双重差分</h4><p><em>- 待更新 -</em></p><h4 id="交叠双重差分">5. 交叠双重差分</h4><p><ahref="https://mp.weixin.qq.com/s/yLaDp8Yy6xSjCfqjo80AIQ">[计量经济圈]交叠DID简明使用教程, 降低学者DID的学习成本！</a></p><p><a href="https://pwya.github.io/post/计量交叠did实用教程/">[潘王雨昂]交叠DID实用教程</a></p><p><ahref="https://mp.weixin.qq.com/s/kGjHCZ7Mk_uFvHHzxVHyGQ">[数量经济学]免费公开课：交叠DID偏误及Bacon分解+案例应用</a></p><p><ahref="https://mp.weixin.qq.com/s/Lq0mBplWLPwRN5k3MsszOA">[数量经济学]Bacon分解bacondecomp新+旧版本操作及ddtiming命令（三合一）操作应用</a></p><h4 id="多时期did">6. 多时期DID</h4><p><ahref="https://mp.weixin.qq.com/s/WiKCCpUd1wpLlbMLmd9OkA">[数量经济学]csdid:多时期DID的异质性稳健估计量</a></p><p><ahref="https://mp.weixin.qq.com/s/lb5ooOJSXFI2py3OHcOsCQ">[数量经济学]多期 DID 经典论文-视频+操作应用：银行管制与收入差距</a></p><h4 id="合成双重差分">7. 合成双重差分</h4><p><em>- 待更新 -</em></p><h4 id="psm-did">8. PSM-DID</h4><p><ahref="https://mp.weixin.qq.com/s/9bhv9_gU0F9VaA0hEbxgKg">[计量经济圈]传统PSM-DID模型的改进与应用, 如何在面板数据中使用PSM方法</a></p><p><ahref="https://mp.weixin.qq.com/s/GC3OFipiWAmp2b_2bctKkg">[数量经济学]推荐一篇《统计研究》上PSM-DID必读文章及应用论文</a></p><p><ahref="https://mp.weixin.qq.com/s/k0JUy--pLMRfAzQHwr5hEQ">[数量经济学]23年第4期《数量经济技术经济研究》最新PSM-DID+Callaway和SantAnna估计量等</a></p><h4 id="平行趋势检验安慰剂检验">9. 平行趋势检验、安慰剂检验</h4><p><ahref="https://mp.weixin.qq.com/s/wqkUfU0PMkFQhjbazGHYqA">[数量经济学]双重差分法（DID）平行趋势及安慰剂检验方法案例合集</a></p><p><a href="https://lianxh.cn/news/f79402a26b30c.html">[连享会]多时点DID保姆级教程(上)-平行趋势检验</a></p><p><a href="https://www.lianxh.cn/news/04e10a17a4f5f.html">[连享会]多时点DID保姆级教程(下)-安慰剂检验</a></p><p><ahref="https://mp.weixin.qq.com/s/o4vEOnhAtETdq_R5FVPp5A">[数量经济学]2种双重差分法（DID）安慰剂检验方法：随机抽取500/1000次（附完整代码免费下载）</a></p><h4 id="因果效应">10. 因果效应</h4><p><ahref="https://mp.weixin.qq.com/s/3yRx6ZBgy05eXhOC5WoOHg">[数量经济学]理解DID出了什么问题?双向固定效应模型TWFE与异质性处理效应drdid和csdid</a></p><h4 id="差分法合集">11. 差分法合集</h4><p><ahref="https://mp.weixin.qq.com/s?__biz=MjM5OTMwODM1Mw==&amp;mid=2448093061&amp;idx=1&amp;sn=18c60f08ae6fa36941f9a8d7933a5df6&amp;chksm=b32332ab8454bbbd33b93bf042a9fc7f1bc308130ab90b87a917a81d00c3e2464c54118d977f&amp;scene=21#wechat_redirect">[计量经济圈]120篇DID双重差分方法的文章合集, 包括代码,程序及解读, 建议收藏！</a></p><p><ahref="https://mp.weixin.qq.com/s/001rbC3NvWb7EuqmKh0pbA">[数量经济学]2023新版DID进展汇总：命令、书单、论文、文章资源汇总</a></p><p><ahref="https://mp.weixin.qq.com/s/fue2zQ6KhVW8Bf0EfgrGig">[数量经济学]综合控制、合成DID最新书单、命令包汇总</a></p><p><ahref="https://mp.weixin.qq.com/s/BUlsaSlsBTHzbzvk-ibjPQ">[数量经济学]31个必知必会的DID命令（7个常规DID命令+20个DID进展最新命令+平行趋势和安慰剂命令）</a></p><h4 id="经典案例与论文">12. 经典案例与论文</h4><p><ahref="https://mp.weixin.qq.com/s?__biz=MjM5OTMwODM1Mw==&amp;mid=2448095580&amp;idx=1&amp;sn=485fa37aa5aca3c92efcb292a44b0b72&amp;chksm=b32324728454ad64b8a6468179177ce0e5a45d85957191b59df72aa7d39fc9484e2ec7ba18f8&amp;scene=21#wechat_redirect">[计量经济圈]诚实双重差分法DID, 面板事件研究法和Bacon分解的经典应用文！</a></p><p><ahref="https://mp.weixin.qq.com/s/kD5au4gmL6fMH3lvMO9zkQ">[计量经济圈]曾国藩QJE: 权力之网, 运用DID, DDD, 事件研究方法！</a></p><p><ahref="https://mp.weixin.qq.com/s/dF4JM5Z3toQxjCa9eyo_hw">[计量经济圈]典范! 这篇AER在一图表里用了所有DID最新进展方法, 审稿人直接服了！</a></p><p><ahref="https://mp.weixin.qq.com/s/UZxsHSDnglquPZaXSzCGNA">[计量经济圈]一篇满足我所有DID幻想的最新AER, 交叠, 连续DID, 调节,机制分析等范文！</a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> DID </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> SDID </tag>
            
            <tag> PSM-DID </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>资源分享｜计量经济学类书籍</title>
      <link href="/posts/16796/"/>
      <url>/posts/16796/</url>
      
        <content type="html"><![CDATA[<h3 id="下载链接">下载链接</h3><p>链接: <ahref="https://pan.baidu.com/s/1r5LkvxGu3uAtYBxRiLL1jw?pwd=vmgi">百度网盘下载链接</a></p><p>提取码: vmgi</p><h3 id="书籍清单">书籍清单</h3><ol type="1"><li>陈强《高级计量经济学及Stata应用 (第2版)》，PDF书籍、勘误表、案例数据与课件</li><li>乔舒亚 ·安格里斯特《基本无害的计量经济学：实证研究者指南》，<strong>中文版</strong></li><li>Joshua D. Angrist &amp; Jörn-Steffen Pischke《 <em>Mostly HarmlessEconometrics An Empiricist’s Companion</em> 》,<strong>英文版</strong></li><li>乔舒亚 · 安格里斯特, 约恩 - 斯蒂芬 ·皮施克《精通计量：从原因到结果的探寻之旅》，<strong>中文版</strong>和<strong>英文版</strong><ul><li><strong>中文版</strong>：2019年出版，格致出版社，上海三联书店，上海人民出版社</li><li><strong>英文版</strong>：2015年出版，Princeton University Press</li></ul></li><li>赵西亮《基本有用的计量经济学》</li><li>杰弗里 · M · 伍德里奇《计量经济学导论 (第四版) 》,<strong>中文版</strong></li><li>Peng Ding《A First Course in CausalInference》，<strong>英文版</strong><ul><li>预印本PDF</li><li>对应附件：R代码、数据</li></ul></li><li>Jeffrey M. Wooldridge《 <em>Introductory Econometrics: A ModernApproach</em> 》4th - 7th edition, <strong>英文版</strong></li><li>邱嘉平《因果推断实用计量方法》</li><li>Adrian Colin Cameron &amp; Pravin K. Trivedi《 <em>MicroeconometricsUsing Stata</em> 》, <strong>第一版</strong>, <strong>中文版</strong>,<strong>英文版</strong>, 译名《用 Stata 学微观计量经济学》</li></ol><ul><li>中文版：用 Stata 学微观计量经济学，第一版，2015年出版</li><li>英文版：<em>Microeconometrics UsingStata</em>，第一版，2009年出版</li><li>英文版对应附件：Do文件、dta数据</li></ul><ol start="11" type="1"><li>Adrian Colin Cameron &amp; Pravin K. Trivedi《 <em>MicroeconometricsUsing Stata</em> 》, <strong>第二版</strong>, <strong>英文版</strong>,译名《用 Stata 学微观计量经济学》</li><li>Bruce E. Hansen 《 <em>Econometrics</em> (2021) 》,<strong>英文版</strong><ul><li>课件、代码和数据</li><li>PDF电子书</li></ul></li><li>Bruce E. Hansen 《 <em>Intro to Econometrics</em> (2021) 》,<strong>英文版</strong></li><li>Bruce E. Hansen《<em>Probability and Statistics forEconomists</em>》, <strong>英文版</strong><ul><li>课件、代码和数据</li><li>PDF电子书</li></ul></li><li>William H. Greene 《<em>Econometric Analysis</em>》，8thEdition，<strong>英文版</strong></li><li>Miguel A. Hernán &amp; James M. Robns 《 <em>Causal Inference: WhatIf</em> 》, <strong>英文版</strong>, PDF 书籍、代码与案例数据</li><li>Leo Krippner 《 <em>Zero Lower Bound Term Structure Modeling</em>》, <strong>英文版</strong></li><li>王孟成，毕向阳《潜变量建模与 Mplus 应用：进阶篇》</li><li>A. H. Studenmund《<em>Using Econometrics: A PracticalGuide</em>》6th edition, <strong>英文版</strong></li><li><strong>另附：R 语言学习相关书籍 20 本</strong></li></ol>]]></content>
      
      
      <categories>
          
          <category> 资源共享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 资源分享 </tag>
            
            <tag> 计量经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>资源分享｜发展经济学类书籍</title>
      <link href="/posts/15726/"/>
      <url>/posts/15726/</url>
      
        <content type="html"><![CDATA[<h3 id="下载链接">下载链接</h3><p>链接: <ahref="https://pan.baidu.com/s/145KOlFPtetm0tl1i2b6NJg?pwd=239u">百度网盘下载链接</a></p><p>提取码: 239u</p><h3 id="书籍清单">书籍清单</h3><ol type="1"><li>[日]速水佑次郎 (Yujiro Hayami)《发展经济学：从贫困到富裕 (<em>Development Economics</em>: <em>From the Poverty to the Wealth ofNations</em> )》，<strong>中文版(2003 &amp; 2009)与英文版(2005, ThirdVersion)</strong></li><li>德布拉吉 · 瑞《发展经济学》，<strong>中文版</strong></li><li>Xiaokai Yang, Jeffrey D. Sachs 《 <em>Economic Development and theDivision of Labor</em> 》, <strong>英文版</strong></li><li>杨小凯，张永生《 新兴古典经济学与超边际分析 》</li><li>迈克尔 P. 托达罗，斯蒂芬 C.史密斯《发展经济学(原书第11版)》，<strong>中文版</strong>，2014</li><li>Debraj Ray 《 <em>Development economics</em> 》,<strong>英文版</strong></li><li>林珏《发展经济学案例集(第二版)》，2018</li><li>郭熙保(主编)，《发展经济学》，高等教育出版社</li><li>Daron Acemoglu, 《 <em>Introduction to Modern Economic Growth</em>》, 2007</li><li><em>Handbook of Development Economics</em>, Vol 1 - Vol 5</li></ol>]]></content>
      
      
      <categories>
          
          <category> 资源共享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 资源分享 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜控制变量怎么选？</title>
      <link href="/posts/23952/"/>
      <url>/posts/23952/</url>
      
        <content type="html"><![CDATA[<h3 id="相关链接"><strong>相关链接：</strong></h3><p><strong>注意⚠️：本文为相关链接的收藏合集，链接内容非本人原创文章。</strong></p><h4 id="控制变量的选择好坏与数量">1. 控制变量的选择：好坏与数量</h4><p><a href="https://lianxh.cn/news/5156229fb5147.html">[连享会]控制变量！控制变量！</a></p><p><a href="https://lianxh.cn/news/c548e33fbb649.html">[连享会]A-理论部分：控制变量！控制变量！Good-Controls-Bad-Controls</a></p><p><a href="https://lianxh.cn/news/a54246bf82745.html">[连享会]B-Stata模拟：控制变量！控制变量！Good-Controls-Bad-Controls</a></p><p><ahref="https://mp.weixin.qq.com/s/n13z1T8JFMuArUwUzy3USg">[计量经济圈]控制变量! 控制变量! 控制变量!</a></p><p><ahref="https://mp.weixin.qq.com/s/qeFzUQcnOQsZdr4fELhgRA">[计量经济圈]开班了! 好控制变量or差控制变量: 速成班</a></p><p><ahref="https://mp.weixin.qq.com/s/HW0UETNi5qSYKqOJhasN1g">[计量经济圈]什么是不好的控制变量, 什么又是好的控制变量?</a></p><p><ahref="https://mp.weixin.qq.com/s/ViTEBkLgp4Y8evbYGW6m3w">[计量经济圈]图灵奖得主JudeaPearl关于控制变量选择问题的文章被社会科学方法顶刊接收！</a></p><p><ahref="https://www.zhihu.com/question/326199739/answer/2998737188">[知乎]控制变量是如何被“控制”的？<em>by: 心理统计联盟</em></a></p><p><a href="https://www.lianxh.cn/news/7baa597b33b8d.html">[连享会]控制变量越多越好吗？</a></p><p><ahref="https://mp.weixin.qq.com/s/jlNTRbLqdNH08QNamI6P4A">[计量经济圈]控制变量选择问题: 如何鉴别好或不好的控制变量？附上14篇相关文章！</a></p><h4 id="控制变量核心解释变量与机制变量的关系">2.控制变量、核心解释变量与机制变量的关系</h4><p><a href="https://lianxh.cn/news/4eb3cb3d50dcd.html">[连享会]Stata：控制变量与核心解释变量地位对等吗？</a></p><p><ahref="https://mp.weixin.qq.com/s/pZk5pNBivUjh-kC_b3igdw">[计量经济圈]调节变量, 中介变量和控制变量啥区别与联系?</a></p><p><ahref="https://mp.weixin.qq.com/s/1qc0SgAHZS63RIfRGDBTFA">[君泉计量]Stata：控制变量与核心解释变量地位对等吗？</a></p><p><ahref="https://mp.weixin.qq.com/s/RjWz4qiTjZqR1Tu5AngQ_g">[计量经济圈]控制变量的内生性需要处理吗？如何处理呢？</a></p><p><ahref="https://mp.weixin.qq.com/s/YN-yiGBi24pj9e8I9mi1hA">[计量经济圈]合理使用控制变量的策略与建议, 从研究设计,数据收集与分析和结果报告三方面下手！</a></p><h4 id="控制变量可以不同吗">3. 控制变量可以不同吗？</h4><p><ahref="https://mp.weixin.qq.com/s/0Q5JhlPOcroqg8tZ6SL20w">[计量经济圈]主回归与机制分析中的控制变量可以不同吗？</a></p>]]></content>
      
      
      <categories>
          
          <category> 收藏集锦 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 收藏集锦 </tag>
            
            <tag> 控制变量 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>资源分享｜经济学类书籍</title>
      <link href="/posts/16712/"/>
      <url>/posts/16712/</url>
      
        <content type="html"><![CDATA[<p><strong>⚠️注意：本页的分享链接多次被百度网盘封禁，无法提供统一的批量保存链接。如有需要，可以点击对应蓝色标题获取下载链接。</strong></p><h3 id="书籍清单">书籍清单</h3><p><strong><ahref="https://pan.baidu.com/s/1RTnGWU7iAmcpqVxi-Yr3oA?pwd=9dus">微观：</a></strong></p><ol type="1"><li>平新乔《中级微观经济学十八讲》</li><li>Geoffrey A. Jehle 《 <em>Advanced Microeconomic Theory</em>(<em>third edition</em>) 》（杰弗里 · A ·杰里，《高级微观经济理论》）<strong>英文版</strong></li><li>[美]沃尔特 · 尼克尔森《中级微观经济学：理论与应用 (第10版)》-中国人民大学出版社-2012</li><li>Samuel Bowles 《 <em>Microeconomics: Behavior, Institutions, andEvolution</em> 》英文版</li><li>Daron Acemoglu, David Laibson and John List《<em>Microeconomics</em>》，<strong>英文版</strong>和<strong>中文版</strong><ul><li>英文版：第 3 版，2022，PDF 格式</li><li>英文版：第 3 版，2019，PDF 格式</li><li>中文版：第三版，2024，中信出版社，EUPB 格式</li></ul></li></ol><p><strong><ahref="https://pan.baidu.com/s/1-Lh0j4wrwKcqvXTTF1TIyQ?pwd=urnd">宏观：</a></strong></p><ol type="1"><li>David Romer 《 <em>Advanced Macroeconomics</em> 》, fourth edtionand fifth edition, <strong>英文版</strong></li><li>戴维 · 罗默《高级宏观经济学 (第四版)》，<strong>中文版</strong></li><li>戴维 · 罗默《高级宏观经济学 (第四版)题解指南》，<strong>中文版</strong></li><li>Daron Acemoglu, David Laibson and JohnList（阿西莫格鲁版本）《宏观经济学》，<strong>英文版</strong>和<strong>中文版</strong><ul><li>英文版：第 3 版，2021，PDF 格式</li><li>中文版：第 3 版，2024，中信出版社，EUPB 格式</li><li>中文版：第 2 版，2021，中信出版社，PDF 格式</li></ul></li><li>N · 格里高利 · 曼昆《宏观经济学 (第七版)》，<strong>中文版</strong></li><li>N · 格里高利 · 曼昆《宏观经济学 (第九版)》，<strong>中文版</strong></li><li>N. Gregrory Mankiw《 <em>Macroeconomics</em> (<em>seventhedition</em>) 》, <strong>英文版</strong></li><li>Williamson 《 <em>Macroeconomics</em> (<em>fifth edition</em>)》,<strong>英文版</strong></li><li>高鸿业《西方经济学 (宏观部分) 》第六版</li><li>龚六堂《动态经济学方法》</li><li>徐高《高级宏观经济学入门导引》第1稿，<ahref="https://bbs.pinggu.org/thread-7076782-1-1.html">来源</a></li><li>人民大学研究生用高级宏观材料，<ahref="https://bbs.pinggu.org/thread-1050097-1-1.html">来源</a></li></ol><p><strong><ahref="https://pan.baidu.com/s/1gtEetuMdo3IVu-jDVm5JLg?pwd=9n5f">经济学数学基础：</a></strong></p><ol type="1"><li>蒋中一《动态最优化基础》</li><li>蒋中一《数理经济学的基本方法》</li></ol><p><strong><ahref="https://pan.baidu.com/s/1_lF-g04UqIauv6J4fZyiGw?pwd=a290">中国政治和经济研究：</a></strong></p><ol type="1"><li>兰小欢《置身事内：中国政府与经济发展》，<strong>中文版</strong>，2021年出版，上海人民出版社。<ul><li>EPUB格式</li><li>PDF格式</li><li><em><u>该文件多次被百度网盘封禁，因此做了两次加密压缩，第二层压缩包的解压密码，请见压缩包内的「README.txt」文件</u></em></li></ul></li><li>XiaoHuan LAN《<em>How China Works: An Introduction to China'sState-led Economic Development</em>》, <strong>英文版</strong>,2024年出版, Springer Nature Singapore PteLtd.，兰小欢《置身事内：中国政府与经济发展》<ul><li>EPUB格式</li><li>PDF格式</li><li><em><u>该文件多次被百度网盘封禁，因此做了两次加密压缩，第二层压缩包的解压密码，请见压缩包内的「README.txt」文件</u></em></li></ul></li><li>Ross Garnaut, Ligang Song and Fang Cai《<em>China’s 40 Years ofReform and Development 1978–2018</em>》, <strong>英文版</strong>,2019年出版, Australian National University Press.译名：郜若素、宋立刚、蔡昉《中国40年改革与发展：1978-2018》</li><li>李晓鹏《这个国家会好吗：中国崛起的经济学分析》，<strong>中文版</strong>，中国发展出版社</li><li>陆铭《大国大城》，<strong>中文版</strong>，2016年出版，上海人民出版社</li></ol><p><strong><ahref="https://pan.baidu.com/s/1kSWhJrx6ozfcWFuGYu8ZrQ?pwd=gv6s">马克思、恩格斯的政治经济学：</a></strong></p><ol type="1"><li>《马克思恩格斯全集(共50卷)》，人民出版社，1956年出版，<strong>中文版</strong></li><li>《资本论(第2版, 全三卷)》，人民出版社，2004年出版</li></ol><p><strong><ahref="https://pan.baidu.com/s/139AEiaSMnH2SNp8IFd9hOg?pwd=k4gz">Handbookof Labor Economics (劳动经济学手册) :</a></strong></p><ol type="1"><li>Vol 1, 1987</li><li>Vol 2, 1987</li><li>Vol 3A, Vol 3B, Vol 3C, 1999</li><li>Vol 4A, Vol 4B, 2010</li><li>Vol 5, 2024</li></ol><hr /><h3 id="其他经济学相关书籍"><ahref="https://pan.baidu.com/s/1Keo_OiapNTFAF4e8_zKCSg?pwd=4qhw">其他经济学相关书籍：</a></h3><ol type="1"><li>加里 · 斯坦利 ·贝克尔《家庭论》，商务印书馆，<strong>中文版</strong></li><li>加里 · 斯坦利 ·贝克尔《家庭经济分析》，华夏出版社，<strong>中文版</strong></li><li>薛永应，张德霖，李晓帆《生产力经济论》，人民出版社，<strong>中文版</strong></li><li>David Roland_Holst and Dominique Van derMensbrugghe《政策建模技术：CGE模型的理论与实现》，清华大学出版社，<strong>中文版</strong>，2009年出版。译者：李善同、段志刚、胡枫</li></ol>]]></content>
      
      
      <categories>
          
          <category> 资源共享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 微观经济学 </tag>
            
            <tag> 资源分享 </tag>
            
            <tag> 经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件｜Windows 安装 jupyter 后无法通过终端打开</title>
      <link href="/posts/51675/"/>
      <url>/posts/51675/</url>
      
        <content type="html"><![CDATA[<p>　　在安装 anaconda 过程中，将 anaconda加入环境变量的选项无法选中，是灰色的。安装后无法通过 terminal 打开jupyter notebook。</p><p>　　这里参考了下面链接的做法，以解决在 terminal 中无法识别 "jupyternotebook" 命令的问题：</p><p>　　<ahref="https://blog.csdn.net/iteapoy/article/details/103532358?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165293747316781435461926%2522%252C%2522scm%2522%253A%252220140713.130102334%E2%80%A6%2522%257D&amp;request_id=165293747316781435461926&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2allsobaiduend~default-1-103532358-null-null.142v10pc_search_result_control_group,157v4control&amp;utm_term=jupyter+%3A+%E6%97%A0%E6%B3%95%E5%B0%86%E2%80%9Cjupyter%E2%80%9D%E9%A1%B9%E8%AF%86%E5%88%AB%E4%B8%BA+cmdlet%E3%80%81%E5%87%BD%E6%95%B0%E3%80%81%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6%E6%88%96%E5%8F%AF%E8%BF%90%E8%A1%8C%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%90%8D%E7%A7%B0%E3%80%82&amp;spm=1018.2226.3001.4187">【CSDN】jupyter: 无法将“jupyter”项识别为cmdlet、函数、脚本文件或可运行程序的名称_iteapoy的博客-CSDN博客_无法将jupyter项识别为cmdlet</a></p><p>　　只需要将 anaconda 加入 Windows的系统环境变量即可。具体步骤是：</p><ol type="1"><li>打开环境变量设置：打开系统设置—搜索"高级系统设置"—高级—环境变量</li></ol><p>　　<imgsrc="https://picx.zhimg.com/80/v2-94ba1ace30093227002820f501c33d00_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-7f663e277e9eea5d1f5e083fb5575354_1440w.png?source=d16d100b" /></p><ol start="2" type="1"><li>添加环境变量：系统变量—选中"Path"—编辑</li></ol><p>　　<imgsrc="https://picx.zhimg.com/80/v2-385119369bea3f258a4d96cd08b7234c_1440w.png?source=d16d100b" /></p><p>　　打开如下界面后，【新建—添加如下三个路径—确定】即可</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-87a7834803d94c5d3d1696c2943159b9_1440w.png?source=d16d100b" /></p><p>　　我在安装时设置了默认安装路径，因此需要添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\ProgramData\Anaconda3</span><br><span class="line">C:\ProgramData\Anaconda3\Scripts</span><br><span class="line">C:\ProgramData\Anaconda3\Library\bin</span><br></pre></td></tr></table></figure><p>　　如果在安装时选择了其他位置，作相应修改即可。</p><ol start="3" type="1"><li>关闭终端与anaconda，重新打开终端后，即可使用"jupyternotebook"命令打开。</li></ol><p>　　<imgsrc="https://picx.zhimg.com/80/v2-bf6a9377aebeb59195b5b43c47d2fd4a_1440w.png?source=d16d100b" /></p>]]></content>
      
      
      <categories>
          
          <category> 软件相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件相关 </tag>
            
            <tag> zotero </tag>
            
            <tag> Jupyter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据采集｜怎么获得农村/农业劳动力数据</title>
      <link href="/posts/11020/"/>
      <url>/posts/11020/</url>
      
        <content type="html"><![CDATA[<p>（<ahref="https://www.zhihu.com/question/531376356/answer/2470564169">原文链接</a>）</p><p>“农村劳动力数据”和“农业劳动力数据”有很大的差别，<strong>一个是区域概念，一个是产业概念，在农村不一定从事农业，在城镇的也有从事第一产业</strong>。以前找过“农业劳动力数量”的数据，这个并不好找。<br /><span class="math display">\[农村劳动力 \neq 乡村就业人数  \neq 农业从业人数  \notag\]</span></p><p>关于农业/农村的“劳动力”或者“从业/就业人数”这个数据可以考虑从两个地方找：</p><h3id="中国农村统计年鉴或中国劳动统计年鉴">1.《中国农村统计年鉴》或《中国劳动统计年鉴》</h3><p>《中国农村统计年鉴》里有指标没数据：</p><p><imgsrc="https://pic3.zhimg.com/80/v2-aa4a8cf422d2a4047860c87ff59c178b_1440w.jpg" /></p><p>《中国劳动统计年鉴》有在城镇单位就业的农林牧渔业从业人口数：</p><p><imgsrc="https://pic3.zhimg.com/80/v2-34c39d550efa28af13a7a11ea031e321_1440w.jpg" /></p><h3id="各省的统计年鉴例如浙江省的统计年鉴下图有的省份分性别统计了农村女性劳动力数量但有的省份不一定有这个只能靠题主自己找了">2.各省的统计年鉴：例如浙江省的统计年鉴（下图），有的省份分性别统计了“农村女性劳动力数量”，但有的省份不一定有，这个只能靠题主自己找了。</h3><p><imgsrc="https://pic2.zhimg.com/80/v2-3d29be958fbc3a463723277af59abf3c_1440w.jpg" /></p><p><strong>如果题主要找的是“农业劳动力数量”，即产业概念，这个就非常难找了。一般需要各省的统计年鉴逐个翻阅。</strong></p><p>因此，找指标的难度上：<strong>农村劳动力&lt;农业劳动力</strong>，如果还要加上“女性”，农村女性劳动力能不能找到就看各省数据给不给（比如上面的浙江省的图），农业女性劳动力数量几乎找不到。</p><p><strong>2022年10月13日更新：</strong></p><p>既然宏观数据这么难获取，题主可以考虑用微观数据来做。我印象中关于农业“女性化”、“老龄化”的大多使用微观数据来做的。可能可以做的数据有：CFPS、CHFS、CLDS、CHARLS，可能不可用的数据有：卫健委的CMDS，这些数据在经管之家、闲鱼都可以找到，由于数据库会定期更新，最好去官网申请。除了CMDS和CLDS申请比较麻烦，其他三个数据库都比较简单。</p><p>如果用微观调查数据来做，农村劳动力是根据地域划分的，只要调查数据中有居住地的城乡属性、再加上外出务工情况，一般就可以衡量了。</p><p>如果是“农业劳动力”，那就更简单了，微观调查数据一般不会考虑在城镇从农业的情况，或者直接使用行业分类来概括了。因此可以考虑从：1.根据劳动力从事行业类型划分（不划分城乡，只关注农业这一产业概念）；2.仅考虑居住在农村、从事农业生产的情况（更符合实际），根据劳动时间分配或在农村的劳动属性（农业/非农/半工半农等）来判断。</p><p><strong>2022年10月18日更新：</strong></p><p>农村劳动力的界定范围有点广，贴上统计局官方的说法吧：</p><p>按照统计学的概念，农村劳动力资源是指：乡村人口中劳动年龄（16周岁）以上能够参加生产经营活动的人。不论是否参加劳动，均计算在劳动力资源总数之内。这个定义意味着，农村劳动力含农村人口中符合年龄段的就业人口和失业人口以及超过劳动年龄而实际经常参加劳动的人口三个部分，而不包含因长期患病、劳动教养而丧失劳动能力和机会的农村人口。另外，由于农村现行所有制及传统农业的特殊性，农村劳动力中的失业群体，主要以隐性的方式附着于农村经济系统内部。理论上将这一群体称为剩余劳动力。解决剩余劳动力是农村劳动力就业问题的核心。</p><p>这个定义意味着，农村劳动力不一定是地域概念，包括了外出务工的劳动力，农村劳动力判定的依据，除了年龄与劳动能力外，关键问题在于这里的“农村人口”是否指代“户籍人口”，这一问题有待商榷与解决。</p><hr /><p>参考资料：</p><p><ahref="http://www.stats.gov.cn/ztjc/ztfx/fxbg/200501/t20050106_15248.html">甘肃省农村劳动力就业及流动状况的分析研究(stats.gov.cn)</a></p><p><ahref="http://www.stats.gov.cn/ztjc/ztfx/fxbg/200602/t20060216_16024.html">结构调整：解决海南农村劳动力就业的根本出路(stats.gov.cn)</a></p>]]></content>
      
      
      <categories>
          
          <category> 数据相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据相关 </tag>
            
            <tag> 数据采集 </tag>
            
            <tag> 宏观数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件｜误删文件后 Zotero 打开报错</title>
      <link href="/posts/8427/"/>
      <url>/posts/8427/</url>
      
        <content type="html"><![CDATA[<p>　　系统版本：macOS Monterey 12.6</p><p>　　软件版本：最新版 Zotero 6.0.15</p><p>　　硬件设备：MacBook Pro 2020 13.3 英寸，M1 芯片</p><p>　　故障时间：2022 年 10 月 8 日</p><p>　　前段时间，我在 terminal.app 中使用命令不慎删除了 ApplicationSupport文件夹中的一些系统和软件支持文件，导致系统出错，各种软件无法正常使用。在打开Zotero 时，也出现了如下报错。</p><p>　　报错内容是：</p><blockquote><p>[Exception... "Component returned failure code: 0x80520005(NS_ERROR_FILE_DESTINATION_NOT_DIR) [nsIFile.create]" nsresult:"0x80520005 (NS_ERROR_FILE_DESTINATION_NOT_DIR)" location: "JS frame ::chrome://zotero/content/xpcom/ipc.js :: Zotero.IPC&lt;/this.init :: line36" data: no]<br />Zotero.IPC&lt;/this.init@chrome://zotero/content/xpcom/ipc.js:36:9<br />this.init&lt;<span class="citation"data-cites="chrome://zotero/content/xpcom/zotero.js:372:7">@chrome://zotero/content/xpcom/zotero.js:372:7</span><br />From previous event:<br />ZoteroService@file:///Applications/Zotero.app/Contents/Resources/components/zotero-service.js:346:7<br /><span class="citation"data-cites="chrome://zotero/content/include.js:4:14">@chrome://zotero/content/include.js:4:14</span></p></blockquote><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20221008165122-42bktpw.png"alt="image" /></p><p>　　尝试过以下操作，没有解决问题：</p><p>　　从报错内容上看，应该是 Edge 浏览器插件出错了，导致 Zotero无法正常使用。因此我尝试了以下操作：</p><ul><li>卸载 zotero 和 zotero connector 插件，重新安装软件和插件；</li><li>重启 MacBook，再打开 zotero。</li></ul><p>　　上述操作没能解决问题。在上述两个操作无果后，我进行了如下操作：</p><ul><li>卸载刚才安装的 Zotero</li><li>打开Finder，使用快捷键「shift+command+G」，打开「Users/username/Library/ApplicationSupport」文件夹，删除了其中的 Zotero 文件夹</li><li>重新安装 Zotero，并在 Edge 浏览器中重新安装了 Zotero connector插件</li><li>打开 Zotero 后，直接打开 Zotero 的设置（快捷键：command+逗号），在「首选项—高级—文件和文件夹—数据存储位置」中，将数据存储位置自定义为已经同步到本地的坚果云同步文件夹中的Zotero</li><li>重启 Zotero， 成功解决问题。</li></ul><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 软件相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件相关 </tag>
            
            <tag> zotero </tag>
            
            <tag> macOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜非线性模型的调节效应与中介效应</title>
      <link href="/posts/1578/"/>
      <url>/posts/1578/</url>
      
        <content type="html"><![CDATA[<p>　　<strong>在实证分析中，多数是使用线性模型进行估计，然而线性模型无法解释“过犹不及”、“居中不良”等非线性的关系。</strong></p><p>　　<strong>因此，许多学者会考虑同时加入核心解释变量的一次项与平方项，用以估计非线性模型。</strong></p><p>　　<strong>在此类非线性模型中，应当进一步探讨中介效应与调节效应。</strong></p><p>　　以下内容来自林伟鹏、冯保艺（2022）发表在《南开管理评论》上的文章，引用信息如下：</p><blockquote><p>[1]林伟鹏,冯保艺.管理学领域的曲线效应及统计检验方法[J].南开管理评论,2022,25(01):155-166.</p></blockquote><h4 id="摘要"><strong>摘要：</strong></h4><p>　　一般管理学研究在探讨变量间的关系时，通常假定该关系为线性的，即正相关或负相关的关系。然而越来越多实证研究及对客观世界的观察结果表明，变量之间的关系很可能不是简单线性的，而是曲线的。当一个积极的因素投入过度将不能带来额外的收益，甚至可能会带来负面的影响，这种现象称为“过犹不及”效应。相反，如果出现某种因素投入在高水平或低水平时，收益都要比将该因素投入在中等水平时要好，这种现象则称为“居中不良”效应。“过犹不及”和“居中不良”都是典型的曲线效应，这些曲线效应广泛存在于管理学领域及其他社会科学领域，如心理学、社会学、经济学等。本文探究了国内外对于曲线效应现象的论述，并以二次函数曲线关系为例，介绍非线性关系的几种模型（简单非线性关系、非线性调节效应、非线性中介效应）及其统计检验方法，以期为研究者对非线性关系的研究提供参考。</p><hr /><h4id="非线性关系的调节作用"><strong>非线性关系的调节作用：</strong></h4><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-75292c7c25d7567592713659ef443d15_720w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-a16e7b51fc8fec30178b0ed48017f65c_720w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-adf6db415d2af3011a97fef192711a94_720w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-0bbc5a165a06d199da9180a9b9c4a8e2_720w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-d2cde279b5c90201bc4655583e9d7ce5_720w.png?source=d16d100b" /></p><p>　　<imgsrc="https://pica.zhimg.com/80/v2-36571b078d2807bace1bc4be673313f9_720w.png?source=d16d100b" /></p><h4id="非线性关系的中介效应"><strong>非线性关系的中介效应：</strong></h4><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-e91f4e6c8a96f1b59da04a9d32015eb7_720w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-c38f27b4e9e9d302ed457a52074f797d_720w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-b7c9ef4ad7da6f7ed982fd68ea12baf1_720w.png?source=d16d100b" /></p><p>　　<imgsrc="https://pica.zhimg.com/80/v2-422989ada00a0e60d2616cb793b2d6ad_720w.png?source=d16d100b" /></p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-6d538a2f00a3adf70d39621f7a89812f_720w.png?source=d16d100b" /></p><hr /><p>相关链接：<ahref="https://mp.weixin.qq.com/s/eBv_jGnSwx-pRQ3rT02Pig">计量经济圈 -非线性U或倒U型关系需要做的检查清单</a></p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 模型 </tag>
            
            <tag> 中介效应 </tag>
            
            <tag> 调节效应 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据采集｜财政支农数据怎么找</title>
      <link href="/posts/8541/"/>
      <url>/posts/8541/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://www.zhihu.com/question/486450089/answer/2704909860">原文链接</a></strong></p><p>本文的财政支农数据，指的是省级的涉农类财政支出。</p><p>《中国财政年鉴》里找，里面有涉农的财政支出数据，不过要注意指标名称的变动。</p><p>2007年以前的年鉴（对应2006年以前的数据）指标是农业支出、林业支出、水利和气象支出三大类，这3个指标在2007年及以后的年鉴中被合并为了【农林水事务支出】一大类。</p><p><imgsrc="https://pic3.zhimg.com/80/v2-a05a2a83456ac4419973c445990a590a_1440w.jpg" /></p><p><imgsrc="https://pic3.zhimg.com/80/v2-86604c2ba49aabf006c19a81aeece399_1440w.jpg" /></p><p>那么什么是农林水事务支出呢？我在国家统计局网站和年鉴里没找到具体定义，但是在地方统计局网站里找到了相关说法（<ahref="http://tjj.cq.gov.cn/zwgk_233/tjnj/2019/zk/html/zb06.htm">链接</a>）：</p><p><imgsrc="https://pic4.zhimg.com/80/v2-030743a46fa15e2361e000303b152bea_1440w.jpg" /></p><p>不过也不是完全没有办法获得2007年以后的财政农业支出数据。方法就是，去向财政部申请信息公开啊，这是最后的办法了。申请方式和联系方式在下面。你可以自己去财政部网站搜索一下。</p><p><imgsrc="https://pic4.zhimg.com/80/v2-8b43d66bbb91ced8296834ce64a21d4d_1440w.jpg" /></p><p><imgsrc="https://pic2.zhimg.com/80/v2-cdb8483df95a25380fe5b6e932014fe4_1440w.jpg" /></p><h3 id="总结">总结：</h3><p>目前公开渠道里，想找到单纯的财政农业支出很难了，现在汇报的一般是汇总后的农林水事务支出。</p><p>想要单独的财政农业支出很难了，可以去自己申请数据。</p>]]></content>
      
      
      <categories>
          
          <category> 数据相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据相关 </tag>
            
            <tag> 数据采集 </tag>
            
            <tag> 宏观数据 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件｜macOS 安装 Hexo 后无法识别</title>
      <link href="/posts/53567/"/>
      <url>/posts/53567/</url>
      
        <content type="html"><![CDATA[<p>　　在使用 npm 安装 hexo 后，安装 hexo 成功，但 macOS 下无法识别 hexo命令，使用「hexo -v」检查安装状态，或者初始化「hexo init」时出现「zsh:command not found: hexo」的错误。这是因为 hexo虽然已经安装，但未正确配置环境变量导致的。</p><p>　　在 terminal.app (终端app)中， 输入「which node」和「whichnpm」，可以查看到 node 和 npm 的安装路径。如下图所示，可以看出 npm的安装位置在「/Users/username/local/bin/npm」路径下，其中username就是MacBook开机的登录用户名。(为保护隐私，用户名使用蓝色、设备名称使用红色进行了遮挡)</p><p>　　<imgsrc="https://pica.zhimg.com/80/v2-9da85435ceebc834f0fb79394e033f00_1440w.png?source=d16d100b" /></p><p>　　在 hexo 安装完成后，进行初始化步骤时，使用「hexoinit」命令，发现汇报「zsh: command not found:hexo」，这是由于环境变量配置错误导致的（上文已述），需要修改环境变量配置文件。</p><p>　　首先，使用「shi ft+command+。」，打开 Mac的隐藏文件显示，然后找到打开「/Users/username/.npm-global/bin」路径，发现hexo的替身文件被放置在该文件夹下，使用「command+i」，打开简介界面，复制替身路径。</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-30f50785e52b7f41c0af0eb95aaa7c79_1440w.png?source=d16d100b" /></p><p>　　然后，前往「/Users/username/」路径的用户文件夹下，找到「.zshrc」文件，复制后在桌面粘贴。</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-d9c367d4423cd6c320fca20ee5e70f3c_1440w.png?source=d16d100b" /></p><p>　　右键桌面的「.zshrc」文件，使用「文本编辑.app」打开，在其中加入一段命令(红框所示,蓝色抹掉的是用户名)，如下所示：</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-d2c9fef88628ea5559c1b0e6b6afb405_1440w.png?source=d16d100b" /></p><p>　　上述红框内的路径即为上面「hexo」替身文件的保存路径。保存后，将修改过的「.zshrc」文件放回原处，并替换原始文件。</p><p>　　此时，打开「terminal.app」，用「source~/.zshrc」命令更新环境变量，然后输入「hexo -v」即可查看已经安装的 hexo版本号，表明命令已经识别成功，可以进行初始化「hexo init」操作了。</p><p>　　<imgsrc="https://pica.zhimg.com/80/v2-0dbfbff1c6bdc8df46e0cc59137b39d0_1440w.png?source=d16d100b" /></p><p>　　此文操作方法，参考了@biubiuliu的博文，十分感谢。下面附上链接：</p><p>　　<ahref="https://biubiuliu.gitee.io/blog/2020/07/01/notFoundHexo/">MAC zsh:command not found: hexo</a></p>]]></content>
      
      
      <categories>
          
          <category> 软件相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件相关 </tag>
            
            <tag> macOS </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件｜Windows 11 和安卓子系统之间共享文件夹</title>
      <link href="/posts/41997/"/>
      <url>/posts/41997/</url>
      
        <content type="html"><![CDATA[<p>　　参照大佬 <ahref="https://www.zhihu.com/people/f96ddb4d0ee09134dc2b7b0d46c9871d"><spanclass="citation" data-cites="简而易网">@简而易网</span></a>的教程，成功安装了安卓子系统。但是安卓子系统的文件夹系统是Linux系统的，Windows系统不能直接读取，Windows 11 与安卓子系统之间无法共享文件。</p><p>　　在互联网上找了一大堆网页后，发现都是教如何更换安卓子系统文件的存储位置到D 盘 (默认是 C 盘)，并没有解决我的问题。这里参考微软官方论坛(文末参考资料2)，找到了解决方法。</p><ol type="1"><li>简而容网大佬已经提供了 platform-tools 工具的安装、配置和使用教程(文末参考资料3)</li></ol><p>　　这里做一点小小的修改，将 C 盘中 platform-tools 文件夹更名为 adb，并按照简而易网的方法，在配置环境时，同步更改对应路径。</p><p>　　<imgsrc="https://pica.zhimg.com/80/v2-63ac98efeae6a52e46de90b7e28d9ada_1440w.png?source=d16d100b" /></p><p>　　修改文件夹名称</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-c2fec979378f7db6d595af120d75dd3b_1440w.png?source=d16d100b" /></p><p>　　配置环境变量时做的调整</p><ol start="2" type="1"><li>参考文末链接2，使用下面代码将安卓子系统中某个文件夹共享到 windows指定位置中。</li></ol><p>　　假设需要共享的文件夹是安卓子系统下的下载文件夹，即【Download】，其路径是【/storage/emulated/0/Download】</p><p>　　打开开始菜单，找到【终端】这个app，鼠标右键，选择管理员权限打开终端。</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-192f920d1ffad769a66ec578aebec221_1440w.png?source=d16d100b" /></p><p>　　在终端中输入下述命令，输入一行就按下enter键。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">adb version</span><br><span class="line"># 根据自己的路径更改</span><br><span class="line">cd c:/adb</span><br><span class="line"># 开启子系统的调试功能后，根据IP地址修改</span><br><span class="line">adb connect 127.0.0.1:58526</span><br><span class="line"># 创建文件夹映射</span><br><span class="line">adb push /storage/emulated/0/Download</span><br><span class="line">adb pull /storage/emulated/0/Download</span><br></pre></td></tr></table></figure><p>　　这样，就可以在 adb 文件夹下找到共享的 Download 文件夹了。</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-e1c6ad9eb608fb8c91c372982e174167_1440w.png?source=d16d100b" /></p><p>　　当然，可以根据自己需要共享其他文件夹，只要修改【adb push】和【adbpull】后的文件夹路径即可。</p><p>　　注意，在进行上述操作时，需要断开电脑上连接的其他安卓设备，如果其他安卓设备未断开，在运行最后两行命令时将会提示文件夹路径不唯一，存在多个设备。</p><hr /><p>　　参考资料：</p><ol type="1"><li><a href="https://zhuanlan.zhihu.com/p/424959704">Windows 11运行安卓子系统安装教程 - 知乎 (zhihu.com)</a></li><li><ahref="https://learn.microsoft.com/en-us/answers/questions/601660/how-to-transform-files-between-win11-and-wsa-local.html">Howto transfer files between win11 and WSA locally? - MicrosoftQ&amp;A</a></li><li><a href="https://www.jianeryi.com/1346.html">安卓 ADB命令行调试配置方法丨简而易网 (jianeryi.com)</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 软件相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件相关 </tag>
            
            <tag> Windows11 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件｜解决 Windows 11 下无法打开 WiFi 的问题</title>
      <link href="/posts/8779/"/>
      <url>/posts/8779/</url>
      
        <content type="html"><![CDATA[<p>　　我的机械革命 Z2 air-G 安装了 Windows 11系统，此前一个多月的使用未发生任何问题，在 360、Windows update里更新里系统版本和驱动后，使用一段时间出现了 WiFi突然断连问题，尝试重启等基础手段后没有得到恢复，手动打开 WiFi会马上跳回到关闭状态，无法开启。</p><p>　　最终参考 B 站下面的视频成功解决问题。</p><p>　　<ahref="https://www.bilibili.com/video/BV16F41187qq">【BiliBili】win11_WiFi_连接不上解决方案</a></p><p>　　这位老哥询问联想官方客服，得到的回答是静电问题，具体步骤是：</p><ul><li>拔除所有外设 (包括拔除电源) 的情况下</li><li>关机</li><li>长按电源键15秒不松手，以释放静电</li><li>开机</li><li>插上电源线与其他外设</li><li>解决问题</li></ul><p>　　这种方法简单粗暴，但却顺利解决了我的问题。为避免我以后忘记，这里把这种问题和解决方法做一个记录。感谢这位UP 主的分享，帮我解决了问题。</p><hr /><p>　　当然，Windows 11 的 WiFi 断连问题可能并不都是静电导致的，我也花了3-4 小时尝试了几种方法，共大家参考。</p><h3 id="基础操作">1. 基础操作</h3><ul><li>重启电脑</li><li>检查 WiFi 等网络环境是否稳定</li><li>360 断网修复（有一说一，360对电脑小白的确很友好，只要关闭所有设置里的选项，需要的时候再打开）</li><li>检查是否开启了【以太网 EAP】、【VPN】、【代理服务器】等</li></ul><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-a5c48b3065dfe2562711c455078824b0_1440w.png?source=d16d100b" /></p><p>　　（详见文末——阿德科技的视频链接）</p><h3 id="使用-windows-11-疑难解答">2. 使用 Windows 11 疑难解答</h3><p>　　打开【系统设置——疑难解答——其他疑难解答】，运行【Internet连接】或【网络适配器】的疑难解答，或者可以两个都运行，运行后根据提示解决问题，重启即可。</p><p>　　<imgsrc="https://pica.zhimg.com/80/v2-282074f388aa168bbdefe228e46efbf2_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-4e6c4734e2aed6135ff313e791ce29d8_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-b80d0805d454aa28780f46859d5c2fc2_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-f630c62e1182c435a14b5987d2057fce_1440w.png?source=d16d100b" /></p><h3 id="更新网卡驱动和网络适配器驱动">3.更新网卡驱动和网络适配器驱动</h3><p>　　如果通过【疑难解答】不能解决问题，就可能需要考虑是不是网卡启动问题了。</p><p>　　可以在【系统设置——系统——系统信息——设备管理器——网络适配器】里重新安装相关驱动。</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-14844f9bceef2d897052af101cb606f4_1440w.png?source=d16d100b" /></p><p>　　每个人的电脑型号不同，网卡驱动也有所区别，我的是上图红框内的两个，用于给遇到同样问题的朋友参考。</p><p>　　方案一：【选中网卡驱动——鼠标右键——属性——更新驱动程序——自动搜索驱动程序】，更新驱动并应用更改后，关闭页面然后重启即可。</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-7d0963bc81f7a18ee4f28b45244ac2f1_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-d9e07cfc0c143cd789c79ebb83ec477b_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-3cfc72f27dd8f64ea61de0e050faa731_1440w.png?source=d16d100b" /></p><p>　　方案二：【选中网卡驱动——鼠标右键——属性——卸载设备】，然后【扫描检测硬件改动】，会重新安装原版本的驱动，也需要更新驱动并应用更改后，关闭页面然后重启。</p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-3be3a136139509da562b58c693fd5d99_1440w.png?source=d16d100b" /></p><p>　　方案三：你也可以在驱动网卡提供商对应的官网上，下载最新版本的驱动。多数品牌的电脑也有自己的官网，会体提供驱动下载的服务。哪个能兼容就用哪个。</p><p>　　以我使用的机械革命为例，可以在其<ahref="http://www.mechrevo.com/">官网</a>上找到自己电脑型号对应的驱动。</p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-a355e96f20b11564b918c8472aad9e66_1440w.png?source=d16d100b" /></p><p>　　下载好品牌官网的驱动后，类似方案二，在卸载原有的驱动后，在网络适配器中安装即可。</p><p>　　也可以去硬件提供商的官网下载最新版驱动（以 intel 官网为例）：</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-262be3db25ab59dfe068eb19576f64cf_1440w.png?source=d16d100b" /></p><p>　　Intel 将驱动和安装程序封装为了 exe 文件，双击 exe文件，按提示安装即可。</p><h3 id="电源设置不当">4. 电源设置不当</h3><p>　　电源设置/节电模式设置不当，也会导致 Windows 11 系统的 WiFi突然掉线，特别是在笔记本电脑盒盖未关机、不插电时使用、长期未盒盖息屏后再次点亮屏幕时，更容易发生此类问题。</p><p>　　【系统设置——网络和 Internet ——高级网络设置——更多网络适配器选项——WLAN 鼠标右键——属性】</p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-b466f8b854be9db0521708ee1ac247f6_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-b51a491127cf8e457f6ab2900722ddda_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-ab0d96080499f6d0182b6e06743d0ed7_1440w.png?source=d16d100b" /></p><p>　　【WLAN属性——网络——网卡配置——电源管理——取消勾选“允许计算机关闭设备以节约电源”——确认】，然后关闭窗口，重启电脑。</p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-0ecb1252864dd0427c9ed7942c3bd47c_1440w.png?source=d16d100b" /></p><p>　　<imgsrc="https://picx.zhimg.com/80/v2-d74782ecd22e100a155c581c18df43f2_1440w.png?source=d16d100b" /></p><p>　　电源配置也有其他的设置，详细请看文末阿德科技的视频链接。</p><h3 id="释放静电">5. 释放静电</h3><p>　　虽然不知道静电的来源，但我们要的是修复故障，可以正常使用。这种方法在文章最前面已经介绍了，这里不多赘述。</p><h3 id="其他">6. 其他</h3><p>　　也有一些人通过还原高级设置、新建管理员账户等方式解决了问题。这些相关的方法和网页链接会放在文末。</p><hr /><p>　　<strong>参考内容：</strong></p><p>　　<ahref="https://assets.b3logfile.com/siyuan/1634272634187/www.bilibili.com/video/BV16F41187qq">【哔哩哔哩】win11wifi连接不上解决方案</a></p><p>　　<ahref="https://www.youtube.com/watch?v=vDbi9vQ7Ke0">【YouTube】阿德科技 -9步彻底解决：Windows 11/10 无法连接到wifi，无线WIFI自动断网掉线不工作无法上网BUG</a></p><p>　　<ahref="https://www.bilibili.com/video/BV1F3411c7BL">【哔哩哔哩】阿德科技- 保姆级教程 9步彻底解决：Windows 11/10 无法连接到wifi，无线WIFI自动断网掉线不工作无法上网BUG</a>（和上一个油管视频一样，应该是搬运的）</p><p>　　<ahref="https://www.bilibili.com/video/BV1v44y1x7zM">【哔哩哔哩】晨钟酱Official- 最近频繁出现的Win10/11 网络断连，无网络原因及解决方法</a></p><p>　　<ahref="https://www.bilibili.com/video/BV1Uv4y1M74C">【哔哩哔哩】不正经小百科- 让win11wifi这个bug整的实在是不会了</a></p><p>　　<ahref="https://www.bilibili.com/video/BV1wu411y7tw">【哔哩哔哩】鱼粉锅巴- Windows11系统更新后WiFi失灵故障解决方案</a></p><p>　　<ahref="https://www.bilibili.com/video/BV1PT4y1o7tx">【哔哩哔哩】一只大橘喵噢- Win10/11网络WIFI断连修复技巧！网络断连是微软的锅？</a></p><p>　　<ahref="https://answers.microsoft.com/zh-hans/insider/forum/all/win11打不开wifi/8355a521-deeb-4acc-8369-8b7e3f092a90">【MicrosoftCommunity】win11打不开wifi</a></p><p>　　<ahref="https://answers.microsoft.com/zh-hans/windows/forum/all/win11wifi无法打开/be90e1ac-511e-4b18-92ae-14549afeb237?page=1">【MicrosoftCommunity】win11，WiFi无法打开，并不是WiFi图标消失</a></p><p>　　<a href="https://www.youtube.com/watch?v=H-CZLRMvQDg">【YouTube】MDTechVideos International - 解決Windows 11 Wi-Fi無線網絡自動斷線的問題</a></p><p>　　<a href="https://www.youtube.com/watch?v=CY4OKvwZ1kY">【YouTube】MDTechVideos International - 如何排除 Windows 11 中的无线 Internet连接故障 [2022]</a></p><p>　　<ahref="https://zhuanlan.zhihu.com/p/407829130">【知乎】mo然：如何更新Win11系统网卡驱动</a></p><p>　　<ahref="https://www.zhihu.com/question/419929383?utm_id=0">【知乎】怎么办，我不小心把笔记本电脑上的inter串行IO卸载了，现在动不了，在线求解！！！？</a></p>]]></content>
      
      
      <categories>
          
          <category> 软件相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件相关 </tag>
            
            <tag> Windows11 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件｜macOS zotero 深色模式下看不清文字</title>
      <link href="/posts/36956/"/>
      <url>/posts/36956/</url>
      
        <content type="html"><![CDATA[<p>macOS 下，若打开深色模式，zotero内的文字会变成白色，导致提示框与软件内的文字无法看清，使用下面操作可以解决问题：</p><p><imgsrc="https://picx.zhimg.com/80/v2-dda20a3626285055d6a123017d99ec15_1440w.png?source=d16d100b" /></p><ul><li>打开终端（termianl），输入「defaults delete -gNSRequiresAquaSystemAppearance」</li><li>左上角-苹果logo-退出登录，然后重新登录自己电脑的用户名和密码</li><li>系统偏好设置-通用-打开「浅色模式」，然后切换到「深色模式」</li><li>打开 zotero，就可以正常使用了</li></ul><p>内容来源：zotero官方论坛 - <ahref="https://forums.zotero.org/discussion/80372/font-color-somehow-changed-to-white">Fontcolor somehow changed to white</a></p>]]></content>
      
      
      <categories>
          
          <category> 软件相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 软件相关 </tag>
            
            <tag> zotero </tag>
            
            <tag> macOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜Stata多个变量合并为一个字符型变量</title>
      <link href="/posts/19942/"/>
      <url>/posts/19942/</url>
      
        <content type="html"><![CDATA[<p>此前介绍过字符型变量的相关计算：</p><p><a href="https://fgzfgz.github.io/posts/45943/">Stata字符型变量运算</a></p><p>除了字符型变量的分列，也可以将多列（多个变量）合并为一个字符型变量。使用tidy 包提供的 unite命令，可以实现该效果。使用 unite命令合并的多个变量，可以是数值型或字符型，合并的结果是字符型变量，其功能类似于R 语言 tidyr 包的 homonym 函数。</p><h3 id="安装"><strong>安装：</strong></h3><p>首次使用，需要先安装 tidy 命令。tidy 命令包还提供了 spread 与 gather命令用于<ahref="https://fgzfgz.github.io/posts/2262/"><strong>长宽数据转换</strong></a>。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssc install tidy</span><br></pre></td></tr></table></figure><h3 id="基础语法"><strong>基础语法：</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">unite varlist , gen(newvar) [sep(string)]</span><br><span class="line">/* gen(newvar): 定义新生成变量的名称;</span><br><span class="line">   sep(string): 定义变量之间的分隔符, 默认是下划线&quot;_&quot;。  */</span><br></pre></td></tr></table></figure><h3 id="示例"><strong>示例：</strong></h3><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">set obs 10</span><br><span class="line">gen a=1</span><br><span class="line">gen year=&quot;2022&quot;</span><br><span class="line">gen month=&quot;June&quot;</span><br><span class="line">** 合并a、b、c三个变量</span><br><span class="line">unite a year month, gen(x) sep(%)</span><br><span class="line"></span><br><span class="line">** 结果展示</span><br><span class="line">     +--------------------------------+</span><br><span class="line">     | a   year   month             x |</span><br><span class="line">     |--------------------------------|</span><br><span class="line">  1. | 1   2022    June   1%2022%June |</span><br><span class="line">  2. | 1   2022    June   1%2022%June |</span><br><span class="line">  3. | 1   2022    June   1%2022%June |</span><br><span class="line">  4. | 1   2022    June   1%2022%June |</span><br><span class="line">  5. | 1   2022    June   1%2022%June |</span><br><span class="line">  6. | 1   2022    June   1%2022%June |</span><br><span class="line">  7. | 1   2022    June   1%2022%June |</span><br><span class="line">  8. | 1   2022    June   1%2022%June |</span><br><span class="line">  9. | 1   2022    June   1%2022%June |</span><br><span class="line"> 10. | 1   2022    June   1%2022%June |</span><br><span class="line">     +--------------------------------+</span><br></pre></td></tr></table></figure><p>上述用法与 egen 命令的 concat 函数类似（<ahref="https://fgzfgz.github.io/posts/9680/"><strong>传送门</strong></a>）。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">egen x = concat(a year month),punct(%)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>经济思考｜市场经济与计划经济</title>
      <link href="/posts/46532/"/>
      <url>/posts/46532/</url>
      
        <content type="html"><![CDATA[<p>（<ahref="https://www.zhihu.com/question/491089511/answer/2536101604">原文链接</a>）</p><p>需要明确的是：计划经济是发展经济的手段。我国的经济是以市场经济为主的，西方发达国家多数也是以市场经济为主，但市场经济和政府对经济发展有计划并不冲突。</p><p>并且需要明确：有经济发展的计划不等于计划经济。计划经济是官僚机构（中性词，一般指政府）通过行政命令的方式分配生产资源与商品，是生产要素与产品的分类方式。而有经济发展的计划（例如“十四五规划”）是主要依靠市场的力量，官僚机构引导经济发展的方向。</p><p>在经济起步阶段，经济部门较少，生产的复杂程度不高，可利用的生产要素与资源也不多，这被多数人视为贫穷，在这个阶段实施计划经济有助于将有限的资源投入到更有利于国家经济发展的领域中，更有利于摆脱贫穷。例如，在新中国成立后，我国刚经历过战争，工业基础十分薄弱，甚至可以说许多工业生产甚至没有基础，且因为意识形态问题难以向欧美发达国家进口技术。在这种情况下，集中国内优势资源，用于经济的发展，特别是工业制造业的发展，的确帮中国建立起来了一点工业基础，为后来的发展打下了一些底子。（当然有人可能会说工业剥削农业的问题，这是不平等问题，但不可否认国家整体的贫困与经济情况的确得到了好转）</p><p>然而，随着经济的发展，特别是工业的发展，计划经济越来越难以满足日益复杂的生产要素配置与产品分配问题。（是的，计划经济不仅仅体现在产品的分配，还体现在生产要素的供给上）本质还是因为计划经济要依托于大量的信息才能做出足够合理的决策，然而生产的复杂性提升意味着官僚机构获取、处理生产要素需求信息的能力限制了经济发展，可以体现在“价格双轨制”导致的黑市。因此在改革开放后，逐步发展市场经济，发挥市场的作用，更加有助于进一步发展经济，在分配制度合理的情况下，做大蛋糕是有利于降低贫困发生率的。</p><p>做个总结，用计划经济还是市场经济，只是手段问题（在有充分的决策信息的情况下，计划经济甚至可能比市场经济更优，可以避免市场经济中的盲从与不理性，但现实是计划经济往往与现实经济发展需要脱节）。</p><hr /><p><strong>相关链接：</strong></p><p><ahref="https://mp.weixin.qq.com/s/uLB7qZv1jk5OgftoMPLoiA">周黎安｜从“双重创造”到“双向塑造”——构建政府与市场关系的中国经验</a></p>]]></content>
      
      
      <categories>
          
          <category> 经济思考 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 经济思考 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜用outreg2命令导出计量结果</title>
      <link href="/posts/18383/"/>
      <url>/posts/18383/</url>
      
        <content type="html"><![CDATA[<p>直接 <code>help outreg2</code>，看一下 <code>stata</code>官方的说明文档。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">cd &quot;C:\Desktop\数据&quot;    //指定工作路径</span><br><span class="line">** 导出到 Word</span><br><span class="line">reg Y1 X1 X2 X3</span><br><span class="line">outreg2 using &quot;计量结果&quot;, word adjr2 dec(4) replace    //adjr2 表示汇报调整后的 R2，dec(4) 表示保留4位小数，replace 表示替换当前“计量结果”的word文件</span><br><span class="line">reg Y2 X1 X2 X3</span><br><span class="line">outreg2 using &quot;计量结果&quot;, word adjr2 dec(4) append     //计量结果合并到上面的word表格中</span><br><span class="line"></span><br><span class="line">** 导出到 Excel</span><br><span class="line">reg Y1 X1 X2 X3</span><br><span class="line">outreg2 using &quot;计量结果&quot;, excel adjr2 dec(4) replace    //adjr2 表示汇报调整后的 R2，dec(4) 表示保留4位小数</span><br><span class="line">reg Y2 X1 X2 X3</span><br><span class="line">outreg2 using &quot;计量结果&quot;, excel adjr2 dec(4) append     //计量结果合并到上面的 excel 表格中</span><br></pre></td></tr></table></figure><p><strong>可以通过 <code>outreg2</code>命令导出计量结果的模型太多了！</strong></p><p><imgsrc="https://pic4.zhimg.com/80/v2-c25808faa407112e1f2311559ae820bd_1440w.jpg" /></p><p><imgsrc="https://pic3.zhimg.com/80/v2-312267e28c7195fe7506318b4cba8f7f_1440w.jpg" /></p><p><imgsrc="https://pic2.zhimg.com/80/v2-70fe69aa4b5f8c8b60a7209355da76b2_1440w.jpg" /></p><p><imgsrc="https://pic1.zhimg.com/80/v2-b465eb3ff55edb696a2d11c816deb875_1440w.jpg" /></p><p><imgsrc="https://pic3.zhimg.com/80/v2-af21cc674e201f452a336d5baedcc295_1440w.jpg" /></p><p><imgsrc="https://pic1.zhimg.com/80/v2-1fed3a223a343dabf94ed229204132a9_1440w.jpg" /></p><p><imgsrc="https://pic2.zhimg.com/80/v2-1d1e323e41c6ee8ba79fb3eeaf62383a_1440w.jpg" /></p><p><imgsrc="https://pic2.zhimg.com/80/v2-3672c115b0d176ac4233cd53ac062161_1440w.jpg" /></p><p><imgsrc="https://pic3.zhimg.com/80/v2-81f1e2e89c7906a829877726207324e4_1440w.jpg" /></p><p><imgsrc="https://pic3.zhimg.com/80/v2-95bcc67c56534bf1f48ba8d53c5c35a8_1440w.jpg" /></p><p>以后有时间再整理一篇关于使用 <code>outreg2</code>导出计量结果的文章吧。</p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 代码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>宏观｜第10章：新古典宏观经济学与新凯恩斯主义经济学</title>
      <link href="/posts/35486/"/>
      <url>/posts/35486/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/44205/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一货币主义">一、货币主义</h1><p>　　新古典宏观经济学的理论可以追溯到 20 世纪 50年代后期美国的货币主义（学派），其代表人物是美国经济学家米尔顿·弗里德曼。</p><h2 id="一货币主义的理论基础">（一）货币主义的理论基础</h2><h3 id="新货币数量论">1. 新货币数量论</h3><p>　　（传送门：<ahref="https://fgzfgz.github.io/posts/7692/">"费雪方程"</a>、<ahref="https://fgzfgz.github.io/posts/53788/">"永久收入的消费理论"</a>）</p><p>　　传统货币数量论包括费雪方程（即交易方程：<spanclass="math inline">\(Py=MV\)</span> ）和剑桥方程（即庇古的 <spanclass="math inline">\(M=kY=kPy\)</span>），两者的实质是一致的，都认为货币数量与价格水平之间存在着直接的因果数量关系：物价水平的高低，取决于货币数量的多少，二者成正向关系。二者的不同之处在于：交易方程强调货币的交易媒介的作用，而剑桥方程则强调对货币的需求方面。</p><p>　　弗里德曼在吸收和修正凯恩斯灵活偏好论的基础上，推演出了新货币数量论，提出的货币需求函数为：</p><p><span class="math display">\[\begin{align}\frac M P=f \Big( r_b,  r_e, r_p, w, y,  u \Big)\end{align}\]</span></p><ul><li><span class="math inline">\(M\)</span>为财富持有者手中保存的名义货币量；</li><li><span class="math inline">\(P\)</span> 为一般价格水平；</li><li><span class="math inline">\(r_b\)</span> 为市场债券利息率；</li><li><span class="math inline">\(r_e\)</span> 为预期的股票收益率；</li><li><span class="math inline">\(r_p\)</span>为预期的物质资产的收益率，即价格的预期变动率；</li><li><span class="math inline">\(w\)</span>为非人力财富与人力财富之间的比例；</li><li><span class="math inline">\(y\)</span> 为实际国民收入；</li><li><span class="math inline">\(u\)</span>为其他影响货币需求的变量。</li></ul><p>　　弗里德曼强调，新货币数量论与传统货币数量论的差别在于，传统货币数量论把货币流通速度<span class="math inline">\(V\)</span>（或者 <spanclass="math inline">\(\frac1k\)</span>）当作一个由制度决定的常数，而新货币数量论认为稳定的不是<span class="math inline">\(V\)</span>，而是决定 <spanclass="math inline">\(V\)</span> 值的函数，<spanclass="math inline">\(V\)</span> 只不过是稳定的外在表现而已。<spanclass="math inline">\(V\)</span>在长期是一个不变的量，在短期可以轻微地波动。</p><p>　　弗里德曼认为，货币数量说首先是一种货币需求理论，其次才是产出、货币收入或物价水平的理论。因此，货币数量说所要研究的主要是影响人们货币需求的各种因素。</p><p>　　在弗里德曼的货币需求理论中，决定货币需求的因素主要有：</p><ul><li><strong>总财富。</strong>弗里德曼认为，总财富是决定货币需求的一个重要的因素。总财富可以用永久性收入y 来衡量。</li><li><strong>非人力财富在总财富中所占的比例。</strong>弗里德曼把总财富分为非人力财富和人力财富两部分，这两种财富的形式是可以互相转换的，但人力财富转为非人力财富比较困难，因而，当人力财富在总财富中所占比例越大，或非人力财富在总财富中所占比例越小，则对货币的需求也越大，反之亦然。</li><li><strong>各种非人力财富的预期报酬率。</strong>弗里德曼认为，人们选择保存资产的形式除了各种有价证券外，还包括资本品、不动产、耐用消费品等有形资产。一般地说，各种有形资产预期的报酬率愈高，愿意持有的货币就越少。因此，债券的预期报酬率（<spanclass="math inline">\(r_b\)</span>）、股票的预期报酬率（<spanclass="math inline">\(r_e\)</span>）和物质资产的预期报酬率便成为影响货币需求的因素。</li><li><strong>其他影响货币需求的因素，</strong>例如资本品的转手量、个人偏好等，以变量u 来概括。</li></ul><h3 id="自然率假说">2. 自然率假说</h3><p>　　自然率假说：任何一个社会都存在着一个自然失业率，其大小取决于该社会的技术水平、资源数量和文化传统。</p><ul><li>在短期内，人为的经济政策的作用可以暂时使实际的失业率大于或小于自然率；</li><li>在长期中，该社会的经济总是趋向于自然失业率。</li></ul><h2 id="二货币主义的主要观点">（二）货币主义的主要观点</h2><ul><li>货币供给对名义收入变动具有决定性作用。</li><li>在长期中，货币数量的作用主要在于影响价格以及其他用货币表示的量，而不能影响就业量和实际国民收入。通货膨胀归根到底是一种货币现象。</li><li>在短期中，货币供给量可以影响实际变量，如就业量和实际国民收入。</li><li>私人经济具有自身内在的稳定性，国家的经济政策会使它的稳定性遭到破坏。市场机制仍然是调节资源在不同用途之间合理配置的有效工具。如果国家干预干扰了市场机制的作用，反而会导致宏观经济的严重失衡。</li></ul><h2 id="三货币主义的政策主张">（三）货币主义的政策主张</h2><ul><li>反对凯恩斯主义的财政政策。在弗里德曼看来，扩张性财政政策会“挤出”私人投资，影响劳动生产率的改善，过度的政府开支也会带来通货膨胀，因此，财政政策不但无效，反而对经济有害。</li><li>反对“斟酌使用”的（即根据情况变化而制定和执行的）货币政策。</li><li>力主<u>单一政策规则</u>，以货币供给量作为货币政策的唯一控制指标，而排除利率、信贷流量、准备金等政策因素。</li></ul><p>　　单一政策规则：排除利率、信贷流量、准备金等因素，以货币供给量作为货币政策的唯一控制指标，公开宣布一个长期不变的货币增长率。</p><h1 id="二新古典宏观经济学">二、新古典宏观经济学</h1><p>　　理性预期学派也被称为新古典宏观经济学派，其代表人物有卢卡斯、萨金特、华莱士、巴罗等。</p><h2id="一新古典宏观经济学的基本假设">（一）新古典宏观经济学的基本假设</h2><p>　　传统凯恩斯主义不能够解释 20 世纪 70年代的滞胀，于是促进了货币主义和理性预期的发展，形成以卢卡斯为首的新古典宏观经济学派。</p><p>　　新古典宏观经济学派的四个假设条件，即：<strong>个体利益最大化</strong>、<strong>理性预期</strong>、<strong>市场出清</strong>和<strong>自然率假说</strong>。</p><h3 id="个体利益最大化">1. 个体利益最大化</h3><p>　　新古典宏观经济学把个体利益最大化这一假设与宏观经济学的研究结合在一起，认为宏观经济现象是个体经济行为的后果，应符合利益最大化的基本假设条件。</p><h3 id="理性预期">2. 理性预期</h3><h4 id="理性预期的含义">2.1 理性预期的含义</h4><p>　　理性预期是指在有效地利用一切信息的前提下，对经济变量作出的在长期中平均来说最为准确的，而又与所使用的经济理论、模型相一致的预期。</p><p>　　实际上，这一假设包含三个含义：</p><ul><li>做出经济决策的经济主体是理性的。为了追求最大利益，他们总是力求对未来做出正确的预期；</li><li>为了做出正确的预期，经济主体在做出预期时会力图得到有关的一切信息，其中包括对经济变量之间因果关系的系统了解（当然包括有关的经济理论和模型在内）和有关的资料与数据；</li><li>经济主体在预期时不会犯系统性的错误。</li></ul><p>　　换言之，理性预期是指在长期中，人们会准确地或趋向于预期到经济变量所应有的数值。</p><h4 id="理性预期与适应性预期">2.2 理性预期与适应性预期</h4><p>　　（联系：本章-四种预期的比较）</p><p>　　<strong>理性预期：</strong>基于充分信息作出的预期，包括过去、现在与将来的信息（<u>新古典宏观经济学</u>）</p><p>　　<strong>适应性预期：</strong>基于过去的事实作出预期（<u>货币学派</u>、<u>凯恩斯学派</u>）</p><h3 id="市场出清">3. 市场出清</h3><p>　　市场出清假设是说，无论劳动市场上的工资还是产品市场上的价格都具有充分的灵活性，可以根据供求情况迅速进行调整，每一个市场都处于或趋向于供求相等的均衡状态。</p><h2 id="二实际经济周期理论">（二）实际经济周期理论</h2><p>　　实际经济周期理论（Real Business Cycle Theory，简称 RBC理论）与新古典增长理论一脉相承，是以微观经济主体的偏好、技术、禀赋等假设为基础，通过完全竞争和市场出清实现一般均衡，因生产函数会受到随机技术冲击等实际因素的影响，从而经济会呈现出周期与波动的现象。经济周期所产生的产出波动不是实际GDP 对潜在 GDP 的背离，而是潜在 GDP 本身的变动。</p><p>　　实际经济周期理论代表性的论文都把技术冲击作为波动源。它接受新古典增长理论对技术变化的定义，即，技术变化包括任何使生产函数发生移动而不涉及投入要素数量变化的因素。</p><p>　　eg: 管理的成功与失败也构成技术冲击，也会带来技术变化。</p><h2 id="三卢卡斯总供给函数">（三）卢卡斯总供给函数</h2><p>　　新古典宏观经济学的理论是建立在个人利益最大化假设的微观基础上的，因而其社会经济总供给函数是由个体企业的供给函数加总获得的。</p><p>　　假设一个典型的企业 <span class="math inline">\(i\)</span>的供给函数为：</p><p><span class="math display">\[\begin {align}y_i=h(P_i-P)+y^*_i\end{align}\]</span></p><p>　　在实际中，企业并不知道价格水平 <spanclass="math inline">\(P\)</span>，而只能对其加以估计，用 <spanclass="math inline">\(P_e\)</span> 表示企业对价格总水平 <spanclass="math inline">\(P\)</span> 的估计， 则上式变为：</p><p><span class="math display">\[\begin {align}y_i=h(P_i-P^e)+y^*_i\end{align}\]</span></p><p>　　企业对价格总水平的估计可按下述方程来进行：</p><p><span class="math display">\[\begin {align}P^e=\hat P+b(P_i-\hat P)\end{align}\]</span></p><p>　　将上式代入<u>包含价格预期的企业供给函数</u>，可得：</p><p><span class="math display">\[\begin {align}y_i=h(1-b)(P_i-\hat P)+y^*_i\end{align}\]</span></p><p>　　整个经济的总供给曲线是通过对所有典型企业的供给曲线加总而得到的。</p><p>　　设整个经济的生产由 <span class="math inline">\(n\)</span>个像企业 <span class="math inline">\(i\)</span>这样的企业组成，则卢卡斯总供给函数方程（新古典主义短期总供给曲线）为：</p><p><span class="math display">\[\begin {align}y=nh(1-b)(P_i-\hat P)+y^*\end{align}\]</span></p><p>　　其中，<span class="math inline">\(y\)</span> 为总产出；<spanclass="math inline">\(P\)</span> 为价格水平；<spanclass="math inline">\(y^*\)</span> 为经济的潜在产量；<spanclass="math inline">\(\hat P\)</span>为社会中的有关机构预测并公布的价格预测值；<spanclass="math inline">\(h\)</span>为参数，它表示企业对其产品价格与总价格水平偏离的一种反应，并且 <spanclass="math inline">\(h＞0\)</span>；<spanclass="math inline">\(b\)</span> 为调整系数，是企业根据其经验对预测值<span class="math inline">\(\hat P\)</span> 的调整；<spanclass="math inline">\(n\)</span> 表示经济中的生产企业总数。</p><p>　　卢卡斯总供给函数表明，经济的总产出与未被预期到的价格上升之间具有正相关关系。</p><p>　　令 <span class="math inline">\(\gamma=nh(1-b)\)</span>，且 <spanclass="math inline">\(γ＞0\)</span>，则新古典主义短期总供给曲线可改写为：</p><p><span class="math display">\[\begin {align}y=y^*+\gamma(P-\hat P)\end{align}\]</span></p><p>　　因此，新古典宏观经济学派认为，经济人需要经过一段时间才能作出准确判断，从而实现理性预期。</p><p>　　在短期 <span class="math inline">\(P\ne \hatP\)</span>，预期价格与实际价格产生偏离。根据卢卡斯总供给函数可知，经济的总产出与未被预期到的价格上升之间具有正相关关系，即短期总供给曲线是向右上方倾斜的。</p><p>　　但是从长期来讲，理性预期的经济当事人能很快形成对未来价格的正确预测，即<span class="math inline">\(P= \hatP\)</span>，从而使社会总产量等于自然率水平，因此长期总供给曲线是一条垂线。</p><h2id="四简化的新古典宏观经济模型ad-as-分析">（四）简化的新古典宏观经济模型（AD-AS分析）</h2><p>　　经济的总需求函数为：</p><p><span class="math display">\[\begin {align}y^d_t=\alpha_t+\beta(m_t- P_t)\end{align}\]</span></p><p>　　其中，<span class="math inline">\(\beta \gt 0\)</span>，<spanclass="math inline">\(α\)</span>代表除货币供给以外其他所有能引起总需求变化的因素，参数 <spanclass="math inline">\(β\)</span> 是货币供给量对总需求的乘数，<spanclass="math inline">\(m\)</span> 和 <spanclass="math inline">\(p\)</span>是货币供给和价格水平取了对数以后的值，因而 <spanclass="math inline">\((m_t-p_t)\)</span> 等价于实际货币供给量的对数，即<span class="math inline">\(\ln(M_t/P_t)\)</span>。</p><p>　　附加了预期的总供给函数（卢卡斯供给函数）为：</p><p><span class="math display">\[\begin {align}y^s_t=y_n+\gamma(P_t-P_t^e)\end{align}\]</span></p><p>　　其中，<span class="math inline">\(\gamma \gt 0\)</span>。</p><p>　　给定 <span class="math inline">\(α\)</span> 和 <spanclass="math inline">\(m\)</span>的条件下，<strong>理性预期均衡</strong>的产出与价格为（<spanclass="math inline">\(P_t^e=P_t\)</span>）：</p><p><span class="math display">\[\left \{\begin {align}&amp;y^e_t=y_n                                                                                             \notag\\&amp; P_t^e=m_t^e-\frac 1 \beta \big ( y_n-\alpha_t^e \big)     \notag\\\end{align}\right.\]</span></p><p>　　这说明理性预期的均衡产出等于自然率的产出水平，其中，上标 <spanclass="math inline">\(e\)</span> 代表变量的期望值。</p><p>　　<strong>非理性预期均衡（现实）</strong>的产出和价格分别为：</p><p><span class="math display">\[\left \{\begin {align}&amp; y_t=y_n+\frac \gamma {\gamma +\beta}\big[(\alpha_t-\alpha_t^e)  +\beta (m_t-m_t^e) \big]      \notag \\&amp; P_t=m^e_t-\frac 1 \beta (y_n-\alpha_t^e) + \frac 1{\gamma +\beta}\big[(\alpha_t-\alpha_t^e)  +\beta (m_t-m_t^e) \big]             \notag\\\end{align}\right.\]</span></p><p>　　<strong>注意：</strong>公众所预期到的总需求的变动，不能导致整个经济产量和就业量的变动。只有未预期到的货币供给量（总需求）的变化才能使产出水平偏离其长期增长路径，所以完全预期到的总需求增加只会使价格水平上升。</p><h2id="五新古典宏观经济学的基本观点">（五）新古典宏观经济学的基本观点</h2><h3 id="宏观经济政策无效性">1. 宏观经济政策无效性</h3><p>　　新古典宏观经济学认为，宏观政策无效，其原因在于理性预期。</p><p>　　宏观经济政策无效性意味着，要想使政策有效，它们就必须要有欺骗性，即使人们得不到有关政策的真实信息。然而，这一点在现实中往往做不到。货币主义仅仅反对凯恩斯的财政政策，而新古典宏观经济学则更进一步，反对一切宏观经济政策。</p><p>　　对货币量和一般价格水平的不完全预期导致了货币的非中性，即货币量的变化导致了人们对一般价格和相对价格变化的短期混淆，从而带来产出和就业的波动。由模型引申出的含义是，系统的货币政策无效，随机的货币政策有害。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515153840-s8zfdb8.png" style="width:450px" alt="“政策无效性”主张" /></p><h3 id="适应性预期错误论">2. 适应性预期错误论</h3><p>　　<strong>适应性预期</strong>（adaptiveexpectation）是指人们仅仅根据过去的信息而预测未来，它用以前的预期误差来修正以后预期。</p><p>　　卢卡斯认为，适应性预期是错误的，其原因是人们进行预期的时候不但要根据过去的事实，还要考虑将来的变化。适应性预期缺乏微观经济学基础，其权数分布是既定的几何级数，没有利用与被测变量相关的其他变量，对经济预期方程的确定基本上是随意的，没有合理的经济学解释。</p><h3 id="反对凯恩斯主义的斟酌使用的或者对经济运行进行微调的政策">3.反对凯恩斯主义的“斟酌使用”的或者对经济运行进行“微调”的政策</h3><p>　　这个观点的理论基础是“卢卡斯批判”，是卢卡斯提出的一种认为传统政策分析没有充分考虑到政策变动对人们预期影响的观点。卢卡斯在《计量经济学的政策评价：一个批判》一文中指出，人们在对将来的事态作出预期时，不但要考虑过去，还要顾及现在的事件对将来的影响，并且根据他们所得到的结果而改变他们的行为。<br />在政策建议方面，新古典宏观经济学者并没有提出他们的主张，这与古典经济学不主张国家干预经济的观点是一脉相承的。</p><h2id="六新古典宏观经济学的政策含义">（六）新古典宏观经济学的政策含义</h2><p>　　新古典宏观经济学在经济政策含义上基本是经济自由主义的倾向，即主张尽可能地实行自由放任的经济政策，让市场机制充分地发挥自行调节的作用，反对政府对经济生活过多干预，特别是反对实行凯恩斯主义的宏观经济政策。一般来说，新古典宏观经济学认为货币政策在理性预期下就完全无效，同时也对财政政策提出了更多的反对意见。</p><h1 id="三新凯恩斯主义">三、新凯恩斯主义</h1><p>　　新凯恩斯主义产生的客观条件是，原凯恩斯主义的理论缺陷和新古典宏观经济学在解释现实问题时效微力乏。</p><h2id="一新凯恩斯主义形成的理论背景">（一）新凯恩斯主义形成的理论背景</h2><p>　　新凯恩斯主义产生的客观条件是，原凯恩斯主义的理论缺陷和新古典宏观经济学在解释现实问题时效微力乏。<br />新凯恩斯主义者以工资黏性和价格黏性代替原凯恩斯主义工资刚性和价格刚性的概念。以工资黏性、价格黏性和非市场出清的假设取代新古典宏观经济学的工资、价格伸缩性和市场出清的假设，并将其与宏观层次上的产量和就业量等问题相结合，建立起有微观基础的新凯恩斯主义宏观经济学。</p><h2 id="二新凯恩斯主义的假设条件">（二）新凯恩斯主义的假设条件</h2><ul><li><strong>非市场出清假设</strong>（新凯恩斯主义最重要的假设）：在出现需求冲击或供给冲击后，工资和价格不能迅速调整到使市场出清的状态；</li><li><strong>价格和工资黏性</strong>（区别于原凯恩斯主义的名义工资刚性）；</li><li><strong>经济当事人最大化原则</strong>；</li><li><strong>理性预期</strong>。</li></ul><h2 id="三新凯恩斯主义的特征">（三）新凯恩斯主义的特征</h2><ul><li>货币的非中性，货币等名义变量的变动会导致产量和就业量等实际变量的波动，所以古典两分法失效。</li><li>企业是制定价格的、不完全竞争市场中的企业，而不是完全竞争市场中的企业。市场的不完全性，加上不对称信息等因素，使工资和价格具有不易变动的黏性，所以市场是非出清的。</li></ul><h2 id="四名义黏性">（四）名义黏性</h2><h3 id="名义工资黏性">1. 名义工资黏性</h3><p>　　名义工资黏性的原因：</p><ul><li><strong>合同的交错签订。</strong>各种长期合同都是交错签订的，从而工资的调整也是交错进行的。这种合同的交错签订使得工资的调整不可能非常及时，这是工资黏性的一个重要原因。</li><li><strong>合同的长期性。</strong>由于合同具有期限，而且期限往往较长，所以工资的调整总是缓慢的，这便使工资具有了黏性。</li></ul><h3 id="名义价格黏性">2. 名义价格黏性</h3><p>　　新凯恩斯主义从不完全竞争的市场出发，试图解释经济中的名义价格黏性，其中较有影响的是菜单成本理论。菜单成本理论认为，经济中的垄断厂商是价格的决定者，能够选择价格，而菜单成本的存在阻滞了厂商调整产品价格，所以价格有黏性。</p><p>　　价格黏性是指价格不随总需求的变动而迅速变化。价格黏性的重要性在于：价格是否有黏性的问题可以转换为市场能否出清的问题，即市场机制是否有效的问题。价格有黏性时，市场不能出清，市场机制失灵，只有政府干预才能纠正市场的无效性。</p><h2id="五新凯恩斯主义模型和对经济的解释">（五）新凯恩斯主义模型和对经济的解释</h2><h3 id="新凯恩斯主义模型">1. 新凯恩斯主义模型</h3><p>　　新凯恩斯主义推导向右上方延伸的短期总供给曲线的基本思路是，在具有名义工资黏性的劳动市场上，随着经济中价格水平的变化，经济中的就业量会发生变化，从而经济中的总产量就会发生变化，进而得出了描述总产量与价格之间关系的总供给曲线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515155235-00np8jp.png" style="width:600px" alt="新凯恩斯主义短期总供给曲线的推导" /></p><p>　　如图所示，在具有名义工资黏性的劳动市场上，随着经济中价格水平的变化，经济中的就业量也会发生变化，从而经济中的总产量会发生变化，进而得出一条向右上方延伸的短期总供给曲线。</p><p>　　把新凯恩斯主义和新古典经济学的劳动市场的情况加以比较，前者的劳动市场处于不出清的状态，供求之间存在着差距；后者的劳动市场中，存在着出清的状态，这种不出清和出清的差别也应该存在于其他市场。</p><h3 id="对宏观经济波动的考察">2. 对宏观经济波动的考察</h3><p>　　新凯恩斯主义对宏观经济波动的考察是用总需求曲线和总供给曲线（新凯恩斯主义的短期总供给曲线）并结合长期劳动合同的交错性质来说明的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515155334-lc5ueal.png" style="width:450px" alt="新凯恩斯主义对经济波动的解释" /></p><p>　　如图所示，初始经济的总需求曲线与短期总供给曲线交于充分就业水平；当经济受到总需求冲击时，总需求曲线变动，导致产出变动；随着长期劳动合同的交错到期，短期总供给曲线逐渐变化，最终和总需求曲线重新交于充分就业水平。</p><h3 id="新凯恩斯主义的稳定化政策">3. 新凯恩斯主义的稳定化政策</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515155414-1dppwr5.png" style="height:280px" alt="新凯恩斯主义稳定化政策" /></p><p>　　新凯恩斯主义在政策主张方面所持有的观点是：由于价格和工资的黏性，经济在遭受到总需求冲击后（例如导致经济衰退），从一个非充分就业的均衡状态恢复到充分就业的均衡状态是一个缓慢的过程，因此用政策来刺激总需求是必要的，不能等待工资和价格向下的压力带来经济恢复，因为这是一个长期的痛苦的过程。</p><h2id="六新凯恩斯主义与原凯恩斯主义的区别">（六）新凯恩斯主义与原凯恩斯主义的区别</h2><h3 id="对新古典学派的观点的肯定和吸收">1.对新古典学派的观点的肯定和吸收</h3><p>　　新凯恩斯主义者认为，新古典学派的部分观点是能够加以肯定的，从而应该被吸收过来。他们所肯定和吸收的观点大致有以下两个：</p><p>　　<strong>理性预期。</strong>新凯恩斯主义者虽然并不认为人们最终能够准确地预期到现实的情况，但是，他们也认为，为了自己的利益，人们会尽量收集信息，使他们的预测能够趋于正确；收集的信息不但涉及过去，而且牵涉到未来的事态。（传送门：<ahref="siyuan://blocks/20220515160847-ic2igcw">"四种预期的比较"</a>）</p><p>　　<strong>微观基础。</strong>新凯恩斯主义者同意，宏观经济理论必须符合微观经济学的假设条件，特别是个人利益最大化的假设条件。这就是说，宏观经济理论必须有微观经济学的基础。</p><h3 id="对原凯恩斯主义的吸收和修正">2. 对原凯恩斯主义的吸收和修正</h3><p>　　尽管新凯恩斯主义和原凯恩斯主义都坚持市场非出清的假设，但两者的市场非出清理论存在着重大的差别，主要在于</p><p>　　<strong>价格黏性。</strong>凯恩斯主义市场非出清模型假定名义工资刚性，而新凯恩斯主义市场出清模型假定工资和价格有黏性，即工资和价格不是不能调整，但是调整是缓慢。</p><p>　　<strong>微观基础。</strong>原凯恩斯主义非市场出清理论缺乏微观基础，没有阐明为什么价格和工资具有刚性，新凯恩斯主义模型则增加了原凯恩斯主义模型所忽略的两个假定：一个就是经济当事人最大化原则，即厂商追逐利润最大化和消费者追求效用最大化，另一个就是理性预期，这一假设来自新古典宏观经济学。</p><p>　　‍</p><h1 id="四目前宏观经济学的基本共识">四、目前宏观经济学的基本共识</h1><p>　　宏观经济学家尤其是宏观经济学中的两大主要流派新凯恩斯主义经济学和新古典宏观经济学经过近二十年的争论，目前在以下四个问题上基本上达到了共识：</p><ol type="1"><li><strong>在长期，一国生产物品和劳务的能力决定着该国居民的生活水平</strong></li></ol><p>　　在长期，GDP依赖于劳动、资本和技术在内的生产要素。当生产要素增加和技术水平提高时，GDP增长。</p><ol start="2" type="1"><li><strong>制度对于长期经济增长是非常重要的</strong></li></ol><p>　　宏观经济学家已经意识到，基础性制度，例如清晰界定的产权和不存在腐败，对实现高经济增长是非常关键的。</p><ol start="3" type="1"><li><strong>在长期货币增长率决定通货膨胀率</strong></li></ol><p>　　宏观经济强调了货币供给的增长是通货膨胀的最终决定因素，宏观经济学界几乎一致同意美国经济学家弗里德曼的名言：“通货膨胀时时处处都是一种货币现象。”</p><ol start="4" type="1"><li><strong>在短期，总需求影响一国生产的物品与服务的数量</strong></li></ol><p>　　在短期，价格是黏性的，所以总需求至关重要。由于总需求在短期影响产出，所以，所有影响总需求的变量都能够影响经济波动。由于总需求的变动对短期波动是重要的，政策制定者对经济进行密切的监控。</p><ol start="5" type="1"><li><strong>在短期，政策制定者面临通货膨胀和失业之间的权衡</strong></li></ol><p>　　在短期，失业和通货膨胀之间存在着短期菲利普斯曲线所表示的取舍关系。宏观经济学已经说明，政策制定者可以用货币政策和财政政策调节总需求，从而使得失业率和通货膨胀率处于可控范围。</p><ol start="6" type="1"><li><strong>预期是重要的</strong></li></ol><p>　　理性预期理论强调经济主体一般受到最优化行为的驱动，因而他们对未来变量的预期应该是利用所有可以获得的信息作出的最优预测。</p><h1 id="五补充内容">五、补充内容</h1><h2id="一宏观经济学中四种预期的比较">（一）宏观经济学中四种预期的比较</h2><p>　　在经济理论中，所谓预期是指从事经济活动的人，在进行某项经济活动之前，对未来的经济形势及其变化（主要是市场供求关系和价格）作出一定的估计和判断，例如，企业在制定产销计划时，必须估计市场将来的行情变化，以避免可能造成的经济损失或白白错过盈利的机会。</p><p>　　根据穆思的看法，经济理论研究中所涉及到的预期理论，可以分为以下四种类型：</p><h3 id="静态预期">1. 静态预期</h3><p>　　静态预期理论假定经济活动主体（企业或个人）完全按照过去已经发生过的情况来估计或判断未来的经济形势。</p><p>　　在传统的<ahref="https://fgzfgz.github.io/posts/11172/">蛛网理论</a>中，生产者必须对未来上市时的产品价格进行预期，以决定其供给数量，蛛网理论假定，生产者通常都以当前的市场价格作为对下一时期市场价格的预期，这即是静态预期。若以<span class="math inline">\(P_t\)</span> 表示第 <spanclass="math inline">\(t\)</span> 期的实际价格水平，<spanclass="math inline">\(P_{t-1}\)</span> 表示第 <spanclass="math inline">\(t\)</span> 期的前一个时期的实际价格水平，<spanclass="math inline">\(\overline P_t\)</span> 表示在 <spanclass="math inline">\(t-1\)</span> 期所预期的第 <spanclass="math inline">\(t\)</span> 期的价格水平，则静态预期模型为：<spanclass="math inline">\(\overlineP_t=P_{t-1}\)</span>。由此可见，“静态的预期形成最为单纯，它把前期的实际价格完全当成现期的预期价格”。</p><h3 id="非理性预期外插型预期">2. 非理性预期/外插型预期</h3><p>　　非理性预期是凯恩斯在《就业、利息和货币通论》中提出来的。</p><p>　　凯恩斯认为，资本主义社会中，经济形势是变化莫测的，前景是无从确知的，因而人们的预期是缺乏可靠基础的，是非理性的，容易发生突然而剧烈的变化。当投资者情绪乐观时，乐观的预期导致投资激增、经济扩张；反之，当投资者情绪悲观时，悲观的预期使“资本边际效率”突然崩溃，投资萎缩、经济衰退。</p><p>　　以 <span class="math inline">\(α\)</span>表示预期中的调整系数，<span class="math inline">\(P_{t-2}\)</span> 为第<span class="math inline">\(t-1\)</span>期前一时期的实际价格水平，非理性预期的模型为 <spanclass="math inline">\(\overline P_t=P_{t-1}+\alpha(P_{t-1}-P_{t-2})\)</span>。根据这一模型可以分析出，如果 <spanclass="math inline">\(α\)</span>等于零，该模型转化为静态预期模型。假定市场实际价格从 <spanclass="math inline">\(t-2\)</span> 时期到 <spanclass="math inline">\(t-1\)</span> 时期是上涨了，即 <spanclass="math inline">\(P_{t-1}＞P_{t-2}\)</span>，根据非理性预期理论，乐观的人会预期价格上涨趋势将会持续下去（<spanclass="math inline">\(α=1\)</span>），悲观的人则预期价格上涨趋势将不会持续，反而会大幅度下降（<spanclass="math inline">\(α=-1\)</span>）。</p><p>　　概括地说，非理性预期理论有三个特征：</p><ul><li>预期的形成缺乏可靠的基础，因而易受情绪支配；</li><li>预期被作为一个外生变量来对待，从而被排除在模型的分析范围之外，即“把预期主要看作外部变数，因而同任何模式中的现行变数无关”；</li><li>预期不受有关经济变量与政策变量的影响。</li></ul><h3 id="适应性预期">3. 适应性预期</h3><p>　　适应性预期最初是由菲利普·卡甘在 1956年发表的《超通货膨胀的货币动态理论》一文中提出来的，后由弗里德曼在分析通货膨胀和“自然失业率”时加以运用和推广。</p><p>　　以 <span class="math inline">\(β\)</span>表示适应性预期的调整系数，而且 <spanclass="math inline">\(0＜β＜1\)</span>，适应性预期的模型可以写为：</p><p><span class="math display">\[\begin{align}P_t=P_{t-1}+\beta (P_{t-1}- \overline P_{t-1})\end{align}\]</span></p><p>　　适应性预期形成的一个特点，就是考虑到前期实际价格 <spanclass="math inline">\(P_{t-1}\)</span> 与预期价格 <spanclass="math inline">\(\overline P_{t-1}\)</span>的差距进行现期的价格预期，形成反馈型预期机制。</p><p>　　适应性预期理论强调，经济活动主体的预期并不是独立于其他经济变量之外的某种心理状态，而是以他们过去的经验和客观的经济活动变化为基础的，人们可以利用过去的预期误差来修正他们现在的预期。由于在适应性预期理论中，人们只能处于被动的地位，只是随客观经济的变化和政府经济政策的变化来调整自己的预期。因此，这一预期理论遭到一些经济学家的批评，并由此产生了理性预期理论。</p><h3 id="理性预期理论">4. 理性预期理论</h3><p>　　所谓理性预期，“它假定单个经济单位在形成预期时使用了一切有关的、可以获得的信息，并且对这些信息进行理智的整理。”在这一基础上，经济主体对经济变化的预期是有充分根据的和明智的，它在很大程度上是可以实现的，并且不会轻易为经济主体所改变的。正如穆思所指出的：“由于预期是对未来事件有根据的预测，所以它们与有关的经济理论的预测本质上是一样的，这种预期叫做‘合理的’预期。”</p><p>　　理性预期理论有两个显著的特点：</p><ul><li>人们对经济未来变化的理性预期总是尽可能最有效地利用现在的所有可以被利用的信息，而不是仅仅依靠过去的经验和经济的变化趋势；而且，在用理性预期来代替适应性预期的结构里，模型中的经济主体会注意到政策的变化，经济主体将改变他们的决策，以便充分利用一项新的政策产生出来的任何有利机会。理性预期理论并不认为每个经济主体的预期都是完全正确且与客观情况一致的预期，而是说这些经济主体的预期（主观的后果的概率分布）与经济理论的预测（客观的后果的概率分布）是趋向一致的。</li><li>理性预期理论并不排除现实经济生活中的不确定因素，也不排斥不确定因素的随机变化会干扰人们预期的形成，使人们的预期值偏离其预测变量的实际值，但理性预期理论强调一旦人们发现错误就会立即做出正确反应，纠正预期中的失误。因此，人们在预测未来时决不会犯系统的错误。</li></ul><h2id="二古典凯恩斯新古典与新凯恩斯主义的总供给曲线区别及其政策含义">（二）古典、凯恩斯、新古典与新凯恩斯主义的总供给曲线区别及其政策含义</h2><h3 id="总供给曲线的差异">1. 总供给曲线的差异</h3><p>　　（传送门：<a href="siyuan://blocks/20220514115518-96vafug">"3 种AS 曲线的类型"</a>、<ahref="siyuan://blocks/20220515143950-otf685c">"新古典经济学 AS函数"</a>、<ahref="siyuan://blocks/20220515155219-z8l0hpr">"新凯恩斯主义 AS曲线"</a>）</p><h4 id="研究期限不同">1.1 研究期限不同</h4><ul><li>古典总供给：长期总供给曲线；</li><li>凯恩斯主义：短期总供给曲线，是依据凯恩斯的货币工资的下降具有刚性的假设条件而得出的；</li><li>新古典宏观经济学、新凯恩斯主义：短期和长期结合到一起得出自己的总供给曲线。</li></ul><h4 id="总供给曲线的形状不同">1.2 总供给曲线的形状不同</h4><ul><li>古典总供给：垂直线；</li><li>凯恩斯主义：是一条水平线；</li><li>新古典宏观经济学：长期/短期—垂直；</li><li>新凯恩斯主义：短期—右上方倾斜，长期—垂直。</li></ul><h4 id="各自的解释不同">1.3 各自的解释不同</h4><h5 id="古典学派">1.3.1 古典学派</h5><p>　　在长期中，根据西方经济学，经济的就业水平并不随着价格的变动而变动，而是总处于充分就业的状态，此时，总供给曲线为一条垂直线，即古典的总供给曲线。其原因在于工资的充分弹性或劳动市场的充分竞争性：劳动市场的充分竞争性保证了劳动市场经常处于均衡位置即充分就业；劳动的供求主要受实际工资的影响。在名义工资既定时，价格变动将引起实际工资变动，从而导致劳动市场非均衡（或劳动供大于求、或劳动求大于供）。由于充分竞争性，非均衡将导致名义工资变动，直至重新回到均衡位置。</p><h5 id="凯恩斯主义">1.3.2 凯恩斯主义</h5><p>　　凯恩斯模型的总供给曲线是一种短期总供给曲线，是依据凯恩斯的货币工资的下降具有刚性的假设条件而得出的。这个假设条件的含义是：工人们会对货币工资的下降进行抵抗，但却欢迎货币工资的上升，因此，货币工资只能上升，不能下降。另一方面，由于工人们具有货币幻觉，即只看到货币的票面值而不注意货币的实际购买力，所以他们会抵抗价格水平在不变的情况下的货币工资的下降，但却不会抵抗货币工资不变下的价格水平的提高。这两种情况都会造成实际工资的下降，但由于工人们具有货币幻觉，工人们会对相同的后果采取迥然不同的态度。总之，在工资具有的下降刚性的条件下，凯恩斯主义总供给曲线水平的意义是在达到充分就业国民收入以前，经济社会大致能以不变的价格水平提供任何数量的国民收入。因为，在严重的萧条状态时，存在着大量闲置不用的劳动力和资本设备，所以当整个社会的生产量或国民收入增长时，价格水平和货币工资会大致保持不变。因此，总供给曲线是一条水平线，一直持续到充分就业为止。</p><h5 id="新古典宏观经济学">1.3.3 新古典宏观经济学</h5><p>　　新古典宏观经济学从理性预期和自然率的假说出发，不但认为长期内总供给曲线是垂直的，而且在短期内总供给曲线也是垂直的。无论是劳动市场上的工资还是产品市场上的价格都具有充分的灵活性，因此市场总是处于出清状态，货币政策即使在短期内也是无效的。</p><h5 id="新凯恩斯主义">1.3.4 新凯恩斯主义</h5><p>　　新凯恩斯主义沿袭凯恩斯主义的传统，同时又弥补了凯恩斯主义理论的不足。在短期内，当经济出现需求扰动时，工资和价格并不能迅速调整到使得市场出清，经济可以处于非充分就业均衡；而在长期，经济将调整到充分就业状态。因此供给曲线在短期内是向右上方倾斜的，而在长期内则是与纵轴垂直的。</p><h4 id="蕴含的政策效果不同">1.4 蕴含的政策效果不同</h4><p>　　古典模型中，除非总供给曲线发生变动，否则财政政策和货币政策只会带来价格上涨，没有任何效果。凯恩斯模型则与古典模型正好相反。新古典宏观经济学认为货币政策即使在短期内也是无效的，而新凯恩斯主义主张政府要在一定程度上实行干预。</p><h3 id="各自的政策含义">2. 各自的政策含义</h3><p>　　<strong>古典学派</strong>：投资等于储蓄，总供给恒等于总需求，因此，国家没有必要对宏观经济进行干预。</p><p>　　<strong>凯恩斯主义</strong>：由于工资和价格的刚性和其他的原因，投资未必常等于充分就业状态中的储蓄，总供给未必经常等于总需求。为了稳定宏观经济的运行，国家必须执行干预经济的财政政策和货币政策，并主张实行斟酌使用的财政政策。</p><p>　　<strong>新古典宏观经济学</strong>：无论劳动市场上的工资和产品市场上的价格都具有充分的灵活性，因此市场总是处于出清状态，货币政策即使在短期内也是无效的。</p><p>　　<strong>新凯恩斯主义</strong>：</p><ul><li>由于价格和工资的黏性，因此经济在遭受到总需求变动的冲击后，从一个非充分就业的均衡状态恢复到充分就业的均衡状态，是一个缓慢的过程，因此旨在刺激总需求的措施是必要的；</li><li>政府关心整个社会的福利情况，而公众只关心个体的利益，两者之间往往存在冲突，需要妥善处理和协调。</li></ul><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软件｜macOS版Stata如何同时打开两个窗口</title>
      <link href="/posts/43048/"/>
      <url>/posts/43048/</url>
      
        <content type="html"><![CDATA[<p>（<ahref="https://www.zhihu.com/question/534884194/answer/2505303719">原文链接</a>）</p><p>macOS版的Stata默认状态下只能打开一个窗口，如果Stata已经打开了一个dta数据，再打开下一个时，会在之前的窗口中替换掉原来的dta数据。</p><p>不过，macOS可以通过打开多个Stata窗口的方式来解决「不能同时打开多个dta文件」的问题。</p><ol type="1"><li>打开【终端.app】：在聚焦搜索里直接搜“终端”或者“terminal”，就行</li></ol><p><imgsrc="https://pic1.zhimg.com/80/v2-bef02a4484840733d42b30be1cbaf9d7_1440w.jpg" /></p><ol start="2" type="1"><li>在【终端.app】里输入下面代码：</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open -n /Applications/Stata/StataSE.app</span><br></pre></td></tr></table></figure><p>根据你安装的stata版本和安装路径修改，我同时安装了stata 17 MP 和stata16 se，我就改为了</p><p>Stata 17 MP：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open -n /Applications/Stata/StataMP.app</span><br></pre></td></tr></table></figure><p>Stata 16 SE：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open -n /Applications/Stata 16/StataSE.app</span><br></pre></td></tr></table></figure><ol start="3" type="1"><li>这样就打开了两个窗口，就可以在另外一个窗口打开一个新文件了</li></ol><p><imgsrc="https://pic2.zhimg.com/80/v2-32f67d77193318cb81b8c7cf2564fc44_1440w.jpg" /></p><p>怎么确定stata的安装路径？</p><p>打开 Finder ，应用程序，看自己的stata安装路径就行。</p><p><imgsrc="https://pic1.zhimg.com/80/v2-4e824d7416352e20b6ceda999b10bf35_1440w.jpg" /></p>]]></content>
      
      
      <categories>
          
          <category> 软件相关 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 软件相关 </tag>
            
            <tag> macOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>宏观｜第9章：宏观经济学的微观基础</title>
      <link href="/posts/53788/"/>
      <url>/posts/53788/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/44205/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一消费">一、消费</h1><p>　　宏观经济学中，消费是指一国居民对本国和外国生产的最终产品和服务的支出，它是总支出的最大组成部分。</p><h2 id="一跨期消费决策">（一）跨期消费决策</h2><p>　　美国经济学家欧文·费雪提出跨期消费决策模型，该模型划分了不同时期，说明消费者面临的约束条件及偏好，分析理性的消费者如何在现期消费与未来消费之间作出选择。</p><h3 id="跨期预算约束与最优消费选择">1. 跨期预算约束与最优消费选择</h3><p>　　费雪认为，人们在消费时会受到一些约束：</p><ul><li><strong>预算约束：</strong>人们可以为自己消费所支出的数额大小</li><li><strong>跨期预算约束：</strong>人们可以为自己在当前消费和未来消费所支付的数额大小。</li></ul><p>　　假定消费者的一生可以分为两个时期：第一个时期是青年时期，第二个时期是老年时期。</p><p>　　用 <span class="math inline">\(y_1\)</span> 和 <spanclass="math inline">\(c_1\)</span>分别表示消费者在第一个时期的收入和消费，用 <spanclass="math inline">\(y_2\)</span> 和 <spanclass="math inline">\(c_2\)</span>分别表示消费者在第二个时期的收入和消费。再假定消费者有机会进行借贷或储蓄，因此他在任何一个时期的消费都可以大于或小于那一时期的收入。</p><p>　　第一个时期的储蓄或借贷：<spanclass="math inline">\(s=y_1-c_1\)</span>（<spanclass="math inline">\(s＞0\)</span> 表示储蓄，<spanclass="math inline">\(s＜0\)</span> 表示借贷）。</p><p>　　第二个时期的消费：<spanclass="math inline">\(c_2=(1+r)s+y_2\)</span>，其中 <spanclass="math inline">\(r\)</span> 为实际利率。</p><p>　　因此，可以得到消费者的跨期预算约束为：</p><p><span class="math display">\[\begin {align}c_1+ \frac {c_2} {1+r}=y_1+ \frac {y_2} {1+r}\end {align}\]</span></p><p>　　跨期预算约束表明，当利率为零（即不存在储蓄或借贷）时，两个时期的总消费等于两个时期的总收入。在利率大于零的正常情况下，未来消费和未来收入可以用<span class="math inline">\((1+r)\)</span> 这个因子进行贴现。</p><p>　　如下图所示，跨期预算约束线是斜率为 <spanclass="math inline">\(-(1+r)\)</span> 的直线。</p><p>　　<strong>三种消费者类型：</strong></p><ul><li>最优选择点在 A-B 段，则 <span class="math inline">\(c_1 \lty_1\)</span>，<span class="math inline">\(c_2 \gty_2\)</span>，在第一期消费者为贷款者；</li><li>最优选择点在 B-C 段，则 <span class="math inline">\(c_1 \gty_1\)</span>，<span class="math inline">\(c_2 \lty_2\)</span>，在第一期消费者为借款者；</li><li>最优选择点在 B 点（禀赋点），则 <spanclass="math inline">\(c_1=y_1\)</span>，<spanclass="math inline">\(c_2=y_2\)</span>，在第一期与第二期均无借款与储蓄。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515023207-hd6gc2n.png" style="width:400px" alt="跨期消费的预算约束" /></p><p>　　涉及跨期消费的消费者偏好可以用无差异曲线来表示，无差异曲线表示使消费者获得同样满足的第一期与第二期消费的组合。也就是说，对同一条无差异曲线的所有两期消费的不同组合，消费者的偏好程度是完全相同的。</p><p>　　于是，理性消费者的问题是在跨期预算约束下追求效用的最大化，即：</p><p><span class="math display">\[\begin {align}\max U(c_1, c_2)   \end {align}\]</span></p><p><span class="math display">\[\begin {align}  s.t. \ \   c_1+ \frac {c_2} {1+r}=y_1+ \frac {y_2} {1+r}\end {align}\]</span></p><p>　　可以求出消费者跨期消费最优决策的条件为：<spanclass="math inline">\(MRS=-(1+r)\)</span>。它的经济含义是：跨期最优选择必须满足两个时期的边际效用之比等于实际收益。</p><p>　　如下图所示，<u>两个时期消费的最优组合一定是出现在无差异曲线和跨期预算约束线的切点上</u>，此时无差异曲线的斜率等于跨期预算约束线的斜率。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515015820-klmld01.png" style="width:380px" alt="跨期最优消费选择" /></p><h3 id="收入变动对消费的影响">2. 收入变动对消费的影响</h3><p>　　当消费者的收入增加时，无论是现期收入还是未来收入的增加，如果消费者消费的是正常品，跨期预算约束线将向上移动，从而与更高的无差异曲线相切，达到更好的消费组合。</p><p>　　不同于凯恩斯的绝对收入假说，费雪的跨期消费理论指出，消费不只是取决于当期收入，而且取决于收入的现值，即消费者预期到的他一生的收入。这个观点是后来生命周期假说和持久收入假说的理论基础。</p><h3 id="实际利率变动对消费的影响">3. 实际利率变动对消费的影响</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515021655-gj788q2.png" style="width:350px" alt="真实利率变动对消费决策的影响（利率上升）" /></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515021723-wo53p69.png" style="width:350px" alt="真实利率变动对消费决策的影响（利率下降）" /></p><p>　　<strong>小结：</strong></p><ul><li>若某人是贷款者，利率上升后仍是贷款者；</li><li>若某人是借款者， 利率下降后仍是借款者。</li></ul><h3 id="替代效应和收入效应分析">4. 替代效应和收入效应分析</h3><p>　　由于跨期预算约束线的斜率为 <spanclass="math inline">\(-(1+r)\)</span>，实际利率的上升将会使消费者的跨期预算约束线发生转动，从而改变跨期最优消费选择，这种变化就是微观经济学所分析的替代效应和收入效应。</p><p>　　<strong>替代效应：</strong>利率上升意味着当前消费相对于未来消费的价格上升了，消费者会用相对“便宜”的未来消费来替代相对“昂贵”的当前消费，因此替代效应的作用是：当前消费减少，未来消费增加。</p><p>　　（替代效应本质是<u>资金使用的机会成本</u>或<u>资金的时间价值</u>）</p><p>　　<strong>收入效应：</strong>利率上升提高了消费者的实际收入，如果消费者消费的是一种正常商品，实际收入提高意味着消费者整体的消费水平同时提高，因此收入效应的作用是：当前消费和未来消费同时增加。</p><p>　　因此，提高利率的替代效应和收入效应都会提高第二个时期的消费。而对第一个时期的消费来说，则取决于两个效应作用的相对大小。一般说来，在低利率水平时，利率上升的收入效应要小于替代效应，因此利率水平上升会带来当前消费的减少。</p><p>　　按照分析，消费率，进而储蓄率原则上都可能会受到利率的影响。但是，证据多半表明，利率对储蓄的影响很小。</p><h3 id="借贷约束对跨期消费的影响">5. 借贷约束对跨期消费的影响</h3><p>　　借贷会使消费者的现期消费大于现期收入，但这是以减少未来收入和消费为代价的。另外，人们是否能够借到贷款在现实中也是受限制的。借贷约束制约了消费者的消费选择，因为他的消费既要满足跨期预算约束，也要满足借贷限制。</p><p>　　这种情况下，消费者的跨期最优消费也发生了变化，出现了两种消费选择的可能性。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515015926-ot7qzjv.png" style="width:500px" alt="借贷约束下跨期最优消费：两种情形" /></p><p>　　借贷约束时，消费者的跨期最优消费存在<strong>两种情形</strong>：</p><ul><li><strong>借贷约束无约束力：</strong>消费者希望青年时期的消费小于收入，借贷限制没有发生作用，并不影响消费。</li><li><strong>借贷约束有约束力：</strong>消费者希望青年时期的消费大于收入，这时他最多只能将时期1 的收入 <span class="math inline">\(y_1\)</span>全部花光，但借贷限制使得他不能消费更多，此时无差异曲线 <spanclass="math inline">\(U_1\)</span> 与跨期预算约束线相切于 <spanclass="math inline">\(D\)</span> 点，但由于借贷约束，消费者只能实现<span class="math inline">\(E\)</span> 点的消费组合。</li></ul><h2 id="二消费的随机游走假说">（二）消费的随机游走假说</h2><p>　　由美国经济学家罗伯特·霍尔首次提出，认为持久收入假说与理性预期的结合意味着消费的变动遵循随机游走方式。</p><p>　　根据永久收入假说，消费者的收入处于变化当中，并且消费者总是尽最大努力使自己的消费在时间上保持稳定。在任何一个时点，消费者总会根据当下对一生收入的预期选择消费。随着时间的推移，消费者总会根据新获得的信息修正其对一生收入的预期，并相应地调整消费。简单而言，消费的变动反映了消费者一生收入的意外变动。</p><p>　　因此，如果消费遵循随机游走方式，则决策者不仅可以通过自己的行为影响经济发展，还可以通过影响公众对政策行为的预期来影响公众消费，进而影响整个经济发展。</p><h2 id="三消费函数之谜及其解释">（三）消费函数之谜及其解释</h2><p>　　二战后的经验数据表明，凯恩斯的绝对收入假说与现实经济运行情况并不吻合，实际中的消费函数如图所示。</p><p>　　<strong>消费函数之谜：</strong>短期消费函数平均消费倾向下降，而长期消费函数平均消费倾向不变。</p><p>　　消费函数：长期过原点，短期有正截距。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515024512-3aknlaj.png" style="width:350px" alt="消费函数之谜" /></p><h3 id="相对收入消费理论">1. 相对收入消费理论</h3><p>　　相对收入消费理论由美国经济学家杜森贝利（J.S.Duesenberry）在《收入、储蓄的消费行为理论》中提出。</p><p>　　在指出凯恩斯错误假设的基础上，杜森贝利提出消费并不取决于现期绝对收入水平，而是取决于相对收入水平，即相对于其他人的收入水平和相对于本人历史上最高的收入水平。根据相对收入假设，杜森贝利认为：</p><ul><li>人们的消费会相互影响，有攀比倾向，即<strong>“示范效应”</strong>，人们的消费不取决于其绝对收入水平，而取决于同别人相比的相对收入水平。</li><li>消费有习惯性，某期消费不仅受当期收入的影响，而且受过去所达到的最高收入和最高消费的影响。消费具有不可逆性，即<strong>“棘轮效应”</strong>。</li></ul><p>　　如图所示，长期内，消费与收入保持较为固定的比率，故而长期消费曲线是从原点出发的直线；短期内，消费随收入的增加而增加但难以随收入的减少而同比例减少（由于“棘轮效应”和“示范效应”），故短期消费曲线是具有正截距的曲线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515024648-70r1wte.png" style="width:400px" alt="相对收入消费理论对短期消费函数的解释" /></p><h3 id="生命周期的消费理论">2. 生命周期的消费理论</h3><p>　　生命周期的消费理论由莫迪利安尼（F.Modigliani）提出。</p><p>　　生命周期的消费理论认为，人的理性消费是为了一生的效用最大化。个人是在更长时间范围内计划他们的消费和储蓄行为的，以便在他们整个一生中实现消费的最优配置，从而将储蓄看成是个人想为年老时消费做准备的愿望的结果。按照该理论，消费不取决于现期收入，而主要取决于一生的收入。</p><p>　　人的一生可分为两个阶段，第一阶段参加工作，第二阶段纯消费而无收入，用第一阶段的储蓄来弥补第二阶段的消费。这样，个人可支配收入和财富的边际消费倾向便取决于该消费者的年龄。它表明当收入相对于一生平均收入高（低）时，储蓄是高（低）的；它同时指出总储蓄取决于经济增长率及人口的年龄分布变量。</p><h3 id="永久收入的消费理论">3. 永久收入的消费理论</h3><p>　　永久收入的消费理论由弗里德曼（M.Friedman）提出。</p><p>　　永久收入的消费理论认为消费者的消费支出主要不是由他的现期收入决定，而是由他的永久收入决定。永久收入是指消费者可以预计到的长期收入。永久收入大致可以根据观察到的若干年收入的数值之加权平均数计得，距现在的时间越近，权数越大；反之，则越小。</p><p>　　按照永久收入消费理论，消费与永久收入成比例，即：</p><p><span class="math display">\[\begin {align}C=cY_p\end {align}\]</span></p><p>　　假设只考虑两期，则永久收入可表示为：</p><p><span class="math display">\[\begin {align}Y_P=\theta Y +(1-\theta ) Y_{-1}\end {align}\]</span></p><p>　　将上式代入 <span class="math inline">\(C=cY_P\)</span> 可得：</p><p><span class="math display">\[\begin {align}C=c\theta Y +c(1-\theta ) Y_{-1}\end {align}\]</span></p><p>　　可得当前收入的边际消费倾向为 <spanclass="math inline">\(c\theta\)</span>，长期边际消费倾向大于短期边际消费倾向。</p><p>　　<strong>结论：</strong>暂时性收入变化对消费没有实质性影响，只有永久收入变化才对消费有实质性影响。同样的，暂时性税收变化对消费没有实质性影响，只有永久税收政策调整才对消费有实质性影响。政府想通过增减税收来影响总需求的政策是不能奏效的，因为人们因减税而增加的收入，并不会立即用来增加消费。</p><h3 id="生命周期假说与永久收入假说的区别与联系">4.生命周期假说与永久收入假说的区别与联系</h3><h4 id="区别">4.1 区别</h4><p>　　生命周期假说偏重对储蓄动机的分析，从而提出以财富作为消费函数之变量的重要理由；永久收入假说则偏重于个人如何预测自己未来收入问题。</p><h4 id="联系">4.2 联系</h4><p>　　生命周期假说与永久收入假说都体现一个基本思想：单个消费者是前向预期决策者。</p><ul><li><p>消费不只同现期收入相联系，而是以一生或永久的收入作为消费决策的依据。</p></li><li><p>一次性暂时收入变化引起的消费支出变动甚小，即其边际消费倾向很低，甚至接近于零，但来自永久收入变动的消费倾向很大，甚至接近于1。</p></li><li><p>当政府想用税收政策影响消费时，如果减税或增税只是临时性的，则消费者并不会受到很大影响，只有永久性税收变动，政策才会有明显效果。</p></li></ul><h1 id="二投资理论">二、投资理论</h1><p>　　宏观经济学中，投资就是资本存量的增加，是一个流量概念。投资是购置物质资本的活动，是总需求的一部分。</p><p>　　<strong>投资可以分为固定投资与存货投资，其中固定投资又可分为企业固定投资和住房投资两部分。</strong></p><h2 id="一企业固定投资">（一）企业固定投资</h2><p>　　企业固定投资模型又称作新古典投资模型，假设厂商是完全竞争厂商。</p><p>　　企业固定投资指企业购买的机器、设备、厂房等固定资本，包括净投资和重置投资。净投资是资本存量的净增加，重置投资则是用于购置新机器设备以替代已经磨损而丧失生产能力的机器设备的资本。</p><h3 id="最优资本存量的决定">1. 最优资本存量的决定</h3><p>　　最优资本存量是指实际使用资本量的边际成本等于该资本的边际收益时决定的全部投资量。</p><p>　　（传送门：<ahref="https://fgzfgz.github.io/posts/17352/">微观经济学-要素市场理论-生产要素的价格决定</a>，在完全竞争市场中，类比<span class="math inline">\(MP_L=\frac WP\)</span>，企业要实现利润最大化，投资必须满足：<spanclass="math inline">\(MP_K=\frac {R_K} P\)</span>）</p><p>　　资本的边际成本等于资本的租用价格 <spanclass="math inline">\(R_K\)</span>，指企业在生产过程中多使用一单位资本而增加的成本，它的大小取决于资本品价格<span class="math inline">\(P_K\)</span>、实际利率 <spanclass="math inline">\(r\)</span> 和折旧率 <spanclass="math inline">\(δ\)</span>，具体公式为 <spanclass="math inline">\(R_K=(r+δ)P_K\)</span>。资本的边际产出则取决于企业的生产函数。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515025635-wgqjnx7.png" style="width:450px" alt="最优资本存量的决定" /></p><h3 id="最优资本存量的动态调整">2. 最优资本存量的动态调整</h3><p>　　实际的资本存量与企业愿意长期拥有的最优资本存量经常是不一致的，由于迅速调整投资的成本较高，投资不能立即填平最优资本存量与现有资本存量之间的缺口，企业通常会逐步调整实际的资本存量，以便达到最优资本存量。</p><p>　　当企业实际资本存量偏离最优资本存量时， 实际资本 <spanclass="math inline">\(K\)</span> 将作趋于最优资本存量 <spanclass="math inline">\(K^*\)</span> 的调整：</p><p><span class="math display">\[\begin {align}K=K_{-1}+\lambda (K^*-K_{-1})\end {align}\]</span></p><p>　　其中，<span class="math inline">\(K^*-K_{-1}\)</span>为资本缺口，<span class="math inline">\(\lambda\)</span>为调整因子/调整速度，<span class="math inline">\(K\)</span>为调整一次后的资本存量。</p><h2 id="二住房投资">（二）住房投资</h2><h3 id="住房投资的含义">1. 住房投资的含义</h3><p>　　住房投资是指个人为自己居住或者出租而购买新住房进行的投资。</p><p>　　现实中，人们购买住房主要有三种目的：</p><ul><li>自己居住;</li><li>向他人出租以收取租金;</li><li>获取其由于价值增加而产生的利润。</li></ul><h3 id="住房投资的决定">2. 住房投资的决定</h3><p>　　存量均衡与流动供给模型分析认为：</p><ul><li>现有住房存量市场决定了均衡的住房价格；</li><li>住房价格决定了住房投资的流量。</li></ul><p>　　因此，住房投资的决定需要经过以下两个步骤：</p><ul><li>假定现有住房的供给不变，利用住房需求曲线就可以求出均衡的住房数量和价格。</li><li>假设任何因素发生变动使住房需求曲线移动，就可以推出住房投资函数。</li></ul><p>　　在图(a)中，纵轴代表住房相对价格 <spanclass="math inline">\(P_H/P\)</span>，横轴代表住房资本存量 <spanclass="math inline">\(K_H\)</span>，住宅供给曲线为 <spanclass="math inline">\(S_S\)</span>，用垂直线表示某一时点上住房存量保持不变，住房需求曲线为<spanclass="math inline">\(D\)</span>，均衡的住房价格由住房的需求曲线和供给曲线的交点确定。</p><p>　　在图(b)中，纵轴表示住房的相对价格 <spanclass="math inline">\(P_H/P\)</span>，横轴代表住房投资，住房价格越高，新住房的供给就越大，所以住房投资曲线向右上倾斜。</p><p>　　（<span class="math inline">\(P_H/P\)</span>为房价与物价水平的相对比例）</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515015943-m3x3kv2.png" style="width:550px" alt="住房市场" /></p><h2 id="三存货投资">（三）存货投资</h2><p>　　存货投资主要包括三部分：</p><ul><li>生产准备过程中的原材料存货；</li><li>生产过程中的半成品存货；</li><li>产成品存货。</li></ul><p>　　存货的变动是经济周期波动的一个重要标志。一般而言，在经济周期的繁荣与萧条之间，存货投资会逐步减少，在经济衰退时期，企业会大量削减存货，甚至使得存货投资成为负值。</p><p>　　企业持有存货的原因是多方面的，主要包括：</p><ul><li>保证生产的平稳化；</li><li>避免脱销；</li><li>提高经营效率；</li><li>一部分存货是生产过程中的产品。</li></ul><h1 id="三货币需求">三、货币需求</h1><p>　　货币需求指人们在投资组合中所选择持有的现金、支票账户等货币资产的数量。鉴于货币的两个基本特征，即最强的流动性和较低收益，人们对货币的需求取决于他们如何在流动性偏好与持有货币的机会成本之间进行权衡。</p><h2 id="一影响货币需求的主要因素">（一）影响货币需求的主要因素</h2><p>　　货币需求量的决定受多方面因素影响，其中价格水平、实际收入和利率这三个宏观经济变量对货币需求具有重大影响。</p><ul><li><strong>价格水平。</strong>较高的价格水平提高了流动需求，从而导致货币的名义需求增大。</li><li><strong>实际收入。</strong>人们的收入越高，所进行的交易就越多，对持有货币的需求就越大。</li><li><strong>利率。</strong>当风险和流动性保持不变时，货币需求取决于货币及其他非货币资产的预期收益。货币预期收益的提高能够增加货币需求，而其他资产预期收益的提高则使得财富所有者将货币转换为其他高收益资产，从而降低货币需求。</li></ul><p>　　价格水平、实际收入和利率对货币需求函数的影响可以表述为：</p><p><span class="math display">\[M^d=PL(Y, r)\]</span></p><p>　　式中，<span class="math inline">\(M^d\)</span>为名义货币需求量，<span class="math inline">\(P\)</span>为价格水平，<span class="math inline">\(Y\)</span> 为实际收入，<spanclass="math inline">\(r\)</span> 为利率。将上式整理可得：</p><p><span class="math display">\[\begin {align}\frac {M^d} P=L(Y, r)\end {align}\]</span></p><p>　　上式即为实际货币需求函数。</p><h2 id="二货币需求的资产组合理论">（二）货币需求的资产组合理论</h2><p>　　货币需求的资产组合理论是强调货币作为价值储藏作用的货币需求理论。该理论认为，货币需求取决于货币和家庭持有的各种非货币资产提供的风险与收益，还取决于总财富。</p><p>　　（货币需求的资产组合理论定义的价值储藏作用的货币为<strong>广义货币</strong>，与凯恩斯理论狭义货币不同）</p><p>　　现实中，除了影响货币需求的主要宏观经济变量外，还存在影响货币需求的其他因素，包括：预期股票收益、预期债券收益、预期通货膨胀率和实际财富等。</p><ul><li><strong>预期股票收益。</strong>股票收益的提高会吸引人们将货币转换为股票，从而减少货币需求。</li><li><strong>预期债券收益。</strong>与股票一样，债券收益的提高也会吸引人们购买更多的债券，从而减少货币需求。</li><li><strong>预期通货膨胀率。</strong>较高的通货膨胀率意味着较高的货币贬值率，在这种情况下，人们会减少货币的持有，降低对货币的需求。</li><li><strong>实际财富。</strong>当财富增加时，人们可能会以货币形式持有部分新增财富。当然，如果收入和交易水平保持不变，财富所有者以货币而非其他高收益资产形式持有新增财富的动机较小，因而财富增加对货币需求的影响也比较小。</li></ul><p>　　预期股票收益、预期债券收益、预期通货膨胀率和实际财富对货币需求的影响可以表述为：</p><p><span class="math display">\[\begin {align}\frac {M^d} P=L(r_s, r_b, \pi^e, W)\end {align}\]</span></p><p>　　上式中，<span class="math inline">\(r_s\)</span>为预期股票收益，<span class="math inline">\(r_b\)</span>为预期债券收益，<span class="math inline">\(\pi^e\)</span>为预期通货膨胀率，<span class="math inline">\(W\)</span>为实际财富。</p><p>　　<strong>结论：</strong></p><ul><li><span class="math inline">\(r_s\)</span> 或 <spanclass="math inline">\(r_b\)</span>提高会减少货币需求，因为其他资产变得更有吸引力。</li><li><span class="math inline">\(\pi^e\)</span>上升会减少货币需求，因为货币变得更缺乏吸引力（<strong>更愿意持有保值的投资品</strong>）。</li><li><span class="math inline">\(W\)</span>增加提高货币需求，因为更高的财富意味着更多的资产组合。</li></ul><h2 id="三货币需求的交易理论">（三）货币需求的交易理论</h2><p>　　鲍莫尔-托宾模型在 20 世纪 50年代由经济学家威廉·鲍莫尔和詹姆斯·托宾提出，该理论是对凯恩斯交易动机的货币需求理论的发展。</p><p>　　根据凯恩斯的理论，交易动机的货币需求只是收入的函数，而与利率无关。鲍莫尔和托宾通过分析，发现即使是交易动机的货币需求，也同样是利率的函数，而且同样是利率的减函数。</p><p>　　鲍莫尔-托宾模型分析持有货币的成本与收益。持有货币的收益是方便进行交易，成本是放弃把货币存在银行里所得到的利息。它描述了个人对货币资产的需求，正向地取决于支出而反向地取决于利率。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515031426-4xzsf8b.png" style="width:400px" alt="消费者持有货币的成本" /></p><p>　　到银行提款的人所承担的总成本是放弃的利息和去银行的成本：</p><p><span class="math display">\[\begin {align}总成本=放弃的利息+去银行的成本=\frac {rY} {2N}+FN\end {align}\]</span></p><p>　　<span class="math inline">\(Y\)</span> 是一年中的实际支出，<spanclass="math inline">\(N\)</span> 是去银行的次数，<spanclass="math inline">\(F\)</span> 是每次去银行的固定成本，<spanclass="math inline">\(r\)</span> 是利率。<spanclass="math inline">\(\frac {Y} {2N}\)</span>表示持有的平均货币量。<br />持有货币的总成本是：</p><p><span class="math display">\[\begin {align}总成本=\frac {rY} {2N}+FN\end {align}\]</span></p><p>　　通过对 <span class="math inline">\(N\)</span>求总成本的最小化，则得到最优的交易次数，即有：</p><p><span class="math display">\[\begin {align}N^*=\sqrt {\frac {rY} {2F}}\end {align}\]</span></p><p>　　其中，<span class="math inline">\(N^*\)</span>是最优交易次数。</p><p>　　对应的，<span class="math inline">\(平均货币持有量=\frac Y {2N^*}=\sqrt {\frac {YF} {2r} }\)</span>。</p><p>　　‍</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>宏观｜第8章：经济增长</title>
      <link href="/posts/27640/"/>
      <url>/posts/27640/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/44205/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一经济增长与经济发展">一、经济增长与经济发展</h1><h2 id="一经济增长">（一）经济增长</h2><p>　　在宏观经济学中，经济增长通常被定义为产量的增加，这里，产量既可以表示为经济的总产量（GDP总量），也可以表示为人均产量（人均GDP）。经济增长的程度可以用增长率来描述。</p><p>　　若用 $ Y_t $ 表示 <span class="math inline">\(t\)</span>时期的总产量，$ Y_{t-1} $ 表示 $ t-1 $时期的总产量，则总产量意义下的增长率可表示为：</p><p><span class="math display">\[\begin{align}g_Y=\frac {Y_t-Y_{t-1}} {Y_{t-1}}\end{align}\]</span></p><p>　　上式中，$ g_Y$ 为总产量意义下的增长率。</p><p>　　若用 $ y_t $ 表示 <span class="math inline">\(t\)</span>时期的人均产量，$ y_{t-1} $ 表示 <spanclass="math inline">\(t-1\)</span>时期的人均产量，则人均产量意义下的增长率可表示为：</p><p><span class="math display">\[\begin{align}g_y=\frac {y_t-y_{t-1}} {y_{t-1}}\end{align}\]</span></p><p>　　上式中，$ g_y $为人均产量意义下的增长率（人均可以更好体现经济效率）。</p><p>　　经济增长率的高低体现了一个国家或一个地区在一定时期内产出的增长速度，也是衡量一个国家总体经济实力增长速度的标志。人均总产出增长率的高低则体现了经济效率的高低。</p><p>　　研究和分析的“经济增长”是指人均产出的增长（经济增长图形分析中，纵轴都用<span class="math inline">\(y\)</span> 表示）。</p><h2 id="二经济发展">（二）经济发展</h2><p>　　经济发展的内涵比经济增长丰富，它不仅包括经济增长，而且还包括国民的生活质量，以及整个社会各个不同方面的总体进步。因此，经济发展是反映一个经济社会总体发展水平的综合性概念。</p><p>　　经济增长是一个“量”的概念，而经济发展是一个“质”的概念。从经济增长与经济发展的关系来看，经济增长是经济发展的前提、基础和核心，没有一定的经济增长，就不会有经济发展。</p><h2 id="三经济增长与经济发展的关系">（三）经济增长与经济发展的关系</h2><p>　　经济增长与经济发展是两个既有联系又有区别的概念。其中，经济增长是产量的增加，这里的产量既可以表示为经济的总产量，也可以表示为人均产量。经济发展的内涵比经济增长丰富，它不仅包括经济增长，而且还包括国民的生活质量，以及整个社会各个不同方面的总体进步。因此，经济发展是反映一个经济社会总体发展水平的综合性概念。</p><p>　　从经济增长与经济发展的关系来看，经济增长是经济发展的前提、基础和核心，没有一定的经济增长，就不会有经济发展。但是，经济增长不等于经济发展，人均产值或收入的增长并不一定意味着发展，经济高速增长也不一定意味着发展。20世纪 60-70年代许多发展中国家的经验证明，经济增长并不一定带来经济发展，即使在经济增长速度很高的情况下，许多发展中国家并没有取得社会经济的普遍进步，反而出现了“有增长无发展”或“没有发展的经济增长”的现象。</p><p>　　虽然经济增长和经济发展都指人均国民收入增加，但经济增长一般是指经济发达国家人均实际国民收入的增加。而经济发展理论则专门研究一个国家如何由不发达状态过渡到发达状态，因而主要研究发展中国家经济。如果说经济增长是一个“量”的概念，那么经济发展就是一个比较复杂的“质”的概念。</p><h1 id="二增长核算">二、增长核算</h1><h2 id="一经济增长的决定因素">（一）经济增长的决定因素</h2><p>　　学者将导致经济增长的原因区分为经济增长的直接原因和基本原因。为了说明经济增长的决定因素，学者提出了如下生产方程：</p><p><span class="math display">\[\begin{align}Y_t=f(K_t, R_t, N_t, A_t, B_t)\end{align}\]</span></p><ul><li><span class="math inline">\(Y_t\)</span>：经济的总产出；</li><li><span class="math inline">\(K_t\)</span>：资本存量；</li><li><span class="math inline">\(R_t\)</span>：自然资源；</li><li><span class="math inline">\(N_t\)</span>：劳动投入；</li><li><span class="math inline">\(A_t\)</span>：经济应用知识的储量；</li><li><spanclass="math inline">\(B_t\)</span>：基本因素，或“社会文化环境”或“社会能力”，是经济运行所不可缺失的。</li></ul><h2 id="二增长核算方程">（二）增长核算方程</h2><p>　　假设经济的生产函数为：</p><p><span class="math display">\[\begin {align}Y=AK^{\alpha}N^{1-\alpha}\end {align}\]</span></p><p>　　借助于增长率的结论可得增长核算方程：</p><p><span class="math display">\[\begin {align}g_Y=g_A+\alpha g_K+(1-\alpha)g_N\end {align}\]</span></p><p>　　其中：</p><p>　　<span class="math inline">\(g_Y\)</span>：总产出增长率；</p><p>　　<spanclass="math inline">\(g_A\)</span>：技术增长率（全要素生产率）;</p><p>　　<span class="math inline">\(g_K\)</span>：资本增长率；</p><p>　　<span class="math inline">\(g_N\)</span>：劳动增长率。</p><p>　　增长核算方程表明，产出增长率等于全要素生产率加上资本和劳动增长的贡献，即：</p><p><span class="math display">\[\begin {align}产出增长=生产率增长的贡献+资本增长的贡献+劳动增长的贡献\end {align}\]</span></p><p>　　由方程 <span class="math inline">\(g_Y=g_A+\alphag_K+(1-\alpha)g_N\)</span> 可得：</p><p><span class="math display">\[\begin {align}g_A=g_Y-\alpha g_K-(1-\alpha)g_N\end {align}\]</span></p><p>　　因此，全要素生产率是作为一个余量计算出来的，即作为考虑了可以直接衡量的增长决定因素后剩余的产出增长率，由于这个原因，<spanclass="math inline">\(g_A\)</span>有时被称为<strong>索洛余量</strong>。</p><p>　　<strong>索洛余量</strong>表示在经济增长中，不能要用要素投入解释的部分，是一个统计残差。</p><p>　　索洛余量通常被解释为技术进步。由于在<u>增长核算方程</u>中，索洛余量<span class="math inline">\(g_A\)</span> 的系数为 1，而资本与劳动的系数<span class="math inline">\(g_K\)</span>、<spanclass="math inline">\(g_N\)</span> 的系数均小于1，因此认为知识进步的作用最大。</p><h2id="三丹尼森对经济增长因素的分析">（三）丹尼森对经济增长因素的分析</h2><p>　　美国经济学家丹尼森把影响经济增长因素归结为六个：</p><ul><li>劳动（属于 <span class="math inline">\(g_N\)</span>）；</li><li>资本存量的规模（属于 <spanclass="math inline">\(g_K\)</span>）；</li><li>资源配置情况（属于 <span class="math inline">\(g_A\)</span>）；</li><li>规模经济（属于 <span class="math inline">\(g_A\)</span>）；</li><li>知识进展（属于 <span class="math inline">\(g_A\)</span>）；</li><li>其他影响单位投入产量的因素（属于 <spanclass="math inline">\(g_A\)</span>）。</li></ul><p>　　其中，<strong>知识进展是发达国家最重要的增长因素（相对）</strong>。</p><p>　　这里知识进展含义广泛，包括技术知识、管理知识的进步和由于采用新的知识而产生的关于结构和设备更为有效的设计，还包括从国内外有关组织的研究、个别研究人员和发明家，或者从简单的观察和经验中得来的知识。丹尼森认为，技术知识和管理知识的重要性是相同的，不能只重视前者而忽视后者。</p><h2 id="四促进经济增长的政策">（四）促进经济增长的政策</h2><p>　　由增长核算方程知，政府可以影响决定经济增长的四个因素，即技术进步、资本形成、劳动投入和建立适当的制度。</p><ul><li>鼓励技术进步</li><li>鼓励资本形成</li><li>增加劳动供给</li><li>建立适当的制度</li></ul><h1 id="三新古典增长模型">三、新古典增长模型</h1><h2 id="一基本假定和思路">（一）基本假定和思路</h2><ul><li>经济由一个部门组成，该部门生产一种既可用于投资也可用于消费的商品，可设想这种商品就是国内生产总值（GDP）；</li><li>该经济为不存在国际贸易的封闭经济，且政府部门被忽略；</li><li>生产的规模报酬不变；</li><li>该经济的技术进步、人口增长及资本折旧的速度都由外生因素决定；</li><li>社会储蓄函数为 <span class="math inline">\(S=sY,\)</span> <spanclass="math inline">\(s\)</span> 为储蓄率。</li></ul><h2id="二没有技术进步的新古典增长模型">（二）没有技术进步的新古典增长模型</h2><p>　　在没有技术进步的情况下，设经济的生产函数为：</p><p><span class="math display">\[\begin {align}Y=F(K,N)\end {align}\]</span></p><p>　　根据生产规模报酬不变的假定，有：</p><p><span class="math display">\[\begin {align}\frac Y N=F\Bigg(\frac K N \Bigg)\end {align}\]</span></p><p>　　由上式可以推得：</p><p><span class="math display">\[\begin {align}y=f(k)\end {align}\]</span></p><p>　　假定折旧是资本存量的一个固定比率 <spanclass="math inline">\(\delta\)</span>，人口增长率为 <spanclass="math inline">\(n\)</span> ，且储蓄能有效地转化为投资，则有：</p><p><span class="math display">\[\begin {align}\Delta K=I-\delta K=sY-\delta K\end {align}\]</span></p><p>　　其中，投资 <span class="math inline">\(I\)</span>表示形成新资本。由上式可得：</p><p><span class="math display">\[\begin {align}\frac {\Delta K } N=\frac {sY} N-\frac {\delta K } N=sf(k)-\delta k\end {align}\]</span></p><p>　　对 <span class="math inline">\(k=\frac K N\)</span>两边取对数，并对时间 <span class="math inline">\(t\)</span>微分可得：</p><p><span class="math display">\[\begin {align}\frac {\Delta K } K=\frac {\Delta k} k+ \frac {\Delta N } N\end {align}\]</span></p><p>　　两边同时乘以 <span class="math inline">\(\frac KN\)</span>，可得：</p><p><span class="math display">\[\begin {align}\frac {\Delta K } N=\frac {\Delta k} k\cdot \frac K N +n \cdot \frac KN=\Delta k+nk\end {align}\]</span></p><p>　　由上式可得：<span class="math inline">\(\Delta k= \frac {\Delta K} N -nk\)</span>，并将该式带入<a href="">方程(12)</a>可得，新古典增长模型的基本方程为：</p><p><span class="math display">\[\begin{align}\dot k=sf(k)-(n+\delta)k\end{align}\]</span></p><p>　　上式中 <span class="math inline">\(k\)</span> 为人均资本，<spanclass="math inline">\(s\)</span> 为储蓄率，<spanclass="math inline">\(y=f(k)\)</span> 为人均产量，<spanclass="math inline">\(n\)</span> 为人口增长率，<spanclass="math inline">\(δ\)</span> 为资本的折旧率。</p><p>　　因此：</p><ul><li><span class="math inline">\(sf(k)\)</span> 为社会的人均储蓄；</li><li><span class="math inline">\((n+δ)k\)</span>为新增劳动力所配备的资本数量和资本折旧，称为资本广化（即意味着为每一个新增的工人提供平均数量的资本存量）；</li><li><span class="math inline">\(\Delta k\)</span>为人均资本的增加，称为资本深化（即意味着每个工人占有的资本存量上升）。</li></ul><p>　　因此，新古典增长模型的基本方程式又可表述为：</p><p><span class="math display">\[\begin {align}资本深化=人均储蓄(投资)-资本广化\end {align}\]</span></p><h2id="三具有技术进步的新古典增长理论">（三）具有技术进步的新古典增长理论</h2><p>　　具有技术进步的新古典增长理论使用更符合经济现实的哈罗德中性（劳动增进型）生产函数，即技术进步主要作用于提高劳动生产率。（补充：<ahref="https://qks.sufe.edu.cn/J/PDFFull/A160824006092.pdf">常见生产函数形式</a>）</p><p>　　哈罗德中性的生产函数需要满足<ahref="https://zh.wikipedia.org/zh-hans/稻田条件">稻田条件</a>，即人均有效劳动资本的产出满足一阶条件<span class="math inline">\(f&#39;(k) \gt 0\)</span> 与二阶条件 <spanclass="math inline">\(f″(k) \lt0\)</span>，因此，资本边际产出满足递减规律：</p><ul><li>当 <span class="math inline">\(k\to 0\)</span> 时，<spanclass="math inline">\(f&#39;(k)\to +\infty\)</span>；</li><li>当 <span class="math inline">\(k\to +\infty\)</span> 时，<spanclass="math inline">\(f&#39;(k)\to 0\)</span>。</li></ul><p>　　考虑技术进步的情况下，产出 <span class="math inline">\(Y\)</span>是资本 <span class="math inline">\(K\)</span> 和有效劳动 <spanclass="math inline">\(AN\)</span> 的一次齐次函数，即 <spanclass="math inline">\(Y=F(AN,K)\)</span>。令 <spanclass="math inline">\(\haty=Y/{AN}\)</span>，表示有效劳动平均的产量；<spanclass="math inline">\(\hatk=K/{AN}\)</span>，表示有效劳动平均的资本。生产函数可写成：</p><p><span class="math display">\[\begin {align}\hat y=f(\hat k)\end {align}\]</span></p><p>　　对公式 <span class="math inline">\(\hat k=K/{AN}\)</span>两边取自然对数，然后对时间求导，整理可得具有技术进步的新古典增长模型的基本方程为：</p><p><span class="math display">\[\begin {align}\dot {\hat k}=sf(\hat k)-(n+\delta +\alpha)\hat k\end {align}\]</span></p><p>　　其中，<span class="math inline">\(\alpha\)</span>为技术进步的增长率，假定是外生给定的。</p><h2 id="四稳态及其条件">（四）稳态及其条件</h2><p>　　在增长文献中，稳态是指包括资本存量和产出在内的有关内生变量将不会随时间的推移而变化的一种状态。按照分析，在新古典增长模型中，经济达到稳态的条件是￼。</p><p>　　对没有技术进步的新古典增长模型来说，该模型稳态的条件是：</p><p><span class="math display">\[\begin {align}sf(k)=(n+δ)k\end {align}\]</span></p><p>　　对具有技术进步的新古典增长模型来说，该模型稳态的条件是：</p><p><span class="math display">\[\begin{align}sf(\hat k)=(n+\delta +\alpha)\hat k\end{align}\]</span></p><p>　　如下图所示，以没有技术进步的新古典增长模型为例，当 <spanclass="math inline">\(k\)</span> 为 <spanclass="math inline">\(k^*\)</span> 时，<spanclass="math inline">\(sf(k)\)</span> 曲线正好与 <spanclass="math inline">\((n+δ)k\)</span> 线相交，此时有 <spanclass="math inline">\(\dotk=0\)</span>，即这时的人均资本量将不随着时间的推移而变化。所以，<spanclass="math inline">\(D\)</span> 点所对应的状态即为该模型的稳态。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514220255-wd1au0q.png" style="width:400px" alt="没有技术进步的新古典增长模型的稳态" /></p><h2 id="五稳态时的增长率">（五）稳态时的增长率</h2><h3 id="没有技术进步的新古典增长模型">1.没有技术进步的新古典增长模型</h3><p>　　当经济达到稳态时，人均资本和人均产出的稳态增长率均为零，总量资本和总产出的稳态增长率为<span class="math inline">\(n\)</span>，即人口增长率。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230314203411-9y1isia.png" style="width:600px"/></p><h3 id="具有技术进步的新古典增长模型">2.具有技术进步的新古典增长模型</h3><p>　　根据具有技术进步的新古典增长模型的稳态条件可知，稳态增长率如下表所示。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230314203424-h32o30h.png" style="width:650px"/></p><p>　　根据上表可知，技术进步会导致人均产出的持续增长。一旦经济达到稳态，人均产出的增长率就只取决于技术进步的速率。根据新古典增长模型，只有技术进步才能解释持续增长和生活水平的持续上升。</p><h2 id="六储蓄消费与稳态产出">（六）储蓄、消费与稳态产出</h2><h3 id="储蓄率与稳态产出的关系">1. 储蓄率与稳态产出的关系</h3><p>　　如图所示，经济最初位于 <span class="math inline">\(C\)</span>点的稳态均衡。现在假定人们增加了储蓄，这使储蓄曲线上移至 <spanclass="math inline">\(s&#39;f(k)\)</span> 的位置。这时新的稳态为 <spanclass="math inline">\(C&#39;\)</span>，比较 <spanclass="math inline">\(C\)</span> 点和 <spanclass="math inline">\(C&#39;\)</span>点，可知储蓄率的增加提高了稳态的人均资本和人均产量，即储蓄增加了产出。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515000139-ieconda.png" style="width:380px" alt="储蓄与稳态产出的关系" /></p><p>　　对于从 <span class="math inline">\(C\)</span> 点到 <spanclass="math inline">\(C&#39;\)</span>点的转变，从短期看，更高的储蓄率导致了总产量和人均产量增长率的增加。因为增加人均资本的唯一途径是资本存量比劳动力更快地增长，进而又引起产量的更快增长。由于<span class="math inline">\(C\)</span> 点和 <spanclass="math inline">\(C&#39;\)</span>点都是稳态，稳态中的产量增长率是独立于储蓄率的，从长期看，随着资本积累，增长率逐渐降低，最终又回落到人口增长的水平。储蓄率的增加不能影响到稳态增长率，但确实能提高收入的稳态水平。即储蓄率的增加只有水平效应，绝没有增长效应。</p><h3 id="自发性消费与稳态产出的关系">2. 自发性消费与稳态产出的关系</h3><p>　　如图所示，假定经济初始均衡点为 <spanclass="math inline">\(E\)</span> 点，此时利率水平为 <spanclass="math inline">\(r_0\)</span>，产出为 <spanclass="math inline">\(Y_0\)</span>。若自发性消费增加，则总需求增加，从而使得<span class="math inline">\(IS\)</span> 曲线向右移动到 <spanclass="math inline">\(IS_1\)</span>，从而使得经济均衡点移动到 <spanclass="math inline">\(E_1\)</span>，从而使得产出从 <spanclass="math inline">\(Y_0\)</span> 增加到 <spanclass="math inline">\(Y_1\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515000343-44qbhul.png" style="width:350px" alt="自发性消费增加对产出的影响" /></p><h3 id="节俭悖论">3. 节俭悖论</h3><p>　　根据凯恩斯总需求决定国民收入的理论，公众越节俭，降低消费，增加储蓄，往往会导致社会收入的减少。因为在既定的收入中，消费与储蓄呈现反方向变动，所以储蓄与国民收入也呈现反方向变动关系。根据这种观点，增加消费减少储蓄会通过增加总需求引起国民收入的增加，就会促进经济繁荣；反之，就会导致经济萧条。</p><p>　　但是，从长期看，更高的储蓄率意味着较高的人均产出水平。另外，来自于实证分析的数据表明：各国的储蓄率与增长是正相关的。</p><p>　　显然，储蓄水平在短期和长期的影响是不一样的，这被称为“节俭悖论”。</p><h1 id="四应用新古典增长模型">四、应用新古典增长模型</h1><h2id="一储蓄率增加对产量增长的影响">（一）储蓄率增加对产量增长的影响</h2><p>　　如图所示，经济最初位于 <span class="math inline">\(C\)</span>点的稳态均衡。假定经济活动主体一次性把储蓄率从 <spanclass="math inline">\(s\)</span> 提高到 <spanclass="math inline">\(s&#39;\)</span>，形成新的稳态为 <spanclass="math inline">\(C&#39;\)</span>。</p><p>　　可以看出，储蓄率的增加提高了稳态的人均资本和人均产量。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514220406-7k98wqk.png" style="width:400px" alt="储蓄率增加的影响" /></p><p>　　<strong>原理：</strong>储蓄率提高（<span class="math inline">\(s\to s&#39;\)</span>），则人均资本提高（<span class="math inline">\(k_0\to k&#39;\)</span>），进而人均产出提高（<span class="math inline">\(y_0\to y&#39;\)</span>）</p><ul><li>从短期看（<span class="math inline">\(s \to s&#39;\)</span>的变化过程），更高的储蓄率导致了总产量和人均产量增长率的增加。</li><li>由于稳态中的产量增长率是独立于储蓄率的，从长期看，随着资本积累，增长率逐渐降低，最终又回落到人口增长的水平。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514231739-jljuyf6.png" style="width:400px" alt="人均产出和总产量增长率随时间变化的轨迹" /></p><p>　　<strong>结论：</strong>储蓄率的增加不能影响到稳态增长率，但确实能提高收入的稳态水平。储蓄率的增加只有水平效应，绝没有增长效应。</p><p>　　<strong>进一步分析：平衡增长路径上的产出、投资与储蓄</strong></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/WeChatb5fb8faa2706e89cc0da9a96e1ac9b9f-20220217202808-23t3n26.png" style="height:750px" alt="平衡增长路径上的产出、投资与储蓄" /></p><h2 id="二人口增长对产量增长的影响">（二）人口增长对产量增长的影响</h2><p>　　如图所示，经济最初位于 A 点的稳态均衡。假定人口增长率从 <spanclass="math inline">\(n\)</span> 增加到 <spanclass="math inline">\(n&#39;\)</span>，形成新的稳态为 <spanclass="math inline">\(A&#39;\)</span>。</p><p>　　可以看出，人口增长率的增加降低了人均资本的稳态水平。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514220428-qfgir14.png" style="width:400px" alt="人口增长的影响" /></p><p>　　‍</p><p>　　另外，可以看出，人口增长率的上升增加了总产量的稳态增长率。即要达到稳态，需维持较高的稳态增长率，否则无法保证稳态。</p><h2 id="三对增长率差异的解释">（三）对增长率差异的解释</h2><p>　　假设 <span class="math inline">\(y=f(k)=k^\alpha\)</span>，则有<span class="math inline">\(\dot k=sk^{\alpha} -(n+\delta)k\)</span>，整理得：</p><p><span class="math display">\[\begin {align}g_k=sk^{\alpha-1}-(n+\delta)\end {align}\]</span></p><p>　　如图所示，一个国家的初始人均资本比其稳态水平低得越多，则经济增长得越快；同样，如果一个国家的初始人均资本存量远高于它的稳态水平，那么，它的资本存量将迅速减少，随着这个国家的资本存量逼近稳态水平，资本存量下降的速度将趋近于零。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514232201-rxgz297.png" style="width:400px" alt="收敛于稳态的速度" /></p><p>　　新古典增长模型分析相对经济增长率的关键，在于考察那些尚未处于稳态水平的经济。通过分析，新古典增长模型得出以下三个预言：</p><ul><li>如果两个国家的储蓄率（或投资率）相同，但初始人均资本（从而初始人均收入）不同，那么，初始人均资本较低的那个国家将有较高的经济增长。</li><li>如果两个国家的初始人均资本相同，但是投资率不同，那么，投资率高的那个国家将具有较高的经济增长。</li><li>如果一个国家提高投资水平，那么，它的收入增长率也将提高。</li></ul><h2 id="四资本的黄金律水平">（四）资本的黄金律水平</h2><p>　　<strong>资本的黄金律水平</strong>是指<strong>稳定状态人均消费最大化所对应的人均资本水平</strong>，是由经济学家菲尔普斯在1961 年提出的。</p><p>　　他认为如果一个经济的发展目标是使稳定人均消费最大化。使消费最大化的稳定状态值<span class="math inline">\(k\)</span> 被称为资本的黄金律水平，并用<span class="math inline">\(k_{gold}\)</span> 来表示。</p><p>　　稳定状态的人均消费可以写为：</p><p><span class="math display">\[\begin {align}c^*=f(k^*)-(n+δ)k^*\end {align}\]</span></p><p>　　人均消费达到最高水平的条件是：</p><p><span class="math display">\[\begin{align}\frac {\partial c^*} {\partial k^*}=f&#39;(k^*)-(n+\delta)=0\end{align}\]</span></p><p>　　即在 <span class="math inline">\(k_{gold}\)</span> 处，曲线 <spanclass="math inline">\(f(k)\)</span> 的切线 <spanclass="math inline">\(l\)</span> 应该与直线 <spanclass="math inline">\((n+δ)k\)</span> 平行。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515004147-yu437lv.png" style="width:400px" alt="资本的黄金律水平" /></p><p>　　如图所示，<strong>红色箭头</strong>范围即为资本黄金律水平下的人均消费<span class="math inline">\(c_{gold}\)</span>。</p><p>　　它表明，若使稳态人均消费达到最大，稳态人均资本量的选择应使资本的边际产品等于劳动增长率加上折旧率。</p><h1 id="五内生增长理论">五、内生增长理论</h1><p>　　<strong>索洛模型</strong>将长期增长归因于技术进步，但不能解释决定技术进步的经济因素。以索洛模型为代表的新古典增长理论将储蓄率、人口增长率与技术进步等重要因素作为<strong>外生变量</strong>来考虑，得出的某些结论与现实发生偏离。按照索洛模型，经济增长与储蓄率在稳态时无关，但来自实证分析的数据表明，各国的储蓄率与增长是正相关的。</p><p>　　<strong>内生增长理论模型</strong>通过<u>扩张资本的内涵</u>（定义为<strong>“广义资本”</strong>），将知识纳入资本的内容，将储蓄率、人口增长率与技术进步等重要因素作为<strong>内生变量</strong>来考虑，从而得出由模型的内部因素决定经济的长期增长。</p><p>　　两者的根本区别是，索洛模型是“假定”经济增长率，而内生增长模型是“解释”经济增长率。</p><h2 id="一基本模型">（一）基本模型</h2><p>　　<span class="math inline">\(AK\)</span> 生产函数为：</p><p><span class="math display">\[\begin{align}&amp; Y=AK\end{align}\]</span></p><p>　　在 <span class="math inline">\(AK\)</span>生产函数中，资本的边际产出等于常数 <spanclass="math inline">\(A\)</span>，它衡量一单位资本所生产的产出量。这个模型不存在资本边际收益递减，额外一单位资本均生产<span class="math inline">\(A\)</span>单位的额外产出。这一假设的关键在于把知识也看作是一种资本。</p><p>　　（对比：内生增长理论中，<span class="math inline">\(AK\)</span>生产函数中资本的边际产出为常数 <spanclass="math inline">\(A\)</span>；而在新古典增长模型中，人均资本边际产出递减，曲线<span class="math inline">\(f(k)\)</span> 斜率不断降低最终趋于 0。）</p><p>　　将资本积累方程 <span class="math inline">\(\Delta K=sY-\deltaK\)</span> 和生产函数 <span class="math inline">\(Y=AK\)</span>结合，可得：</p><p><span class="math display">\[\left \{\begin{align}&amp; Y=AK     \notag \\&amp; \Delta K=sY-\delta K   \notag \\\end{align}\right.\]</span></p><p><span class="math display">\[\begin{align}\Longrightarrow  \ \ \\frac {\Delta Y} {Y} =\frac {\Delta K} K=sA-\delta\end{align}\]</span></p><p>　　上式表明只要 <spanclass="math inline">\(sA＞δ\)</span>，即使没有外生技术进步的假设，经济的收入也一直增长，储蓄和投资会引起长期增长。</p><p>　　内生增长模型的关键在于把知识看作一种资本，这样就能保证资本边际收益不变。</p><p>　　上述被称为 <span class="math inline">\(AK\)</span>模型的内生增长模型提供了一条内生化稳态增长率的途径，即如果可以被累积的生产要素有固定报酬，那么稳态增长率将被这些要素的积累率所影响。储蓄率<span class="math inline">\(s\)</span>越高，产出增长率也将越高。进一步地，这一模型暗示，那些能永久提高投资率的政府政策会使经济增长率不断地提高。</p><h2 id="二两部门模型">（二）两部门模型</h2><h3 id="假设">1. 假设：</h3><ul><li>经济中有两个部门：制造业企业和研究性大学。</li><li>企业生产物品与劳务用于消费和物资资本投资。</li><li>大学生产供免费利用的“知识”要素。</li></ul><h3 id="模型方程">2. 模型方程</h3><p>　　假定知识存量为 <spanclass="math inline">\(E\)</span>，在大学的劳动力比例为 <spanclass="math inline">\(u\)</span>，那么在企业的劳动力比例为 <spanclass="math inline">\((1-u)\)</span>。</p><p>　　企业的生产函数：</p><p><span class="math display">\[\begin{align}Y=F \big [K,(1-u)EN\big ]\end{align}\]</span></p><p>　　大学的生产函数：</p><p><span class="math display">\[\begin{align}ΔE=g(u)E\end{align}\]</span></p><p>　　‍</p><p>　　资本积累方程：</p><p>$$<br /><span class="math display">\[\begin{align}ΔK=sY-δK\end{align}\]</span><br />$$</p><p>　　与 <span class="math inline">\(AK\)</span>模型一样，这个模型也可以在不假设生产函数中有外生变动的情况下引起长期增长。在这里，长期增长是内生地产生的，因为大学的知识创造不会停止。</p><p>　　对任何一个既定的 <span class="math inline">\(u\)</span>值，这种内生增长模型和新古典增长模型一样发挥作用。</p><h3 id="结论">3. 结论</h3><ul><li>在规模报酬不变的条件下，如果物质资本 <spanclass="math inline">\(K\)</span> 和知识 <spanclass="math inline">\(E\)</span> 都翻倍，则两部门产出也都翻倍。</li><li>当大学的劳动力比例 <span class="math inline">\(u\)</span> 不变时，<span class="math inline">\(E\)</span> 按固定比率 <spanclass="math inline">\(g(u)\)</span>增长，结果作用机理和新古典增长模型一样。</li></ul><h2id="三内生增长理论与新古典增长理论的比较">（三）内生增长理论与新古典增长理论的比较</h2><p>　　内生经济增长理论也称为新经济增长理论，是继新古典经济增长理论之后的又一经济增长理论，产生于20 世纪 80 年代后期与 90年代初期，代表人物有罗默、卢卡斯和阿罗等经济学家。新古典经济增长理论是美国经济学家索洛提出的，产生于20 世纪 50 年代后期与整个 60年代。内生经济增长理论和新古典经济增长理论的主要区别有以下三个：</p><ul><li><strong>假设条件不同。</strong>新古典经济增长理论假设资本边际收益递减，而内生经济增长理论则假设资本边际收益不变。这是内生经济增长理论和新古典经济增长理论的关键区别。另外，新古典经济增长理论假设技术是外生的，而内生经济增长理论则认为技术和资本一样，是“内生”的。</li><li><strong>储蓄率变动对经济增长的影响不同。</strong>在索洛模型中，储蓄引起暂时增长，但资本收益递减最终迫使经济达到稳定状态，在这一稳定状态下经济增长只取决于外生技术进步。相反，在内生增长模型中，储蓄和投资可以导致经济持续增长。</li><li><strong>结论不同。</strong>内生经济增长理论的结论是经济增长率是内生的，即促使经济增长的因素是模型内决定的，储蓄和投资会引起经济的长期增长。新古典经济增长理论的结论则是经济增长取决于外生的技术进步，而储蓄只会导致经济的暂时增长，资本边际收益递减最终使经济增长只取决于外生技术进步。</li></ul><h1 id="六促进经济增长的政策">六、促进经济增长的政策</h1><h2 id="一四个政策">（一）四个政策</h2><p>　　由增长核算方程知，政府可以影响决定经济增长的四个因素，即技术进步、资本形成、劳动投入和建立适当的制度。</p><h3 id="鼓励技术进步">1. 鼓励技术进步</h3><p>　　一个国家或地区技术进步的水平，主要取决于教育和科学研究的发展水平。政府对教育和科学研究部门的投资政策是影响一国技术进步进而影响该国长期经济增长的最重要的因素。同时，与技术进步相关的其他政策，例如有关技术创新的政策和专利制度、受政府政策影响的企业固定资产的折旧制度以及产业政策等都会在不同程度上影响技术进步和长期经济增长。</p><h3 id="鼓励资本形成">2. 鼓励资本形成</h3><p>　　资本的形成或资本积累意味着资本存量的增加。为了维持持续的高水平的投资支出，就必须增加储蓄，包括私人储蓄、政府储蓄，也包括引进外资。因此，一切影响私人储蓄、公共储蓄和引进外资的政策都会影响一个国家或地区的长期经济增长。</p><h3 id="增加劳动供给">3. 增加劳动供给</h3><p>　　劳动供给也是影响一国长期经济增长的重要因素。劳动供给的状况取决于人口增长的状况。如果一个国家的人口增长率过高，导致劳动供给过剩，就会减少人均资本存量，从而必然使人均产出水平降低。相反，如果人口增长过慢，存在劳动供给的严重短缺，也同样会对经济增长起制约作用。因此，制定一个符合本国国情的人口政策，对于保持长期稳定、持续的经济增长具有特别重要的意义。</p><h3 id="建立适当的制度">4. 建立适当的制度</h3><p>　　制度是指能支配个人和企业行为的一套规则、体制和惯例。其中，影响经济增长的最基础、最根本的制度是产权，即对财产的保护，以免被他人占用。</p><h2id="二我国人口情况与经济转型发展">（二）我国人口情况与经济转型发展</h2><h3 id="新古典增长模型中人口增长对经济的影响">1.新古典增长模型中人口增长对经济的影响</h3><p>　　新古典增长理论认为，当人口增长率上升，总产量的稳态增长率也上升，人口增加对人均资本和人均产量的增长率都不产生影响。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515000731-2oxh44e.png" style="width:450px" alt="人口增长对经济的影响" /></p><p>　　如下图所示，经济最初位于 <span class="math inline">\(A\)</span>点的稳态均衡。现在假定人口增长率从 <spanclass="math inline">\(n\)</span> 增加到 <spanclass="math inline">\(n&#39;\)</span>，则 <spanclass="math inline">\((n+δ)k\)</span> 线便移动到 <spanclass="math inline">\((n&#39;+δ)k\)</span> 线，这时，新的稳态均衡为<span class="math inline">\(A&#39;\)</span> 点。比较 <spanclass="math inline">\(A&#39;\)</span> 点与 <spanclass="math inline">\(A\)</span>点可知，人口增长率的增加降低了人均资本的稳态水平（从原来的 <spanclass="math inline">\(k_A\)</span> 减少到 <spanclass="math inline">\(k&#39;\)</span>），进而降低了人均产量的稳态水平。这是从新古典增长理论得出的一个重要结论。</p><p>　　对人口增长进行比较静态分析的另一个重要结论是，人口增长率的上升增加了总产量的稳态增长率。这是因为<span class="math inline">\(A&#39;\)</span> 点和 <spanclass="math inline">\(A\)</span> 点都是稳态均衡点，稳态意味着：<spanclass="math inline">\(\frac {\Delta Y} Y=\frac {\Delta N} N=\frac{\Delta K}K=n\)</span>，但人口增长对人均资本和人均产出的增长率都不产生影响。</p><h3 id="我国经济发展转型升级的必要性和迫切性">2.我国经济发展转型升级的必要性和迫切性</h3><p>　　根据我国人口现状，我国实现经济发展转型升级的必要性和迫切性体现在以下几个方面：</p><ul><li><strong>依靠劳动力数量扩张推动经济增长的基础开始动摇。</strong>2003年来，15～59岁劳动年龄人口年均增长量开始下降，劳动力数量转向有限剩余，沿海经济发达地区出现“民工荒”现象，2011年，这一问题呈现全国蔓延之势。“十二五”时期，劳动年龄人口绝对规模将达峰值，此后缓慢下降，劳动力供给形势出现划时代的变化，普通劳动力成本上升不可避免。随着上世纪50年代第一次出生高峰时期的出生人口相继进入老年，第一次老年人口增长高峰即将到来，人口抚养比将在30 余年持续下降后，于 2013 年前后转为上升，传统“人口红利”趋于减弱。</li><li><strong>劳动力转移对经济增长的贡献逐步减弱。</strong>随着市场经济体制的确立和户籍制度改革的推进，大量剩余劳动力从农业和农村转移到非农产业和城镇，人口城镇化率不断提高。国际经验表明，人口城镇化从30% 提高到 70% 是一个快速发展时期，但越过 50%的拐点后，其增速减缓。随着农业与非农业部门边际生产率差距缩小、农村人口转移趋缓，我国劳动力进一步转移对经济增长的作用下降。同时，现行人口管理制度在很大程度上仍然建立在城乡、地区分隔的户籍制度基础之上，流动人口可以离开土地但不能融入城镇，阻碍了劳动力的有效配置；农民工难以享受均等化的公共服务，直接影响内需的扩大和人力资本的积累；城乡区域间人口收入差距难以缩小，社会风险不断积累、社会矛盾日益凸显，影响社会和谐稳定。</li><li><strong>人口资源环境约束对经济发展的压力增大。</strong>人口众多、人均资源占有量较少、生态环境容量相对不足仍然是我国的基本国情，对经济发展的压力是长期、巨大、刚性的。我国人均主要资源量综合排名世界第120 位，资源环境对 13亿多人口的支撑已很困难。温室气体人均排放水平与世界大体持平，但排放总量居世界前列，节能减排任务十分艰巨。随着人口总量继续增长，人均收入和人们生活水平不断提高，人与自然的矛盾将全面激化，资源环境对经济高速增长的支撑能力日益减弱。</li><li><strong>以人力资本为核心要素的国家竞争优势尚未形成。</strong>从根本上讲，由科技创新带来的生产率提高是经济增长的可持续源泉；在人力资本存量上赶超，进而在模仿学习的基础上缩小科技创新上的差距，积极发展技术密集型产业，培育国家竞争优势，是后发国家跨越式发展的必由之路。近些年来，我国人口素质稳步提高，全面普及九年义务教育，基本扫除青壮年文盲，人力资本发展水平大体与世界平均水平相当。但是，与发达国家相比，我国人口素质总体不高，成人平均受教育年限低，势必对未来劳动力人口素质产生不容忽视的负面影响；同时，自主创新能力明显不足。由此导致我国长期处于国际产业分工链低端，经济发展的后劲明显不足。</li></ul><p>　　综上所述，由于我国“人口红利”的逐渐消失，人口资源环境约束的压力增大，人力资本的劣势，严重制约着我国经济的进一步发展，因此必须加快实现我国经济发展的转型升级。</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>宏观｜第7章：开放经济下的短期经济模型</title>
      <link href="/posts/26561/"/>
      <url>/posts/26561/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/44205/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一汇率和对外贸易">一、汇率和对外贸易</h1><h2 id="一汇率">（一）汇率</h2><h3 id="含义">1. 含义</h3><p>　　汇率是一个国家的货币折算成另一个国家货币的比率，它表示的是两个国家货币之间的互换关系，这种货币之间的互换关系被称为名义汇率。</p><h3 id="标价方法">2. 标价方法</h3><p>　　汇率主要有两种标价方法：</p><h4 id="直接标价法">2.1 直接标价法</h4><p>　　<strong>直接标价法：</strong>用一单位的外国货币作为标准，折算为一定数额的本国货币来表示的汇率。</p><p><span class="math display">\[\begin {align}e=\frac {本币数额}  {1单位外币}\end {align}\]</span></p><p>　　用这种标价法：</p><ul><li>汇率下降：外币贬值/本币升值；</li><li>汇率上升：外币升值/本币贬值。</li></ul><h4 id="间接标价法">2.2 间接标价法</h4><p>　　<strong>间接标价法：</strong>用一单位的本国货币作为标准，折算为一定数额的外国货币来表示的汇率。</p><p><span class="math display">\[\begin {align}e=\frac {外币数额}  {1单位本币}\end {align}\]</span></p><p>　　用这种标价法：</p><ul><li>汇率上升：外币贬值/本币升值；</li><li>汇率下降：外币升值/本币贬值。</li></ul><p>　　目前，世界上大多数国家（包括我国）都采用直接标价法表示汇率，采用间接标价法的国家主要有美国和英国。</p><p>　　在本章的论述中，用字母 <span class="math inline">\(e\)</span>表示没有考虑到两国价格因素的名义汇率，并约定：<spanclass="math inline">\(e\)</span><strong>用间接标价法来加以表示，即</strong> <spanclass="math inline">\(e\)</span> <strong>是本币的外币价格。</strong></p><h2 id="二汇率制度">（二）汇率制度</h2><p>　　<strong>固定汇率制</strong>：一国货币同他国货币的汇率基本固定，其波动限于一定的幅度之内，由官方干预来保持汇率的稳定。</p><p>　　<strong>浮动汇率制：</strong>一国不规定本国货币与他国货币的官方汇率，听任汇率由外汇市场的供求关系自发地决定。</p><p>　　1973年布雷顿森林体系瓦解后，世界各主要国家实行的是浮动汇率制。</p><p>　　浮动汇率制又分为自由浮动与管理浮动，前者指中央银行对外汇市场不采取任何干预措施，汇率完全由外汇市场的供求力量自发地决定；后者指实行浮动汇率制的国家，对外汇市场进行各种形式的干预活动，主要是根据外汇市场的供求情况售出或购入外汇，以通过对外汇供求的影响来影响汇率。</p><h2 id="三汇率的决定">（三）汇率的决定</h2><p>　　不同的汇率制度下，汇率的决定机制有所不同。</p><h3 id="自由浮动制度下汇率的决定">1. 自由浮动制度下汇率的决定</h3><p>　　自由浮动制度下，如同商品价格取决于供求并且影响供求一样，汇率取决于外汇供求并影响外汇供求，因而可以从供求关系角度对汇率形成机制进行分析。</p><p>　　如果外汇市场上外汇供给大于需求，本币升值；如果外汇市场上外汇供给小于需求，本币贬值。通过汇率的自动浮动，实现国际收支平衡。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514182825-okhayrj.png" style="width:450px" alt="汇率的决定" /></p><h3 id="固定汇率制度的运行">2. 固定汇率制度的运行</h3><p>　　在固定汇率制下，中央银行为本国货币确定一个固定的价格，并通过外汇市场的干预维持既定的汇率水平。当国际收支盈余，本国货币有升值压力时，中央银行在外汇市场上用本币买进外币，维持汇率稳定；当国际收支赤字，本国货币有贬值压力时，中央银行在外汇市场上买进本币、抛出外币，维持汇率稳定。</p><h2 id="四实际汇率">（四）实际汇率</h2><p>　　实际汇率是两国产品的相对价格，是对一国商品和劳务价格相对于另一国商品和劳务价格的一个概括性度量，表示按什么比率用一国的产品交换另一国的产品。实际汇率被定义如下：</p><p><span class="math display">\[\begin {align}\xi=e\times \frac P {P_f}\end {align}\]</span></p><p>　　式中，<span class="math inline">\(\xi\)</span> 为实际汇率；<spanclass="math inline">\(P\)</span> 和 <spanclass="math inline">\(P_f\)</span> 分别为国内与国外的价格水平；<spanclass="math inline">\(e\)</span> 为名义汇率。</p><p>　　举例：假设一辆美国汽车值 1 万美元，而一辆类似的日本汽车值 240万日元。为了比较这两辆汽车的价格，必须把它们转变为一种共同的通货。如果 1美元值 120 日元，那么，美国汽车值 120 万日元。比较美国汽车的价格（120万日元）和日本汽车的价格（240万日元），可以得出结论：美国汽车的价格为日本汽车的一半。</p><h2 id="五净出口函数">（五）净出口函数</h2><p>　　净出口被定义为出口额与进口额的差额。当一国出口额大于进口额时，即当一国净出口为正时，该国存在贸易顺差；反之，当一国出口额小于进口额时，即当一国净出口为负时，该国存在贸易逆差。</p><p>　　影响净出口的因素有很多，汇率和国内收入水平是两个最重要的因素。一般地说：净出口反向地取决于实际汇率，反向地取决于一国的实际收入。</p><p>　　在宏观经济学中，通常将净出口简化地表示为：</p><p><span class="math display">\[\begin {align}nx=a-\gamma y-n\xi=a-\gamma y-ne\times \frac P {P_f}\end {align}\]</span></p><p>　　上式被称为净出口函数，式中，<spanclass="math inline">\(a\)</span>、<span class="math inline">\(γ\)</span>和 <span class="math inline">\(n\)</span> 均为正参数。参数 <spanclass="math inline">\(γ\)</span>被称为边际进口倾向，即净出口变动与引起这种变动的收入变动的比率。</p><p>　　从上式可看出净出口与实际汇率之间的关系：实际汇率越低，净出口越大；反之，则越小。</p><p>　　净出口与实际汇率之间的关系如下图所示。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514181423-lcf8z22.png" style="height:250px" alt="净出口与实际汇率" /></p><h1 id="二蒙代尔-弗莱明模型">二、蒙代尔-弗莱明模型</h1><p>　　蒙代尔-弗莱明模型（Mundell-Fleming model，简称 M-F 模型）是 IS—LM模型在开放经济中的形式，同样假定物价水平是固定的，并说明是什么因素引起总产出的短期波动。该模型扩展了开放经济条件下不同政策效应的分析，说明了资本是否自由流动以及不同的汇率制度对一国宏观经济的影响，其目的是要证明固定汇率制下“米德冲突”可以得到解决。</p><h2id="一关键假设资本完全流动的小型开放经济">（一）关键假设：资本完全流动的小型开放经济</h2><p>　　蒙代尔-弗莱明模型的一个关键假设是所考察的经济是资本能够完全流动的小型开放经济。这里的“小型”是指所考察的经济只是世界市场的一小部分，从而其本身对世界利息率的影响微不足道。这里的“资本完全流动”，是指该国居民可以完全进入世界金融市场。特别是，该国政府并不阻止国际借贷。</p><p>　　在这样的假设下，所考察的这样的小型开放经济中的利率 <spanclass="math inline">\(r\)</span> 必定等于世界利率 <spanclass="math inline">\(r_w\)</span>，即 <spanclass="math inline">\(r=r_w\)</span>，其中一个重要的原因在于资本的完全流动性，套利资本的存在使小国利率与世界均衡利率水平保持一致。</p><h2 id="二开放经济的-is-曲线">（二）开放经济的 IS* 曲线</h2><p>　　与封闭经济一样，开放经济的 IS曲线的推导也要从国民收入恒等式入手。根据蒙代尔-弗莱明模型的假设，即小型开放经济中的利率<span class="math inline">\(r\)</span> 必定等于世界利率 <spanclass="math inline">\(r_w\)</span>以及实际汇率与名义汇率是同比例的，可得开放经济的 <spanclass="math inline">\(IS\)</span> 方程式如下：</p><p>　　<span class="math inline">\(y=c(y)+i(r_w)+g+nx(e)\)</span></p><p>　　根据开放经济的 <span class="math inline">\(IS\)</span>方程式可得出开放条件下的 <span class="math inline">\(IS\)</span>曲线，如图所示。开放条件下的 <span class="math inline">\(I﻿S\)</span>曲线向右下方倾斜，表明汇率和总收入（总产出）负相关，其原因在于，较高的汇率减少了净出口，这又减少了总收入。与封闭经济的<span class="math inline">\(IS\)</span>曲线一样，在其他因素不变时，政府购买增加时，开放经济的 $IS^* $曲线向右方移动，当政府购买减少时，$IS^* $ 曲线向左方移动。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514184837-i9qcb7m.png" style="width:600px" alt="IS* 曲线" /></p><p>　　‍</p><h2 id="三开放经济的-lm-曲线">（三）开放经济的 LM* 曲线</h2><p>　　与封闭经济一样，开放经济的 <spanclass="math inline">\(LM\)</span>曲线可从货币市场均衡条件入手。根据蒙代尔-弗莱明模型的假设，即小型开放经济中的利率<span class="math inline">\(r\)</span> 必定等于世界利率 <spanclass="math inline">\(r_w\)</span>，可得开放经济的 <spanclass="math inline">\(LM^*\)</span> 方程如下：</p><p><span class="math display">\[\begin {align}\frac M P=L(r_w,y)\end {align}\]</span></p><p>　　根据 $LM^* $ 方程式可得出开放条件下的 $LM^* $曲线，如下图所示。$LM^* $ 曲线与横轴垂直。$LM^* $曲线之所以垂直是因为汇率并没有进入 $LM^* $方程式。给定世界利率，无论汇率如何，$LM^* $方程式决定了总收入。与封闭经济的 <span class="math inline">\(LM\)</span>曲线一样，当货币供给量 <span class="math inline">\(M\)</span>增加时，$LM^* $ 曲线向右移动，当 <span class="math inline">\(M\)</span>减少时，$LM^* $ 曲线向左移动。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514185540-cjfup1c.png" style="width:350px" alt="LM* 曲线" /></p><h2 id="四蒙代尔-弗莱明模型">（四）蒙代尔-弗莱明模型</h2><p>　　将 $IS^* $ 曲线和 $LM^* $曲线综合在一起就形成了蒙代尔-弗莱明模型，它可以用以下两个方程式来表示：</p><p>　　产品市场均衡：</p><p><span class="math display">\[\begin {align}y=c(y)+i(r_w)+g+nx(e)\end {align}\]</span></p><p>　　货币市场均衡：</p><p><span class="math display">\[\begin {align}\frac M P=L(r_w,y)\end {align}\]</span></p><p>　　如图所示，经济的均衡处于 $IS^* $ 曲线和 $LM^* $曲线的交点，这个交点表示产品市场与货币市场都均衡时的汇率与收入水平。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514184131-oeteowx.png" style="width:350px" alt="蒙代尔-弗莱明模型" /></p><h1 id="三蒙代尔-弗莱明模型的应用">三、蒙代尔-弗莱明模型的应用</h1><h2id="一浮动汇率下的财政政策和货币政策">（一）浮动汇率下的财政政策和货币政策</h2><h3 id="财政政策的影响">1. 财政政策的影响</h3><p>　　在浮动汇率的小型开放经济中，当政府希望通过增加政府购买或减税刺激国内支出时，汇率上升，而收入水平保持不变。其原因在于：政府增加支出或减税，国内利率上升，从而资本迅速流入国内，导致本币升值，本币升值减少了净出口，从而抵消了扩张性财政政策对收入的影响。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514185917-isz6rxa.png" style="width:350px" alt="浮动汇率下的财政扩张" /></p><h3 id="货币政策的影响">2. 货币政策的影响</h3><p>　　在浮动汇率的小型开放经济中，当政府增加货币供给时，汇率下降，收入水平提高。其原因在于：货币供给增加，国内利率下降，进而发生资本大规模外流，导致本币贬值，本币贬值刺激净出口，从而使收入水平提高。因此，在一个小型开放经济中，货币政策通过改变汇率而不是改变利率来影响收入。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514185947-39y0p8t.png" style="width:400px" alt="浮动汇率下的货币扩张" /></p><h2id="二固定汇率下的财政政策和货币政策">（二）固定汇率下的财政政策和货币政策</h2><h3 id="财政政策的影响-1">1. 财政政策的影响</h3><p>　　在固定汇率的小型开放经济中，当政府希望通过增加政府购买或减税刺激国内支出时，总收入增加。其原因在于：政府增加支出或减税，对汇率产生了向上的压力。为了维持本国汇率的稳定，中央银行在外汇市场上买进外汇、抛售本币，引起货币扩张，导致下图中的<span class="math inline">\(LM^*\)</span> 曲线向右移动。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514184159-3aagrjk.png" style="width:350px" alt="固定汇率下的财政扩张" /></p><h3 id="货币政策的影响-1">2. 货币政策的影响</h3><p>　　在固定汇率的小型开放经济中，当政府增加货币供给时，对汇率产生了向下的压力。为了维持本国汇率的稳定，中央银行在外汇市场上卖出外汇、买进本币，引起货币收缩，导致下图中的<span class="math inline">\(LM^*\)</span>曲线回到其初始位置。因此，在固定汇率的小型开放经济中，货币政策通常是无效的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514184231-5nsewtz.png" style="width:350px" alt="固定汇率下的货币扩张" /></p><h2id="三蒙代尔-弗莱明模型中的政策小结">（三）蒙代尔-弗莱明模型中的政策：小结</h2><p>　　蒙代尔-弗莱明模型说明了货币政策与财政政策影响总收入的效力取决于汇率制度。</p><ul><li>在浮动汇率下，财政政策无效，货币政策有效；</li><li>在固定汇率下，财政政策有效，货币政策无效。</li></ul><p>　　蒙代尔-弗莱明模型的政策效应：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230312170915-g10sz9j.png" style="width:700px" alt="蒙代尔-弗莱明模型的政策效应" /></p><p>　　注：↑ 表示增加；↓ 表示减少；<strong>—</strong> 表示无影响。</p><h2 id="四小型开放经济的总需求曲线">（四）小型开放经济的总需求曲线</h2><p>　　当考察价格调整，即考虑当物价水平改变时，必须区分名义汇率和实际汇率。对应的蒙代尔-弗莱明模型可写为：</p><p>　　<span class="math inline">\(IS^*\)</span> 曲线：</p><p><span class="math display">\[\begin {align}y=c(y)+i(r_w)+g+nx(\xi)\end {align}\]</span></p><p>　　<span class="math inline">\(LM^*\)</span> 曲线：</p><p><span class="math display">\[\begin {align}\frac M P=L(r_w,y)\end {align}\]</span></p><p>　　小型开放经济的总需求曲线可由蒙代尔-弗莱明模型推导出来。如图所示，当价格<span class="math inline">\(P\)</span> 的数值为 <spanclass="math inline">\(P_1\)</span> 时，蒙代尔-弗莱明模型决定的收入水平为<span class="math inline">\(y_1\)</span>。假设 <spanclass="math inline">\(P\)</span> 由 <spanclass="math inline">\(P_1\)</span> 下降到 <spanclass="math inline">\(P_2\)</span>，由于 <spanclass="math inline">\(P\)</span> 的下降，<spanclass="math inline">\(LM^*\)</span>曲线向右移动，导致实际汇率贬值，收入的均衡水平提高，收入水平由 <spanclass="math inline">\(y_1\)</span> 增加到 <spanclass="math inline">\(y_2\)</span>。按照这样的分析思路，可得出一条向右下倾斜的总需求曲线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514184453-ab4ekzm.png" style="height:500px" alt="作为一种总需求理论的蒙代尔-弗莱明模型" /></p><p>　　可以发现，除物价水平变动外，任何改变均衡收入的因素都会使总需求曲线移动。给定价格水平，增加收入的政策和事件使总需求曲线向右移动；反之，减少收入的政策和事件使总需求曲线向左移动。</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>宏观｜第6章：宏观经济政策</title>
      <link href="/posts/31912/"/>
      <url>/posts/31912/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/44205/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1id="一宏观经济政策目标以及经济政策影响">一、宏观经济政策目标以及经济政策影响</h1><h2 id="一宏观经济政策目标">（一）宏观经济政策目标</h2><p>　　宏观经济政策是指政府为了增进整体经济福利、改善整体经济运行状况，以达到一定的政策目标而对宏观经济领域进行的有意识的干预。</p><p>　　宏观经济政策目标有四个：</p><ul><li>充分就业；</li><li>价格稳定；</li><li>经济持续均衡增长；</li><li>国际收支平衡。</li></ul><p>　　上述四个宏观经济政策目标之间并不是完全一致的，它们之间存在着矛盾，也就是说，要同时实现是有困难的。因此，如何确定重点政策目标和采取具体的政策措施协调各经济目标之间的矛盾，就成为宏观经济政策的主要内容。</p><h3 id="充分就业">1. 充分就业</h3><p>　　“充分就业”这一概念有广义和狭义之分。其中，广义的充分就业是指包括劳动资源在内的一切资源都已经被充分利用的状态；狭义的充分就业特指劳动就业。由于劳动资源之外的其他资源是否已经被充分利用难以衡量，故通常用充分就业来表示经济资源被充分利用的状况，即在经济学分析中，“充分就业”是指狭义的充分就业。</p><p>　　充分就业并不意味着在经济生活中不存在任何失业，是指不存在非自愿失业的一种状态。</p><p>　　按照<u>凯恩斯的解释</u>（联系：<ahref="https://fgzfgz.github.io/posts/7692/">第5章-"凯恩斯的失业理论"</a>），失业一般分为以下三类：</p><ul><li><strong>摩擦性失业：</strong>在生产过程中由于难以避免的摩擦造成的短期、局部性失业，如劳动力流动性不足、工种转换困难等所引起的失业。</li><li><strong>自愿失业：</strong>工人不愿意接受现行工资水平而形成的失业。</li><li><strong>非自愿失业：</strong>愿意接受现行工资但仍找不到工作的失业。</li></ul><p>　　凯恩斯认为，如果“非自愿失业”已消除，失业仅限于摩擦失业和自愿失业的话，就实现了充分就业。</p><h3 id="价格稳定">2. 价格稳定</h3><p>　　价格稳定是指价格总水平的稳定。一般用<ahref="https://fgzfgz.github.io/posts/45732/">价格指数</a>来表达一般价格水平的变化。价格指数是表示若干种商品价格水平的指数，可以用一个简单的百分数时间数列来表示不同时期一般价格水平的变化方向和变化程度。</p><p>　　价格稳定不是指每种商品的价格固定不变，而是指价格指数的相对稳定，即不出现较严重的通货膨胀。</p><h3 id="经济持续均衡增长">3. 经济持续均衡增长</h3><p>　　经济增长是指在一个特定时期内经济社会所生产的人均产量和人均收入的持续增长。通常用一定时期内实际国内生产总值年均增长率来衡量。持续、稳定、长期的增长是经济社会所追求的理想状态。</p><h3 id="国际收支平衡">4. 国际收支平衡</h3><p>　　随着国际间经济交往的密切，平衡国际收支也成为一国宏观经济政策的重要目标之一。一国的国际收支状况不仅反映了这个国家的对外经济交往情况，还反映出该国经济的稳定程度。当一国国际收支处于失衡状态时，就必然会对国内经济形成冲击，从而影响该国国内就业水平、价格水平及经济增长。</p><h2 id="二宏观经济政策的作用和影响">（二）宏观经济政策的作用和影响</h2><h3 id="财政政策">1. 财政政策</h3><p>　　财政政策是政府变动税收和支出以便影响总需求进而影响就业和国民收入的政策。变动税收是指改变税率和税率结构。变动政府支出指改变政府对商品与劳务的购买支出以及转移支付。</p><h3 id="货币政策">2. 货币政策</h3><p>　　货币政策是政府货币当局即中央银行通过银行体系变动货币供给量来调节总需求的政策。货币政策的工具有公开市场业务、改变贴现率、改变法定准备率以及道义上的劝告等措施。这些货币政策的工具作用的直接目标是通过控制商业银行的存款准备金，影响利率与国民收入，从而最终实现稳定国民经济的目标。</p><h3 id="财政政策和货币政策的影响">3. 财政政策和货币政策的影响</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230314202515-ald8p9c.png" style="width:750px" /></p><h1 id="二财政政策">二、财政政策</h1><h2 id="一财政的构成与财政政策工具">（一）财政的构成与财政政策工具</h2><h3 id="财政收入">1. 财政收入</h3><p>　　<strong>税收：</strong>国家为了实现其职能，按照法律预先规定的标准，强制地、无偿地取得财政收入的一种手段。包括财产税、所得税、流转税</p><p>　　<strong>公债：</strong>政府对公众的债务，或公众对政府的债权。</p><ul><li>公债的目的：筹集财政资金，弥补财政赤字。</li><li>公债的形式：通过公债在资金市场的流通影响货币供求。</li></ul><h3 id="财政支出">2. 财政支出</h3><p>　　政府购买支出：政府对商品和劳务的购买。它是政府的直接支出，直接形成社会需求和购买力。</p><p>　　政府转移支付：政府在社会福利保险、贫困救济和补助等方面的支出。</p><h2 id="二自动稳定与斟酌使用">（二）自动稳定与斟酌使用</h2><p>　　自动调节指西方财政制度本身有着自动抑制经济波动的作用，即自动稳定器；主动调节指政府有意识地实行所谓反周期的相机抉择的积极财政政策。</p><h3 id="自动稳定器">1. 自动稳定器</h3><p>　　自动稳定器 /内在稳定器，是指经济系统本身存在的一种会减少各种干扰对国民收入冲击的机制，能够在经济繁荣时期自动抑制通胀，在经济衰退时期自动减轻萧条，无须政府采取任何行动。</p><p>　　财政政策的这种内在稳定经济的功能主要通过下述三项制度得到发挥：</p><ul><li>政府税收的自动变化；</li><li>政府支出的自动变化；</li><li>农产品价格维持制度。</li></ul><p>　　上述财政政策中的内在稳定器通常被看作是防止经济运行出现波动的第一道防线，并且也能够在一定程度上抑制经济波动、稳定经济运行，但其作用毕竟是有限的，无法使经济实现持续均衡增长。因此，政府运用财政政策干预经济也就有其存在的必要性。</p><h3 id="斟酌使用的财政政策">2. 斟酌使用的财政政策</h3><p>　　斟酌使用的财政政策，又称为权衡性的财政政策，是指政府为确保经济稳定，政府要审时度势，主动采取一些财政措施，变动支出水平或税收以稳定总需求水平，使之接近物价稳定的充分就业水平。</p><p>　　经济学家认为，运用财政政策调节总需求的原则是“逆经济风向行事”，具体操作为：</p><p>　　在萧条时，政府要通过扩张性的财政政策来刺激总需求，以实现充分就业。扩张性的财政政策包括增加政府支出（如增加政府公共工程支出与政府购买支出）、增加转移支付和减少税收（如减少公司所得税、个人所得税）。</p><p>　　在经济过度繁荣时期，政府则可以通过紧缩性的财政政策来抑制总需求。紧缩性的财政政策包括减少政府支出（如减少政府公共工程支出与政府购买支出）、减少转移支付和增加税收（如增加公司所得税、个人所得税）。</p><p>　　斟酌使用的财政政策是功能财政思想的实现和贯彻，也就是凯恩斯主义的“需求管理”政策。该政策在20 世纪 30 年代到 20 世纪 60年代效果不错，但之后出现的滞胀使它受到了怀疑。</p><h3 id="财政政策的局限性">3. 财政政策的局限性</h3><ul><li><p><strong>时滞。</strong>认识总需求的变化，变动财政政策以及乘数作用的发挥，都需要时间。</p></li><li><p><strong>不确定性。</strong>实行财政政策时，政府主要面临两个方面的不确定：</p><ul><li>乘数大小难以准确地确定；</li><li>政策必须预测总需求水平通过财政政策作用达到预定目标究竟需要多少时间。</li></ul></li><li><p><strong>外在的不可预测的随机因素的干扰。</strong></p></li><li><p><strong>挤出效应。</strong></p></li></ul><h2 id="三财政思想的演变">（三）财政思想的演变</h2><ul><li><strong>年度平衡预算：</strong>以实现每财政年度的收支平衡为目标。</li><li><strong>周期平衡预算：</strong>是指政府收支在一个经济周期中保持平衡，以繁荣时的盈余弥补衰退时的赤字。</li><li><strong>功能财政思想：</strong>根据权衡性财政政策，为实现无通货膨胀的充分就业水平这一目标，预算可以是盈余，也可以是赤字，无须刻意保持财政收支平衡。</li></ul><h2 id="四赤字与公债">（四）赤字与公债</h2><p>　　强调财政政策要以充分就业为目标的职能财政思想，必然导致赤字财政政策。当出现财政赤字后，各国一般采用发行公债的手段来弥补赤字。</p><ul><li>功能财政思想导致了财政赤字和国家债务的积累，弥补赤字的途径有借债和出售政府资产两种。</li><li>政府借债分为向中央银行借债（增发货币）和向国内公众及外国举债。</li><li>公债的作用：不会直接引起通货膨胀；能够在短期内弥补财政赤字；给政府带来巨大的债务负担。</li></ul><h2 id="五财政政策效果的-is-lm-图形分析">（五）财政政策效果的 IS-LM图形分析</h2><p>　　财政政策效果的大小是指政府收支变化（包括变动税收、政府购买和转移支付等）使<span class="math inline">\(IS\)</span>曲线变动对国民收入变动产生的影响。从 <spanclass="math inline">\(IS-LM\)</span> 图形看，这种影响的大小随 <spanclass="math inline">\(IS\)</span> 曲线和 <spanclass="math inline">\(LM\)</span> 曲线的斜率不同而有所区别。</p><h3 id="财政政策效果因-is-曲线的斜率而异">1. 财政政策效果因 IS曲线的斜率而异</h3><p>　　如图所示，在 <span class="math inline">\(LM\)</span>曲线不变时，<span class="math inline">\(IS\)</span>曲线斜率的绝对值越大，即 <span class="math inline">\(IS\)</span>曲线越陡峭，则移动 <span class="math inline">\(IS\)</span>曲线时收入变化就越大，即财政政策效果就越大；反之，<spanclass="math inline">\(IS\)</span> 曲线越平坦，则 <spanclass="math inline">\(IS\)</span>曲线移动时收入变化就越小，即财政政策效果就越小。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514163129-y7hgy8x.png" style="width:600px" alt="财政政策效果因 IS 曲线的斜率而异" /></p><h3 id="挤出效应">2. 挤出效应</h3><p>　　<strong>挤出效应：</strong>政府支出增加所引起的私人消费或投资支出降低的经济效应。</p><p>　　在 <span class="math inline">\(IS-LM\)</span> 模型中，若 <spanclass="math inline">\(LM\)</span> 曲线不变，政府支出增加，<spanclass="math inline">\(IS\)</span>曲线向右移动，两种市场重新均衡时引起利率的上升和国民收入的增加。但是，利率的上升会抑制一部分私人投资，降低原有的乘数效应，因此，财政支出增加引起国民收入增加的数量小于不考虑货币市场的均衡（即<span class="math inline">\(LM﻿\)</span>曲线）或利率不变条件下的国民收入的增加量。这两种情况下的国民收入增量之差，就是利率上升引起的“挤出效应”。</p><h3 id="财政政策效果因-lm-曲线的斜率而异">3. 财政政策效果因 LM曲线的斜率而异</h3><p>　　如图所示，在 <span class="math inline">\(IS\)</span>曲线的斜率不变时，财政政策效果又随 <spanclass="math inline">\(LM\)</span> 曲线的斜率不同而不同。<spanclass="math inline">\(LM\)</span> 曲线的斜率越大，即 <spanclass="math inline">\(LM\)</span> 曲线越陡峭，则移动 <spanclass="math inline">\(IS\)</span>曲线时收入变动就越小，即财政政策效果就越小，反之，<spanclass="math inline">\(LM\)</span> 越平坦，则财政政策效果就越大。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514154715-tujes08.png" style="width:380px" alt="财政政策效果因 LM 曲线的斜率而异" /></p><h1 id="三货币政策">三、货币政策</h1><h2 id="一商业银行和中央银行">（一）商业银行和中央银行</h2><p>　　中央银行是一国发行的银行、银行的银行和国家的银行。商业银行则是以经营信贷业务获取利润的经济单位。</p><p>　　中央银行与商业银行之间具有某些制度规定，准备金制度和贴现制度经常构成货币政策的制度基础。</p><h2 id="二活期存款的货币创造机制">（二）活期存款的货币创造机制</h2><h3 id="仅存在法定准备率">1. 仅存在法定准备率</h3><p>　　活期存款能通过活期存款派生机制创造货币。</p><p><span class="math display">\[\begin {align}D=\frac R {r_d}   \end {align}\]</span></p><p>　　其中，<span class="math inline">\(D\)</span>为活期存款总额，<span class="math inline">\(R\)</span> 为原始存款，<spanclass="math inline">\(r_d\)</span> 为存款准备率。</p><p>　　中央银行新增一笔原始货币供给将使活期存款总和（亦即货币供给量）扩大为这笔新增原始货币供给量的<span class="math inline">\(\frac 1 {r_d}\)</span>倍，为货币创造乘数。</p><h3 id="存在超额准备金">2. 存在超额准备金</h3><p><span class="math display">\[\begin {align}D=\frac R {r_d + r_e}\end {align}\]</span></p><p>　　其中，<span class="math inline">\(D\)</span>为活期存款总额，<span class="math inline">\(R\)</span> 为原始存款，<spanclass="math inline">\(r_d\)</span> 为存款准备率，<spanclass="math inline">\(r_e\)</span> 为超额准备率。</p><p>　　当存在超额准备金时，货币创造乘数为：</p><p><span class="math display">\[\begin {align}k=\frac 1 {r_d+ r_e }\end {align}\]</span></p><h3 id="存在现金流出">3. 存在现金流出</h3><p>　　如果在存款创造机制中还存在现金流出，即贷款并不完全转化为存款，那么货币创造乘数为：</p><p><span class="math display">\[\begin {align}k=\frac 1 {r_d+ r_e +r_c}\end {align}\]</span></p><p>　　其中，<span class="math inline">\(r_d\)</span>为存款准备率，<span class="math inline">\(r_e\)</span>为超额准备率，<span class="math inline">\(r_c\)</span>为现金—存款比率。</p><h3 id="强力货币">4. 强力货币</h3><p>　　存款扩张的基础是商业银行的准备金总额（包括法定的和超额的）加上非银行部门持有的通货，可称为基础货币或货币基础，故又称高能货币或强力货币。</p><p>　　如果把活期存款和通货都考虑为货币供给量，即 <spanclass="math inline">\(M=D+C_u\)</span>，同时，引入强力货币 <spanclass="math inline">\(H\)</span>（银行准备金加上非银行部门持有的通货），此时的货币创造公式如下：</p><p><span class="math display">\[\begin {align}\frac M H=\frac {C_u+D} {C_u+R_d+R_e}=\frac { \frac {C_u} D +1} {\frac{C_u} D+\frac {R_d} D+ \frac {R_e} D}=\frac { r_c +1} {r_c+r_d+ r_e}\end {align}\]</span></p><h2 id="三货币政策三大工具">（三）货币政策三大工具</h2><h3 id="再贴现率">1. 再贴现率</h3><p>　　<strong>再贴现率：</strong>中央银行对商业银行及其他金融机构的放款利率。</p><ul><li>经济萧条时，下调再贴现率，商业银行向中央银行借款增加，货币供给量增加。</li><li>繁荣时期，中央银行上调再贴现率，商业银行向中央银行借款减少，货币供给量减少。</li></ul><p>　　<strong>特点：</strong>改变再贴现率是一项被动的政策，取决于商业银行是否到中央银行借款。</p><h3 id="公开市场业务">2. 公开市场业务</h3><p>　　<strong>公开市场业务：</strong>中央银行在金融市场上公开买卖政府债券以控制货币供给和利率的政策行为。</p><p>　　公开市场业务目的不是牟利，而是调节货币供应量和利率。</p><ul><li>经济衰退时，中央银行买进债券。一方面通过货币投放，扩大货币供给；另一方面导致债券需求增加，进而债券价格上升，利率下降。</li><li>经济过热时，中央银行卖出债券。</li></ul><p>　　<strong>特点：</strong>主动灵活；结果容易预测可控。</p><h3 id="法定准备金率">3. 法定准备金率</h3><p>　　<strong>法定准备金率：</strong>中央银行规定的应付提款需要的准备金在商业银行存款中所占比例。</p><ul><li>经济萧条时，中央银行降低法定准备率，商业银行对外贷款增加，同时货币创造乘数上升，从而货币供给增加，利率下降，进而刺激总需求。</li><li>经济过热时，中央银行提高法定准备率。</li></ul><p>　　<strong>特点：</strong>作用、效果非常猛烈。</p><p>　　<strong>法定准备金制度：</strong>中央银行规定商业银行必须将其存款的一部分缴纳中央银行作为准备金的制度。</p><p>　　<strong>法定准备金制度的目的：</strong></p><ul><li>保证存款人及时、足额地提取所需现金；</li><li>规范商业银行的信用创造活动，防止它们不适当地扩张存款，增加银行体系的风险；</li><li>通过对准备金率的调节，调节货币供应量，如降低准备金率，增加货币量，利率下降；</li><li>如提高准备金率，减少货币量，利率上升。</li></ul><h2id="四货币政策操作方式和泰勒规则">（四）货币政策操作方式和泰勒规则</h2><p>　　20 世纪 90年代起，美联储货币政策理念作了重大调整，确立以调整实际利率为货币政策主要依据和中介目标。泰勒规则对推动这一调整有着重要影响。</p><p>　　经过实践研究，泰勒发现，在各种影响物价水平和经济增长率的因素中，真实利率是唯一能与物价和经济增长率保持长期稳定关系的变量，因此要使货币政策能真正调节物价（从而通货膨胀）和经济增长（从而就业和失业），货币当局就应把调节真实利率作为主要操作方式。</p><p>　　泰勒提出，中央银行的货币政策应遵循以下规则：</p><p><span class="math display">\[\begin {align}i=i^*+a(p-p^*)-b(u-u^*)\end {align}\]</span></p><p>　　上式中，<span class="math inline">\(p\)</span> 和 $p^* $是实际通胀率和目标通胀率，<span class="math inline">\(u\)</span> 和 $u^*$ 是实际失业率和自然失业率，<span class="math inline">\(i\)</span> 和$i^* $ 是名义利率和名义目标利率，<span class="math inline">\(a\)</span>和 <span class="math inline">\(b\)</span>是正的系数，表示中央银行对通胀和失业的关心程度。</p><p>　　如果上述真实利率、经济增长率（从而就业率）和通胀率的关系遭到破坏，货币当局应采取措施予以纠正：</p><ul><li>若通胀率高于目标值，即 $p&gt;p^* $，中央银行就应将名义利率 i设定为高于 $i^* $，以抑制通货膨胀；</li><li>若失业率高于自然失业率，即 $u＞u^*$，中央银行就应降低名义利率，以降低失业率。</li></ul><h2 id="五货币政策效果的-is-lm-图形分析">（五）货币政策效果的 IS-LM图形分析</h2><p>　　货币政策的效果指变动货币供给量的政策对总需求的影响。假定增加货币供给能使国民收入有较大增加，则货币政策效果就大；反之，则小。货币政策效果同样取决于IS 曲线和 LM 曲线的斜率。</p><h3 id="is-曲线斜率与货币政策效果">1. IS 曲线斜率与货币政策效果</h3><p>　　如图所示，在 LM 曲线形状基本不变时：</p><ul><li>IS 曲线越平坦，LM 曲线移动对国民收入变动的影响就越大；</li><li>IS 曲线越陡峭，LM 曲线移动对国民收入变动的影响就越小。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514154748-d3l1fuf.png" style="width:380px" alt="货币政策效果因 IS 曲线的斜率而异" /></p><h3 id="lm-曲线斜率与货币政策效果">2. LM 曲线斜率与货币政策效果</h3><p>　　如图所示，当 IS 曲线的斜率不变时：</p><ul><li>LM 曲线越平坦，货币政策效果越小；</li><li>LM 曲线越陡峭，货币政策效果越大。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514154759-bktcerj.png" style="width:380px" alt="货币政策效果因 LM 曲线的斜率而异" /></p><h2 id="六货币政策的局限性">（六）货币政策的局限性</h2><ul><li>在通货膨胀时期实行紧缩性的货币政策可能效果比较显著，但在经济衰退时期，实行扩张性的货币政策效果就不明显。</li><li>从货币市场均衡的情况看，增加或减少货币供给要影响利率，必须以货币流通速度不变为前提。考虑到这一前提并不存在，货币供给变动对经济的影响就要打折扣。</li><li>货币政策的外部时滞。</li><li>在开放经济中，货币政策的效果还要因为资金在国际上流动而受到影响，使得货币政策效果大打折扣。</li></ul><h1 id="四两种政策的混合使用">四、两种政策的混合使用</h1><h2 id="一财政政策与货币政策的区别">（一）财政政策与货币政策的区别</h2><h3 id="运行机制不同">1. 运行机制不同</h3><p>　　财政政策具有见效快的特点。在经济衰退时，如果政府适当地增加支出，对整个经济的刺激作用会很快地显示出来；但政府增加支出后马上就会迫使利率上升，利率上升会直接产生负作用，即“挤出效应”。</p><p>　　货币政策通过利率的变动而对总产出产生影响。货币增加使得利率下降，这样就不会产生财政政策那样的负作用。因而，用货币政策去刺激经济时会使整个经济环境改善，低利率和低汇率对投资和净出口都有利。</p><h3 id="执行渠道不同">2. 执行渠道不同</h3><p>　　财政政策由财政部来执行，而货币政策则由中央银行来执行。中央银行虽然也是一个中央政府的职能机构，但它在法律地位上和职能功能上与财政部有所不同，它不仅在人事订制上相对独立，而且由于它掌握有政府债券，还是政府的债权人。</p><h3 id="动用机制不同">3. 动用机制不同</h3><p>　　通常由政府首脑任命执政党内的政治家担任财政部长，在由大选造成的政府周期性地更迭过程中，财政政策也就会随之大幅度地变动。另外，政治家为了当选不得不制定一些讨好选民的政策，而这类政策很可能是短视的且对经济运行不利的政策。因而，财政政策具有任意性和多变性，这些都是对经济运行不利的因素。</p><p>　　与财政政策相反，货币政策在执行的过程中则显示出更多的连续性。这主要是因为中央银行的行长通常都由职业文官担任，在不必担心选举的情况下，中央银行可以以国家的长远利益作为其政策制定的依据。在实践中，中央银行的行长继承人往往都是从现任副行长中选拔，这就更保证了货币政策在执行过程中的连续性。</p><h3 id="政策效果的显著性决定因素不同">4.政策效果的显著性决定因素不同</h3><p>　　财政政策效果的显著性取决于乘数效应和挤出效应的大小。</p><p>　　货币政策效果的显著性则取决于 IS 曲线的陡峭程度，IS曲线越平坦，货币政策的效果越显著；反之则微弱。</p><h2 id="二财政政策与货币政策的配合">（二）财政政策与货币政策的配合</h2><h3id="扩张性财政政策和紧缩性货币政策">（1）扩张性财政政策和紧缩性货币政策</h3><p>　　扩张性财政政策和紧缩性货币政策混合使用会导致利率的上升，产生“挤出效应”。</p><p>　　当经济萧条但又不太严重时可采取这种组合，一方面用扩张性的财政政策刺激需求，另一方面用紧缩性的货币政策控制通货膨胀。</p><h3id="紧缩性财政政策和紧缩性货币政策">（2）紧缩性财政政策和紧缩性货币政策</h3><p>　　紧缩性财政政策和紧缩性货币政策混合使用会使总需求减少，国民收入水平下降，导致国民经济发展缓慢，甚至开始衰退。</p><p>　　当经济发生严重的通货膨胀时，可采用这种组合，一方面用紧缩性的财政政策压缩总需求，另一方面用紧缩性的货币政策提高利率，抑制通货膨胀。</p><h3id="紧缩性财政政策和扩张性货币政策">（3）紧缩性财政政策和扩张性货币政策</h3><p>　　紧缩性财政政策和扩张性货币政策混合使用会引起利率的下降，投资增加。</p><p>　　当经济出现通货膨胀但又不太严重时，可采用这种组合，一方面用紧缩性的财政政策压缩总需求，另一方面用扩张性的货币政策降低利率，刺激投资，遏制经济的衰退。</p><h3id="扩张性财政政策和扩张性货币政策">（4）扩张性财政政策和扩张性货币政策</h3><p>　　扩张性财政政策和扩张性货币政策混合使用会引起总需求的增加，从而促使经济复苏、高涨。</p><p>　　当经济严重萧条时，可采用这种组合，一方面用扩张性的财政政策增加总需求，另一方面用扩张性货币政策降低利率，减少“挤出效应”。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230314202636-y6ivxd6.png" style="width:750px" /></p><h1 id="五时间不一致性">五、时间不一致性</h1><p>　　宏观经济政策的一个重要特点是时间不一致性。</p><p>　　<strong>时间不一致性</strong>也称为<strong>动态不一致性</strong>，指决策者提前宣布政策以影响私人决策者的预期，然后在这些预期形成并发生作用后又采用不同政策的倾向。决策者违背自己以前做出的宣言，主要是由于决策者有改变政策，不履行诺言的激励。</p><p>　　举例：假定中央银行宣布采取低通货膨胀政策，公众相信了这种承诺从而同意不增加货币工资，这时由于中央银行在失业和通货膨胀之间处于了一个更好的处境，因此中央银行就有了采取提高通货膨胀降低失业的政策的激励，从而使政策前后不一致。</p><p>　　考虑到政策的时间不一致性，固定政策规则优于斟酌处置政策。时间不一致性的概念不仅使宏观经济政策争论的焦点转移到了积极干预政策是否有效的问题上，而且向人们揭示，建立对规则的信任比具体的规则本身更为重要。</p><h1 id="六关于总需求管理政策的争论">六、关于总需求管理政策的争论</h1><h2 id="一要不要干预">（一）要不要干预</h2><p>　　凯恩斯主义经济学家主张采用政策来稳定经济。但是，一些经济学家认为，经济波动的根源是外生因素的干扰，社会经济本身会适应这些干扰，市场会对经济环境的变化提供良好的解决办法。他们认为，政府干预政策不但在很大程度上无效，反而还能带来一些坏处。理由主要有：</p><ul><li><strong>政府预测能力有限。</strong></li><li><strong>政策的时滞。</strong>政策的时滞是指政策从认识到决策，再到实施和产生效果，要有一个时间过程。这种时滞分为内在时滞和外在时滞。政策的时滞会影响经济政策效果。</li><li><strong>公众对政策的反应。</strong></li></ul><p>　　但是，凯恩斯主义者则坚持稳定经济的政策是必要的、有效的。他们认为，经济在遭受来自需求或供给方的冲击后会衰退，工资和价格并不能迅速调整到市场出清状态，经济处于非均衡状态。此时，政府采取稳定的政策，即刺激需求的财政政策或货币政策，就会较快恢复经济。可见，这样的政策是必要的和有效的。（<ahref="https://fgzfgz.github.io/posts/29677/"><strong>价格黏性</strong>-结合AS 曲线的 3 种情形理解</a>）</p><h2 id="二政策有效性的争论">（二）政策有效性的争论</h2><p>　　凯恩斯主义者认为，国家实行赤字财政政策时，用发公债比增加税收来弥补赤字要好，增加税收会影响消费需求，从而降低赤字财政政策的效果。</p><p>　　巴罗—李嘉图等价定理：政府用债务筹资和税收筹资是等价的，未来债务本息的现值等于现在的赤字额。按照分析，由于消费者具有前瞻性，减税并不会引起消费增加，家庭会把额外的可支配收入储蓄起来，以应付未来税收的增加。这时，私人储蓄的增加正好抵消了公共储蓄的减少，国民储蓄（等于私人储蓄和公共储蓄之和）保持不变。因此，减税并没有传统分析所预言的影响。</p><h2 id="三按什么规则对经济进行干预">（三）按什么规则对经济进行干预</h2><p>　　以货币政策为例，经济学家提出过如下几种不同的政策规则：</p><ul><li>稳定比率货币供应量增长的规则。这就是货币主义代表人物弗里德曼提出的所谓“单一规则”。他提出，在没有通货膨胀的情况下，按平均国民收入增长率加上人口增长率来规定并宣布一个长期不变的货币增长率，是货币政策唯一最好的选择，此外就不要再作其他政策调节。</li><li>以名义 GDP 为目标变量的政策规则。根据此规则，中央银行宣布一个名义GDP 的年增长率目标，若名义 GDP上升到此目标以上，就降低货币增长以抑制总需求。若低于此目标，就提高货币增长率以刺激总需求。</li><li>以一定的名义通胀率为目标变量的政策规则。根据此规则，中央银行公开宣布一个较低的通货膨胀率，然后根据实际通胀率与此目标通胀率的偏离程度调整货币供给，即实际通胀率高于目标通胀率时就降低货币增长率以抑制总需求，反之则提高货币增长率以刺激总需求。</li><li>以一定的真实利率（“真实”的联邦基金利率）作为操作变量的政策规则，即泰勒规则。泰勒认为，货币政策要能调节物价和经济增长，货币当局就应把调节真实的名义利率作为主要操作方式。若实际通胀率和失业率偏离目标值时，就应当调整名义利率，以抑制通胀或降低失业率。</li></ul><h1 id="七供给管理的政策">七、供给管理的政策</h1><h2 id="一短期供给管理政策的含义">（一）短期供给管理政策的含义</h2><p>　　短期供给管理政策是指在短期内如何从供给方面采取一些政策措施来消除较大经济波动带来的失业和通胀。</p><h2 id="二收入政策和人力政策">（二）收入政策和人力政策</h2><h3 id="收入政策">1. 收入政策</h3><p>　　收入政策是用来限制垄断企业和工会对物价和工资操纵的一种重要政策，即实行以管制工资—物价为主要内容的政策。</p><p>　　收入政策主要包括以下措施：</p><ul><li><strong>工资—物价“指导”线</strong>，即由政府当局根据长期劳动生产率增长趋势来确定工资和物价的增长标准，要对企业和工会通过双方协商，自愿把工资和物价的增长率限制在全社会劳动生产率平均增长幅度以内；</li><li><strong>对某种具体的较快上涨的工资或者物价形势，由政府进行“权威性”劝说或者施加压力来扭转局势</strong>；</li><li><strong>实行工资—物价的硬性管制</strong>，即由政府颁布法令对工资和物价实施管制，甚至暂时加以冻结；</li><li><strong>以税收为基础的收入政策</strong>，即政府以税收作为惩罚或者奖励的手段来限制工资增长。如果工资增长率保持在政府规定的界限以下，则以减少个人和公司所得税作为奖励；如果工资增长率超过政府规定的界限，则以增加所得税作为惩罚。</li></ul><h3 id="人力政策">2. 人力政策</h3><p>　　人力政策是用以改进劳动市场状况，消除劳动市场不完全性，以便克服失业和通货膨胀进退两难的困境的。</p><p>　　人力政策通常包括以下措施：</p><ul><li><strong>发展多吸收劳动力的服务部门</strong>；</li><li><strong>由政府直接雇用私人企业不愿招雇的工人和非熟练工人</strong>，让他们从事社会有益事业，并使这些处境不利的工人通过有用经验的传授和劳动习惯的养成而能够干那些正规的永久性的工作；</li><li><strong>加强劳动力的重新训练</strong>；</li><li><strong>指导和协助失业人员寻找工作，以增加就业机会</strong>；</li><li><strong>增大劳工在地区或者职业方面的流动性等</strong>。</li></ul><h2 id="三供给学派的政策主张">（三）供给学派的政策主张</h2><p>　　供给学派提出的供给管理政策思想的核心是减税，特别是要降低高边际税率（增加的税收在增加的收入中的比例）。</p><p>　　供给学派认为，高边际税率是妨碍工作、储蓄、投资和创新积极性及提高劳动生产率的罪魁祸首。降低了税收，就会提高资产报酬率，鼓励储蓄和投资，提高劳动生产率，降低产品成本，缓和通货膨胀，并导致消费、产出和就业增加。</p><p>　　在供给政策方面，除了减税政策这一主要思想以外，供给学派还提出以下一些主张：</p><ul><li>减少政府开支，削减福利支出。</li><li>货币供给的稳定、适度和可测，使货币供应量增长和长期经济增长相适应。</li><li>减少国家对经济的干预和控制，充分发挥企业家积极性，更多依靠市场力量调节经济。</li></ul><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>宏观｜第5章：失业与通货膨胀</title>
      <link href="/posts/7692/"/>
      <url>/posts/7692/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/44205/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一失业的描述">一、失业的描述</h1><h2 id="一失业的定义与衡量">（一）失业的定义与衡量</h2><p>　　（联系：<ahref="https://fgzfgz.github.io/posts/45732/">第一章-失业的衡量</a>）</p><h3 id="失业的定义">1. 失业的定义</h3><p>　　失业（unemployment）是指有劳动能力的人想工作而找不到工作的社会现象。就业者和失业者的总和就是劳动力，失业者占劳动力的百分比称为失业率。</p><h3 id="失业率的测量">2. 失业率的测量</h3><p>　　不同的国家，测量失业率的方法和口径有所差异。其中，我国一直使用城镇登记失业率这一指标来测量。</p><p>　　城镇登记失业率是指在报告期末城镇登记失业人数占期末城镇从业人员总数与期末实有城镇登记失业人数之和的比重。在城镇单位从业人员中，不包括使用的农村劳动力、聘用的离退休人员、港澳台及外方人员。</p><p>　　我国政府决定，从 2011年（十二五期间）开始，我国不再使用“城镇登记失业率”这一指标，而采用“<ahref="http://www.gov.cn/xinwen/2018-04/17/content_5283157.htm">城镇调查失业率</a>”这一指标。</p><h2 id="二自然失业率与自然就业率">（二）自然失业率与自然就业率</h2><h3 id="自然失业率的概念">1. 自然失业率的概念</h3><p>　　<strong>自然失业率：</strong>劳动市场处于供求稳定状态时的失业率。</p><ul><li>自然失业率是经济社会在正常情况下的失业率；</li><li>稳定状态：既不会造成通货膨胀也不会导致通货紧缩的状态。</li></ul><p>　　<strong>自然失业率是一个长期概念，只和劳动力市场本身的状况有关。</strong>（长期意味着供求均衡）</p><h3 id="自然失业率的推导">2. 自然失业率的推导</h3><p>　　设 <span class="math inline">\(N\)</span> 代表劳动力，<spanclass="math inline">\(E\)</span> 代表就业者人数，<spanclass="math inline">\(U\)</span> 代表失业者人数。</p><p>　　则有：</p><p><span class="math display">\[\begin {align}N=E+U   \end {align}\]</span></p><p><span class="math display">\[\begin {align}\Longrightarrow 失业率=U/N\end {align}\]</span></p><p>　　假定劳动力总数 <span class="math inline">\(N\)</span>不变，并重点考察劳动力中的人数在就业与失业之间的转换。</p><p>　　记 <span class="math inline">\(l\)</span>代表离职率，即每个月失去自己工作的就业者比例；<spanclass="math inline">\(f\)</span>代表就职率，即每个月找到工作的失业者的比例。</p><p>　　劳动市场达到稳定状态的条件是：<spanclass="math inline">\(fU=lE\)</span></p><p>　　又因为 <span class="math inline">\(E=N-U\)</span>，则 <spanclass="math inline">\(fU=l(N-U)\)</span>，因此可以解得：</p><p><span class="math display">\[\begin {align}\frac U N=\frac l {l+f}\end {align}\]</span></p><p>　　由此可以看出：稳定状态的失业率取决于离职率 <spanclass="math inline">\(l\)</span> 和就职率 <spanclass="math inline">\(f\)</span>：离职率越高，失业率越高；就职率越高，失业率越低。</p><h3 id="自然就业率">3. 自然就业率</h3><p>　　自然就业率是与自然失业率相对应的就业率。</p><p><span class="math display">\[\begin {align}自然就业率=\frac {充分就业量} {劳动力总量}\end {align}\]</span></p><p>　　一个经济的自然失业率与自然就业率之和为 100%。</p><h3 id="失业的经济学解释">4. 失业的经济学解释</h3><h4 id="古典失业理论">4.1 古典失业理论</h4><p>　　古典经济学家始终认为，资本主义制度可以通过市场机制的自动调节解决各种矛盾，因此经济社会中不存在失业，充分就业是一个始终存在的倾向。针对自1825年第一次经济危机之后西方社会经常存在的大量失业现象，古典经济学家认为这些失业属于摩擦性失业和自愿失业的范畴，而不是真正的失业，只是生产过程中局部的、暂时的失调，而不是真正的对劳动力需求的不足，因而这些失业的存在并不能否认社会常态是充分就业。<strong>在竞争性、市场出清的均衡状态下，只存在自愿失业。</strong></p><p>　　<strong>自愿失业：</strong>不愿意在现行的工资水平下工作导致的事业。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514135716-zw4z6o3.png" style="height:250px" alt="古典的失业解释" /></p><h4 id="凯恩斯的失业理论">4.2 凯恩斯的失业理论</h4><p>　　凯恩斯认为除了摩擦性失业和自愿失业之外，社会还存在着大量的“非自愿失业”，其原因在于社会有效需求不足，故凯恩斯的失业理论也称之为有效需求不足失业论。凯恩斯经济学用有效需求不足理论来说明失业，并在此基础上提出解决失业问题的方法，即国家积极干预经济，以达到社会的“充分就业”。<strong>当工资具有刚性，劳动市场非出清时，存在非自愿失业。</strong></p><p>　　<strong>非自愿失业：</strong>愿意接受现行的工资水平，由于劳动供给大于劳动需求，即<span class="math inline">\(S&gt;D\)</span>，而导致的失业。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514135835-av08wzt.png" style="height:250px" alt="凯恩斯的失业解释" /></p><p>　　‍</p><h1 id="二失业的原因">二、失业的原因</h1><h2 id="一摩擦性失业的原因">（一）摩擦性失业的原因</h2><p>　　工作岗位与劳动力的匹配要花费时间，由此形成的失业称为<strong>摩擦性失业</strong>。</p><p>　　摩擦性失业是暂时的失业（信息不对称）。</p><p>　　<strong>产生的原因：</strong></p><ul><li><strong>部门性变动。</strong>不同行业和地区之间的需求构成不断在发生变动。随着产品需求的变动，对生产这些产品的劳动的需求也在变动；</li><li><strong>企业间劳动供求的变动。</strong></li></ul><h2 id="二结构性失业的原因">（二）结构性失业的原因</h2><p>　　结构性失业是指劳动力的供给和需求不匹配所造成的失业，其特点是既有失业，又有职位空缺，失业者或者没有合适的技能，或者居住地点不当，因此无法填补现有的职位空缺。</p><p>　　<strong>结构性失业的一个来源是工资刚性（工资能涨不能降），</strong>即工资不能调整到使劳动市场的供给等于需求从而消除失业的水平。</p><p>　　工资刚性的因素主要有以下三个方面：</p><ul><li><strong>最低工资法：</strong>最低工资减少了企业的劳动需求量，从而对不熟练的工人和缺乏经验的工人产生了重大的影响，其中对青少年失业的影响最大。</li><li><strong>效率工资：</strong>效率工资理论认为在一定限度内，企业通过支付给工人比劳动力市场出清更高的工资，可以使劳动生产率提高，增加企业利润。</li><li><strong>工会的垄断力量：</strong>由于工会的垄断力量，工会工人的工资并不是由供求关系决定，而是由工会领导人与企业经理之间的集体议价决定的，通常是把工资提高到均衡水平以上并允许企业决定雇用多少工人，结果是雇用的工人数量减少，就业率下降，结构性失业上升。</li></ul><h1 id="三失业的影响与奥肯定律">三、失业的影响与奥肯定律</h1><h2 id="一失业的影响">（一）失业的影响</h2><h3 id="失业的社会影响">1. 失业的社会影响</h3><p>　　对失业者及其家庭来说，失业意味着经济拮据以及生活方式的改变；失业工人及其家庭的地位和声望也会因失业而下降，因而他们的身心健康也会受到摧残。在失业率很高时，社会秩序也会受到影响。</p><h3 id="失业的经济影响">2. 失业的经济影响</h3><p>　　对社会来说，失业表明一部分资源没有得到充分利用：愿意工作并且有能力工作的人没有被用于生产，结果总产出减少。</p><p><span class="math display">\[\begin {align}失业的损失=潜在的GDP-实际的GDP\end {align}\]</span></p><h2 id="二奥肯定律">（二）奥肯定律</h2><p>　　奥肯定律说明的是实际国内生产总值与失业率之间的关系。该定律是美国经济学家阿瑟·奥肯在研究上述两者之间的关系时发现的一种规律，奥肯利用美国55 个季度（从 1947 年第二季度到 1960年第四季度）中失业率变化和实际国内生产总值变化的资料，通过简单的回归方程，估算出反映两者变化之间关系的一个数值。</p><p>　　<strong>奥肯定律的内容</strong>：失业率每高于自然失业率 1个百分点，实际 <span class="math inline">\(GDP\)</span> 将低于潜在 <spanclass="math inline">\(GDP\)</span> 2 个百分点。</p><p>　　奥肯定律可以用下面的公式来表示：</p><p><span class="math display">\[\begin {align}\frac {y-y_f} {y_f}=-\alpha (u-u^*)\end {align}\]</span></p><p>　　其中，<span class="math inline">\(y\)</span> 为实际产出，<spanclass="math inline">\(y_f\)</span> 为潜在产出，<spanclass="math inline">\(u\)</span> 为实际失业率，$u^* $为自然失业率，<span class="math inline">\(α\)</span>为大于零的参数。</p><p>　　奥肯定律揭示了产品市场和劳动市场之间极为重要的联系，并描述了实际<span class="math inline">\(GDP\)</span>的短期变动与失业率变动的联系。</p><p>　　奥肯定律的应用：为防止失业率的上升，实际 <spanclass="math inline">\(GDP\)</span> 必须保持与潜在 <spanclass="math inline">\(GDP\)</span>同样快的增长。如果政府想让失业率下降，那么，该经济社会的实际 <spanclass="math inline">\(GDP\)</span> 的增长必须快于潜在 <spanclass="math inline">\(GDP\)</span> 的增长。</p><h1 id="四通货膨胀的描述">四、通货膨胀的描述</h1><p>　　（联系：<ahref="https://fgzfgz.github.io/posts/45732/">第一章-物价水平的衡量</a>）</p><h2 id="一通货膨胀的衡量">（一）通货膨胀的衡量</h2><p>　　当一个经济中的大多数商品和劳务的价格连续在一段时间内普遍上涨时，宏观经济学就称这个经济经历着通货膨胀。</p><p>　　宏观经济学用价格指数来描述整个经济中的价格水平。宏观经济学中常涉及的价格指数主要有<span class="math inline">\(GDP\)</span> 折算指数、消费价格指数（简记为<span class="math inline">\(CPI\)</span>）和生产者价格指数（简记为 <spanclass="math inline">\(PPI\)</span>）。</p><p>　　通货膨胀的程度通常用通货膨胀率来衡量。通货膨胀率被定义为从一个时期到另一个时期价格水平变动的百分比。用公式表示为：</p><p><span class="math display">\[\begin {align}\pi_t=\frac {P_t - P_{t-1}} { P_{t-1}}\end {align}\]</span></p><p>　　其中，<span class="math inline">\(π_t\)</span> 为 <spanclass="math inline">\(t\)</span> 时期的通货膨胀率；<spanclass="math inline">\(P_t\)</span> 和 <spanclass="math inline">\(P_{t-1}\)</span> 分别为 <spanclass="math inline">\(t\)</span> 时期和 <spanclass="math inline">\(t-1\)</span> 时期的价格水平。</p><h2 id="二通货膨胀的分类">（二）通货膨胀的分类</h2><h3 id="按照价格上升的速度进行分类">1. 按照价格上升的速度进行分类</h3><p>　　按照价格上升的速度，存在着以下三种通货膨胀类型：</p><ul><li>温和的通货膨胀，指每年物价上升的比例在 10% 以内。</li><li>奔腾的通货膨胀，指年通货膨胀率在 10% 以上和 100% 以内。</li><li>超级通货膨胀，指通货膨胀率在 100% 以上。</li></ul><h3 id="按照对价格影响的差别分类">2. 按照对价格影响的差别分类</h3><p>　　按照对不同商品的价格影响的大小加以区分，存在着以下两种通货膨胀的类型：</p><ul><li>平衡的通货膨胀，即每种商品的价格都按相同比例上升。</li><li>非平衡的通货膨胀，即各种商品价格上升的比例并不完全相同。</li></ul><h3 id="按照人们的预期程度加以区分">3. 按照人们的预期程度加以区分</h3><p>　　按照人们的预期程度区分，存在两种通货膨胀类型：</p><ul><li>未预期到的通货膨胀，即价格上升的速度超出人们的预料，或者人们根本没有想到价格会上涨。</li><li>预期到的通货膨胀。</li></ul><p>　　在一个开放世界中，由于影响价格水平变动的因素多种多样，并且变化莫测，因此，在大多数情况下，通货膨胀都是不可预期的。</p><h1 id="五通货膨胀的原因">五、通货膨胀的原因</h1><p>　　关于通货膨胀的原因，经济学家提出了种种解释，可大致分为三个方面：</p><ul><li>一是传统货币数量论，这种解释强调货币在通货膨胀过程中的重要性；</li><li>二是用总需求与总供给来解释，包括从需求的角度和供给的角度；</li><li>三是从经济结构因素变动的角度来说明通货膨胀的原因，即所谓结构性通货膨胀。</li></ul><h2 id="一作为货币现象的通货膨胀">（一）作为货币现象的通货膨胀</h2><p>　　货币数量论认为每一次通货膨胀背后都有货币供给的迅速增长。货币供给的增加是通货膨胀的基本原因。这一理论的出发点是如下所示的交换方程（<strong>费雪方程</strong>）：</p><p><span class="math display">\[\begin {align}货币供给量×货币流通速度=物价水平×实际收入\end {align}\]</span></p><p>　　或者：</p><p><span class="math display">\[\begin {align}MV=Py\end {align}\]</span></p><p>　　对上式取自然对数：<span class="math inline">\(\ln M+\ln V=\lnP+\ln y\)</span></p><p>　　关于时间 <span class="math inline">\(t\)</span> 求微分：<spanclass="math inline">\(\frac {dM} M + \frac {dV} V  =   \frac {dP} P +\frac {dy} y\)</span></p><p>　　进一步变形：<span class="math inline">\(\frac {dM} M   =   \frac{dP} P + \frac {dy} y -  \frac {dV} V\)</span></p><p>　　即：<span class="math inline">\(通货膨胀率=货币增长率 +货币流通速度变化率 - 产量增长率\)</span></p><p>　　根据上式，通货膨胀来源于三个方面，即货币流通速度的变化、货币增长和产量增长。</p><p>　　如果货币流通速度不变且收入处于其潜在的水平上，则显然可以得出，通货膨胀的产生主要是货币供给增加的结果。货币主义强调货币和货币政策的重要作用，认为通货膨胀只是一种货币现象，通货膨胀的最根本原因是货币供给量多于需求量，于是“通货膨胀是一定会到处发生的货币现象”。</p><p>　　事实上，在长期中，通货膨胀是一种货币现象。</p><h2 id="二用总需求与总供给来解释">（二）用总需求与总供给来解释</h2><h3 id="需求拉动的通货膨胀">1. 需求拉动的通货膨胀</h3><p>　　需求拉动的通货膨胀，又称超额需求通货膨胀，是指总需求超过总供给所引起的一般价格水平的持续显著的上涨。需求拉动的通货膨胀理论把通货膨胀解释为“过多的货币追求过少的商品”。总需求的过度增长可能来自消费需求、投资需求、政府需求、国外需求，也可能来自财政政策、货币政策、消费习惯的突然改变以及国际市场的需求变动等。如图所示，当需求曲线AD 向上移动的过程中，供给保持不变时，价格水平逐渐上升。</p><p>　　‍</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514142046-x1rrpuz.png" style="height:250px" alt="需求拉动的通货膨胀" /></p><h3 id="成本推动的通货膨胀">2. 成本推动的通货膨胀</h3><p>　　成本推动的通货膨胀，又称成本通货膨胀或供给通货膨胀，是指在没有超额需求的情况下由于供给方面成本的提高所引起的一般价格水平持续和显著的上涨。</p><p>　　引起这种通货膨胀的根源在于市场的不完全竞争，即特定集团在经济中行使市场权力，一是工会要求较高的工资导致工资推动通货膨胀，二是垄断和寡头企业牟取高利润导致的利润推动通货膨胀。另外，在开放经济中，进出口所引起的成本增加也会导致通货膨胀。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514142029-7xi5m6j.png" style="height:250px" alt="成本推动的通货膨胀" /></p><p>　　如图所示，总需求是既定的，不发生变化，变动只出现在供给方面。当总供给曲线向左移动的时候，对应的价格水平不断上涨，而总产量不断下降。</p><h4 id="工资推动通货膨胀理论">2.1 工资推动通货膨胀理论</h4><p>　　工资推动通货膨胀是指不完全竞争的劳动市场造成的过高工资所导致的一般价格水平的上涨。</p><p>　　工资—价格螺旋：工资提高引起价格上涨，价格上涨又引起工资提高。因此，工资提高和价格上涨形成了螺旋式的上升运动。</p><h4 id="利润推动通货膨胀理论">2.2 利润推动通货膨胀理论</h4><p>　　利润推动通货膨胀是指垄断企业和寡头企业利用市场势力谋取过高利润所导致的一般价格水平的上涨。</p><h3 id="结构性通货膨胀">3. 结构性通货膨胀</h3><p>　　<strong>结构性通货膨胀：</strong>由于特定的经济制度、控制系统、信息系统和决策系统等结构性因素的变化，出现一般价格水平的持续上涨。</p><p>　　从经济结构本身所具有的特点来看，国民经济中各个部门各具特点且千差万别，这是导致结构性通货膨胀的根源。在现代社会，由于资本和技术在不同的经济部门具有不同的特征，因此，现代社会的经济结构很难使资本和技术从一个部门流转到另一个部门。</p><p>　　<strong>具体表现：</strong>经济中存在两大部门（需求扩大部门和需求衰减部门；生产率提高较快部门和生产率提高较慢部门；新兴部门和衰落部门；开放部门和非开放部门），前一个部门预示着较好的经济前景，因而工资、物价会较快上升，但劳动市场的特殊性要求两个部门的工资应以同一比例上升，因而后一个部门会向前一个部门看齐，结果引起通货膨胀。</p><h2 id="五通货膨胀的持续">（五）通货膨胀的持续</h2><p>　　通货膨胀不是价格水平的一次性改变，而是价格水平的持续上升。事实上，无论通货膨胀的原因如何，只要通货膨胀开始，通货膨胀便可以自行持续下去。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514142008-ir2c52a.png" style="width:600px" alt="通货膨胀螺旋" /></p><p>　　如图所示，经济初始时处于均衡点 <spanclass="math inline">\(E\)</span>。假定出现总需求冲击，总需求曲线从 <spanclass="math inline">\(AD_0\)</span> 移到 <spanclass="math inline">\(AD_1\)</span>，结果价格上升到 <spanclass="math inline">\(P_1\)</span>。价格上升会引起工资提高，较高的工资增加了生产成本，从而使总供给曲线向左移动，反映为总供给曲线由<span class="math inline">\(AS_1\)</span> 移动到 <spanclass="math inline">\(AS_2\)</span>，更高的工资意味着更高的收入，使得总需求曲线由<span class="math inline">\(AD_1\)</span> 移动到 <spanclass="math inline">\(AD_2\)</span>。在新的价格水平 <spanclass="math inline">\(P_1\)</span> 下，新的总需求曲线 <spanclass="math inline">\(AD_2\)</span> 与新的总供给曲线 <spanclass="math inline">\(AS_2\)</span>之间仍有差距。于是又存在一个对商品的超额需求，导致价格进一步上涨，又引发了另一轮的工资的上涨。</p><h1 id="六通货膨胀的成本">六、通货膨胀的成本</h1><h2 id="预期到的通货膨胀成本">1．预期到的通货膨胀成本</h2><ul><li><strong>菜单成本：</strong>是指价格调整的成本。高通货膨胀使得企业经常的更换自己的报价，从而产生了成本。</li><li><strong>鞋底成本：</strong>通货膨胀率高，使得名义利率提高，人们的实际货币余额需求量减少，需要更经常去银行，不方便程度提高，也即鞋底成本。</li><li><strong>税收扭曲：</strong>许多税规没有考虑通货膨胀的影响，从而改变了个人所得税负担。</li><li><strong>相对价格变动导致的资源配置不当：</strong>高的通货膨胀改变了相对价格，从而引起资源配置中的微观经济无效率。</li><li><strong>混乱与不方便：</strong>物价水平经常变动会引起生活不便。</li></ul><h2 id="未预期到的通货膨胀成本">2．未预期到的通货膨胀成本</h2><p>　　未预期到的通货膨胀的影响比稳定的、可预期的通货膨胀的任何一种成本都更有害。具体地说，未预期到的通货膨胀成本有以下几种：</p><ul><li><p><strong>不确定性的增加。</strong>未预期到的通货膨胀增加了经济中的不确定性，从而影响个体储蓄、投资以及就业的劳动量等决策，这会导致经济效率降低。</p></li><li><p><strong>不合意的财富的再分配。</strong></p><ul><li>通货膨胀不利于靠固定的货币收入维持生活的人，那些靠变动收入维持生活的人，则会从通货膨胀中得益；</li><li>通货膨胀对储蓄者不利；</li><li>通货膨胀导致债务人和债权人之间发生收入再分配。</li></ul></li><li><p><strong>相对价格变动性的增加。</strong>未预期到的通货膨胀有可能急剧增加相对价格的变动性。带来经济的低效率和资源的不当配置。</p></li></ul><h1 id="七失业与通货膨胀的关系">七、失业与通货膨胀的关系</h1><p>　　菲利普斯曲线表示了失业和通货膨胀之间的关系。</p><h2 id="一菲利普斯曲线的提出">（一）菲利普斯曲线的提出</h2><h3 id="原始的菲利普斯曲线">1. 原始的菲利普斯曲线</h3><p>　　经济学家菲利普斯于 1958 年在《经济学》杂志发表论文《1861-1957年间英国货币工资变化与失业之间的关系》，论文中详细说明一种基本关系：货币工资增长率与失业率之间存在反比例关系，失业率提高时，货币工资增长率较小；失业率降低时，货币工资增长率较大。这就是当年意义上的菲利普斯曲线，或原始的菲利普斯曲线。</p><p>　　菲利普斯所提出的这种关系尽管从经验统计中得到了证实，但却缺乏一种理论来解释这种关系。1960年，加拿大经济学家利普西（R.Lipsey）提出了过度需求模型，该模型为菲利普斯曲线提供了理论解释。该模型的基本思想是：工资的增长可以用劳动市场上存在的过度需求来解释，而失业率则是衡量过度需求的一个指标。</p><p>　　以萨缪尔森为代表的新古典综合派利用美国的经济资料进行类似的研究，但用物价上涨率（即通货膨胀率）代替货币工资上涨率，以表示物价上涨率与失业率之间也有对应关系：物价上涨率增加时，失业率下降；物价上涨率下降时，失业率上升。这就是新古典综合派提出的菲利普斯曲线。</p><h3 id="新古典综合派的菲利普斯曲线">2. 新古典综合派的菲利普斯曲线</h3><p>　　（联系：<u>奥肯定律</u>）</p><p>　　新古典综合派把原始的菲利普斯曲线改造后得到如下图所示的曲线，横轴代表失业率<span class="math inline">\(u\)</span>，纵轴代表通货膨胀率 <spanclass="math inline">\(π\)</span>，向右下方倾斜的曲线 <spanclass="math inline">\(PC\)</span>即为菲利普斯曲线，它表明失业率与通货膨胀率之间的替换关系，即失业率高，则通货膨胀率低；失业率低，则通货膨胀率高。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514145117-jkbxuu0.png" style="height:230px" alt="菲利普斯曲线" /></p><p>　　若设 $u^* $ 表示自然失业率，参数 <spanclass="math inline">\(a\)</span>衡量价格对于失业率的反应程度，则菲利普斯曲线可表示为：</p><p><span class="math display">\[\begin {align}\pi=- a (u-u^*)\end {align}\]</span></p><p>　　当失业率超过自然失业率，价格水平就下降；当失业率低于自然失业率时，价格水平就上升。</p><h3 id="菲利普斯曲线的推导">3. 菲利普斯曲线的推导</h3><p>　　菲利普斯曲线可以从总需求—总供给模型中推导出来。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514145516-ermifuu.png" style="width:600px" alt="菲利普斯曲线的推导" /></p><p>　　‍</p><h3 id="菲利普斯曲线的政策含义">4. 菲利普斯曲线的政策含义</h3><p>　　菲利普斯曲线反映的失业率与通货膨胀率之间的关系为实施政府干预、进行总需求管理提供了一份可供选择的菜单。它意味着可以用较高的通货膨胀率为代价，来降低失业率或实现充分就业；而要降低通货膨胀率和稳定物价，就要以较高的失业率为代价。</p><p>　　在一定的时点上，政府可设置一个经济能够最大限度承受的通货膨胀与失业的界限，通过总需求管理政策把通货膨胀和失业都控制在此界限之内。当通货膨胀率过高时，可通过紧缩性的经济政策使失业率提高，以换取低通货膨胀率；当失业率过高时，采取扩张性的经济政策使通货膨胀率提高，以获得较低的失业率。这就是经济学中经常运用的<strong>“相机抉择”</strong>的宏观经济政策。</p><p>　　相机抉择（如图所示）：</p><ul><li>阴影部分即为可接受的通胀与失业的组合范围；</li><li>B点：通胀率超过了可接受的范围，可以用紧缩性政策，降低通胀水平，失业率会相应上升；</li><li>C点：失业率超过了可接受的范围，可以用扩张性政策，降低失业率，通胀率会相应上升。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514151356-pn1ie43.png" style="width:400px" alt="菲利普斯曲线与政策运用" /></p><h3 id="牺牲率和痛苦指数">5. 牺牲率和痛苦指数</h3><p>　　牺牲率是指为了使通货膨胀率降低一个百分点而必须放弃的一年实际 GDP的百分点数。</p><p>　　<spanclass="math inline">\(痛苦指数=失业率+通货膨胀率\)</span></p><h2id="二附加预期的菲利普斯曲线短期菲利普斯曲线">（二）附加预期的菲利普斯曲线/短期菲利普斯曲线</h2><p>　　<strong>附加预期的菲利普斯曲线/短期菲利普斯曲线：</strong>在短期内通货膨胀预期来不及调整（保持不变）时，通货膨胀率与失业率之间的交替关系。</p><p>　　（传送门：<ahref="https://fgzfgz.github.io/posts/35486/">第十章-"四种预期的比较"</a>）</p><p>　　使用 <span class="math inline">\(π^e\)</span>表示预期通货膨胀率，菲利普斯曲线可以表示为：</p><p><span class="math display">\[\begin {align}\pi=\pi^e - a (u-u^*)\end {align}\]</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514145859-4u0i758.png" style="height:250px" alt="附加预期的菲利普斯曲线" /></p><p>　　附加预期的菲利普斯曲线的性质：</p><ul><li>当实际通货膨胀等于预期通货膨胀时，失业处于自然失业率水平。</li><li>在预期的通货膨胀率不等于实际的通货膨胀率的短期中，失业率与通货膨胀率之间仍存在着替换关系。</li><li>不同预期的通货膨胀率有着不同的菲利普斯曲线，即预期通货膨胀率的变化将引起菲利普斯曲线的移动。</li></ul><p>　　政策含义：在短期中，引起通货膨胀率上升的扩张性财政与货币政策是可以起到减少失业的作用的。换句话说，调节总需求的宏观经济政策在短期是有效的。</p><h2 id="三长期菲利普斯曲线">（三）长期菲利普斯曲线</h2><p>　　与弗里德曼提出的<u>适应性预期</u>不同，以卢卡斯为代表的<u>理性预期</u>学派认为，失业率并不取决于通货膨胀，而是取决于经济中的随机冲击，实际失业率围绕着自然失业率的波动并不是由通货膨胀系统地引起的，而是由随机冲击所引起的。无论短期还是长期中，失业率与通货膨胀率之间都不存在稳定的交替关系。</p><p>　　在通货膨胀率完全可以预期时，失业率为自然失业率情况下，失业率与通货膨胀率之间不存在替换关系。在以失业率为横坐标，通货膨胀率为纵坐标的坐标系中，长期当中的菲利普斯曲线，即长期菲利普斯曲线是一条垂直线（如下图）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514150616-atdd3ye.png" style="width:350px" alt="长期菲利普斯曲线" /></p><p>　　长期菲利普斯曲线的政策含义：从长期来看，政府运用扩张性政策不但不能降低失业率，还会使通货膨胀率不断上升。</p><h2 id="四短期与长期的菲利普斯曲线">（四）短期与长期的菲利普斯曲线</h2><p>　　在短期内，当实际通胀率与预期通胀率相等，即 <spanclass="math inline">\(\pi = \pi^e\)</span> 时，<spanclass="math inline">\(失业率=自然失业率\)</span>，此时可定义为“非加速通过膨胀的失业率”。</p><p>　　<strong>（短期分析）</strong>：利用过去预期与过去实际间的差距来矫正对未来的预期。</p><p>　　<strong>（长期分析）</strong>：充分利用所得到的信息指标来做出判断（理性人假设）。</p><p>　　在短期，菲利普斯曲线表现的是在一定的通货膨胀率预期水平下，通货膨胀率与失业率之间的关系。货币主义者认为，在工资谈判中，工人们关心的是实际工资而不是货币工资。当通货膨胀率不太高，工人还没有形成新的通货膨胀预期的时候，失业与通货膨胀之间存在的替代关系就被称为短期菲利普斯曲线。</p><p>　　在长期，工人们发觉他们的实际工资随着物价的上涨而下降，就会要求雇主相应地增加货币工资，以补偿通货膨胀给自己造成的损失。由于工人不断地形成新的通货膨胀预期，使换取一定失业率的通货膨胀率越来越高，一条条菲利普斯曲线不断向右上方移动，最终演变成为一条垂直的菲利普斯曲线，这就是长期菲利普斯曲线。在以失业率为横坐标，通货膨胀率为纵坐标的坐标系中，长期当中的菲利普斯曲线，即长期菲利普斯曲线是一条垂直线，表明失业率与通货膨胀率之间不存在替换关系。而且，在长期中，经济社会能够实现充分就业，经济社会的失业率将处在自然失业率的水平。</p><p>　　如下图所示，短期菲利普斯曲线不断移动，进而形成长期菲利普斯曲线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514153853-luu2rhr.png" style="height:250px" alt="长期菲利普斯曲线的形成" /></p><p>　　图中，假定某一经济处于自然失业率 $u^* $，通货膨胀率为 <spanclass="math inline">\(π_1\)</span> 的 <spanclass="math inline">\(A\)</span>点。若这时政府采取扩张性政策，以使失业率降低到 <spanclass="math inline">\(u_1\)</span>。由于扩张性政策的实施，总需求增加，导致价格水平上升，使通货膨胀率上升为<span class="math inline">\(π_2\)</span>。由于在 <spanclass="math inline">\(A\)</span> 点处，工人预期的通货膨胀率为 <spanclass="math inline">\(π_1\)</span>，而现在实际的通货膨胀率为 <spanclass="math inline">\(π_2\)</span>，高于预期的通货膨胀率使实际工资下降，从而增加生产，增加就业，失业率减少为<spanclass="math inline">\(u_1\)</span>。于是就会发生图中短期菲利普斯曲线<span class="math inline">\(PC_1\)</span>（<spanclass="math inline">\(π^e=π_1\)</span>）所示的情况，失业率由 $u^* $下降为 <span class="math inline">\(u_1\)</span>，而通货膨胀率则从 <spanclass="math inline">\(π_1\)</span> 上升到 <spanclass="math inline">\(π_2\)</span>。</p><p>　　但这种情况只能是短期的。经过一段时间，工人们会发现价格水平的上升和实际工资的下降，这时他们便要求提高货币工资。与此同时，工人们会相应地调整其预期，即从原来的<span class="math inline">\(π_1\)</span> 调整到现在的 <spanclass="math inline">\(π_2\)</span>。伴随着这种调整，实际工资回到了原有的水平。相应地，企业生产和就业也都回到了原有的水平。失业率又回到原来的$u^* $，但此时经济已处于具有较高通货膨胀率预期（即 <spanclass="math inline">\(π_2\)</span>）的 <spanclass="math inline">\(B\)</span> 点。</p><p>　　将以上过程重复下去，可以想象，在短期，由于工人不能及时改变预期，存在着失业与通货膨胀之间的替换关系，表现在图形上，便有诸如<span class="math inline">\(PC1\)</span>，<spanclass="math inline">\(PC_2\)</span>…等各条短期菲利普斯曲线。随着工人预期通货膨胀率的上升，短期菲利普斯曲线不断上升。</p><p>　　从长期来看，工人预期的通货膨胀与实际通货膨胀是一致的。因此，企业不会增加生产和就业，失业率也就不会下降，从而便形成了一条与自然失业率重合的长期菲利普斯曲线<spanclass="math inline">\(LPC\)</span>。垂直于自然失业率水平的长期菲利普斯曲线表明，在长期中，不存在失业与通货膨胀的替换关系。</p><p>　　长期菲利普斯曲线是由短期菲利普斯曲线不断运动形成的，可以得出，<strong>在通货膨胀率完全可以预期时，失业率为自然失业率情况下，失业率与通货膨胀率之间不存在替换关系。</strong></p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>经济思考｜如何看待种粮亩均收益824元，为五年新高?</title>
      <link href="/posts/47840/"/>
      <url>/posts/47840/</url>
      
        <content type="html"><![CDATA[<p>（<ahref="http://jl.people.com.cn/n2/2022/0801/c349771-40062024.html">新闻链接</a>、<ahref="https://www.zhihu.com/question/533257294">原文链接</a>）</p><h3 id="观点">观点</h3><p><strong>我不相信这个数据。2021年种粮不亏损是有可能的，但不可能亩均净收益达到800多元。</strong></p><p><strong>如果硬要说达到800多元/亩的净利润，可能性最大是统计局的数据排除了土地成本和人工成本。</strong></p><p>先看一下《全国农产品成本收益资料汇编》的数据吧，目前更新到2021年，也就是2020年的数据，2020年三种粮食（稻谷、小麦、玉米）的亩均产值才1166元，净利润只有47元，前几年甚至多年亏损。</p><p>（资料来源：《全国农产品成本收益资料汇编》）</p><p><imgsrc="https://pic2.zhimg.com/80/v2-93a4fa1e263f90df278f2e1ca7cab160_1440w.jpg" /></p><p>再来看看2009～2014年的数据：</p><p><imgsrc="https://pic2.zhimg.com/80/v2-e8cb61bd68226f2cd618ebc0adfc1c2b_1440w.jpg" /></p><p>2011年以来，粮价几乎就没有涨过，一直是1～1.2元/斤，并且亩产也比较稳定，导致产值合计这一项一直比较稳定，大约是1000～1200元，并且在2014年以前还能做到亩均净利润是100元以上，2015年以后几乎是微利甚至亏损。</p><p>我不相信种植粮食作物一亩地净赚800多。种粮食的成本收益率如果真的这么高，大家为啥还要离开农村进城务工？</p><h3 id="进一步分析">进一步分析：</h3><p>为什么 2020 年种粮盈利了？因为 2020年农产生产者品价格上涨幅度是2014年以来最高的。看2020年的总指数有115，意味着所有农产品生产者价格平均上涨了15%，但是这种价格上涨主要来自养殖业产品的上涨，说白了就是猪肉价格上涨导致的。看看粮食所属的农业产品的生产者价格指数，只有102.77，也就是说2020年只比2019年上涨了2.77%！看看2014年以来的价格，先不谈生产者价格下降的几年，上升的年份甚至跑不过通胀！</p><p>在我国粮食价格不完全由市场调控，主要受到“收储价格”的影响，我不觉得国内粮食价格会成倍增长，增长10%算是特别好的了。即便增长10%，成本不变，产量不变，净利润也只有100多元，绝不可能达到800多元。</p><p>（资料来源：《中国农产品价格调查年鉴》）</p><p><imgsrc="https://pic1.zhimg.com/80/v2-22c1c56bec0c87c1fded6b857da7ef4e_1440w.jpg" /></p><p>既然分析到这一步了，那就再来深挖一下到底什么粮食的价格上涨了！在《中国农产品价格调查年鉴》里，这里的“谷物”主要代表我们常说的“三种粮食”，也就是小麦、稻谷、玉米。虽然三种粮食的2020年生产者价格增长了4.05%，但是几乎全部是玉米价格上涨带来的。在看前几年的数据，也是小麦和稻谷的价格几乎一动不动，玉米的价格大起小落（增长多，下降少）。</p><p><imgsrc="https://pic3.zhimg.com/80/v2-df00ead2ed7814a75ff193e304195baf_1440w.jpg" /></p><p>玉米价格上涨？玉米主要用途之一就是饲料和工业用途，口粮消费仅仅不到5%！又和养殖业挂钩了！</p><p>（资料来源：张在一,毛学峰,杨军.站在变革十字路口的玉米:主粮还是饲料粮之论?[J].中国农村经济,2019(06):38-53.）</p><p><imgsrc="https://pic2.zhimg.com/80/v2-7cc69f16c03684b3d4c3e6eb6e86f9d6_1440w.jpg" /></p><p><imgsrc="https://pic3.zhimg.com/80/v2-2c57f1820e8716472bc75f819e1e9978_1440w.jpg" /></p><p><strong>综上，认为国家统计局2021年种粮收益达到亩均824元的数据可能不真实；或者对数据做了“结构性优化”。</strong></p><p><strong>抹去一个0，才是真实的种粮收益。</strong></p>]]></content>
      
      
      <categories>
          
          <category> 经济思考 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 经济思考 </tag>
            
            <tag> 农业经济 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>宏观｜第4章：国民收入的决定：AD-AS 模型</title>
      <link href="/posts/29677/"/>
      <url>/posts/29677/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/44205/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><p>　　在上一章 <span class="math inline">\(IS-LM\)</span>模型的基础上，本章放开了<strong>“价格外生”的假设</strong>，由产品市场与货币市场达到一般均衡推导出总需求曲线，并基于劳动市场均衡推导出总供给曲线，进一步讨论总需求与总供给的一般均衡。</p><h1 id="一总需求ad">一、总需求（AD）</h1><h2 id="一总需求概述">（一）总需求概述</h2><p>　　总需求是经济社会对产品和劳务的需求总量，这一需求总量通常以产出水平来表示。总需求由消费需求、投资需求、政府需求和国外需求构成。在不考虑国外需求的情况下，经济社会的总需求是指价格、收入和其他经济变量在既定条件下，家庭部门、企业部门和政府将要支出的总数量。</p><p>　　总需求函数被定义为以产量（国民收入）所表示的需求总量和价格水平之间的关系，即<spanclass="math inline">\(Y=f(P)\)</span>。它表示在某个特定的价格水平下，经济社会需要多高水平的产量。在价格水平为纵坐标，产出水平为横坐标的坐标系中，总需求函数的几何表示被称为总需求曲线。总需求曲线描述了与每一价格水平相对应的私人和政府的支出，因此，总需求曲线可以从<span class="math inline">\(IS-LM\)</span> 模型中推导出来。</p><h2 id="二总需求函数的推导">（二）总需求函数的推导</h2><p>　　在三部门的经济中， 曲线的方程为：</p><p><span class="math display">\[\begin {align} Y=C+I+G \end {align}\]</span><br />其中：<span class="math inline">\(C=Y-T\)</span>，<spanclass="math inline">\(I=I(r)\)</span>。</p><p><span class="math inline">\(LM\)</span> 曲线的方程为：<br /><span class="math display">\[\begin {align}\frac M P=L_1(Y)+L_2(r)\end {align}\]</span></p><p>　　在上面两个方程中，如果把 <span class="math inline">\(Y\)</span>和 <span class="math inline">\(r\)</span>当做未知数，而把其他变量，特别是 <span class="math inline">\(P\)</span>当作参数来对这两个方程联立求解，则所求得的 <spanclass="math inline">\(Y\)</span> 的解式一般包含 <spanclass="math inline">\(P\)</span> 这一变量。该解式表示了不同价格 <spanclass="math inline">\(P\)</span> 与不同的总需求量 <spanclass="math inline">\(Y\)</span> 之间的函数关系，即总需求函数。</p><h2 id="三总需求曲线的推导">（三）总需求曲线的推导</h2><p>　　总需求曲线可以由 <span class="math inline">\(IS-LM\)</span>图推导。如下图所示，上图是 <span class="math inline">\(IS-LM\)</span>图形，下图是总需求曲线的图形。当价格水平从 <spanclass="math inline">\(P_1\)</span> 下降到 <spanclass="math inline">\(P_2\)</span>时，减少了货币需求，又由于名义货币供给未变，因而 <spanclass="math inline">\(LM\)</span> 曲线向右下方移动，即从 <spanclass="math inline">\(LM(P_1)\)</span> 移动到 <spanclass="math inline">\(LM(P_2)\)</span>。这使得利率下降，即从 <spanclass="math inline">\(r_1\)</span> 下降到 <spanclass="math inline">\(r_2\)</span>。利率下降使投资增加，国民收入水平上升，即从<span class="math inline">\(Y_1\)</span> 增加到 <spanclass="math inline">\(Y_2\)</span>。总之，较低的价格通过增加实际货币供给而使<span class="math inline">\(GDP\)</span>增加。这样，不同的价格水平和不同的收入水平的组合点相连，便构成了总需求曲线<span class="math inline">\(AD\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514112936-esfie3k.png" style="height:500px" alt="AD 曲线的推导" /></p><p>　　需要注意的是，价格水平变动不影响 <spanclass="math inline">\(IS\)</span> 曲线的位置，这是因为已经假定 <spanclass="math inline">\(IS\)</span> 曲线表示消除价格因素后的曲线。</p><h2 id="四总需求曲线的斜率">（四）总需求曲线的斜率</h2><h3 id="负斜率的解释">1. 负斜率的解释</h3><p>　　从总需求函数和总需求曲线可知，总需求曲线表示国民收入与价格水平之间反向变动的关系，其斜率为负，曲线向右下方倾斜。这表明在产品市场和货币市场同时均衡时，价格水平越高，国民收入越低；价格水平越低，国民收入越高。这可以用以下三种原理进行解释：</p><p>　　以下三种效应共同作用，如果国内物价总水平上升，必然导致国内总支出水平下降，总需求曲线向右下方倾斜。</p><h4 id="利率效应凯恩斯利率效应">1.1 利率效应（凯恩斯利率效应）</h4><p>　　价格总水平变动引起利率同方向变动，进而使投资和产出水平成反方向变动的情况，称为利率效应。如果货币供给没有变化，那么当价格上升使货币需求增加时，利率就会上升。利率上升，使投资水平下降，因而总支出水平和收入水平下降。</p><p>　　其传导路径为：<spanclass="math inline">\(P\uparrow  \Longrightarrow m=\frac M P\downarrow  \Longrightarrow r \uparrow   \Longrightarrow  I\downarrow  \Longrightarrow  AD \downarrow \Longrightarrow  Y\downarrow\)</span></p><h4 id="实际余额效应庇古的财富效应">1.2实际余额效应（庇古的财富效应）</h4><p>　　价格水平上升，使人们所持有的货币及其他以货币衡量的具有固定价值的资产的实际价值降低，人们会变得相对贫穷，于是人们的消费水平就相应地减少，这种效应称为实际余额效应。</p><p>　　价格水平上升，会使人们的名义收入增加，名义收入增加会使人们进入更高的纳税档次，从而使人们的税负增加，可支配收入下降，进而使人们的消费水平下降。消费水平的下降最终将会使总支出水平和收入水平下降。</p><p>　　其传导路径为：<spanclass="math inline">\(P\uparrow  \Longrightarrow 货币购买力\downarrow  \Longrightarrow W \downarrow   \Longrightarrow C\downarrow  \Longrightarrow  AD \downarrow \Longrightarrow  Y\downarrow\)</span></p><h4 id="蒙代尔弗莱明的汇率效应">1.3 蒙代尔—弗莱明的汇率效应</h4><p>　　价格变动，导致本币升值或贬值，引起汇率变化，从而影响进出口。</p><ul><li>一是物价总水平上升会使进口增加，出口减少，因为国内价格总水平上升后，相比之下本国公民购买外国货比较合算，因而进口增加，同时由于本国货币涨价后外国公民购买本国货将减少，因此出口将减少。进口增加而出口减少，使净出口减少，就会使总需求水平下降。</li><li>二是物价总水平上升以后，本国生产成本上升，如果这时外国物价未涨，则到外国投资显然比较合算（因为成本比较低），因而到外国投资增加，国内投资减少，这也会降低国内总需求水平。</li></ul><p>　　其传导路径为：<spanclass="math inline">\(P\uparrow  \Longrightarrow NX\downarrow    \Longrightarrow  AD \downarrow \Longrightarrow  Y\downarrow\)</span></p><h3 id="斜率的决定因素">2. 斜率的决定因素</h3><p>　　总需求曲线的斜率受 <span class="math inline">\(IS\)</span>曲线斜率和 <span class="math inline">\(LM\)</span> 曲线斜率的影响，影响<span class="math inline">\(IS\)</span> 曲线和 <spanclass="math inline">\(LM﻿\)</span>曲线斜率的因素同样影响总需求曲线的斜率。</p><ul><li><span class="math inline">\(IS\)</span> 曲线斜率对 <spanclass="math inline">\(AD\)</span> 曲线斜率的影响：正相关。</li><li><span class="math inline">\(LM\)</span> 曲线斜率对 <spanclass="math inline">\(AD\)</span> 曲线斜率的影响：负相关。</li></ul><h2 id="五总需求曲线的移动">（五）总需求曲线的移动</h2><p>　　（传送门：<u>IS 曲线移动</u>、<u>LM曲线移动</u>）</p><p>　　政府采取扩张性财政政策或扩张性货币政策，都会使 <spanclass="math inline">\(AD\)</span>曲线向右方移动；反之，则向左方移动。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514115435-mmz3yj7.png" style="height:500px" alt="AD 曲线的移动" /></p><h3 id="财政政策与总需求曲线的移动">1. 财政政策与总需求曲线的移动</h3><p>　　<strong>原理：</strong> <span class="math inline">\(财政政策\Longrightarrow IS\ 曲线移动 \Longrightarrow AD \ 曲线移动\)</span></p><p>　　财政政策并不直接影响货币市场的均衡，从而也就不影响 LM曲线的位置，但财政政策直接影响产品市场的均衡，从而影响着 IS曲线的位置。这样，财政政策便能通过对 IS曲线位置的影响而影响总需求曲线的位置。政府实行扩张性财政政策，如增加政府购买、降低税收、降低资本税负等，会直接增加总需求，此时总需求曲线就会向右移动；政府实行紧缩性财政政策，如缩减政府开支、提高税收等政策，会直接减少总需求，此时总需求曲线就会向左移动。</p><h3 id="货币政策与总需求曲线的移动">2. 货币政策与总需求曲线的移动</h3><p>　　<strong>原理：</strong> <span class="math inline">\(货币政策\Longrightarrow LM\ 曲线移动 \Longrightarrow AD \ 曲线移动\)</span></p><p>　　货币政策并不直接影响产品市场的均衡，从而也就不影响 IS曲线的位置，但货币政策直接影响货币市场的均衡，从而影响着 LM曲线的位置。这样，货币政策便能通过对 LM曲线位置的影响而影响总需求曲线的位置。政府实行扩张性货币政策时，如扩大名义货币供给量、降低名义利率等，市场的实际利率水平就会下降，导致投资需求增加，总需求曲线将向右移动；实行紧缩性货币政策的效果正相反，如降低名义货币供给量将会使总需求曲线向左移动。</p><h1 id="二总供给as">二、总供给（AS）</h1><h2 id="一总供给和总供给函数">（一）总供给和总供给函数</h2><p>　　总供给是经济社会所提供的总产量（或国民收入），即经济社会投入的基本资源所生产的产量，它由一个国家的生产要素和技术水平所决定。</p><p>　　总供给函数表示总产量与一般价格水平之间的关系。价格水平影响总产量的基本过程为：</p><ul><li>首先，在名义工资不变时，价格水平的变化影响实际工资；</li><li>其次，在其他条件不变时，实际工资通过劳动市场影响就业量；</li><li>最后，就业量的变化影响总产量。</li></ul><h2 id="二宏观生产函数">（二）宏观生产函数</h2><p>　　宏观经济学中一般用宏观生产函数来表示产出与劳动和资本等之间的关系。宏观生产函数可表示为：</p><p><span class="math display">\[\begin {align}y=f(N, K)\end {align}\]</span></p><p>　　其中，<span class="math inline">\(y\)</span> 为总产出；<spanclass="math inline">\(N\)</span> 为整个社会的就业水平或者就业量；<spanclass="math inline">\(K\)</span> 为整个社会的资本存量。</p><h3 id="短期宏观生产函数">1. 短期宏观生产函数</h3><p>　　在短期宏观生产函数中，由于资本存量和技术水平在短期内不可能有较大的改变，所以二者被认为是不变的常数，短期宏观生产函数可表示为：</p><p><span class="math display">\[\begin {align}y=f(N, \overline K)\end {align}\]</span></p><p>　　短期宏观生产函数表示，在一定的技术水平和资本存量条件下，经济社会生产的产出<span class="math inline">\(y\)</span> 取决于就业量 <spanclass="math inline">\(N\)</span>，即总产量是经济中就业量的函数，随总就业量的变化而变化。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514120231-cxyt0ag.png" style="width:350px" alt="短期宏观生产函数" /></p><p>　　宏观经济学假定宏观生产函数有两条重要性质：</p><ul><li>总产出随总就业量的增加而增加；</li><li>二是由于“边际报酬递减规律”的作用，随着总就业量的增加，总产出按递减的比率增加。</li></ul><h3 id="长期宏观生产函数">2. 长期宏观生产函数</h3><p>　　在长期宏观生产函数中，包括生产函数中的三个主要自变量在内的一切自变量都可以改变。首先，技术水平可以有很大进步，因为存在着足够的改善技术的时间。其次，人口的增长能够影响充分就业的劳动者的数量。最后，资本的存量也会随着积累的增加有着很大的变化。这样，长期生产函数可以用下式表示出来：</p><p><span class="math display">\[\begin {align}y^*=f(N^*, \overline K^*)\end {align}\]</span></p><p>　　式中，$N^* $ 为各个短期中的充分就业量；$K^* $为各期的资本存量；技术水平的变化没有被明确表示出来；$y^* $为各期的充分就业时的产量，也被称为潜在产量。</p><h2 id="三劳动市场">（三）劳动市场</h2><p>　　总供给由总就业水平决定，而总就业水平又由劳动市场的均衡决定。在价格和工资具有完全伸缩性的完全竞争的经济中，劳动市场的均衡条件是：<spanclass="math inline">\(N_d=N_s\)</span>。而 <spanclass="math inline">\(N_d=N_d(\frac W P)\)</span>，其中 <spanclass="math inline">\(\frac W P\)</span> 为实际工资，<spanclass="math inline">\(N_d\)</span> 与 <span class="math inline">\(\fracW P\)</span> 成反向变动关系，即劳动需求函数向右下方倾斜；<spanclass="math inline">\(N_s=N_s(\frac W P)\)</span>，劳动供给函数为 <spanclass="math inline">\(\frac W P\)</span> 的增函数。</p><p>　　在价格和工资具有完全伸缩性的完全竞争的经济中，劳动市场的均衡一方面决定了均衡的实际工资，另一方面决定了均衡的就业量。</p><p>　　在有伸缩性的工资和价格下，实际工资调整到劳动供求相等的水平，从而使劳动市场处于均衡的状态，在宏观经济学中被称为充分就业的状态。在任一时点上，资本存量K 都是由以往的投资决策所决定的。将就业水平 <spanclass="math inline">\(N\)</span> 和既定的资本存量 <spanclass="math inline">\(\overline K\)</span> 代入到短期总量生产函数 <spanclass="math inline">\(y=f(N, \overline K)\)</span>就立刻得出产量水平。这表明：劳动市场在经济的总供给方面处于主导地位，因为它决定经济的总供给或产量。在工资和价格具有完全伸缩性的情况下，经济中的产量始终等于充分就业时的产量或潜在产量。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514120300-dedr1fi.png" style="width:350px" alt="劳动市场均衡" /></p><p>　　上面的分析基于劳动市场处于价格和工资具有完全伸缩性（弹性）的完全竞争经济中，即实际工资的快速调整能实现劳动力市场的均衡和充分就业。但是，短期内，当价格和货币工资（名义工资）具有黏性时，实际工资不会迅速下降，市场机制不能自动实现充分就业，经济生活中存在失业。</p><h2 id="四总供给曲线的类型">（四）总供给曲线的类型</h2><h3 id="古典总供给曲线长期总供给曲线">1.古典总供给曲线（长期总供给曲线）</h3><h4 id="假设条件">1.1 假设条件</h4><p>　　<strong>假设条件</strong>：长期内，货币工资具有完全的伸缩性，也即货币工资随着劳动市场劳动供求关系的变化而变化，当劳动市场供过于求时，货币工资下降，反之则上升。</p><p>　　古典主义经济理论强调市场机制的作用，认为市场的自动调整能够实现均衡和充分就业。当劳动市场总是处于充分就业的均衡状态时，不存在为生产额外产量而可供利用的额外劳动力，由总生产函数决定的总产量不变，为潜在的国民收入，也是充分就业时的国民收入，此时，即使产品价格上涨也不可能生产出比现有产量更多的产品。</p><h4 id="古典总供给曲线为一条垂直线">1.2 古典总供给曲线为一条垂直线</h4><p>　　如图所示，由于实际工资具有伸缩性，这保证了劳动市场的出清。价格水平的变化不改变实际工资，从而对劳动市场不会造成影响，产出仍然处于充分就业产出水平，对应的长期总供给曲线为位于充分就业产出水平的垂直线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514121205-wpxzbo9.png" style="width:600px" alt="古典总供给曲线" /></p><h4 id="理论依据">1.3 理论依据</h4><p>　　货币工资 <span class="math inline">\(W\)</span> 和价格水平 <spanclass="math inline">\(P\)</span> 可以迅速或自动调节，使得实际工资 <spanclass="math inline">\(W/P\)</span>总处于充分就业所应有的水平，从而使产量也总处于充分就业水平，不受价格的影响。</p><p>　　古典学派一般研究经济事物的长期状态，而在长期中，即使 <spanclass="math inline">\(W\)</span> 和 <spanclass="math inline">\(P\)</span>不能迅速调整，也具有充分的时间来进行调整，实际工资 <spanclass="math inline">\(W/P\)</span> 最终将达到充分就业水平。</p><h4 id="政策含义">1.4 政策含义</h4><p>　　垂直的古典总供给曲线表明，在长期中，经济的产出主要由充分就业的劳动力数量所决定，从而独立于价格水平。因此，增加需求的政策并不能改变产量，而只能造成物价上涨，甚至通货膨胀。</p><h3 id="凯恩斯总供给曲线">2. 凯恩斯总供给曲线</h3><h4 id="假设条件-1">2.1 假设条件</h4><p>　　简单的凯恩斯模型假定在短期内价格是刚性的，在经济萧条时期，厂商的产量调整先于价格调整，价格水平不随总需求的减少而下降。此时，经济处于非充分就业状态，存在闲置的生产能力。由于存在失业，厂商可以在现行工资条件下雇佣他们需要的任意数量的劳动力，这使厂商生产成本不随产量的变化而变化。这样，在现行价格条件下，厂商愿意供应任意被需求的数量，凯恩斯总供给曲线是一条水平线。</p><p>　　进一步地，货币工资具有刚性，即货币工资并不像古典理论所认为的那样随劳动供求关系的变动而变化。工资刚性指工资能升不能降的特性。凯恩斯认为，当市场的工资低于均衡工资时，工资有上升的趋势；而当市场工资高于均衡工资时，由于工资契约和工会组织的抵抗，会使工资居高不下。</p><h4 id="凯恩斯总供给曲线是一条水平线">2.2凯恩斯总供给曲线是一条水平线</h4><p>　　在经济萧条时期，均衡国民收入不再由劳动市场上均衡的就业量所决定，而是由有效需求决定，并且由有效需求决定的均衡国民收入反过来决定就业量。如下图所示，短期内，价格水平<span class="math inline">\(P_0\)</span> 和货币工资 <spanclass="math inline">\(W_0\)</span> 固定不变，这使得实际工资 <spanclass="math inline">\(W_0/P_0\)</span>固定不变。由于存在大规模的失业，故劳动供给曲线为水平线 <spanclass="math inline">\(N_s\)</span>。当价格水平为 <spanclass="math inline">\(P_0\)</span>，实际工资为 <spanclass="math inline">\(W_0/P_0\)</span>，且劳动需求曲线为 <spanclass="math inline">\(N_d\)</span> 时，就业量为 <spanclass="math inline">\(N_0\)</span>，由总产量曲线决定均衡国民收入为 <spanclass="math inline">\(Y_0\)</span>，获得总供给量 <spanclass="math inline">\(Y_0\)</span>、价格水平 <spanclass="math inline">\(P_0\)</span> 的组合点 <spanclass="math inline">\(A\)</span>。同样，当劳动需求曲线为 <spanclass="math inline">\(N&#39;_d\)</span> 时，就业量为 <spanclass="math inline">\(N_1\)</span>，由总产量曲线决定均衡国民收入为 <spanclass="math inline">\(Y_1\)</span>，获得总供给量 <spanclass="math inline">\(Y_1\)</span>、价格水平 <spanclass="math inline">\(P_0\)</span> 的组合点 <spanclass="math inline">\(B\)</span>。把 <spanclass="math inline">\(A\)</span>、<span class="math inline">\(B\)</span>等类似组合点连接起来就得到凯恩斯总供给曲线。可以发现，凯恩斯总供给曲线是水平的。其含义是：在经济达到充分就业以前，社会能以不变的价格水平提供任何数量的国民收入。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514121406-wj6y77r.png" style="width:500px" alt="凯恩斯总供给曲线的推导" /></p><h4 id="凯恩斯总供给曲线的政策含义">2.3 凯恩斯总供给曲线的政策含义</h4><p>　　只要国民收入或产量处在小于充分就业时的水平，那么国家就可以通过使用增加需求的政策来使经济达到充分就业状态。</p><h3 id="常规总供给曲线">3. 常规总供给曲线</h3><h4 id="图形">3.1 图形</h4><p>　　学者认为，在通常的或常规的情况下，短期总供给曲线位于上述两个极端之间，如下图的<span class="math inline">\(CC\)</span> 线所示。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514121903-d9kqvo1.png" style="height:300px" alt="常规总供给曲线" /></p><p>　　左下方的 <span class="math inline">\(C\)</span>点代表较为严重的萧条状态；由于这种状态存在着大量的失业和闲置的生产能力，当产量或国民收入<span class="math inline">\(y\)</span> 增加时，<spanclass="math inline">\(P\)</span>会稍有上升，但上升的速度不会很快。左下方的 <spanclass="math inline">\(C\)</span> 点沿着 <spanclass="math inline">\(CC\)</span>向右上方行进，产量和国民收入逐渐上升，随着经济的好转，<spanclass="math inline">\(P\)</span> 的上升越来越快，一直到代表充分就业的<span class="math inline">\(E\)</span>点。这时，由于充分就业并不意味着整个社会的全部资源和有劳动能力的人口均已就业，所以仍然存在着难以利用的资源和能力较差的劳动者，因此，在<span class="math inline">\(E\)</span>点之后，如果产量还要增加，那么，<span class="math inline">\(P\)</span>的上升还要加快，从而 <span class="math inline">\(CC\)</span>的斜率将明显加大。这种形状的总供给曲线可以代表经济的常规状态。</p><h4 id="推导">3.2 推导</h4><p>　　常规总供给曲线向右上方倾斜，其斜率为正。</p><p>　　黏性价格模型强调了企业不能迅速地根据需求变动调整它们索取的价格。由于长期合约，或调整成本过高，企业不能及时调整价格，对应的总供给曲线向上方倾斜。</p><p>　　企业合意的价格 <span class="math inline">\(p\)</span>取决于两个宏观经济变量：</p><ul><li>物价总水平 <spanclass="math inline">\(P\)</span>。物价总水平越高，企业定价越高；</li><li>总收入水平 <spanclass="math inline">\(Y\)</span>。总收入越高，需求越大，企业定价越高。</li></ul><p>　　因此，企业的合意价格表示为：</p><p>　　<span class="math inline">\(p=P+a(y-y_f)\)</span></p><p>　　即企业合意的价格取决于价格水平 P 和相对于自然水平的总产出水平<span class="math inline">\((y-y_f)\)</span>。</p><p>　　假设有两种类型的企业，一些企业的价格有伸缩性，另一些企业的价格是黏性的，它们根据预期的经济状况事先确定自己的价格。</p><p>　　价格黏性企业的定价公式为：<span class="math inline">\(p=E(P)+a\big [E(y)-E(y_f)  \big ]\)</span>，式中，<span class="math inline">\(E(\ ·)\)</span>代表一个变量的预期值。假设企业预期产出处于其自然率水平，从而 <spanclass="math inline">\(a \big [E(y)-E(y_f)  \big]=0\)</span>，那么，该类企业的定价公式为：<spanclass="math inline">\(p=E(P)\)</span>，即具有价格黏性的企业根据自己对其他企业收取价格的预期设定自己的价格。</p><p>　　如果 <span class="math inline">\(b\)</span>是具有黏性价格的企业所占的比例，<spanclass="math inline">\((1-b)\)</span>是具有弹性价格的企业所占的比例，则价格总水平可表示为：</p><p><span class="math display">\[\begin {align}P=bE(P)+(1-b) \big [P+a(y-y_f) \big ]\end {align}\]</span></p><p>　　整理得：</p><p><span class="math display">\[\begin {align}y=y_f+λ \big [P-E(P) \big ]\end {align}\]</span></p><p>　　式中，<span class="math inline">\(\lambda = \frac b{(1-b)a}\)</span>。上式即为常规总供给曲线的方程。</p><h4 id="导致短期总供给曲线移动的因素">3.3导致短期总供给曲线移动的因素</h4><ul><li><p><strong>可得到的劳动量：</strong></p><ul><li>可得到的劳动量增加使短期总供给曲线向右移动；</li><li>而可得到的劳动量减少使短期总供给曲线向左移动。</li></ul></li><li><p><strong>物质资本或人力资本</strong>（指人们通过教育、培训和经验获得的知识与技能）：</p><ul><li>物质资本或人力资本增加使短期总供给曲线向右移动；</li><li>而物质资本或人力资本减少使短期总供给曲线向左移动。</li></ul></li><li><p><strong>自然资源可获得性：</strong></p><ul><li>自然资源可获得性的增加使短期总供给曲线向右移动；</li><li>而自然资源可获得性的减少使短期总供给曲线向左移动。</li></ul></li><li><p><strong>技术知识进步：</strong></p><ul><li>技术知识进步使短期总供给曲线向右移动；</li><li>可得到的技术减少使短期总供给曲线向左移动。</li></ul></li></ul><h3 id="三种总供给情形的区别">4. 三种总供给情形的区别</h3><p>　　总供给曲线的理论主要由总量生产函数和劳动力市场理论来反映，而在劳动力市场理论中，经济学家对工资和价格变化的调整速度的看法是有分歧的。</p><p>　　<strong>古典总供给曲线：货币工资W﻿与价格水平具有完全弹性</strong>，可以迅速自动调节。</p><p>　　劳动力市场运行没有摩擦，在工资和价格可以灵活变动的情况下，劳动力市场得以出清，使经济的就业总能维持充分就业状态，从而在其他因素不变的情况下，经济的产量总能保持在充分就业的产量或潜在产量水平上。</p><p>　　因此，在以价格为纵坐标、总产量为横坐标的坐标系中，古典总供给曲线是一条位于充分就业产量水平的垂直线。</p><p>　　<strong>凯恩斯总供给曲线：价格刚性（特别是工资能涨不能跌）。</strong></p><p>　　在短期，一些价格是刚性的，从而不能根据需求的变动来调整。由于工资和价格刚性，短期总供给曲线不是垂直的。凯恩斯总供给曲线在以价格为纵坐标、收入为横坐标的坐标系中是一条水平线，表明经济中的厂商在现有价格水平上，愿意供给所需的任何数量的商品。凯恩斯总供给曲线基础的思想是，作为工资和价格刚性的结果，劳动力市场不能总维持在充分就业状态。由于存在失业，厂商可以在现行工资下获得所需的劳动，因而他们的平均生产成本被认为是不随产出水平变化而变化的。</p><p>　　<strong>常规总供给曲线：价格黏性</strong>，企业不能迅速地根据需求变动迅速调整价格。</p><p>　　古典的总供给曲线和凯恩斯的总供给曲线分别代表着关于劳动力市场的两种极端的说法。在现实中，工资和价格的调整经常介于两者之间。在这种情况下，在以价格为纵坐标、总产量为横坐标的坐标系中，总供给曲线是向右上方延伸的，这即为常规的总供给曲线。</p><h1 id="四宏观政策效果ad-as-分析">四、宏观政策效果：AD-AS 分析</h1><h2id="一均衡价格水平总产量就业量的决定">（一）均衡价格水平、总产量、就业量的决定</h2><p>　　总供给曲线和总需求曲线合并到一个坐标中就得到了总需求—总供给模型，其交点表示劳动力市场、产品市场和货币市场同时均衡时的价格水平、总产量以及就业量。</p><p>　　在短期中，<ahref="https://fgzfgz.github.io/posts/44205/">宏观经济政策目标</a>是充分就业和物价稳定，即：不存在非自愿失业，同时，物价保持稳定。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514123341-8ry2jmb.png" style="height:250px" alt="均衡价格水平、总产量、就业量的决定" /></p><p>　　如图所示，当 <span class="math inline">\(AD\)</span> 曲线和 <spanclass="math inline">\(AS\)</span> 曲线相交于 <spanclass="math inline">\(E_0\)</span> 点时，产量 <spanclass="math inline">\(y\)</span> 处于充分就业的水平 <spanclass="math inline">\(y_f\)</span>，价格为 <spanclass="math inline">\(P_0\)</span>，此时的 <spanclass="math inline">\(P\)</span> 既不会上升、也不会下降。<spanclass="math inline">\(E_0\)</span>点表示宏观经济管理的短期目标，即充分就业和价格稳定。</p><h2 id="二ad-曲线移动的后果">（二）AD 曲线移动的后果</h2><p>　　如下图所示，在某一时期，<span class="math inline">\(AD_0\)</span>和 <span class="math inline">\(AS\)</span> 相交于代表充分就业的 <spanclass="math inline">\(E_0\)</span> 点。<spanclass="math inline">\(E_0\)</span> 点的产量为 <spanclass="math inline">\(y_f\)</span>，价格水平为 <spanclass="math inline">\(P_0\)</span>。这时，由于总需求减少，<spanclass="math inline">\(AD_0\)</span> 向左移动到 <spanclass="math inline">\(AD_1\)</span> 的位置，这样，<spanclass="math inline">\(AD_1\)</span> 和 <spanclass="math inline">\(AS\)</span> 相交于 <spanclass="math inline">\(E_1\)</span>点。这表明，经济社会处于萧条状态，其产量和价格分别为 <spanclass="math inline">\(y_1\)</span> 和 <spanclass="math inline">\(P_1\)</span>，二者均低于充分就业的数值。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514123553-e40xzgk.png" style="height:250px" alt="总需求曲线移动的后果" /></p><p>　　<strong>注意：</strong>在经济社会处于萧条状态时，越是偏离充分就业水平，价格下降的比例就越要小于产量下降的比例；在经济过热状态下，越是偏离充分就业水平时，价格上升的比例就越要高于产量上升的比例。</p><h3 id="古典情形">1. 古典情形</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514124125-q5k39eg.png" style="width:300px" alt="古典情形下总需求曲线的移动" /></p><p>　　如图所示，由于已经实现充分就业，总供给不能再增加，增加总需求只会影响价格水平，而不能影响国民收入。</p><h3 id="凯恩斯极端情形">2. 凯恩斯极端情形</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514124210-loagm6n.png" style="height:250px" alt="极端凯恩斯主义总需求曲线的移动" /></p><p>　　如图所示，采取扩张性财政政策，或者采取扩张性货币政策，或者同时实施扩张性财政政策和扩张性货币政策，总需求曲线右移，使产量增加，失业率下降。</p><h3 id="中间区域">3. 中间区域</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514124324-apc7pdp.png" style="width:550px" alt="短期总供给曲线一般情形下总需求曲线的移动" /></p><p>　　如图所示，采取扩张性财政政策，或者采取扩张性货币政策，或者同时实施扩张性财政政策和扩张性货币政策，总需求曲线右移，使产量增加，失业率下降。</p><h2 id="三总供给曲线移动的后果">（三）总供给曲线移动的后果</h2><p>　　如图所示，<span class="math inline">\(AD\)</span> 和 <spanclass="math inline">\(AS_0\)</span> 相交于充分就业的 <spanclass="math inline">\(E_0\)</span> 点。这时的产量和价格水平顺次为 <spanclass="math inline">\(y_f\)</span> 和 <spanclass="math inline">\(P_0\)</span>。如果由于某种原因，如大面积的粮食歉收、石油供给的紧缺或原料价格猛涨等，<spanclass="math inline">\(AS\)</span> 曲线由 <spanclass="math inline">\(AS_0\)</span> 向左移动到 <spanclass="math inline">\(AS_1\)</span>，使 <spanclass="math inline">\(AD\)</span> 与 <spanclass="math inline">\(AS_1\)</span> 相交于 <spanclass="math inline">\(E_1\)</span> 点，那么，<spanclass="math inline">\(E_1\)</span>点可以表示滞胀的状态，其产量和价格水平顺次为 <spanclass="math inline">\(y_1\)</span> 和 <spanclass="math inline">\(P_1\)</span>，即表示失业和通货膨胀的并存。进一步说，<spanclass="math inline">\(AS_1\)</span> 向左偏离 <spanclass="math inline">\(AS_0\)</span>的程度越大，失业和通货膨胀会越为严重。当生产技术的突然提高使 <spanclass="math inline">\(AS\)</span> 由 <spanclass="math inline">\(AS_0\)</span>向右移动时，产量增加，而价格水平则会下降。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514124609-dazs162.png" style="height:250px" alt="总供给曲线移动的后果" /></p><p>　　<strong>AS 曲线移动与“滞胀”：</strong></p><p>　　如果总需求曲线和长期总供给曲线不变，短期总供给曲线发生移动。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514124732-ijqaiyu.png" style="width:350px" alt="经济滞胀分析" /></p><p>　　当经济处于滞胀状态时，需求管理政策无效。</p><ul><li>如果实施扩张性的政策，经济能得到恢复，但是物价水平持续走高；</li><li>如果实施紧缩性的政策，物价水平下降，但经济出现衰退。</li></ul><p>　　此时，应当使用供给管理政策。</p><h2 id="四经济萧条过热与滞胀">（四）经济萧条、过热与滞胀</h2><p>　　如图所示，<span class="math inline">\(AD\)</span>是总需求曲线，<span class="math inline">\(AS_S\)</span>是短期总供给曲线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220514130509-gc67dle.png" style="width:600px" alt="经济萧条、过热与滞胀" /></p><p>　　<strong>经济萧条：</strong>总需求曲线 <spanclass="math inline">\(AD\)</span> 和短期总供给曲线 <spanclass="math inline">\(AS_S\)</span> 的交点 E 决定的产量或收入为 <spanclass="math inline">\(y\)</span>，价格水平为 <spanclass="math inline">\(P\)</span>，二者都处于很低的水平，此种情况表示经济处于萧条状态。</p><p>　　<strong>经济过热：</strong>当总需求增加，<spanclass="math inline">\(AD\)</span> 向右移动到 <spanclass="math inline">\(AD&#39;\)</span>，短期总供给曲线 <spanclass="math inline">\(AS_S\)</span> 和新的总需求曲线 <spanclass="math inline">\(AD&#39;\)</span> 的交点 <spanclass="math inline">\(E&#39;\)</span> 决定的产量或收入为 <spanclass="math inline">\(y&#39;\)</span>，价格水平为 <spanclass="math inline">\(P&#39;\)</span>，二者都处于很高的水平，此种情况表示经济处于高涨（或过热）状态。</p><p>　　<strong>经济滞胀：</strong>总需求不变，仍为 <spanclass="math inline">\(AD\)</span>，而短期总供给曲线 <spanclass="math inline">\(AS_S\)</span>由于供给冲击（如石油价格和工资等提高）向左移动到 <spanclass="math inline">\(AS_S&#39;\)</span>，总需求曲线 <spanclass="math inline">\(AD\)</span> 和新的短期总供给曲线 <spanclass="math inline">\(AS_S&#39;\)</span> 的交点 <spanclass="math inline">\(E&#39;\)</span> 决定的产量或收入为 <spanclass="math inline">\(y&#39;\)</span>，价格水平为 <spanclass="math inline">\(P&#39;\)</span>，这个产量低于原来的产量，但价格却高于原来的价格水平，此种情况表示经济处于滞胀状态，即经济停滞和通货膨胀同时存在的状态。</p><h2 id="四ad-曲线与-as-曲线的影响因素">（四）AD 曲线与 AS曲线的影响因素</h2><h3 id="ad-曲线影响因素">1. AD 曲线影响因素</h3><p>　　在给定的价格水平上，任何使总支出曲线向上或向下移动的因素，都会使总需求曲线移动。这些因素主要有：</p><ul><li>消费需求尤其是消费者对耐用品购买的变化；</li><li>投资需求的变化；</li><li>政府支出和税收的变化；</li><li>净出口的变化。</li></ul><p>　　导致总需求曲线变动的主要因素具体表现为：</p><ul><li><strong>预期。</strong>对未来收入、通货膨胀和利润的预期都能影响到今天的支出或者购买计划。预期收入的增加会增加人们今天计划购买的消费品数量，并增加总需求。预期未来通货膨胀上升增加总需求是因为人们决定在今天较低的物价时多购买产品与劳务；</li><li><strong>财政政策和货币政策。</strong>政府通过税收和转移支付、政府购买等财政政策手段来影响经济。政府也可以通过增加货币供给或者减少货币供给来调整总需求；</li><li><strong>世界经济。</strong>影响总需求的两个主要世界经济因素是汇率和国外收入。在其他条件不变的情况下，汇率上升减少了总需求。国外收入的增加也增加了本国的出口，从而增加了本国的总需求。</li></ul><h3 id="as-曲线影响因素">2. AS 曲线影响因素</h3><p>　　促使总供给曲线移动的主要因素大致有：</p><ul><li><strong>天灾人祸。</strong>严重的自然灾害或战争会减少经济中资本数量，从而使任一数量的劳动能够生产的产量减少了，于是总供给曲线会左移；</li><li><strong>技术变化。</strong>例如，技术进步会使既定的资源生产出更多的产量，从而使总供给曲线右移；</li><li><strong>风险承担意愿的变化。</strong>如果经济生活中风险增加，厂商愿意供给的数量会减少，从而总供给曲线会左移；</li><li><strong>进口商品价格变化。</strong>如进口商品价格上升，那么厂商生产成本上升，厂商在原有产品价格水平上生产减少，从而使总供给曲线左移；</li><li><strong>劳动意愿的变化。</strong>如果人们变得更偏好闲暇，那么在既定工资水平上劳动供给会减少，从而使总供给曲线左移。</li></ul><h1 id="五ad-as-模型的数学小结">五、AD-AS 模型的数学小结</h1><p>　　对总需求和总供给曲线的研究涉及了三个市场和一个总量函数，即产品市场、货币市场、劳动市场和总量生产函数。</p><h2 id="一短期分析">（一）短期分析</h2><p>　　在短期，存在着四个方程，即：</p><p>　　产品市场均衡条件：<spanclass="math inline">\(Y=C(Y-T)+I(r)+G\)</span></p><p>　　货币市场均衡条件：<span class="math inline">\(\frac M p=L_1+L_2=kY-hr\)</span></p><p>　　劳动市场均衡条件：<span class="math inline">\(N_s(\overlineW/P)=N_d(\overline W/P)\)</span></p><p>　　总量生产函数：<span class="math inline">\(Y=Y(N, K)\)</span></p><p>　　从上面四个方程可以确定 <spanclass="math inline">\(Y\)</span>、<spanclass="math inline">\(N\)</span>、<span class="math inline">\(r\)</span>和 <span class="math inline">\(P\)</span>。</p><h2 id="二长期分析">（二）长期分析</h2><p>　　在长期，也存在着四个方程，即：</p><p>　　产品市场均衡条件：<spanclass="math inline">\(Y=C(Y-T)+I(r)+G\)</span></p><p>　　货币市场均衡条件：<span class="math inline">\(\frac M p=L_1+L_2=kY-hr\)</span></p><p>　　劳动市场均衡条件：<spanclass="math inline">\(N_s(W/P)=N_d(W/P)\)</span></p><p>　　总量生产函数：<span class="math inline">\(Y=Y(N, K)\)</span></p><p>　　从上面四个方程可以确定 <spanclass="math inline">\(Y\)</span>、<spanclass="math inline">\(N\)</span>、<span class="math inline">\(r\)</span>和 <span class="math inline">\(P\)</span>。</p><p>　　‍</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>宏观｜第3章：国民收入的决定：IS-LM 模型</title>
      <link href="/posts/36311/"/>
      <url>/posts/36311/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/44205/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><p>　　<ahref="https://fgzfgz.github.io/posts/22815/">上一章</a>的分析是古典式的“两分法”，只涉及产品市场均衡，没有涉及货币市场。凯恩斯经济学的一个重要特点就是突破古典式的“两分法”，认为产品市场和货币市场是相互联系的，货币对经济非中性，提倡将货币问题与实际经济活动结合起来。</p><p>　　本章的 <span class="math inline">\(IS-LM\)</span>模型，在上一章的基础上放开了<strong>“利率外生（不变）”的假设</strong>，进一步讨论产品市场与货币市场之间的关系。</p><p>　　产品市场和货币市场的关系如下：产品市场总产出增加，货币需求增加，如果货币供给不变，利率上升，进而影响投资支出。凯恩斯经济学的重要特征就是认为产品市场和货币市场不是相互独立的，即货币对经济非中性。</p><h1 id="一投资的决定">一、投资的决定</h1><p>　　经济学中所讲的投资，是指资本的形成，即社会实际资本的增加，包括厂房、设备和存货的增加，新住宅的建设等，其中主要是厂房、设备的增加。购买证券、土地和其他财产等只能视为资产权的转移。决定投资的因素有很多，主要的因素有实际利率水平、预期收益率和投资风险等。</p><h2 id="一实际利率与投资">（一）实际利率与投资</h2><p>　　在决定投资量的诸因素中，实际利率是首要因素。实际利率大致上等于名义利率减通货膨胀率。在投资的预期利润率既定时，企业是否进行投资，首先就决定于实际利率的高低。利率上升时，投资需求量就会减少；利率下降时，投资需求量就会增加。总之，投资是利率的减函数。投资与利率之间的这种反方向变动关系称为投资函数，可写作：<spanclass="math inline">\(i=i(r)\)</span>。</p><h2 id="二投资函数">（二）投资函数</h2><p>　　凯恩斯认为，在决定投资的诸因素中，实际利率是首要因素。投资与利率之间存在反方向变动关系，投资函数可写成：</p><p><span class="math display">\[\begin{align}i=i(r)=e-dr\end {align}\]</span></p><p>　　其中 <span class="math inline">\(e\)</span>为自发性投资量（又称自主投资，即利率即使为零时也能有的投资量）, <spanclass="math inline">\(d\)</span> 表示投资量对利率的敏感程度，<spanclass="math inline">\(-dr\)</span> 表示引致投资。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513215515-lau9ll5.png" style="height:250px" alt="投资函数" /></p><h2id="三资本边际效率与投资边际效率">（三）资本边际效率与投资边际效率</h2><h3 id="资本边际效率">1. 资本边际效率</h3><p>　　资本边际效率（MEC）是一种贴现率，这种贴现率正好使一项资本物品的使用期内各预期收益的现值之和等于这项资本品的供给价格或者重置成本。</p><p><span class="math display">\[\begin {align}R=\sum^n_{i=1} {\frac  {R_i}  {(1+r)^i}}+\frac  J {(1+r)^n}\end {align}\]</span></p><p>　　将资本边际效率跟市场利率比较，如果资本边际效率低于市场利率，则企业不投资；反之，企业投资。如果市场利率上升，原先可行的投资方案可能就不可行，从而投资减少。因此，投资是利率的减函数。</p><h3 id="投资边际效率">2. 投资边际效率</h3><p>　　投资边际效率 (MEI)是指由于资本品供给价格上涨而被缩小后的资本边际效率，用来精确地表示投资和利率间的关系。</p><h3 id="资本边际效率曲线和投资边际效率曲线">3.资本边际效率曲线和投资边际效率曲线</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513220212-q2kh66t.png" style="height:250px" alt="资本边际效率曲线和投资边际效率曲线" /></p><p>　　如图所示，资本边际效率曲线和投资边际效率曲线都向右下方倾斜，即都反映投资量和利率之间存在反方向变动关系。但是，投资边际效率曲线比资本边际效率曲线更为陡峭，其原因在于在相同的预期收益下，投资的边际效率小于资本的边际效率。</p><h2 id="四托宾的q说">（四）托宾的“q”说</h2><p>　　托宾 q是指企业股票的市场价值与资本重置成本的比率。这里的资本重置成本是在现有的产品市场条件下，重新创办该企业的成本。股票的市场价值反映的是股票持有者对企业资产的剩余索取权的价格预期。因此：</p><p><span class="math display">\[\begin {align}q=\frac {企业的股票市场价值} {新建造企业的成本}\end {align}\]</span></p><p>　　两种情况：</p><ul><li>如果企业的市场价值小于资本的重置成本时，即 <spanclass="math inline">\(q＜1\)</span>，说明买旧的企业比建设新企业便宜，于是就不会有投资；</li><li>如果企业的市场价值大于资本的重置成本，即 <spanclass="math inline">\(q＞1\)</span>时，说明新建造企业比买旧企业要便宜，因此投资需求增加。</li></ul><p>　　可以看出，投资是 <span class="math inline">\(q\)</span>值的增函数。也就是说，股票价格上升时，投资会增加。</p><h1 id="二is-曲线">二、IS 曲线</h1><p>　　产品市场的均衡是指产品市场上总供给与总需求相等的情况。<spanclass="math inline">\(IS\)</span>曲线是一条反映利率和收入间相互关系的曲线，这条曲线上任何一点都代表一定的利率和收入的组合。在这样的组合下，投资和储蓄都是相等的，即<span class="math inline">\(I=S\)</span>，从而产品市场是均衡的。</p><h2 id="一is-曲线的推导">（一）IS 曲线的推导</h2><h3 id="图形推导">1. 图形推导</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513222534-zv8ip8z.png" style="width:450px" alt="IS 曲线的推导" /></p><h3 id="代数推导">2. 代数推导</h3><h4 id="两部门经济中">2.1 两部门经济中</h4><p><span class="math display">\[\left \{\begin {align}&amp; Y=C+I  &amp; \notag \\&amp; C=\alpha +\beta Y  \notag \\&amp; I=e-dr  &amp; \notag \\\end {align}\right.\Longrightarrow   \ \    Y=\frac {\alpha +e-dr}  {1-\beta}\]</span></p><h4 id="三部门经济">2.2 三部门经济</h4><p>　　（征收比例税，不征收定量税）</p><p><span class="math display">\[\left \{\begin {align}&amp; Y=C+I+G        &amp; \notag \\&amp; C=\alpha +\beta (1-t)Y  \notag \\&amp; I=e-dr  &amp; \notag \\\end {align}\right.\Longrightarrow   \ \    Y=\frac {\alpha +e-dr+G}  {1-\beta(1-t)}\]</span></p><p>　　可见，均衡国民收入与利率间存在反方向变化的关系。以 <spanclass="math inline">\(r\)</span> 为纵轴，<spanclass="math inline">\(Y\)</span> 为横轴所画出的 <spanclass="math inline">\(IS\)</span>曲线是由左向右下倾斜的，如下图所示。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513221142-t5tqlwz.png" style="width:300px" alt="IS 曲线" /></p><p>　　<span class="math inline">\(IS\)</span>曲线上任何一点都代表一定的利率和收入的组合，在这些组合下，投资和储蓄都是相等的，即<span class="math inline">\(I=S\)</span> ，从而产品市场是均衡的。</p><h2 id="二is-曲线的斜率">（二）IS 曲线的斜率</h2><h3 id="两部门经济">1. 两部门经济</h3><p>　　根据 <span class="math inline">\(Y=\frac {\alpha+e-dr}  {1-\beta}\)</span>，可得 <span class="math inline">\(\frac {dr}{dY}=- \frac {1-\beta } d&lt;0\)</span>，所以 IS 曲线的斜率为负，<spanclass="math inline">\(Y\)</span> 和 <spanclass="math inline">\(r\)</span> 之间具有反向关系，斜率既取决于 <spanclass="math inline">\(β\)</span>，也取决于 <spanclass="math inline">\(d\)</span>。</p><ul><li><span class="math inline">\(d\)</span>是投资需求对利率变动的反应程度，它表示利率变动一定幅度时投资变动的程度，如果<span class="math inline">\(d\)</span>的值较大，即投资对于利率变化比较敏感，<spanclass="math inline">\(IS\)</span> 曲线斜率的绝对值就较小，即 <spanclass="math inline">\(IS\)</span> 曲线较平缓。</li><li><span class="math inline">\(β\)</span> 是边际消费倾向，如果 <spanclass="math inline">\(β\)</span> 较大，<spanclass="math inline">\(IS\)</span>曲线斜率的绝对值也会较小，这是因为，<spanclass="math inline">\(β\)</span>较大，意味着支出乘数较大，从而当利率变动引起投资变动时，收入会以较大幅度变动，因而<span class="math inline">\(IS\)</span> 曲线就较平缓。</li></ul><h3 id="三部门经济-1">2. 三部门经济</h3><p>　　根据 <span class="math inline">\(Y=\frac {\alpha+e-dr+G}  {1-\beta(1-t)}\)</span>，可见 <spanclass="math inline">\(\frac {dr} {dY}=- \frac {1-\beta(1-t)}d&lt;0\)</span>，<span class="math inline">\(IS\)</span>曲线的斜率不仅取决于 <span class="math inline">\(β\)</span>、<spanclass="math inline">\(d\)</span>，而且受 <spanclass="math inline">\(t\)</span> 的影响。</p><p>　　<span class="math inline">\(t\)</span>表示边际税率，即增加的税收在增加的收入中的比率。</p><ul><li>当 <span class="math inline">\(d\)</span> 和 <spanclass="math inline">\(β\)</span> 一定时，税率 <spanclass="math inline">\(t\)</span> 越小，<spanclass="math inline">\(IS\)</span>曲线越平缓（税率越小，乘数会越大）；</li><li><span class="math inline">\(t\)</span> 越大，<spanclass="math inline">\(IS\)</span>曲线越陡峭（税率越大，乘数会越小）。</li></ul><p>　　影响 <span class="math inline">\(IS\)</span>曲线斜率大小的，主要是投资对利率的敏感度，原因是边际消费倾向比较稳定，税率也不会轻易变动。</p><h2 id="三is-曲线的移动">（三）IS 曲线的移动</h2><p>　　（联系：<u>LM曲线移动</u>、<u>AD曲线移动</u>）</p><h3 id="两部门经济-1">1. 两部门经济</h3><p>　　投资函数或储蓄函数变动，都会使 IS 曲线变动。</p><p>　　当投资需求增加，<span class="math inline">\(IS\)</span>曲线将向右平移，反之，则向左平移，移动的距离和投资乘数有关：<spanclass="math inline">\(\Delta Y=k_i \cdot \Delta i=\frac1 {1-\beta}\Delta i\)</span>。</p><p>　　当储蓄意愿增加，即用于投资的资本减少，<spanclass="math inline">\(IS\)</span> 曲线将向左平移，反之，则向右平移。</p><h3 id="三部门经济-2">2. 三部门经济</h3><p>　　增加政府购买性支出，其作用相当于增加投资支出，因此，会使 <spanclass="math inline">\(IS\)</span>曲线向右平行移动，反之，则向左平移。移动的距离和政府购买支出乘数有关：<spanclass="math inline">\(\Delta Y=k_g \cdot \Delta g=\frac1 {1-\beta}\Delta g\)</span></p><p>　　当政府增加税收时，企业用于投资的资本减少，<spanclass="math inline">\(IS\)</span>曲线将向左平移，反之，则向右平移。移动的距离和税收乘数有关：<spanclass="math inline">\(ΔY=k_t \cdot  ΔT\)</span>。</p><h3 id="财政政策与-is-曲线移动">3. 财政政策与 IS 曲线移动</h3><ul><li>实行扩张性财政政策—— <span class="math inline">\(IS\)</span>曲线向右移动；</li><li>实行紧缩性财政政策—— <span class="math inline">\(IS\)</span>曲线向左移动。</li></ul><h2 id="四is-曲线以外点的经济含义">（四）IS 曲线以外点的经济含义</h2><p>　　<span class="math inline">\(IS\)</span>曲线以外的点表示产品市场失衡。（联系：<u>货币市场失衡</u>、<u>两个市场失衡</u>）</p><ul><li><span class="math inline">\(IS\)</span>曲线右上方的点：储蓄大于投资，即 <spanclass="math inline">\(S&gt;I\)</span>，有超额产品供给，组合点左移；</li><li><span class="math inline">\(IS\)</span>曲线左下方的点：储蓄小于投资，即 <spanclass="math inline">\(S&lt;I\)</span>，有超额产品需求，组合点右移。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513231414-buxhaz5.png" style="width:300px" alt="产品市场的失衡及调整" /></p><h1 id="三利率的决定">三、利率的决定</h1><p>　　凯思斯认为：利率不是由储蓄与投资决定的，而是由货币的供给量和对货币的需求量所决定的。货币的实际供给量（用<span class="math inline">\(m\)</span>表示）一般由国家加以控制，是一个外生变量，因此，需要分析的主要是货币的需求。</p><h2 id="一流动性偏好与货币需求动机">（一）流动性偏好与货币需求动机</h2><p>　　对货币的需求，又称“流动性偏好”，是指由于货币具有使用上的灵活性，人们宁肯牺牲利息收入而储存不生息的货币来保持财富的心理倾向。</p><p>　　<strong>三种货币需求动机：</strong></p><p>　　<strong>（1）交易动机：</strong>个人和企业为了进行正常的交易活动而持有货币的动机。</p><p>　　出于交易动机的货币需求量主要取决于收入。收入越高，交易数量越大，所交换的商品和劳务的价格越高，从而为应付日常开支所需的货币量就越大。</p><p>　　<strong>（2）谨慎动机（预防性动机）：</strong>为预防意外支出而持有一部分货币的动机，如个人或企业为应付事故、失业、疾病等意外事件而需要事先持有一定数量货币。</p><p>　　从全社会来看，这一货币需求量大体上也和收入成正比，是收入的函数。如果用<span class="math inline">\(L_1\)</span>表示交易动机和谨慎动机所产生的全部实际货币需求量，用 <spanclass="math inline">\(Y\)</span>表示实际收入，则这种货币需求量和收入的关系可表示为：<spanclass="math inline">\(L_1=L_1(Y)=kY\)</span>。</p><p>　　<strong>（3）投机动机：</strong>人们为了抓住有利的购买有价证券的机会而持有一部分货币的动机。</p><p>　　投机动机所产生的货币需求量与利率呈反向关系，其关系可以表示为：<spanclass="math inline">\(L_2=L_2(r)=-hr\)</span>。</p><h2 id="二货币需求函数">（二）货币需求函数</h2><p>　　对货币的总需求是人们对货币的交易需求、预防需求和投机需求的总和。对货币的总需求函数可描述为：</p><p><span class="math display">\[\begin {align}L=L_1+ L_2=kY-hr\end {align}\]</span></p><p>　　式中的 <span class="math inline">\(L\)</span>、<spanclass="math inline">\(L_1\)</span> 和 <spanclass="math inline">\(L_2\)</span>都是代表对货币的实际需求，即具有不变购买力的实际货币需求量。</p><p>　　如用 <span class="math inline">\(M\)</span>、<spanclass="math inline">\(m\)</span> 和 <spanclass="math inline">\(P\)</span>依次代表名义货币量、实际货币量和价格指数，则：<spanclass="math inline">\(m=\frac M P\)</span> 或 <spanclass="math inline">\(M=Pm\)</span>。</p><p>　　由于 <span class="math inline">\(L=kY-hr\)</span>仅代表对货币的实际需求量或者说需要的实际货币量，因此，名义货币需求函数还应是实际货币需求函数乘以价格指数，即：<spanclass="math inline">\(L=(kY-hr)P\)</span>。</p><h2 id="三流动偏好陷阱">（三）流动偏好陷阱</h2><p>　　流动性陷阱又称凯恩斯陷阱或流动偏好陷阱，是凯恩斯的流动偏好理论中的一个概念，具体是指当利率水平极低时，人们对货币需求趋于无限大，货币当局即使增加货币供给也不能降低利率，从而不能增加投资的一种经济状态。</p><p>　　当利率极低时，有价证券的价格会达到很高，人们为了避免因有价证券价格跌落而遭受损失，几乎每个人都宁愿持有现金而不愿持有有价证券，这意味着货币需求会变得完全有弹性，人们对货币的需求量趋于无限大，表现为流动偏好曲线或货币需求曲线的右端会变成水平线。在此情况下，货币供给的增加不会使利率下降，从而也就不会增加投资引诱和有效需求，当经济出现上述状态时，就称之为流动性陷阱。</p><p>　　如下图，货币需求函数起初向右下方倾斜，表示货币的货币需求量随利率下降而增加，最后为水平状，表示“流动偏好陷阱”。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513222727-w8ag1ju.png" style="width:300px" alt="货币需求函数" /></p><blockquote><p><strong>补充：</strong></p><p>市场利率是波动的，而有价债券的票面利率（收益率）是固定的。市场利率与有价债券票面利率呈反向变动关系，市场利率越高，兑现有价债券的收益净现值就越少。（<ahref="https://www.zhihu.com/question/52139811/answer/586498863">链接1</a>，<a href="https://zhuanlan.zhihu.com/p/30698368">链接 2</a>）</p><p>考虑 <span class="math inline">\(n\)</span> 期复利的有价债券。设<span class="math inline">\(P\)</span> 表示债券现值，<spanclass="math inline">\(D\)</span> 表示债券偿还期满应收本利和，<spanclass="math inline">\(r\)</span> 表示年利率，<spanclass="math inline">\(n\)</span>表示债券未到期年限。那么有价债券的现值为：（<ahref="https://wiki.mbalib.com/wiki/%E5%80%BA%E5%88%B8%E7%8E%B0%E5%80%BC">网页链接</a>）</p><p><span class="math display">\[\begin {align}P=\frac D {(1+r)^n}\end{align}\]</span></p></blockquote><h2 id="四货币供求均衡和利率的决定">（四）货币供求均衡和利率的决定</h2><h3 id="货币供给量">1. 货币供给量</h3><p>　　狭义的货币供给：<spanclass="math inline">\(M_1=硬币+纸币+银行活期存款\)</span></p><p>　　广义的货币供给：<spanclass="math inline">\(M_2=M_1+定期存款\)</span></p><p>　　更广义的货币供给：<spanclass="math inline">\(M_3=M_2+个人和企业所持有的政府债券等流动资产(货币近似物)\)</span></p><p>　　货币供给是一个存量概念，它是一个国家在某一时点上所保持的不属于政府和银行所有的硬币、纸币和银行存款的总和。货币供给量是由国家用货币政策来调节的，因而是一个外生变量，其大小与利率高低无关，因此货币供给曲线是一条垂直于横轴的直线。</p><p>　　流动性偏好理论假设中央银行选择了一个固定的货币供给，在此模型中，价格水平<span class="math inline">\(P\)</span> 也是固定的，所以实际货币余额供给<span class="math inline">\({\overline M } / {\overline P}\)</span>固定，因此货币供给曲线是一条垂直于横轴的直线，随着货币供给增加不断向右平移；反之，则向左平移。</p><h3 id="货币供求均衡">2. 货币供求均衡</h3><p>　　当货币供给等于货币需求时，货币市场达到均衡状态，此时的利率为均衡利率。如图14-3 所示，货币实际供给曲线（<spanclass="math inline">\(m\)</span>）和货币实际需求曲线（<spanclass="math inline">\(L\)</span>）相交的点（<spanclass="math inline">\(E\)</span>）决定了利率的均衡水平（<spanclass="math inline">\(r_0\)</span>）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513222803-ka8hrjg.png" style="width:300px" alt="货币供给和需求的均衡" /></p><h3 id="利率的调整">3. 利率的调整</h3><p>　　货币需求曲线和供给曲线会变动，二者的变动都会引起均衡利率的变动。如下图所示，若货币供给不变，货币需求曲线从<span class="math inline">\(L\)</span> 移到 <spanclass="math inline">\(L&#39;\)</span> 时，均衡利率就会从 <spanclass="math inline">\(r_0\)</span> 上升到 <spanclass="math inline">\(r_1\)</span>；若货币需求不变，货币供给曲线从 <spanclass="math inline">\(m\)</span> 右移到 <spanclass="math inline">\(m&#39;\)</span> 时，均衡利率则会从 <spanclass="math inline">\(r_0\)</span> 下降到 <spanclass="math inline">\(r_2\)</span>。如果货币需求和供给同时变动时，利率就会受到二者的共同影响，在移动后的需求曲线和供给曲线的交点上达到均衡。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513222832-ve37qgz.png" style="width:400px" alt="货币需求和供给曲线的变动" /></p><h1 id="四lm-曲线">四、LM 曲线</h1><h2 id="一lm-曲线的含义及其推导">（一）LM 曲线的含义及其推导</h2><h3 id="含义">1. 含义</h3><p>　　<span class="math inline">\(LM\)</span>曲线是描述满足货币市场均衡条件（货币需求等于货币供给）的利率与收入关系的曲线。</p><h3 id="代数推导-1">2. 代数推导</h3><p>　　假定 <span class="math inline">\(m\)</span>代表实际货币供给量，<span class="math inline">\(M\)</span>代表名义货币供给量，<span class="math inline">\(P\)</span>代表物价水平，货币市场均衡条件为：</p><p><span class="math display">\[\begin {align}m=\frac M P=L=kY-hr\end {align}\]</span></p><p>　　推导出 <span class="math inline">\(LM\)</span> 曲线的表达式：</p><p><span class="math display">\[\begin {align}Y=\frac {hr}  k + \frac m k \ \ 或 \ \ r=\frac k h Y-\frac m h\end {align}\]</span></p><p>　　以 <span class="math inline">\(Y\)</span> 为横轴，<spanclass="math inline">\(r\)</span> 为纵轴所画的 <spanclass="math inline">\(LM\)</span>曲线是由左下向右上倾斜的，如下图所示。<spanclass="math inline">\(LM\)</span>曲线上任一点都代表一定利率和收入的组合，在这样的组合下，货币需求与货币供给都是相等的，亦即货币市场是均衡的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513224544-74zwzva.png" style="width:300px" alt="LM 曲线" /></p><h3 id="图形推导-1">3. 图形推导</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513224908-0oplcbr.png" style="width:600px" alt="LM 曲线的推导" /></p><h2 id="二lm-曲线的斜率">（二）LM 曲线的斜率</h2><p>　　由 <span class="math inline">\(r=\frac k h Y-\frac m h\)</span>可看出 <span class="math inline">\(LM\)</span> 曲线的斜率为 <spanclass="math inline">\(\frac k h\)</span>。<spanclass="math inline">\(LM\)</span> 曲线斜率的大小取决于以下两个因素：</p><p>　　（1）货币需求对收入的敏感系数 <spanclass="math inline">\(k\)</span>。<span class="math inline">\(h\)</span>一定时，<span class="math inline">\(k\)</span> 越大，<spanclass="math inline">\(LM\)</span> 曲线的斜率越大，<spanclass="math inline">\(LM\)</span> 曲线越陡峭。</p><p>　　（2）货币需求对利率的敏感系数 <spanclass="math inline">\(h\)</span>。<span class="math inline">\(k\)</span>一定时，<span class="math inline">\(h\)</span> 越大，<spanclass="math inline">\(LM\)</span> 曲线的斜率越小，<spanclass="math inline">\(LM\)</span> 曲线越平缓。</p><p>　　<strong>LM 曲线的三个区域：</strong></p><ul><li>当货币的投机需求为零，即 <span class="math inline">\(h\)</span>为零时，<span class="math inline">\(LM﻿\)</span> 的斜率为无穷大，<spanclass="math inline">\(LM\)</span>曲线为竖直线，此时被称为古典区域；</li><li>一般情况下，<span class="math inline">\(LM\)</span>曲线斜率为正值，<span class="math inline">\(LM\)</span>曲线由左下向右上倾斜，这一区域称为中间区域；</li><li>当利率下降到很低时，货币投机需求将成为无限，即 <spanclass="math inline">\(h\)</span> 为无穷大，<spanclass="math inline">\(LM\)</span> 曲线斜率为零，<spanclass="math inline">\(LM\)</span>曲线成为一水平线，这一区域称为凯恩斯区域。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513224628-9xv5wed.png" style="width:400px" alt="LM 曲线的三个区域" /></p><h2 id="三lm-曲线的移动">（三）LM 曲线的移动</h2><p>　　（联系：<u>IS 曲线移动</u>、<u>AD曲线移动</u>）</p><p>　　由 <span class="math inline">\(LM\)</span> 曲线表达式 <spanclass="math inline">\(r=\frac k h Y-\frac m h\)</span> 可看出，引起<span class="math inline">\(LM\)</span> 曲线移动的因素是：</p><ul><li><p><strong>名义货币供给量</strong> <spanclass="math inline">\(M\)</span><strong>变动。</strong>在价格水平不变时，<spanclass="math inline">\(M\)</span> 增加，<spanclass="math inline">\(LM\)</span> 曲线向右下方移动，反之，<spanclass="math inline">\(LM\)</span> 曲线向左上方移动。</p></li><li><p><strong>价格水平的变动。</strong>价格水平 <spanclass="math inline">\(P\)</span> 上升，实际货币供给量 <spanclass="math inline">\(m\)</span> 就变小，<spanclass="math inline">\(LM\)</span> 曲线就向左上方移动；反之，<spanclass="math inline">\(LM\)</span>曲线就向右下方移动，利率就下降，收入就增加。</p></li></ul><p>　　<strong>货币政策与 LM 曲线移动：</strong></p><ul><li>实行扩张性货币政策—— <span class="math inline">\(LM\)</span>曲线向右移动；</li><li>实行紧缩性货币政策—— <span class="math inline">\(LM\)</span>曲线向左移动；</li></ul><h2 id="四lm-曲线以外的点的经济含义">（四）LM曲线以外的点的经济含义</h2><p>　　<span class="math inline">\(LM\)</span>曲线以外的点表示货币市场失衡。（联系：<u>产品市场失衡</u>、<u>两个市场失衡</u>）</p><ul><li><span class="math inline">\(LM\)</span>曲线左上方的点：货币需求小于货币供给，即 <spanclass="math inline">\(L&lt;M\)</span>，组合点下移；</li><li><span class="math inline">\(LM\)</span>曲线右下方的点：货币需求大于货币供给，即 <spanclass="math inline">\(L&gt;M\)</span>，组合点上移。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513225636-84ajf6u.png" style="width:350px" alt="货币市场的失衡及调整" /></p><h1 id="五is-lm-分析">五、IS-LM 分析</h1><h2id="一产品市场和货币市场的一般均衡">（一）产品市场和货币市场的一般均衡</h2><p>　　在 <span class="math inline">\(IS\)</span>曲线上，有一系列使产品市场均衡的利率及收入组合点；在 <spanclass="math inline">\(LM\)</span>曲线上，有一系列使货币市场均衡的利率及收入组合点。<spanclass="math inline">\(IS\)</span> 曲线与 <spanclass="math inline">\(LM\)</span>曲线交于一点，在该点上，产品市场和货币市场同时达到均衡，其数值可通过解<span class="math inline">\(IS\)</span> 与 <spanclass="math inline">\(LM\)</span> 的联立方程得到。</p><h2 id="二两个市场的失衡及调整">（二）两个市场的失衡及调整</h2><p>　　<strong>产品市场失衡（</strong> <spanclass="math inline">\(IS﻿\)</span> <strong>曲线）：</strong></p><ul><li>当收入与利率组合点位于 <span class="math inline">\(IS\)</span>曲线左下方，投资大于储蓄，即 <spanclass="math inline">\(I＞S\)</span>，有超额产品需求，从而导致收入上升，组合点右移；</li><li>当收入与利率组合点位于 <span class="math inline">\(IS\)</span>曲线右上方，<spanclass="math inline">\(I＜S\)</span>，有超额产品供给，从而导致收入下降，组合点会左移。</li></ul><p>　　<strong>货币市场失衡（</strong> <spanclass="math inline">\(LM\)</span> <strong>曲线）：</strong></p><ul><li>当收入与利率组合点位于 <span class="math inline">\(LM\)</span>曲线左上方时，货币需求小于货币供给，即 <spanclass="math inline">\(L＜M\)</span>，有超额货币供给，从而导致利率下降，提高货币需求，组合点会下移；</li><li>当收入与利率组合点位于 <span class="math inline">\(LM\)</span>曲线右下方时，<spanclass="math inline">\(L＞M\)</span>，有超额货币需求，从而导致利率上升，抑制货币需求，组合点会上升。这四种调整使不均衡组合点最终趋向均衡利率与均衡收入。</li></ul><p>　　上述各种情况如下图和下表所示。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513230608-eqwd1sl.png" style="width:400px" alt="产品市场和货币市场的一般均衡" /></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230314201804-1x1w71x.png" style="width:700px" /></p><blockquote><p><strong>补充：</strong></p><p>如何判断四个区域中 <span class="math inline">\(I/S\)</span> 关系与<span class="math inline">\(L/M\)</span> 关系？</p><ul><li><p>均衡点 <span class="math inline">\(E\)</span> 处有：<spanclass="math inline">\(I=S\)</span>，<spanclass="math inline">\(L=M\)</span></p></li><li><p><span class="math inline">\(I=e-dr\)</span> 与 <spanclass="math inline">\(L=kY-hr\)</span> 会受到利率的影响</p></li><li><p><span class="math inline">\(LM\)</span> 曲线：</p><ul><li><span class="math inline">\(LM\)</span> 曲线上方：与均衡点 <spanclass="math inline">\(E\)</span> 相比，<spanclass="math inline">\(r&gt;r_e\)</span>，因此 <spanclass="math inline">\(L&lt;M\)</span></li><li><span class="math inline">\(LM﻿\)</span> 曲线下方：与均衡点 <spanclass="math inline">\(E\)</span> 相比，<spanclass="math inline">\(r&lt;r_e\)</span>，因此 <spanclass="math inline">\(L&gt;M\)</span></li></ul></li><li><p><span class="math inline">\(IS\)</span> 曲线</p><ul><li><span class="math inline">\(IS\)</span> 曲线上方：与均衡点 <spanclass="math inline">\(E\)</span> 相比，<spanclass="math inline">\(r&gt;r_e\)</span>，因此 <spanclass="math inline">\(I&lt;S\)</span></li><li><span class="math inline">\(IS\)</span> 曲线下方：与均衡点 <spanclass="math inline">\(E\)</span> 相比，<span class="math inline">\(r&lt;r_e\)</span>，因此 <span class="math inline">\(I&gt;S\)</span></li></ul></li></ul></blockquote><h2 id="三两个市场一般均衡的调整">（三）两个市场一般均衡的调整</h2><p>　　当 <span class="math inline">\(IS\)</span> 曲线和 <spanclass="math inline">\(LM\)</span>曲线移动时，均衡收入和均衡利率都会发生变动，并由新的 <spanclass="math inline">\(IS\)</span> 曲线和 <spanclass="math inline">\(LM\)</span> 曲线的交点决定。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/WeChat4a48388c09134c66e245f37b733df5a3-20220513232739-d9t355z.png" style="width:400px" alt="IS、LM 曲线移动与一般均衡" /></p><h1 id="六凯恩斯的基本理论框架">六、凯恩斯的基本理论框架</h1><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513232240-qan89qi.png" style="width:600px" alt="凯恩斯的基本理论框架" /></p><ul><li>国民收入决定于消费和投资。</li><li>消费由消费倾向和收入决定。</li><li>消费倾向比较稳定。</li><li>投资由利率和资本边际效率决定，投资与利率成反方向变动关系，与资本边际效率成正方向变动关系。</li><li>利率决定于流动偏好与货币数量。</li><li>资本边际效率由预期收益和资本资产的供给价格或者说重置成本决定。</li></ul><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>宏观｜第2章：国民收入的决定：收入—支出模型</title>
      <link href="/posts/22815/"/>
      <url>/posts/22815/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/44205/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><p>　　现代宏观经济学的奠基人凯恩斯的学说的中心内容是国民收入决定理论。凯恩斯主义的全部理论涉及四个市场：产品市场､货币市场､劳动市场和国际市场。仅包括产品市场的国民收入决定理论称为简单的国民收入决定理论，即收入—支出模型。</p><h1 id="一均衡产出">一、均衡产出</h1><p>　　社会产出水平究竟由社会总需求还是由社会总供给能力决定，这实际上是从凯恩斯开始的现代宏观经济学与凯恩斯以前的古典和新古典传统经济学的分水岭。在20 世纪 30年代经济大萧条的背景下（编者注：建议读者结合大萧条的背景来理解凯恩斯学说的理论体系），凯恩斯在名著《就业、利息和货币通论》一书中提出了生产和收入取决于总需求的理论。</p><h2 id="一短期分析假设前提">（一）短期分析假设前提</h2><h3 id="经济中存在着生产能力的闲置">1. 经济中存在着生产能力的闲置</h3><p>　　生产能力的闲置包括两层含义：</p><ul><li>劳动力资源没有得到充分利用，即存在着失业；</li><li>厂房、机器等资本品没有得到充分利用，即存在着开工率不足。</li></ul><h3 id="价格水平固定不变">2. 价格水平固定不变</h3><p>　　凯恩斯认为，在短期内，价格机制是一种僵化的、不易变动的机制，即存在价格刚性。</p><p>　　价格刚性表现为两个方面：</p><ul><li>在劳动力市场，即使存在失业，工资也不会下降；</li><li>在产品市场，即使存在生产过剩，物价也不会下降。</li></ul><h3 id="在既定的价格水平上总供给是无限的">3.在既定的价格水平上，总供给是无限的</h3><p>　　在既定的价格水平上，总供给是无限的。反映在图表上，体现为总供给曲线平行于横轴（如下图<span class="math inline">\(AE\)</span> 曲线）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513164405-1hont5g.png" style="height:250px" alt="均衡产出的决定" /></p><p>　　经济含义：由于存在资源闲置，在固定的价格水平下，要什么有什么，要多少有多少。</p><h3 id="均衡的国民收入由总需求单方面决定">4.均衡的国民收入由总需求单方面决定</h3><p>　　由于总供给无限，所以均衡的国民收入由总需求单方面决定（总需求分析）。</p><p>　　在短期中，国民收入决定于总需求，这是凯恩斯经济学的一个基本原理。产量由总需求决定，是就非充分就业状态而言的，而非充分就业是一种通常的状态。</p><h2 id="二均衡产出与非计划存货投资">（二）均衡产出与非计划存货投资</h2><h3 id="模型假设">1. 模型假设</h3><ul><li><strong>二部门经济：</strong>不存在政府，也不存在对外贸易，经济中只有居民户和厂商，总需求由居民消费和企业投资构成，只企业投资是自发的或外生的，不随利率和产量而变动。</li><li><strong>凯恩斯定律</strong>：假设不论需求量为多少，经济社会均能以不变的价格提供相应的供给量。</li><li><strong>折旧和公司未分配利润为零。</strong></li></ul><h3 id="均衡产出的概念">2. 均衡产出的概念</h3><p>　　均衡产出是和总需求相等的产出，即经济社会的总产出或总收入正好等于全体居民和企业想要有的支出。</p><p>　　由于两部门经济假设，均衡产出可以表示为：<spanclass="math inline">\(Y=C+I\)</span></p><p>　　其中，<span class="math inline">\(C\)</span> 与 <spanclass="math inline">\(I\)</span>分别代表计划消费、计划投资，而不是国民收入构成公式中实际发生的消费和投资。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513164405-1hont5g.png" style="height:250px" alt="均衡产出的决定" /></p><p>　　经济社会的收入正好等于全体居民和企业想要有的支出时，经济社会达到均衡。在这个模型中，存货在调整过程中起着重要的作用。从上图可以看出，非计划存货投资是一种产量调节机制，而不是古典学派强调的价格调节机制。</p><h3 id="投资等于储蓄">3. 投资等于储蓄</h3><p>　　均衡产出或收入的条件也可用 <spanclass="math inline">\(I=S\)</span> 表示。</p><p>　　<strong>推导：</strong></p><p>　　计划支出等于计划消费家投资，即 <spanclass="math inline">\(E=C+I\)</span>；</p><p>　　收入等于计划消费加计划储蓄，即 <spanclass="math inline">\(Y=C+S\)</span>；</p><p>　　而 <spanclass="math inline">\(E=Y\)</span>，于是可得投资等于储蓄，即 <spanclass="math inline">\(I=S\)</span>。</p><p>　　<strong>注意：</strong></p><ul><li>国民收入核算中的 <span class="math inline">\(I=S\)</span>是指实际发生的投资（包括计划投资和非计划存货投资）始终等于储蓄。</li><li>这里的投资等于储蓄，是指<strong>经济要达到均衡，计划投资必须等于计划储蓄</strong>；而<u>投资—储蓄恒等式</u>中的投资恒等于储蓄，指的实际投资和实际储蓄是根据定义而得到的实际数字，从而必然相等。</li></ul><h1 id="二凯恩斯的消费理论">二、凯恩斯的消费理论</h1><h2 id="一消费函数">（一）消费函数</h2><h3 id="消费函数">1. 消费函数</h3><p>　　在宏观经济学中，价格水平不变，所以消费数量只是收入水平的函数。消费函数是消费支出与个人可支配收入之间的依存关系。凯恩斯认为：随着收入的增加，消费也会增加，但是消费的增加不及收入增加的多，消费和收入的这种关系称做消费函数或消费倾向，用公式表示是：<spanclass="math inline">\(C=C(Y)\)</span>。</p><p>　　若消费与收入之间存在线性关系，则可表示为：</p><p><span class="math display">\[\begin {align}C=α+βY\end{align}\]</span></p><p>　　其中，<span class="math inline">\(α\)</span>为必不可少的自发消费部分，即收入为 0时举债或动用过去的储蓄也必须要有的基本生活消费；<spanclass="math inline">\(β\)</span> 为边际消费倾向，<spanclass="math inline">\(βY\)</span> 的乘积表示收入引致的消费。</p><p>　　因此，<span class="math inline">\(C=α+βY\)</span>的经济含义是：消费等于自发消费与引致消费之和。当消费和收入之间呈线性关系时，消费函数就是一条向右上方倾斜的直线，消费函数上每一点的斜率都相等，并且大于0 而小于 1。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513172235-eumerv7.png" style="height:250px" alt="消费曲线" /></p><h3 id="边际消费倾向">2. 边际消费倾向</h3><p>　　边际消费倾向（MPC）指增加的消费与增加的收入之比率，也就是增加的 1单位收入中用于增加消费部分的比率，边际消费倾向的公式是：</p><p><span class="math display">\[\begin {align}MPC=\frac {\Delta C} {\Delta Y} =\frac {dC} {dY}\end{align}\]</span></p><p>　　MPC 是消费曲线上任一点切线的斜率，不论 MPC是常量还是变量，它总是一个小于 1 的正数，即 <spanclass="math inline">\(0＜MPC＜1\)</span>。</p><p>　　当消费函数为线性函数时， <spanclass="math inline">\(MPC=\beta\)</span>。</p><h3 id="平均消费倾向">3. 平均消费倾向</h3><h4 id="概念">3.1 概念</h4><p>　　平均消费倾向（APC）指任一收入水平上消费支出在收入中所占的比率。平均消费倾向的公式是：</p><p><span class="math display">\[\begin {align}APC=\frac {C} {Y}\end{align}\]</span></p><h4 id="取值">3.2 取值</h4><p>　　APC 是消费曲线上任一点与原点相连而成的射线的斜率。</p><ul><li>若 <span class="math inline">\(APC＜1\)</span>，此时消费总量 ＜收入总量（产生储蓄）;</li><li>若 <spanclass="math inline">\(APC=1\)</span>，此时全部收入都用于消费（储蓄为零）;</li><li>若 <spanclass="math inline">\(APC＞1\)</span>，此时消费总量大于收入总量（负债消费，即产生负储蓄）。</li></ul><h4 id="apc-与-mpc-的关系">3.3 APC 与 MPC 的关系</h4><p>　　当消费函数为线性函数时：</p><p><span class="math display">\[\begin {align}APC=\frac \alpha Y+\beta\end{align}\]</span></p><p>　　即平均消费倾向总是大于边际消费倾向。</p><h2 id="二储蓄函数">（二）储蓄函数</h2><h3 id="储蓄函数">1. 储蓄函数</h3><p>　　储蓄函数是描述储蓄随收入变化而变化的函数，其公式是：</p><p><span class="math display">\[\begin {align}S=S(Y)\end{align}\]</span></p><p>　　当消费函数为线性函数时：</p><p><span class="math display">\[S=Y-C=Y-(\alpha +\beta Y)=-\alpha+(1-\beta)Y\]</span></p><h3 id="边际储蓄倾向">2. 边际储蓄倾向</h3><p>　　边际储蓄倾向（MPS）是该点上的储蓄增量对收入增量的比率，其公式是：</p><p><span class="math display">\[\begin {align}MPS=\frac {\Delta S} {\Delta Y} =\frac {dS} {dY}\end{align}\]</span></p><p>　　边际储蓄倾向为储蓄曲线上任一点的斜率。</p><p>　　当储蓄函数为线性函数时，<span class="math inline">\(MPS=1-\beta\)</span>。</p><h3 id="平均储蓄倾向">3. 平均储蓄倾向</h3><p>　　平均储蓄倾向（APS）是指任一收入水平上储蓄在收入中所占的比率，其公式是：</p><p><span class="math display">\[\begin {align}APS=\frac S Y\end{align}\]</span></p><p>　　平均储蓄倾向是储蓄曲线上任一点与原点相连而成射线的斜率。</p><p>　　当储蓄函数为线性函数时：</p><p><span class="math display">\[\begin{align}APS=- \frac {\alpha} {Y}+(1-\beta)\end{align}\]</span></p><h2 id="三消费函数和储蓄函数的关系">（三）消费函数和储蓄函数的关系</h2><p>　　由于储蓄被定义为收入和消费之差，因此：</p><ul><li>消费函数和储蓄函数互为补数，二者之和总等于收入，即：<spanclass="math inline">\(C+S=Y\)</span>；</li><li><span class="math inline">\(APC\)</span> 和 <spanclass="math inline">\(MPC\)</span> 都随收入增加而递减，且 <spanclass="math inline">\(APC＞MPC\)</span>；</li><li><span class="math inline">\(APS\)</span> 和 <spanclass="math inline">\(MPS\)</span> 都随收入增加而递增，且 <spanclass="math inline">\(APS＜MPS\)</span>；</li><li><span class="math inline">\(APC+APS \equiv1\)</span>，<spanclass="math inline">\(MPC+MPS \equiv1\)</span>。</li></ul><p>　　消费和储蓄的关系如下图所示：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513175817-oy5690x.png" style="width:450px" alt="消费曲线和储蓄曲线的关系" /></p><ul><li>在 A 点左边，消费大于收入，为负储蓄；</li><li>在 A 点右边，消费小于收入，为正储蓄；</li><li>在 A 点，消费等于收入，储蓄为0。</li></ul><h2id="四家户消费函数和社会消费函数">（四）家户消费函数和社会消费函数</h2><p>　　社会消费函数并不是家户消费函数的简单加总。从家户消费函数求取社会消费函数时，还要考虑以下一系列限制条件：</p><ul><li><strong>国民收入的分配：</strong>富者边际消费倾向较低，穷者边际消费倾向较高。国民收入分配越不均等，社会消费曲线就越是向下移动。</li><li><strong>政府税收政策：</strong>若实行累进个人所得税，将富有者的收入转移给穷人用于消费，则社会消费数量增加，社会消费曲线向上移动。</li><li><strong>公司未分配利润在利润中所占比例：</strong>所占比例越大，消费越少，社会消费曲线下移；反之，社会消费曲线上移。</li></ul><h2 id="五影响消费的其他因素">（五）影响消费的其他因素</h2><ul><li>利率</li><li>价格水平</li><li>收入分配</li><li>社会保障制度</li></ul><h1 id="三国民收入的决定">三、国民收入的决定</h1><h2 id="一两部门经济">（一）两部门经济</h2><h3 id="使用消费函数决定收入">1. 使用消费函数决定收入</h3><p>　　在两部门经济中，不存在政府部门，也不存在国外部门。由于不存在政府部门，因此可支配收入<span class="math inline">\(Y_D=Y\)</span>。</p><p>　　<strong>假定：</strong></p><ul><li>只有家庭部门与企业部门；</li><li>投资是外生变量，投资不变。</li></ul><p>　　总支出 <span class="math inline">\(AE=C+I_0= \alpha + \beta Y +I_0\)</span>，结合产品市场均衡条件 <spanclass="math inline">\(AE=Y\)</span>，可得：</p><p><span class="math display">\[\begin {align}Y= \alpha + \beta Y + I_0\end{align}\]</span></p><p>　　由上式可以解得均衡产出水平为：</p><p><span class="math display">\[\begin {align}Y_0= \frac 1 {1-\beta}(\alpha + I_0)\end{align}\]</span></p><h3 id="使用储蓄函数决定收入">2. 使用储蓄函数决定收入</h3><p><span class="math display">\[\left \{\begin {align}&amp; I_0=S=Y-C    \notag  \\&amp; S=-\alpha+(1-\beta)Y  \notag  \end {align}\right.\]</span></p><p>　　由上式可以解得均衡产出水平为：</p><p><span class="math display">\[\begin {align}Y_0= \frac 1 {1-\beta}(\alpha + I_0)\end{align}\]</span></p><p>　　用计划投资等于计划储蓄的方法决定收入，也可以用下图表示：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513164618-uvslkk0.png" style="width:400px" alt="储蓄曲线和投资曲线相交决定收入" /></p><p>　　‍</p><h2 id="二三部门经济">（二）三部门经济</h2><p>　　三部门经济，即在两部门经济的基础上加入政府部门，需考虑政府购买、税收和转移支付等政府行为因素。政府的收入主要来自税收，税收包括两种：一种是定量税，税收量不随收入而变动；另一种是比例所得税，税收量随收入的增加而增加。政府购买与转移支付一般为某一确定的值，是个外生变量。</p><h3 id="征收定量税">1. 征收定量税</h3><p>　　假定投资为 <span class="math inline">\(I_0\)</span>，政府支出为<span class="math inline">\(G_0\)</span> ， 税收为 <spanclass="math inline">\(T_0\)</span> ， 转移支付为 <spanclass="math inline">\(T_r\)</span>。消费取决于可支配收入，则有：</p><p><span class="math display">\[\left \{\begin {align}&amp; Y_D=Y-  T_0  + T_r          \notag  \\&amp; C=\alpha +\beta Y_D   \notag  \\&amp; AE=C+ I_0  + G_0           \notag  \\&amp; AE=Y                                   \notag  \\\end {align}\right.\]</span></p><p>　　由上式可以解得均衡产出水平为：</p><p><span class="math display">\[\begin {align}Y_0= \frac 1 {1-\beta}  \Big[\alpha -\beta ( T_0  - T_r)+I_0  +  G_0  \Big]\end{align}\]</span></p><h3 id="征收比例税">2. 征收比例税</h3><p>　　假定投资为 <span class="math inline">\(I_0\)</span>，政府支出为<span class="math inline">\(G_0\)</span> ， 同时征收固定税 <spanclass="math inline">\(T_0\)</span> 与比利税（税率为 <spanclass="math inline">\(t\)</span>），转移支付为 <spanclass="math inline">\(T_r\)</span>。消费取决于可支配收入，则有：</p><p><span class="math display">\[\left \{\begin {align}&amp; Y_D=Y-  T  + T_r               \notag  \\&amp; C=\alpha +\beta Y_D     \notag  \\&amp; T=T_0 + tY                          \notag  \\&amp; AE=C+ I_0  + G_0             \notag  \\&amp; AE=Y                                     \notag  \\\end {align}\right.\]</span></p><p>　　由上式可以解得均衡产出水平为：</p><p><span class="math display">\[\begin {align}Y_0= \frac 1 {1-\beta(1-t)}  \Big[\alpha -\beta ( T_0  - T_r)+I_0  +  G_0  \Big]\end{align}\]</span></p><p>　　其中：令 <span class="math inline">\(k= \frac 1{1-\beta(1-t)}  &gt;1\)</span>，且 <span class="math inline">\(0&lt;t, \\beta &lt;1\)</span>。<span class="math inline">\(k\)</span>则为<strong>封闭经济乘数</strong>。</p><h2 id="三四部门经济">（三）四部门经济</h2><h3 id="推导与求解">1. 推导与求解</h3><p>　　四部门经济即在三部门的基础上加入净出口一项。其中，进口函数是收入的线性函数，不是可支配收入的函数，因为包括政府的进口。出口是由外国的购买力和购买愿望决定的，本国一般难以影响。所以，出口一般假定为一个外生变量。</p><p><span class="math display">\[\begin {align}NX=X_0-(m_0+\gamma Y)  \end {align}\]</span></p><p>　　其中，<span class="math inline">\(X_0\)</span>表示出口量，为外生变量；<span class="math inline">\(m_0\)</span>为自发进口；<span class="math inline">\(\gamma\)</span>为边际进口倾向，且 <span class="math inline">\(0&lt;\gamma&lt;1\)</span>。</p><p>　　假定在<u>征收比例税三部门经济</u>的基础上，加入对外贸易部门，则可以列出下面方程：</p><p><span class="math display">\[\left \{\begin {align}&amp; NX=X_0-(m_0+\gamma Y)  \notag  \\&amp; Y_D=Y-  T  + T_r                       \notag  \\&amp; C=\alpha +\beta Y_D            \notag  \\&amp; T=T_0 + tY                                 \notag  \\&amp; AE=C+ I_0  + G_0 +NX           \notag  \\&amp; AE=Y                                            \notag  \\\end {align}\right.\]</span></p><p>　　由上式可以解得均衡产出水平为：</p><p><span class="math display">\[\begin {align}Y_0= \frac 1 {(1+\gamma )-\beta(1-t)}  \Big[\alpha -\beta ( T_0  - T_r)+I_0  +  G_0 + X_0-m_o\Big]\end{align}\]</span></p><p>　　其中：令 <span class="math inline">\(k=\frac 1{(1+\gamma)-\beta(1-t)}\)</span>，则 <spanclass="math inline">\(k\)</span>为开放经济乘数，也称作对外贸易乘数。</p><h3 id="封闭经济乘数与开放经济乘数的比较">2.封闭经济乘数与开放经济乘数的比较</h3><p>　　由三部门经济均衡产出可得，在征收比例税的前提下，<u>封闭经济乘数</u>为：</p><p><span class="math display">\[\begin {align}k= \frac 1 {1-\beta(1-t)}  \end {align}\]</span></p><p>　　由四部门经济均衡产出可得，在征收比例税的前提下，<u>开放经济乘数</u>为：</p><p><span class="math display">\[\begin {align}k=\frac 1 {(1+\gamma)-\beta(1-t)}  \end {align}\]</span></p><p>　　比较两个乘数：</p><p><span class="math display">\[\begin {align}\frac 1 {1-\beta(1-t)}  \gt \frac 1 {(1+\gamma)-\beta(1-t)}  \end {align}\]</span></p><p>　　即：<spanclass="math inline">\(封闭经济乘数\gt开放经济乘数\)</span>，这是因为增加的收入的一部分被用于购买进口商品。</p><h1 id="四乘数论">四、乘数论</h1><p>　　乘数（Multiplier）是宏观经济学的一个术语，是<u>指每单位外生变量的变化所带来的引致变量的变化情况</u>。其原因是，各经济部门是相互关联的，某一部门的一笔投资（或收入变动）不仅会影响本部门的收入，而且会在国民经济其他部门中引起连锁反应，从而影响这些部门的投资与收入。</p><h2 id="一乘数理论">（一）乘数理论</h2><h3 id="推导">1. 推导</h3><p>　　假设增加自主支出 <span class="math inline">\(\Delta {\overlineA}\)</span>，则产出（或者总支出）的增加量为：</p><p><span class="math display">\[\begin {align}\Delta AE=(1+β+β^2+…+β^{n-1})  \Delta {\overline A} =\frac 1 {1-\beta}\Delta {\overline A} \equiv  \Delta Y_0\end {align}\]</span></p><p>　　其中，倍数 <span class="math inline">\(\frac 1 {1-\beta}\)</span>称为乘数（multiplier），即自主性总支出增加 1单位时，均衡产出的变动量。可以看出，边际消费倾向越大，乘数也越大。</p><h3 id="图解">2. 图解</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513203221-e6xubbj.png" style="width:500px" alt="乘数的图形推导" /></p><p>　　如上图所示，起始的均衡点为 <spanclass="math inline">\(E\)</span>，对应的均衡收入水平 <spanclass="math inline">\(Y_ 0\)</span>。自主支出从 <spanclass="math inline">\(\overline A\)</span> 增加到 <spanclass="math inline">\(\overline {A&#39;}\)</span>，使得总支出曲线 <spanclass="math inline">\(AE\)</span> 平行向上移位到 <spanclass="math inline">\(AE&#39;\)</span>，达到新的均衡点 <spanclass="math inline">\(E&#39;\)</span>，对应的均衡收入水平 <spanclass="math inline">\(Y&#39;_0\)</span>。显然，<spanclass="math inline">\(\Delta {\overline A} &lt; \DeltaY_0\)</span>。</p><h2 id="二两部门经济">（二）两部门经济</h2><p>　　<strong>投资乘数/凯恩斯乘数：</strong>收入的变化与带来这种变化的投资支出的变化的比率。</p><p>　　<strong>原理：</strong><spanclass="math inline">\(I\uparrow   \Longrightarrow AE \uparrow\Longrightarrow Y\uparrow   (AE=Y)\)</span></p><p>　　由上可知，两部门经济的均衡产出为：<spanclass="math inline">\(Y_0= \frac 1 {1-\beta}(\alpha +I_0)\)</span>，因此投资乘数为：<span class="math inline">\(k_I=\frac 1{1-\beta}\)</span>。自发支出 <span class="math inline">\(α\)</span>的乘数同样也是 <span class="math inline">\(k_{\alpha}=\frac 1{1-\beta}\)</span>。</p><blockquote><p><strong>推导补充：</strong></p><p><strong>方法一：数学推导</strong></p><p>新增投资 <span class="math inline">\(\Delta I\)</span>对经济的拉动作用包括以下几个步骤：</p><p>第一轮：增加的投资 <span class="math inline">\(ΔI\)</span>使得国民收入 <span class="math inline">\(Y\)</span> 第一轮直接增加 <spanclass="math inline">\(ΔI\)</span></p><p>第二轮：第一轮拉动的国民收入 <spanclass="math inline">\(Y\)</span>，会在第二轮拉动消费增长 <spanclass="math inline">\(\beta \Delta I\)</span></p><p>第三轮：第二轮消费拉动的国民收入增加 <spanclass="math inline">\(\beta \Delta I\)</span>，会在第三轮拉动消费增长<span class="math inline">\({\beta}^2 \Delta I\)</span></p><p>......</p><p>第 n 轮：第 n-1 期拉动的国民收入增加 <spanclass="math inline">\({\beta}^{n-2} \Delta I\)</span>，会在第 n轮拉动消费增长 <span class="math inline">\({\beta}^{n-1} \DeltaI\)</span></p><p>当 <span class="math inline">\(n \to \infty\)</span> 时，新增投资<span class="math inline">\(\Delta I\)</span> 会使得国民经济增长 <spanclass="math inline">\(ΔY=ΔI(1+β+β^2+…+β^{n-1}) = \frac 1 {1-\beta}\Delta I\)</span>，即投资乘数为 <span class="math inline">\(k_I=\frac{\Delta Y} {\Delta I}=\frac 1 {1-\beta}\)</span></p><p>上面计算过程使用了<ahref="https://zhuanlan.zhihu.com/p/436636916">无穷级数求和公式</a>，<spanclass="math inline">\(0&lt;\beta&lt;1\)</span>，<spanclass="math inline">\(\sum_{n=0}^{\infty} { \beta^{n} }=\frac 1{1-\beta}\)</span>。</p><p><strong>方法二：均衡分析</strong></p><p>均衡时收入=支出，那么当投资变化时，从一个均衡转化为另一个均衡，必然存在收入的变化量<span class="math inline">\(ΔY\)</span>等于支出变化量。如果把支出变化量分解成投资引起的直接需求 <spanclass="math inline">\(ΔI\)</span> 和收入变化带来的消费变化 <spanclass="math inline">\(βΔY\)</span>，则有 <spanclass="math inline">\(ΔY=ΔI+βΔY\)</span>，从而推出 <spanclass="math inline">\(\frac {\Delta Y} {\Delta I}=\frac 1{1-\beta}=k_I\)</span>。</p><p><strong>方法三：微分</strong></p><p>根据消费函数决定的国民收入公式 <span class="math inline">\(Y= \frac{\alpha + I} {1-\beta}\)</span>，当增加 <spanclass="math inline">\(ΔI\)</span> 时，<spanclass="math inline">\(Y&#39;= \frac {\alpha + I+ \Delta I}{1-\beta}\)</span>，则 <span class="math inline">\(\Delta Y=Y&#39;-Y=\frac { \Delta I} {1-\beta}\)</span>，即 <spanclass="math inline">\(\frac {\Delta Y} {\Delta I}=\frac 1{1-\beta}=k_I\)</span>。另外，也可以直接求微分 <spanclass="math inline">\(k_I=\frac {\Delta Y} {\Delta I}=\frac 1{1-\beta}\)</span>。</p></blockquote><h2 id="三三部门经济">（三）三部门经济</h2><h3 id="征收定量税-1">1. 征收定量税</h3><p>　　在三部门经济中，征收定量税时的<u>均衡产出水平</u>是：</p><p><span class="math display">\[\begin {align}Y_0= \frac 1 {1-\beta}  \Big[\alpha -\beta ( T_0  - T_r)+I_0  +  G_0  \Big]\end{align}\]</span></p><p>　　<strong>政府购买支出乘数：</strong>收入变动对引起这种变动的政府购买支出变动的比率，可表示为：<spanclass="math inline">\(k_g=\frac 1{1-\beta}\)</span></p><p>　　<strong>税收乘数：</strong>收入变动对引起这种变动的税收变动的比率，可表示为：<spanclass="math inline">\(k_t=\frac {-\beta}{1-\beta}\)</span>，负号表示增税将导致国民收入下降。</p><p>　　<span class="math inline">\(T_0\downarrow  \Longrightarrow Y_D\uparrow  \Longrightarrow C \uparrow   \Longrightarrow  AE\uparrow  \Longrightarrow  Y \uparrow    (AE=Y)\)</span></p><p>　　<strong>政府转移支付乘数：</strong>收入变动对引起这种变动的政府转移支付变动的比率，可表示为：<spanclass="math inline">\(k_{t_r}=\frac { \beta}{1-\beta}\)</span>。</p><blockquote><p><strong>补充：</strong></p><p>从绝对值来看，<span class="math inline">\(\left| k_t \right| = \left|k_{t_r} \right|  &lt;  \left| k_g \right|\)</span></p><p>原因：政府购买直接增加了总支出，而减税或者政府转移支付只会使可支配收入增加相应的数额，增加的可支配收入只有一部分用于消费支出。正是因为政府购买支出乘数大于税收乘数，因此，如果政府购买支出和税收等额增加，国民收入仍将增加。</p></blockquote><p>　　<strong>平衡预算乘数：</strong>政府收入和支出同时以相等数量增加或减少时，国民收入变动与政府收支变动的比率，即：<spanclass="math inline">\(k_b=1\)</span></p><p>　　<strong>平衡预算乘数推导：</strong>因为 <spanclass="math inline">\(ΔG=ΔT\)</span>，由上式可得，<spanclass="math inline">\(\Delta Y=\frac 1{1-\beta}ΔG+\frac {-\beta}{1-\beta}ΔT=\Delta Y\)</span>，因此 <spanclass="math inline">\(k_b=k_g+k_t=1\)</span></p><h3 id="征收比例税-1">2. 征收比例税</h3><p>　　在三部门经济中，如果征收比例税，<u>均衡产出水平</u>为：</p><p><span class="math display">\[\begin {align}Y_0= \frac 1 {1-\beta(1-t)}  \Big[\alpha -\beta ( T_0  - T_r)+I_0  +  G_0  \Big]\end{align}\]</span></p><p>　　此时：</p><p>　　政府购买支出乘数：<span class="math inline">\(k_g=\frac1{1-\beta(1-t)}\)</span></p><p>　　税收乘数：<span class="math inline">\(k_t=\frac {-\beta(1-t)}{1-\beta(1-t)}\)</span></p><p>　　政府转移支付乘数：<span class="math inline">\(k_{t_r}=\frac{\beta (1-t)}{1-\beta(1-t)}\)</span></p><p>　　平衡预算乘数：<span class="math inline">\(k_b=k_g+k_t=1\)</span>仍然成立。</p><p>　　即不论是征收定量税还是比例税，平衡预算乘数均为 <spanclass="math inline">\(k_b=1\)</span>。</p><blockquote><p><strong>数学补充：</strong></p><p>税收与政府转移支付会直接影响居民的可支配收入，税收会降低可支配收入，政府转移支付则会提高可支配收入，两者的乘数相同，但符号相反。</p><p><strong>推导过程：</strong>以征收比例税 <spanclass="math inline">\(\Delta T= t \cdot Y\)</span> 为例：</p><p>第一轮：可支配收入变为<spanclass="math inline">\(Y_D=(1-t)Y_0\)</span>，因此消费变化<spanclass="math inline">\(\Delta C_1=-\beta (1-t) \DeltaT\)</span>，消费的降低直接导致均衡产出减少<spanclass="math inline">\(\Delta Y_1=\Delta C_1\)</span>；</p><p>第二轮：第一轮均衡产出下降导致可支配收入下降，此时消费变化<spanclass="math inline">\(\Delta C_2=-\beta^2 (1-t)^2  \DeltaT\)</span>，导致均衡产出下降<span class="math inline">\(\DeltaY_2=\Delta C_2\)</span>；</p><p>......</p><p>第 n 轮：第 n-1 轮均衡产出下降导致可支配收入下降，此时消费变化<spanclass="math inline">\(\Delta C_n=-\beta^n (1-t)^n  \DeltaT\)</span>，导致均衡产出下降<span class="math inline">\(\DeltaY_n=\Delta C_n\)</span>。</p><p>当 <span class="math inline">\(n \to \infty\)</span> 时，征收比例税<span class="math inline">\(\Delta T=tY\)</span>会使得均衡产出变化：</p><p><span class="math display">\[\begin{align}\Delta Y&amp; = \sum^{\infty}_{n=1} {\Delta Y_n} =  \sum^{\infty}_{n=1} {\DeltaC_n}  \notag \\&amp; =  \sum^{\infty}_{n=1} \Big[-\beta^n (1-t)^n  \Delta T\Big]   \notag \\&amp; = - \beta (1-t) \cdot  \sum^{\infty}_{n=0} \Big[-\beta^n(1-t)^n  \Delta T \Big]   \notag \\&amp; = \frac {-\beta (1-t)}  {1-\beta(1-t)}  \Delta T\end{align}\]</span></p><p>因此，税收乘数为：<span class="math inline">\(k_t=\frac {-\beta(1-t)}{1-\beta(1-t)}\)</span>。</p><p>这里使用了<ahref="https://zhuanlan.zhihu.com/p/436636916">无穷级数求和公式</a>来进行计算。<spanclass="math inline">\(0&lt;\beta&lt;1\)</span>，<spanclass="math inline">\(\sum_{n=0}^{\infty} { \beta^{n} }=\frac 1{1-\beta}\)</span>。</p><p><strong>注意：</strong>征收比例税情况下的税收乘数要区别于自发性税收乘数（总税收中的定量税部分），自发性税收乘数为<spanclass="math inline">\(k_{t_0} = \frac {- \beta}{1-\beta}\)</span>，与<u>三部门经济中征收定量税的税收乘数</u>相同。</p><p>参考资料：<ahref="https://kns.cnki.net/kcms2/article/abstract?v=3uoqIhG8C44YLTlOAiTRKjw8pKedNdX5_mkCYmAjR9xs52jAq_-oHl4Q7cS0n91xAHcRkSqeaoo7oBq9o54dVj-SIaVzIqSA&amp;uniplatform=NZKPT">比例税制下的税收乘数及平衡预算乘数探讨</a></p></blockquote><h2 id="四四部门经济">（四）四部门经济</h2><p>　　<strong>对外贸易乘数：</strong>收入变动对引起这种变动的出口变动的比率，公式为：</p><p><span class="math display">\[\begin {align}k_x = \frac 1 {(1 + \gamma) -\beta(1-t) }\end {align}\]</span></p><p>　　注意：在四部门经济假设下，收入决定公式为：</p><p><span class="math display">\[\begin {align}Y_0= \frac 1 {(1+\gamma )-\beta(1-t)}  \Big[\alpha -\beta ( T_0  - T_r)+I_0  +  G_0 + X_0-m_o\Big]\end{align}\]</span></p><p>　　因此不仅 <span class="math inline">\(k_x = \frac 1 {(1 + \gamma)-\beta(1-t) }\)</span>，自发支出乘数、投资乘数和政府购买支出乘数也都等于<span class="math inline">\(\frac 1 {(1 + \gamma) -\beta(1-t)}\)</span>。</p><p>　　因为 0 <spanclass="math inline">\(＜γ＜1\)</span>，可见开放经济条件下的乘数小于封闭经济条件下的乘数，原因在于由出口导致增加的收入中的一部分用于进口。</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>宏观｜第1章：宏观经济的基本指标及其衡量</title>
      <link href="/posts/45732/"/>
      <url>/posts/45732/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/44205/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一宏观经济学的特点">一、宏观经济学的特点</h1><h2 id="一宏观经济学的研究对象">（一）宏观经济学的研究对象</h2><p>　　宏观经济学研究的是社会总体的经济行为及其后果，即对经济运行的整体，包括整个社会的产量、收入、价格水平和就业水平进行分析。</p><p>　　测量宏观经济运行情况的最重要指标有国民收入及其增长率、失业率、物价水平及其变动即通货膨胀率。其他比较重要的指标还有政府财政预算赤字及贸易赤字的变动、利率等。</p><h2id="二宏观经济学和微观经济学的异同">（二）宏观经济学和微观经济学的异同</h2><p>　　现代宏观经济学作为一门独立的经济学分支学科，是凯恩斯的著作《就业、利息和货币通论》一书于1936 年出版后才正式形成的。</p><p>　　宏观经济学和微观经济学都是研究市场经济中经济活动参与者的行为及其后果的，而市场经济中所有经济活动参与者的行为都是一定意义上的供给和需求行为，因此，宏观经济学与微观经济学的主要相同之处就在于它们有着相同的供求曲线形状，它们的交点决定着价格和产量。</p><p>　　微观经济学研究的是个体经济活动参与者的行为及其后果，而宏观经济学研究的是社会总体的经济行为及其后果。微观经济学中的价格和产量是一个个具体商品的价格和产量，而宏观经济学中的价格和产量是整个社会的价格水平和产出水平，这里价格水平用价格指数表示，产出水平用货币衡量的市场价值（国内生产总值）表示。</p><h3 id="二者联系">1. 二者联系</h3><ul><li><strong>微观经济学和宏观经济学互为补充。</strong>微观经济学是在资源总量既定的条件下，通过研究个体经济活动参与者的经济行为及其后果来说明市场机制如何实现各种资源的最优配置；宏观经济学则是在资源配置方式既定的条件下研究经济中各有关总量的决定及其变化。</li><li><strong>微观经济学是宏观经济学的基础。</strong>这是因为任何总体总是由个体组成的，对总体行为的分析自然也离不开个体行为的分析。</li><li><strong>微观经济学和宏观经济学都采用了供求均衡分析的方法。</strong>微观经济学通过需求曲线和供给曲线决定产品的均衡价格和产量，宏观经济学通过总需求曲线和总供给曲线研究社会的一般价格水平和产出水平。</li></ul><h3 id="二者区别">2. 二者区别</h3><ul><li><strong>研究对象不同（单个经济体 VS整个经济系统）。</strong>微观经济学的研究对象是单个经济单位，如家庭、厂商等。而宏观经济学的研究对象则是整个经济，研究的是整个经济的运行方式与规律，是从总量上分析经济问题。</li><li><strong>解决的问题不同（资源配置 VS资源利用）。</strong>微观经济学要解决的是资源配置问题，即生产什么、如何生产和为谁生产的问题，并最终实现个体效益的最大化。宏观经济学则把资源配置作为既定的前提，通过研究社会范围内的资源利用问题，来实现社会福利的最大化。</li><li><strong>研究方法不同（个量分析 VS总量分析）。</strong>微观经济学的研究方法是个量分析，即研究经济变量的单项数值如何决定。而宏观经济学的研究方法则是总量分析，即对能够反映整个经济运行情况的经济变量的决定、变动及其相互关系进行分析。因此，宏观经济学又称为总量经济学。</li><li><strong>中心理论和基本内容不同（价格理论 VS国民收入决定理论）。</strong>微观经济学的中心理论是价格理论，其所有的分析都是围绕价格机制的运行展开的。宏观经济学的中心理论则是国民收入（产出）理论，其所有的分析都是围绕国民收入（产出）的决定展开的。</li></ul><h2 id="三宏观经济学的加总法">（三）宏观经济学的加总法</h2><p>　　宏观经济学研究的是社会总体的经济行为，因而不能像微观经济学那样运用个量分析方法，而要用总量分析方法，即从个量分析的加总中引出总量的分析方法。</p><p>　　宏观经济学运用经济加总法时有以下几点值得注意：</p><ul><li>宏观分析中有些总量变化可以从微观分析的个量中直接加总（大部分是加权平均加总）而得到，因为微观是宏观的基础。</li><li>有的时候微观经济学中一些个体变量尽管可以加总，但是这种加总却达不到研究整个社会经济行为的目的。可见，尽管微观是宏观的基础，但总体经济行为并不是个体经济行为的简单加总。对微观经济是正确的东西，对宏观经济未必也是正确的，其原因除了经济个体与经济总体所追求的目标不同以外，还在于某些行为对经济个体之所以正确或真实，是因为假定了其他情况不变，即假定某一经济个体的行为对其他个体不产生影响，但宏观经济涉及的是经济总体即所有的经济个体，因而再不能假定其他同一类别的个量不变。</li><li>有些时候一些微观经济个体的行为根本不能直接加总。</li></ul><p>　　可见，总量分析运用加总方法时需要谨慎，要区分能否加总的不同情况，以及弄清楚加总能否达到研究宏观经济行为的目的。</p><h2 id="四宏观经济学鸟瞰">（四）宏观经济学鸟瞰</h2><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513135436-tg1r886.png" style="width:600px" alt="宏观经济学鸟瞰" /></p><h1 id="二国内生产总值">二、国内生产总值</h1><h2 id="一重要概念">（一）重要概念</h2><h3 id="最终产品与中间产品">1. 最终产品与中间产品</h3><p>　　<strong>最终产品</strong>是指在一定时期内生产的并由其最后使用者所购买的产品和劳务。</p><p>　　<strong>中间产品</strong>是指用于再出售而供生产别种产品用的产品。</p><h3 id="国内生产总值和国民生产总值">2. 国内生产总值和国民生产总值</h3><p>　　<strong>国内生产总值（GDP）</strong>是指经济社会（即一国或一地区）在一定时期内运用生产要素所生产的全部最终产品（物品和劳务）的市场价值（GrossDomestic Product）。</p><p>　　<strong>国民生产总值（GNP）</strong>是指某国国民所拥有的全部生产要素在一定时期内所生产的最终产品的市场价值。</p><p>　　国内生产总值和国民生产总值这两个统计指标的统计原则是不同的。国内生产总值的统计原则是国土原则，而国民生产总值的统计原则是国民原则。按国土原则统计，凡是在本国领土上创造的收入，不管是不是本国国民创造的都要统计；按国民原则统计，凡是本国国民所创造的收入，不管是否在本国领土上都要统计。</p><p>　　<strong>国外要素净支付（NFP）</strong>为本国生产要素在其他国家获得的收入减去本国付给外国生产要素在本国获得的收入。那么：</p><p><span class="math display">\[\begin {align}GDP=GNP-NFP\end{align}\]</span></p><p>　　或者：</p><p><span class="math display">\[\begin {align}GNP=GDP+NFP\end {align}\]</span></p><h3 id="名义国内生产总值和实际国内生产总值">3.名义国内生产总值和实际国内生产总值</h3><p>　　<strong>名义 GDP（或货币 GDP）</strong>是用生产物品和劳务的当年价格计算的全部最终产品的市场价值。</p><p>　　<strong>实际 GDP</strong>是用从前某一年作为基期的价格计算出来的全部最终产品的市场价值。</p><p>　　GDP 折算指数是名义 GDP 和实际 GDP 的比率。使用 GDP折算指数，可以将名义 GDP 折算为实际 GDP，其公式为：</p><p><span class="math display">\[\begin {align}实际GDP=\frac {名义GDP} {GDP折算指数}\end {align}\]</span></p><p>　　在 <span class="math inline">\(t\)</span> 时间，以 <spanclass="math inline">\(t-1\)</span> 时间为基期的 GDP 折算指数为：</p><p><span class="math display">\[\begin {align}GDP折算指数=\frac {\sum P_tQ_t} {\sum P_{t-1}Q_t}\end {align}\]</span></p><h3 id="流量与存量">4. 流量与存量</h3><p>　　流量是一定时期内发生的变量。</p><p>　　存量是一定时点上存在的变量。</p><h2 id="二国内生产总值的特点">（二）国内生产总值的特点</h2><ul><li><strong>GDP是一个市场价值的概念。</strong>由于经济中会生产出各不相同的最终产品与服务，因而，在商品和服务形态上，是无法将各种最终产品和服务的数量相加来得出GDP的。为了克服这一困难，只能把各种最终产品和服务的市场价值用相应的货币代表的价值量加以衡量。最终产品和服务的市场价值实际上就是用它们的单位价格乘以产量得出来的。</li><li><strong>GDP 测度的是最终产品的价值</strong>，中间产品价值不计入GDP，否则会造成重复计算。</li><li><strong>GDP是一定时期内（往往为一年）所生产而不是所售卖掉的最终产品价值。</strong></li><li><strong>GDP是计算期内生产的最终产品价值，因而是流量而不是存量。</strong></li><li><strong>GDP是一国范围内生产的最终产品的市场价值，是一个地域概念。</strong>国民生产总值（GNP）是一个国民概念，指某国国民所拥有的全部生产要素在一定时期内所生产的最终产品的市场价值。</li><li><strong>GDP一般仅指市场活动导致的价值。</strong>家务劳动、自给自足生产等非市场活动不计入GDP 中。另外，大量的地下经济活动在 GDP 中也没有得到反映。</li></ul><h2 id="三gdp-指标的意义与局限性">（三）GDP 指标的意义与局限性</h2><h3 id="gdp-指标的意义">1. GDP 指标的意义</h3><p>　　将国内生产总值（GDP）作为核算国民经济活动的核心指标有其合理性，因为GDP确实代表了一国或一个地区所有常住单位和个人在一定时期内全部生产活动（包括产品和劳务）的最终成果，可以对一国总体经济运行表现做出概括性衡量，反映出了一国（或地区）的经济实力状况，便于国际间和地区间作比较，为制定国家或地区经济发展战略、分析经济运行状况以及政府调控和管理经济提供了重要参考和依据。</p><h3 id="gdp-指标的局限性">2. GDP 指标的局限性</h3><p>　　虽然 GDP概念被普遍运用，但是它在衡量各国经济活动状况时，却并非一个完美无缺的指标。作为衡量一国经济水平的指标，GDP有以下几个局限性：</p><ul><li>不能反映社会成本。</li><li>不能反映经济增长方式付出的代价。</li><li>不能反映经济增长的效率和效益。</li><li>不能反映人们的生活质量。</li><li>不能反映社会收入和财富分配状况。</li></ul><h2 id="四总支出-总产出-总收入三面等价原理">（四）总支出 ≡ 总产出 ≡总收入（三面等价原理）</h2><h3 id="总产出-总收入">1. 总产出 ≡ 总收入</h3><p>　　生产的最终产品的价值都要转化为生产要素报酬和企业利润，即转化为要素提供者和企业经营者的收入，所以总产出≡ 总收入；最终产品的销售收入就是最终产品购买者的支出，所以总产出 ≡总支出。因此，总支出 ≡ 总产出 ≡ 总收入。</p><h3 id="总支出-总产出">2. 总支出 ≡ 总产出</h3><p>　　最终产品的销售收入总等于购买最终产品的总支出，之所以如此，关键在于把企业未卖掉的产品看作是企业自己在存货投资上的支出。</p><h3 id="三面等价总支出-总产出-总收入">3. 三面等价：总支出 ≡ 总产出 ≡总收入</h3><p>　　产出是指整个社会所生产的最终产品（包括劳务）价值，亦即新生产的财富和价值，它总等于要素收入的总和，之所以如此，是因为把利润看作是产品卖价扣除工资、利息和地租等成本支出后的余额，即利润是收入的一部分。</p><h1 id="三国民收入核算">三、国民收入核算</h1><h2id="一国内生产总值的构成与核算方法">（一）国内生产总值的构成与核算方法</h2><p>　　<strong>核算国民收入最为常用的方法为和。</strong></p><h3 id="支出法">1．支出法</h3><h4 id="定义">1.1 定义</h4><p>　　支出法是指通过核算在一定时期内整个社会购买最终产品的总支出（即最终产品的总卖价）来计量GDP 的一种方法。</p><h4 id="构成">1.2 构成</h4><p><span class="math display">\[\begin {align}GDP=C+I+G+(X-M)\end {align}\]</span></p><p>　　<strong>个人消费支出总额（C）</strong>：<strong>除购买新住房之外用于物品与劳务的支出</strong>，包括<strong>耐用品消费支出</strong>、<strong>非耐用品消费支出</strong>和<strong>服务支出</strong>三个方面。</p><p>　　<strong>国内总投资支出（I）</strong>：增加或更换资本资产的支出，包括<strong>固定资产投资</strong>与<strong>存货投资</strong>，还包括<strong>商业存货的变化</strong>，<u>不包括购买债券或上市公司的股票</u>等。<strong>购买新住房属于总投资</strong>。</p><p>　　其中：<spanclass="math inline">\(总投资=净投资+重置投资(补偿固定资本损耗和意外损坏)\)</span></p><p>　　<strong>政府购买支出（G）</strong>：指各级政府部门对商品和劳务的购买支出，包括政府在军事设施和物资方面的支出和政府雇员的薪金支出。但政府转移支付、公债利息等不计入GDP。</p><p>　　<strong>商品和劳务的净出口（X-M）</strong>：进出口的差额，等于外国对国内生产的物品的购买（出口）减国内对外国物品的购买（进口）。</p><h4 id="几个问题">1.3 几个问题</h4><p>　　<strong>问题一：</strong>为什么人们从公司债券中得到的利息应计入GDP，而从政府公债中得到的利息不计入 GDP？</p><p>　　人们购买公司债券实际上是借钱给公司用，公司从人们手中借到了钱作生产用，比方说购买机器设备，就是提供了生产性服务，可被认为创造了价值，因而公司债券的利息可看作是资本这一要素提供生产性服务的报酬或收入，当然要计入GDP。与之不同的是，政府的公债利息被看作是转移支付，因为政府借的债不一定投入生产活动，而往往是用于弥补财政赤字。政府公债利息常常被看作是从纳税人身上取得的收入加以支付的，因而习惯上被看作是转移支付，因此从政府公债中得到的利息不计入GDP。</p><p>　　<strong>问题二：</strong>为什么人们购买债券和股票从个人来说是投资，而在经济学上不算是投资？</p><p>　　经济学意义上的投资指增加或更换资本资产的支出，即购买新厂房、设备和存货的行为，而人们购买债券和股票只是一种证券交易活动，并不是实际的生产经营活动。人们购买债券或股票，是一种产权转移活动，因而不属经济学意义的投资活动，也不能计入GDP。当公司从人们手里取得了出售债券或股票的货币资金再去购买厂房或机器设备时，才是经济学上的投资活动。</p><p>　　<strong>问题三：</strong>为什么政府给公务员发工资要计入GDP，而给灾区或困难人群发的救济金不计入 GDP？</p><p>　　之所以说政府给公务员发工资要计入GDP，而给灾区或困难人群发的救济金不计入 GDP，其原因在于：<br />政府通过雇请公务员为社会提供了服务，发生了实际的交换活动，所以政府给公务员发工资要计入GDP。而政府给灾区或困难人群发的救济金属于转移支付，转移支付只是简单地把收入从一些人或一些组织转移到另一些人或另一些组织，在此期间没有相应的物品或劳务的交换发生，所以这些救济金不计入GDP。</p><p>　　<strong>问题四：</strong>为什么企业向政府缴纳的间接税（如营业税）也计入GDP？</p><p>　　企业向政府缴纳的间接税（如营业税）虽由出售产品的企业缴纳，但它是加到产品价格上作为产品价格的构成部分由购买者负担的。企业向政府缴纳的间接税（如营业税）虽然不购成要素所有者收入，而是政府的收入，但毕竟是购买产品的家庭或厂商的支出，因此，为了使支出法计得的GDP 和收入法计得的 GDP相一致，必须把企业向政府缴纳的间接税（如营业税）也计入 GDP。</p><h3 id="收入法或成本法">2．收入法（或成本法）</h3><h4 id="定义-1">2.1 定义</h4><p>　　收入法是从居民、政府和厂商的收入角度出发，把参与产品和劳务生产的各种生产要素所获得的各种收入加总起来计算国内生产总值的方法。</p><p>　　收入法即用要素收入亦即企业生产成本核算GDP。由于要素的收入从企业角度看即是产品的成本（包括企业利润），因而这种方法又称要素成本法。</p><h4 id="构成-1">2.2 构成</h4><p><span class="math display">\[\begin {align}国民总收入= &amp; 工资+利息+利润+租金+间接税和企业转移支付     \notag \\&amp; +折旧+统计误差\end {align}\]</span></p><p>　　<strong>工资、利息和租金等生产要素的报酬。</strong></p><p>　　<strong>非公司企业主收入，</strong>如医生、律师、农民和小店铺主的收入。</p><p>　　<strong>公司税前利润，</strong>包括公司所得税、社会保险税、股东红利及公司未分配利润等。</p><p>　　<strong>企业转移支付及企业间接税。</strong>这些虽然不是生产要素创造的收入，但要通过产品价格转嫁给购买者，故也应视为成本。企业转移支付包括对非营利组织的社会慈善捐款和消费者呆账，企业间接税包括货物税或销售税、周转税。</p><p>　　<strong>资本折旧。</strong>它虽不是要素收入，但包括在应回收的投资成本中，故也应计入GDP。</p><h3 id="生产法部门法">3．生产法（部门法）</h3><h4 id="定义-2">1.1 定义</h4><p>　　生产法是从生产的角度出发，把所有企业单位投入的生产要素新创造出来的产品和劳务在市场上的销售价值，按产业部门分类汇总来计量GDP 的一种方法。</p><h4 id="标准形式生产法的步骤">1.2 标准形式生产法的步骤</h4><ul><li>计算各产业部门的总产值。</li><li>计算各产业部门的中间消耗，即各部门生产单位在生产中所消耗的购自其他生产单位的货物和服务。</li><li>从总产值中减去中间消耗，得出各产业部门的增加值。所有产业部门增加值的总和，便是国内生产总值。</li><li>对第三步所得结果进行调整，即从国内生产总值中扣除支付给外国居民的要素收入，再加上本国政府和居民来自国外的要素收入，其结果即为国民生产总值（GNP）。</li></ul><h2 id="二gdp-与其他衡量指标">（二）GDP 与其他衡量指标</h2><h3 id="国内生产总值gdp">1．国内生产总值（GDP）</h3><p>　　国内生产总值（GDP）计量一定时期内一个国家的所有生产活动的价值。国内生产总值中的“总”字意指在计算各个生产单位的产出时，未扣除当期的资本耗费。如果扣除资本耗费，那就是国内生产净值。</p><h3 id="国内生产净值ndp">2．国内生产净值（NDP）</h3><p>　　国内生产净值（NDP）是一国在一定时期内以货币表现的最终产品和劳务价值扣除固定资产折旧后的余额。</p><p><span class="math display">\[\begin{align}NDP=GDP-折旧\end {align}\]</span></p><p>　　其中：<span class="math inline">\(折旧=总投资-净投资\)</span></p><h3 id="国民收入ni">3．国民收入（NI）</h3><p>　　国民收入（NI）表示狭义的国民收入（广义的国民收入即GDP、GNP），是指一个国家在一定时期内（通常为一年）用于生产产品和提供劳务的各项生产要素所获得的报酬（收入）的总和，是劳动、资本和土地等生产要素所获得的全部收入，NI可由 GDP 减去折旧和间接税而得到。</p><p>　　这里的国民收入，实际上是按要素费用计算的国民净收入。</p><p><span class="math display">\[\begin {align}NI &amp; =NDP-间接税-企业转移支付+政府补助金   \notag \\     &amp;=工资+租金+利息+业主收入+企业利润\end {align}\]</span></p><h3 id="个人收入pi">4．个人收入（PI）</h3><p>　　个人收入（PI）指一个国家所有个人在一定时期内（通常为一年）从各种来源所取得的收入总和。</p><p><span class="math display">\[\begin {align}PI= &amp; NI-(公司所得税+社会保险税+公司未分配利润)    \notag \\&amp;+政府或企业给个人的转移支付+利息调整\end {align}\]</span></p><h3 id="个人可支配收入dpi">5．个人可支配收入（DPI）</h3><p>　　从个人收入（PI）中扣除个人向政府缴纳的税金，即得个人可支配收入（DPI）。</p><p><span class="math display">\[\begin {align}DPI= PI-个人所得税\end {align}\]</span></p><p>　　从个人收入中减去个人税收和非税支付，就可以得到个人可支配收入。个人税收包括个人收入税、个人财产税、遗产税和赠与税等。非税支付包括罚金和馈赠等。个人可支配收入也被称作税后的个人收入。</p><h1 id="四投资储蓄恒等式">四、投资—储蓄恒等式</h1><p>　　<strong>“事后的恒等”“定义的恒等”</strong></p><h2 id="一两部门经济">（一）两部门经济</h2><p>　　<strong>两部门：家庭部门、企业部门</strong></p><p>　　假设：没有政府与对外贸易，假定经济是均衡的。</p><p>　　原理：在 GDP 意义上，总支出=总收入</p><p>　　<strong>从总支出来看：</strong>售出的产量可以被看作以消费支出与投资支出之和来表示的需求的组成部分。可以将其写成：</p><p><span class="math display">\[\begin {align}Y \equiv C+I\end {align}\]</span></p><p>　　<strong>从总收入来看：</strong></p><p><span class="math display">\[\begin {align}Y \equiv C+S\end {align}\]</span></p><p>　　因此：</p><p><span class="math display">\[\begin {align}C+I \equiv Y \equiv  C+S\end {align}\]</span></p><p>　　即有恒等关系：<span class="math inline">\(I\equivS\)</span>。</p><p>　　这反映了在两部门经济中总供给和总需求恒等关系之下，储蓄和投资一定恒相等，此时不管经济是否处于充分就业、通货膨胀或均衡状态。</p><blockquote><p><strong>补充：</strong></p><p>这里的储蓄和投资恒等，是从国民收入会计角度看，事后的储蓄和投资总是相等的。</p><ul><li>经济核算：未被消费的部分都算作投资，例如：未被消费的商品作为<u>存货投资</u>；</li><li>实际发生：对于经济、某个人、某个企业或某个部门，可以通过借款或贷款，使投资大于或小于储蓄。</li></ul></blockquote><h2 id="二三部门经济">（二）三部门经济</h2><p>　　<strong>三部门：家庭部门、企业部门、政府部门</strong></p><p>　　<strong>从总支出来看：</strong></p><p><span class="math display">\[\begin {align}Y \equiv C+I+G\end {align}\]</span></p><p>　　<strong>从总收入来看：</strong></p><p><span class="math display">\[\begin {align}Y \equiv C+S+T\end {align}\]</span></p><p>　　因此：</p><p><span class="math display">\[\begin {align}C+I+G \equiv C+S+T\end {align}\]</span></p><p>　　即有恒等式：<span class="math inline">\(I \equiv S +(T-G)\)</span></p><p>　　其中，<span class="math inline">\(T-G\)</span> 是政府储蓄。<spanclass="math inline">\(T＞G\)</span> 时，差额为预算盈余；<spanclass="math inline">\(T＜G\)</span> 时，差额为预算赤字。</p><p>　　<span class="math inline">\(S + (T-G)\)</span>表示私人储蓄与政府储蓄之和。</p><p>　　由<u>三部门总收入方程</u>可以得到可支配收入：<spanclass="math inline">\(Y-T=Y_D=C+S\)</span></p><h2 id="三四部门经济">（三）四部门经济</h2><p>　　<strong>四部门：家庭部门、企业部门、政府部门、国外部门</strong></p><p>　　<strong>从总支出来看：</strong></p><p><span class="math display">\[\begin {align}Y \equiv C+I+G+(X-M)\end {align}\]</span></p><p>　　<strong>从总收入来看：</strong></p><p><span class="math display">\[\begin {align}Y \equiv C+S+T\end {align}\]</span></p><p>　　因此：</p><p><span class="math display">\[\begin {align}C+I+G+(X-M)\equiv C+S+T\end {align}\]</span></p><p>　　即有恒等式：<span class="math inline">\(I \equiv S +(T-G)+(M-X)\)</span></p><ul><li><span class="math inline">\(S\)</span> 是私人储蓄</li><li><span class="math inline">\((T-G)\)</span> 是政府储蓄</li><li><span class="math inline">\((M-X)\)</span>是从世界其他国家的借款</li></ul><p>　　如果净税收超过政府支出，即 <span class="math inline">\(T \gtG\)</span>，则政府预算盈余就可以用来为投资提供资金。但是，如果净税收少于政府支出，本来可以用来为投资融资的资金就必须首先用来填补政府预算赤字。</p><p>　　需要注意的是，储蓄—投资恒等是从国民收入会计的角度，就整个经济而言，事后的储蓄和事后的投资总量相等，而以后分析宏观经济均衡时投资等于储蓄，是指计划投资（事前投资）等于计划储蓄（事前储蓄）所形成的经济均衡状态。</p><p>　　<span class="math inline">\(S + (T-G)+(M-X)\)</span>表示私人储蓄与政府储蓄之和。</p><blockquote><p><strong>补充：</strong></p><p>在三部门和四部门经济中，储蓄 <span class="math inline">\(S\)</span>等于消费者的储蓄加上厂商未分配利润和折旧。政府的税收 <spanclass="math inline">\(T\)</span>是税收净额，即各级政府的总税收减去政府无偿（至少是在本期）支付给消费者和厂商的转移支付，再减去政府利息支付和津贴。</p></blockquote><h2 id="四问题">（四）问题</h2><p>　　<strong>储蓄—投资恒等式为什么不意味着计划的储蓄恒等于计划的投资？</strong></p><p>　　在国民收入核算体系中，存在的储蓄—投资恒等式完全是根据储蓄和投资的定义得出的。根据定义，国内生产总值总等于消费加投资，国民总收入则等于消费加储蓄，国内生产总值又等于国民总收入，这样才有了储蓄恒等于投资的关系。这种恒等关系就是两部门经济的总供给和总需求的恒等关系。只要遵循储蓄和投资的这些定义，储蓄和投资一定相等，而不管经济是否充分就业或通货膨胀，即是否均衡。但这一恒等式并不意味着人们愿意的或者说事前计划的储蓄总等于企业想要的投资。</p><p>　　在实际经济生活中，储蓄和投资的主体及动机都不一样，这就会引起计划投资和计划储蓄的不一致，形成总供给和总需求的不平衡，引起经济扩张和收缩。分析宏观经济均衡时所讲的投资要等于储蓄，是指计划投资等于计划储蓄时，才能形成经济的均衡状态。这和国民收入的核算中实际发生的投资总等于实际发生的储蓄这种恒等关系并不是一回事。</p><h1 id="五失业与物价水平的衡量">五、失业与物价水平的衡量</h1><h2 id="一失业的衡量">（一）失业的衡量</h2><p>　　根据国际劳工组织的定义，失业指在某个年龄以上，在考察期限内没有工作，而又有能力工作，并且正在寻找工作的人。只有三个条件同时成立，才能认定一个人为失业者。</p><h3 id="一三种类型的人">（一）三种类型的人</h3><p>　　一个经济中的人可以被归入三种类型：就业、失业，或者不属于劳动力。按照我国规定，16周岁以下人口属于童工（不能聘用），女性 55 周岁退休，男性 60周岁退休（可认定为丧失劳动能力而退出工作岗位）。</p><p>　　如下图所示，可得出各种类型之间的关系和区别。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220513163620-q3u2rf7.png" style="width:700px" alt="三种类型的人" /></p><h3 id="二失业率">（二）失业率</h3><p>　　失业率是指失业人数占劳动力总数的百分比，它是衡量经济中失业状况的最基本指标。计算公式为：</p><p><span class="math display">\[\begin {align}失业率=\frac{失业人数} {劳动力数量} \times 100%\end {align}\]</span></p><h3 id="三劳动力参与率">（三）劳动力参与率</h3><p>　　劳动力参与率为成年人口中属于劳动力的人数的百分比。计算公式为：</p><p><span class="math display">\[\begin {align}劳动力参与率=\frac{劳动力数量} {成年人口数量} \times 100%\end {align}\]</span></p><h2 id="二物价水平的衡量">（二）物价水平的衡量</h2><p>　　通货膨胀是指物价总水平的上升。物价总水平或者说一般物价水平是指所有商品和劳务交易价格总额的加权平均数值，这个加权平均值就是价格指数。宏观经济学用价格指数来描述整个经济中的价格水平。宏观经济学中常涉及的价格指数主要有GDP 折算指数、消费价格指数（简记为 CPI）和生产者价格指数（简记为PPI）。</p><h3 id="消费价格指数">1．消费价格指数</h3><p>　　消费价格指数（CPI）又称生活费用价格指数，指通过计算城市居民日常消费的生活用品和劳务的价格水平变动而得到的指数，计算公式为：</p><p><span class="math display">\[\begin {align}CPI=\frac{现期价格指数} {基期价格指数} \times 100%\end {align}\]</span></p><h3 id="生产者价格指数">2．生产者价格指数</h3><p>　　生产者价格指数（PPI）指通过计算生产者在生产过程中所有阶段上所获得的产品的价格水平变动而得到的指数。</p><h3 id="cpi-与-gdp-折算指数之间的区别">3．CPI 与 GDP折算指数之间的区别</h3><p>　　（联系：GDP折算指数）</p><ul><li>GDP 折算指数衡量所生产的所有物品与劳务的价格，而 CPI只衡量消费者购买的物品与劳务的价格。</li><li>GDP 折算指数只包括国内生产的物品，进出口并不是 GDP的一部分，而且也不反映在 GDP 平减指数上。CPI则包括消费者所购买的所有物品。</li><li>二者衡量经济中许多价格加总的方法不同，CPI确定不同物品价格的固定加权数，而 GDP平减指数确定可变的加权数。也就是说，CPI 使用固定的一篮子物品来计算，而GDP 折算指数允许一篮子物品随 GDP 组成部分的变动而一直变动。</li></ul><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>《宏观经济学》内容速查与笔记目录</title>
      <link href="/posts/44205/"/>
      <url>/posts/44205/</url>
      
        <content type="html"><![CDATA[<p><strong>参考高鸿业《西方经济学（宏观部分）》</strong></p><p>‍</p><p><ahref="siyuan://blocks/20220514154917-afayc7h">宏观经济政策目标</a>与章节内容对应：</p><ul><li>充分就业（<ahref="https://fgzfgz.github.io/2022/05/20/宏观-第5章：失业与通货膨胀/">第5章：失业与通货膨胀</a>）</li><li>物价水平稳定（<ahref="https://fgzfgz.github.io/2022/05/20/宏观-第5章：失业与通货膨胀/">第5章：失业与通货膨胀</a>）</li><li>国际收支平衡（<ahref="https://fgzfgz.github.io/2022/05/23/宏观-第7章：开放经济下的短期经济模型/">第7章：开放经济下的短期经济模型</a>）</li><li>持续均衡的经济增长（<ahref="siyuan://blocks/20220427235846-at6qdpo">第8章：经济增长</a>）</li></ul><hr /><h3 id="目-录">目 录</h3><p><ahref="https://fgzfgz.github.io/posts/45732/">第1章：宏观经济的基本指标及其衡量</a></p><p><ahref="https://fgzfgz.github.io/posts/22815/">第2章：国民收入的决定：收入—支出模型</a></p><p><ahref="https://fgzfgz.github.io/posts/36311/">第3章：国民收入的决定：IS-LM模型</a></p><p><ahref="https://fgzfgz.github.io/posts/29677/">第4章：国民收入的决定：AD-AS模型</a></p><p><ahref="https://fgzfgz.github.io/posts/7692/">第5章：失业与通货膨胀</a></p><p><ahref="https://fgzfgz.github.io/posts/31912/">第6章：宏观经济政策</a></p><p><ahref="https://fgzfgz.github.io/posts/26561/">第7章：开放经济下的短期经济模型</a></p><p><ahref="https://fgzfgz.github.io/posts/27640/">第8章：经济增长</a></p><p><ahref="https://fgzfgz.github.io/posts/53788/">第9章：宏观经济学的微观基础</a></p><p><ahref="https://fgzfgz.github.io/posts/35486/">第10章：新古典宏观经济学与新凯恩斯主义经济学</a></p><hr /><h3 id="相关资源">相关资源：</h3><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜消费理论与生产理论的对称性问题</title>
      <link href="/posts/38574/"/>
      <url>/posts/38574/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://www.zhihu.com/question/532958273/answer/2487962950">原文链接</a></strong></p><p><strong>消费理论与生产理论中有许多对称的概念：</strong></p><ol type="1"><li>目标：消费者追求效用最大化，生产者追求利润最大化</li><li>函数形式：消费的效用函数中，自变量是各种商品的数量；生产函数中，自变量是各种要素的数量。</li><li>效用与利润的比较：边际效用 VS 边际报酬；边际效用递减规律 VS边际报酬递减规律</li><li>等效用线(无差异曲线) VS 等产量曲线</li><li>消费者对商品的偏好(体现为商品的边际效用)决定边际替代率；生产者的技术水平(体现为要素的边际产出)决定边际技术替代率；</li><li>面临的约束：消费者面临收入约束(预算约束线)，生产者面临成本约束(等成本曲线)</li><li>商品分类 / 要素投入决定的生产函数分类：完全替代品 VS固定替代比例的生产函数 (线性生产函数)；完全互补品 VS固定投入比例的生产函数 (里昂惕夫生产函数)</li><li>消费者与生产者的最优选择问题：价格—消费曲线和需求曲线 VS扩展线(扩大生产规模的最优路径)</li></ol><p>消费理论和生产理论何其相似！</p><hr /><h3 id="相关内容">相关内容：</h3><p><ahref="https://fgzfgz.github.io/posts/62210/">微观经济学-第3章：消费者理论</a></p><p><ahref="https://fgzfgz.github.io/posts/42354/">微观经济学-第4章：厂商理论—生产函数</a></p><p><ahref="https://fgzfgz.github.io/posts/34942/">微观经济学-第5章：厂商理论—成本理论</a></p><p><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></p><p><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></p>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜成本理论中可变成本与固定成</title>
      <link href="/posts/59745/"/>
      <url>/posts/59745/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://www.zhihu.com/question/533454236/answer/2493241612">原文链接</a></strong></p><p>经济学里的“可变成本”，是依产量而变化的成本，而“固定成本”被认为是不随产量变化的成本。</p><p>然而，其实“固定成本”和产量也是有一定关系的，但是是一种范围的关系，例如富士康新投入一条产线，最多可以每月组装10 万台 iPhone，如果本来就有 10条一样的产线了，且都按照最大产量生产，不增加产线的产量就是 100万台，加了就是最多 110万台，这其实也和产量有一定关系，但不是直接的、一一对应的关系，因此将此认为是“固定成本”。</p><p><strong>在此基础上，就能发现这个问题的本质在于，经济学如何区分短期和长期。</strong></p><p><strong>在短期</strong>，一些生产要素不能及时调整。以仅投入劳动和资本两种生产要素为例，在短期企业可以迅速调整劳动力的配置，而资本投入包括可变投入与固定投入（例如购买设备等固定投入），为简化分析，在成本理论中将短期内的资本投入认为是“固定投入”，而不考虑可变的资本投入。</p><p>这样假设的原因之一是，在短期的在工业生产中，一些资本投入具有“不可分性”，例如设备购置呈现阶梯状变化，而劳动的雇佣则相对灵活性更强，以富士康为例子就更好理解，富士康新开一条产线需要投入大量固定成本，而由于劳动力数量非常多，一个厂区的劳动人数可能高达上千人，因此劳动力的数量调整相对灵活。</p><p>然而，<strong>在长期，</strong>成本理论假设所有要素都可以灵活配置，原因是经济学中的“长期”本就有要素可以实现最优配置的时期的含义，这个长期可以有多长呢？半年？一年？三年？五年？都可以，只要过了这段时间，要素可以实现最优配置即可。因此在这种假设背景下，富士康调整产线似乎显得“更加灵活”，但也只是在这个假设的背景下显得更加灵活。因为，如果以5年为长期，富士康从决定新增产线到实现投产，其实往往只要不到一年就可以实现，以5年为限来看，<strong>当然在短期被认为是“固定投入”的购置设备，在长期也可以被看做“可变投入”了。</strong></p><hr /><h3 id="相关内容">相关内容：</h3><p><ahref="https://fgzfgz.github.io/posts/34942/">微观经济学-第5章：厂商理论—成本理论</a></p><p><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></p><p><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></p>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜第11章：市场失灵和微观经济政策</title>
      <link href="/posts/54164/"/>
      <url>/posts/54164/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/35116/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一市场失灵">一、市场失灵</h1><p>　　市场失灵是指市场机制不能实现资源的有效配置，即市场机制造成资源的配置失当。</p><p>　　市场失灵的原因：</p><ul><li>不完全竞争</li><li>外部影响</li><li>公共物品</li><li>不完全信息</li></ul><p>　　经济学家认为，在现实社会中，种种原因将导致市场失灵，即市场机制的运转无法使社会资源达到最优配置，无法实现社会经济福利的最大化等社会目标。因此，市场机制的作用并不是万能的，必须通过政府对经济的干预来加以克服。</p><h1 id="二不完全竞争">二、不完全竞争</h1><h2 id="一垄断与低效率">（一）垄断与低效率</h2><p>　　如图所示，垄断厂商利润最大化状况没有达到帕累托最优状态，存在低效率。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220512001757-vww6xcc.png" style="width:400px" alt="垄断和低效率" /></p><p>　　帕累托最优状态是在 <span class="math inline">\(q^*\)</span>的产量水平上达到。在 <span class="math inline">\(q^*\)</span>的产出水平上，需求曲线与边际成本曲线相交，即消费者为额外一单位产量的愿意支付等于生产该额外产量的成本。此时，不再存在任何帕累托改进的余地。</p><p>　　<span class="math inline">\(q^*\)</span>产量水平是垄断厂商与消费者协商的结果。事实上，垄断厂商与消费者之间以及消费者本身之间难以达成相互满意的一致意见，因而均衡产量不是帕累托最优状态<span class="math inline">\(q^*\)</span>。</p><p>　　实际上，只要市场不是完全竞争的，只要厂商面临的需求曲线不是一条水平线，而是向右下方倾斜，则厂商的利润最大化原则就是边际收益等于边际成本，而不是价格等于边际成本。当价格大于边际成本时，就出现了低效率的资源配置状态。而由于协议的各种困难，潜在的帕累托改进难以得到实现，于是整个经济便偏离了帕累托最优状态，均衡于低效率之中。</p><p>　　要达到帕累托最优，产量应增加到 <spanclass="math inline">\(q^*\)</span>，价格应降到 <spanclass="math inline">\(p^*\)</span>。当经济达到帕累托最优时，厂商经济利润为 0， 消费者剩余为 <spanclass="math inline">\(adP^*\)</span>，总的经济福利为 <spanclass="math inline">\(adP^*\)</span>；当垄断厂商按照利润最大化原则生产时，厂商经济利润为 <spanclass="math inline">\(P_mP^*cb\)</span> ，消费者剩余为 <spanclass="math inline">\(P_mbd\)</span> ，总经济福利为 <spanclass="math inline">\(P^*dbc\)</span>。二者对比，垄断的总经济福利减少了图中小三角形 <spanclass="math inline">\(abc\)</span> ，称为无谓损失（deadweightloss）。</p><p>　　只要市场不是完全竞争的，厂商利润最大化时必有价格大于边际成本，从而出现低效率。</p><h2 id="二寻租理论">（二）寻租理论</h2><p>　　从理论上分析，相对于完全竞争厂商，垄断厂商总经济福利减少上图<span class="math inline">\(\Delta abc\)</span>的面积。但是，事实上，垄断的经济损失远远超过传统垄断理论中的“纯损”三角形，因为为了获得和维持垄断地位从而享受垄断的好处，垄断厂商常常需要进行“寻租”活动。寻租是指为获得和维持垄断地位从而得到垄断利润（即垄断租金）的非生产性活动。</p><h2 id="三对垄断的公共管制">（三）对垄断的公共管制</h2><p>　　针对垄断造成的市场失灵，政府可采取经济的、行政的和法律的手段限制垄断行为，其中包括行业的重新组合、经济和行政处罚以及实施反垄断法。对垄断行业进行管制（其中包括价格管制、价格和数量同时管制以及直接经营），也是解决垄断问题的一种可供选择的政策。</p><h3 id="对垄断的管制递增成本">1. 对垄断的管制：递增成本</h3><p>　　如图所示，把价格定为 <spanclass="math inline">\(P_c\)</span>，实现帕累托最优，垄断厂商仍可以得到一部分经济利润；把价格定为<spanclass="math inline">\(P_z\)</span>（零经济利润价格），此时边际成本大于价格。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220512002658-85nlczh.png" style="width:400px" alt="对垄断的管制：递增成本" /></p><h3 id="对垄断的管制递减成本">2. 对垄断的管制：递减成本</h3><p>　　如图所示，在自然垄断，帕累托最优时，垄断厂商亏损，政府必须补贴。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220512002842-p39q7pj.png" style="width:400px" alt="对垄断的管制：递减成本" /></p><h3 id="反托拉斯法">3. 反托拉斯法</h3><p>　　政府对垄断的更加强烈的反应是制定反垄断法或反托拉斯法。</p><h1 id="三外部影响">三、外部影响</h1><h2 id="一外部影响的含义与分类">（一）外部影响的含义与分类</h2><h3 id="外部影响的概念">1. 外部影响的概念</h3><p>　　<strong>外部性/外部影响：</strong>生产者或消费者在自己的活动中产生了一种有利影响或有害影响，这种有利影响带来的利益（或者说收益）或有害影响带来的损失（或者说成本）都不是消费者或生产者本人所获得或承担的。</p><p>　　<strong>外部性的实质：</strong>一个当事人对其他当事人的福利产生影响且这种影响并没有从市场交易中反映出来。</p><p>　　<strong>外部性的后果：</strong>外部性会造成私人成本和社会成本之间，或私人利益和社会利益之间的不一致，因此容易造成市场失灵。</p><h3 id="外部影响的分类">2. 外部影响的分类</h3><p>　　外部影响可分为外部经济和外部不经济：</p><ul><li><strong>正外部性/外部经济：</strong>能为社会和其他个人带来收益或能使社会和个人降低成本支出的外部影响。</li><li><strong>负外部性/外部不经济：</strong>能够引起社会和其他个人成本增加或导致收益减少的外部影响。</li></ul><p>　　具体来说，外部影响可分为：生产的外部经济、消费的外部经济、生产的外部不经济和消费的外部不经济。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220512003622-iaquott.png" style="width:750px" alt="外部性分类" /></p><h3 id="外部影响和资源配置失当">3. 外部影响和资源配置失当</h3><p>　　外部性的存在造成了一个严重后果：市场对资源的配置缺乏效率。换句话说，即使假定整个经济仍然是完全竞争的，但由于存在着外部性，整个经济的资源配置也不可能达到帕累托最优状态，“看不见的手”在外部影响面前失去了作用。</p><p>　　在存在外部性的条件下，潜在的帕累托改进机会并不能得到实现，原因主要有以下这几种：</p><ul><li>存在巨大的交易费用。</li><li>很难避免“免费乘车者”的现象。</li><li>势力的不对称性。</li></ul><p>　　一项经济活动存在外部经济时，人们从该项活动中得到的私人利益会小于社会利益，私人活动的水平常常要低于社会所要求的最优水平；而在外部不经济时，人们从事该项活动所付出的私人成本又会小于社会成本，私人活动的水平常常要高于社会所要求的最优水平。在这两种情况下，自由竞争条件下的资源配置都会导致偏离帕累托最优。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220512004812-uswqi5i.png" style="height:250px" alt="资源配置失当：生产的外部不经济" /></p><p>　　令 <span class="math inline">\(V_p\)</span>、<spanclass="math inline">\(V_s\)</span> 和 <spanclass="math inline">\(C_p\)</span>、<spanclass="math inline">\(C_s\)</span>分别代表某人从事某项经济活动所获得的私人利益、社会利益、私人成本和社会成本。</p><p>　　假定存在外部经济，即有：<span class="math inline">\(V_p \ltV_s\)</span>，但又有 <span class="math inline">\(V_p \lt C_p \ltV_s\)</span>，则此人显然不会进行该活动。这表明资源配置没有达到帕累托最优，因为从上述两个不等式可以得到：<spanclass="math inline">\(V_s-V_p＞C_p-V_p\)</span>，这一新不等式表明，社会上由此得到的好处<span class="math inline">\(V_s-V_p\)</span>大于私人从事这项活动的所受到的损失 <spanclass="math inline">\(C_p-V_p\)</span>。可见，这个人如果从事这项活动的话，从社会上其他人所得到的好处中拿出来一部分来补偿进行活动的私人所受到的损失以后还有剩余，即可能使得其他人状况变好而没有任何人状况变坏。这说明，存在外部经济的情况下，私人活动的水平常常低于社会所要求的水平。</p><p>　　相反，存在外部不经济时，有 <span class="math inline">\(C_p \ltC_s\)</span>，再假定 <span class="math inline">\(C_p \lt V_p \ltC_s\)</span>，则此人一定会进行这项活动，从上述两个不等式可以得到 <spanclass="math inline">\(C_s-C_p＞V_p-C_p\)</span>，这个不等式说明，进行这项活动，社会上其他人受到的损失大于此人得到的好处，从整个社会来看，是得不偿失，因此私人活动水平高于社会所要求的最优水平了。</p><h3 id="纠正外部影响的政策">4. 纠正外部影响的政策</h3><h4 id="课税与补贴">4.1 课税与补贴</h4><p>　　解决外部性可以通过政府征税或发放补贴的办法来解决。基本思想是：对造成外部不经济的企业，国家应该征税，其数额应该等于该企业给社会其他成员造成的损失，从而使该企业的私人成本恰好等于社会成本；对造成外部经济的企业，国家则可以采取补贴的办法，使得企业的私人利益与社会利益相等。</p><h5 id="对造成外部不经济的企业进行征税">4.1.1对造成外部不经济的企业进行征税</h5><p>　　目的：使该企业实现：<spanclass="math inline">\(私人成本=社会成本\)</span></p><p>　　<span class="math inline">\(税额=社会成本-私人成本\)</span></p><h5 id="对造成外部经济的企业予以补贴">4.1.2对造成外部经济的企业予以补贴</h5><p>　　目的：使该企业实现：<spanclass="math inline">\(私人利益=社会利益\)</span></p><p>　　<span class="math inline">\(补贴额=社会利益-私人利益\)</span></p><h4 id="企业合并">4.2 企业合并</h4><p>　　<strong>合并企业的目的在于使得外部性问题“内部化”。</strong></p><p>　　如果生产 <span class="math inline">\(Y\)</span> 的厂商对生产<span class="math inline">\(X\)</span>的厂商施加了外在性，那么这一现象导致资源配置扭曲的原因是第二家厂商不考虑其行为对第一家厂商所产生的成本或收益，因而，解决这一问题的思路是将这两家企业合并在一起，合并后的企业会继续以利润最大化为目标，这将导致资源有效配置。</p><h4 id="规定财产权">4.3 规定财产权</h4><p>　　在许多情况下，外部影响之所以导致资源配置失当，是由于财产权不明确。如果财产权是完全确定的并得到充分保障，则有些外部影响就可能不会发生。</p><p>　　对能排他的公共财富或无主物赋予财产权，这样就能对享用者收取费用、对破坏者要求补偿，使得外部性削减，同时提高经济效率。</p><h3 id="科斯定理">5. 科斯定理</h3><h4 id="科斯定理的含义">5.1 科斯定理的含义</h4><p>　　科斯（Ronald Coase）最早在 1960 年论文《社会成本问题》（TheProblem of Social Cost）中提出了采用产权纠正外部性的办法。</p><p>　　<strong>内容</strong>：只要财产权是明确的，并且其交易成本为零或者很小，则无论在开始时将财产权赋予谁，市场均衡的最终结果都是有效率的。</p><p>　　<strong>说明</strong>：财产权无论是自有的，还是购买的，都构成机会成本的一部分。如果出售财产权，就可以获得收益；否则，就意味着遭受本可以出售获益的机会成本。</p><p>　　<strong>结论</strong>：在存在外部影响的情况下，并不一定需要政府干预，只要明确外部影响的所有权，同样可以解决外部影响问题，达到资源的有效配置。</p><h4 id="例子">5.2 例子</h4><p>　　工厂排放的烟尘使得居住于工厂附近的 5 户居民损失 375元。假设存在着两种治理污染的办法：一是在工厂的烟囱上安装一个除尘器，其费用为150元；二是给每户居民提供一个烘干机，使它们不需要到外面去晒衣服，总成本为250 元。</p><p>　　如果工厂有权排放烟尘， 5户居民可共同给工厂的烟囱义务安装一架除尘器，费用为 150元。在居民具有不受污染之害的财产权的条件下，工厂会选择安装除尘器。</p><p>　　按照科斯定理的含义，不论给予工厂以烟囱冒烟的权利，还是给予 5户居民以晒衣服不受烟尘污染的权利（即财产所有权的分配），只要工厂与 5户居民协商时其协商费用（即交易成本）为零或者很小，那么，市场机制（即自由进行交易）总是可以得到最有效率的结果（即采用安装除尘器的办法）。</p><h4 id="问题">5.3 问题</h4><p>　　运用科斯定理解决外部影响问题在实际中并不一定真的有效，存在一下几个问题：</p><ul><li>资产的财产权是否总是能够明确地加以规定？</li><li>已经明确地财产权是否总是能够转让？</li><li>明确的财产权的转让是否总能实现资源的最优配置？</li><li>分配产权可能会造成社会不公平，引起社会动乱，不利于解决外部影响。</li></ul><h1 id="四公共物品和公共资源">四、公共物品和公共资源</h1><h2 id="一不同类型的物品">（一）不同类型的物品</h2><p>　　在考虑经济中的各种物品时，根据以下两个特点来对其进行分类：</p><ul><li>排他性（excludability），对商品支付价格的人才能使用该商品，其他人则不能。</li><li>竞争性（rivalry in consumption），如果某人已使用了某个商品，则其他人就不能再同时使用该商品。</li></ul><p>　　<strong>四种物品：</strong></p><ul><li><strong>私人物品</strong>：<strong>有排他性</strong>、<strong>有竞争性</strong>。</li><li><strong>公共物品</strong>：<strong>无排他性</strong>、<strong>无竞争性</strong>。斯蒂格利茨在《经济学》中将公共物品定义为：增加一个人享用的成本很小或没有成本，而要排除任何人享用都要花费很大的成本。</li><li><strong>公共资源</strong>：<strong>无排他性</strong>、<strong>有竞争性</strong>。</li><li><strong>自然垄断</strong>：<strong>有排他性</strong>、<strong>无竞争性</strong>。</li></ul><h2 id="二公共物品">（二）公共物品</h2><h3 id="公共物品最优产量的确定">1. 公共物品最优产量的确定</h3><p>　　公共物品的最优产量决定条件：社会的边际利益等于生产的边际成本。</p><p>　　社会的边际利益等于所有消费者的边际利益之和。</p><p>　　如果个人对公共物品需求的垂直相加与生产它的边际成本相等，该公共物品就是有效提供的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220512010440-vaaqzf0.png" style="width:600px" alt="公共物品的最优数量" /></p><p>　　在私人物品场合，最优标准是每个消费者的边际利益与边际成本相等。在公共物品场合，最优标准是每个消费者的边际利益之和与边际成本相等。</p><h3 id="公共物品和市场失灵">2. 公共物品和市场失灵</h3><p>　　公共物品的最优产量是难以确定的原因：</p><ul><li>单个消费者通常并不很清楚自己对公共物品的需求价格，更不用说准确地陈述他对公共物品的需求与价格的关系。既然私人的公共物品需求曲线无法确定，也就无法确定公共物品的市场需求曲线，更无法确定最优产量。</li><li>即使单个消费者能够通过需求曲线描述自己对公共物品的偏好程度，他们也不会如实地说出来。公共物品的非竞用性使得每个消费者都想成为“免费乘车者”。既然得到的需求曲线是假的，以此得到的最优产量也是错误的。</li></ul><p>　　公共物品市场是非竞争的，在既定的产量上，消费者之间根本不存在私人物品市场上的那种竞争，每个消费者消费的机会成本为零。每个消费者都想成为“免费乘车者”，尽量少支付给生产者以换取消费公共物品的权利。结果，在市场机制条件下，私人不会生产公共物品，只能由政府来生产公共产品。消费者的支付不足以补偿公共物品的生产成本，公共物品的生产者必然减少产量，甚至不生产。</p><h3 id="公共物品和成本收益分析">3. 公共物品和成本—收益分析</h3><p>　　公共物品的生产和消费问题不能由市场上的个人决策来解决。因此，必须由政府来承担起提供公共物品的任务。政府在确定某公共物品是否值得生产以及应该生产多少时，采用成本―收益分析，它的目标是估算该项目对于作为一个整体而言的社会的总成本和总收益。</p><h3 id="公共资源与市场失灵公地的悲剧">4.公共资源与市场失灵：公地的悲剧</h3><p>　　公共资源是指所有权是大家的、公共的、使用权、收益权归属却比较模糊的那类资源。当使用者人数足够多时，公共资源的竞争性很大。公共资源的非排他性和竞争性会使得资源被过度消耗、破坏，即造成“公地的悲剧”（thetragedy of the commons）。</p><p>　　有一块适宜放养奶牛的乡村牧地，这块牧地由村民共同所有。购买一头奶牛的成本为常量<span class="math inline">\(c\)</span>，牧地的产出为 <spanclass="math inline">\(y=f(x)\)</span>，净产出为 <spanclass="math inline">\(f(x)-cx\)</span>。假定每头奶牛每天可产 1公斤牛奶。如果使这块牧地的净产出达到最大，放养的奶牛数应达到什么水平？在什么条件下可以实现这个结果？如果这个村子实行自由放牧，结果会怎样？</p><p>　　<strong>解答：</strong></p><p>　　（1）净产出最大时放养奶牛的数量水平：</p><p>　　设牛奶的需求函数为：<span class="math inline">\(p = a-bx\)</span>。利润函数为：<span class="math inline">\(\pi= px - cx=-bx^2+ (a-c)x\)</span>，由此可以解得公地的最优放牧量为：</p><p><span class="math display">\[\begin {align}x^*=\frac {a-c} {2b}\end {align}\]</span></p><p>　　（2）实现最优放养数量的条件</p><p>　　在以下两种情况下，可以实现最优放养数量的条件：</p><ul><li>该乡村做出集体决策来规定在公地上放牧的奶牛数量。任何个人不得超过所规定的数量进行放牧；</li><li>乡村的公地由某个个人所有。</li></ul><p>　　（3）如果这个村子实行自由放牧，会造成“公地的悲剧”。即实际的奶牛放牧量将会大大超过其最优的水平。结果，公地的草场将由于超载放牧而不断地被破坏，日益凋零和衰落下去。分析如下：</p><p>　　用 <span class="math inline">\(x_1\)</span>表示某个典型村民拥有的奶牛数量， <spanclass="math inline">\(x_2\)</span> 表示其余村民拥有的奶牛数量。</p><p>　　此时，牛奶的需求函数变为：<span class="math inline">\(p = a -bx=a-b(x_1+x_2)\)</span>。用 <span class="math inline">\(TR_P\)</span> 和<span class="math inline">\(MR_P\)</span>表示典型村民的总私人利益和边际私人利益，则：</p><p><span class="math display">\[\begin{align}TR_p=px_1=ax_1-b( x_1+x_2)x_1    \\MR_p= \frac {\partial TR_p }  {\partial x_1 }=a-b(x_1+x)\end {align}\]</span></p><p>　　由于边际私人收益和边际社会成本一样，即 <spanclass="math inline">\(MC_p=MC_s=c\)</span>，故典型村民的私人利润最大化时，由<span class="math inline">\(MC_p=MR_p\)</span> 可知：<spanclass="math inline">\(a-b(x_1+x)=c\)</span>，令 <spanclass="math inline">\(x_1=kx\)</span>，其中 <spanclass="math inline">\(0\le k\le 1\)</span>，表示典型村民拥有的奶牛数量<span class="math inline">\(x_1\)</span> 在整个乡村奶牛总量 <spanclass="math inline">\(x\)</span> 的比例。</p><p>　　当 <span class="math inline">\(k \to 0\)</span>时，村民拥有的奶牛数量所占比例可以忽略不计，将 <spanclass="math inline">\(x_1=kx\)</span>代入上式，即可解出实际放牧量为：</p><p><span class="math display">\[\begin {align}x&#39;^*=\frac {a-c} {(1+k)b}\end {align}\]</span></p><p>　　比较 <span class="math inline">\(x^*=\frac {a-c} {2b}\)</span> 与<span class="math inline">\(x&#39;^*=\frac {a-c}{(1+k)b}\)</span>，可得以下结论：</p><ul><li>当 <span class="math inline">\(k=1\)</span>时，典型村民拥有全村的奶牛，此时 <spanclass="math inline">\(x^*=x&#39;^*\)</span>。即当公共地完全为某个村民所有时，实际放牧量等于最优放牧量。</li><li>当 <span class="math inline">\(0 \lt k \lt 1\)</span>时，典型村民拥有部分奶牛时，此时 <span class="math inline">\(x^*\ltx&#39;^*\)</span>。当公共地不归任何人所有且不存在任何对放牧数量的限制时，实际放牧量就会超过最优放牧量。</li><li>当 <span class="math inline">\(k=0\)</span>时，典型村民拥有部分奶牛相对于全村的奶牛可以忽略不计时，此时 <spanclass="math inline">\(2x^*=x&#39;^*\)</span>。在极端情况下，当所有的村民都如该典型村民一样、从而每个村民拥有的奶牛数量相对于全村的奶牛总量可以忽略不计时，实际放牧量就会大大超过最优放牧量，为后者的2 倍。</li></ul><p>　　由此可见，正是由于边际私人利益和边际社会利益的差别造成了“公地的悲剧”：当个人决定增加奶牛数量时，他仅仅是把他个人所可能得到的边际私人收益与奶牛的边际私人成本相比较，而忽略了这样一个事实，即他所增加的奶牛数使得所有其他村民放牧奶牛的收益均下降。由于每个人都忽略个人行为的社会成本，结果就是公共地上奶牛放牧量增加的太多。</p><h3 id="公共选择理论">5. 公共选择理论</h3><p>　　公共选择理论特别注重研究那些与政府行为有关的集体选择问题。</p><h4 id="集体选择规则">5.1 集体选择规则</h4><p>　　集体选择，就是所有的参加者依据一定的规则通过相互协商来确定集体行动方案的过程。</p><h5 id="一致同意规则">5.1.1 一致同意规则</h5><p>　　一致同意规则是指一项集体行动方案只有在所有参加者都认可的情况下才能够实施。这里的“认可”意味着赞成或者至少不反对。在一致同意规则下，每一个参加者都对将要达成的集体决策拥有否决权。</p><p>　　<strong>优点：</strong></p><ul><li>能够充分地保证每一个参加者的利益；</li><li>可以避免发生“免费乘车”的行为；</li><li>如果能够达成协议，则协议将是帕累托最优的。</li></ul><p>　　<strong>缺点：</strong>达成协议的成本常常太大，在许多情况下甚至根本就无法达成协议。</p><h5 id="多数规则">5.1.2 多数规则</h5><p>　　多数规则是指一项集体行动方案必须得到所有参加者中的多数认可才能够实施。这里的多数，可以是简单多数，即超过总数的一半，也可以是比例多数，如达到总数的三分之二以上。</p><p>　　<strong>优点：</strong>成本较低，容易达成协议。</p><p>　　<strong>缺点：</strong></p><ul><li>忽略了少数派的利益，少数派被迫服从；</li><li>可能出现“收买选票”的现象；</li><li>最终的集体选择结果可能不是唯一的。</li></ul><h5 id="加权规则">5.1.3 加权规则</h5><p>　　根据一项集体行动方案对不同参加者的重要程度差异，给参加者的意愿“加权”，相对重要的，拥有的票数就多，否则就较少。然后，按实际得到的赞成票数（而非人数）的多少来决定集体行动方案。</p><h5 id="否决规则">5.1.4 否决规则</h5><p>　　首先让每个参加者提出自己认可的行动方案，汇总之后，再让每个成员从中否决掉自己所反对的那些方案。这样一来，最后剩下的没有被否决掉的方案就是所有成员都可以接受的集体选择结果了。如果有不止一个方案留了下来，就再借助于其他投票规则来进行选择。</p><p>　　<strong>特点：</strong>经过筛选之后留下来的集体行动方案都将是帕累托最优的。</p><h4 id="最优的集体选择规则">5.2 最优的集体选择规则</h4><p>　　对于按照何种规则进行集体选择，才能保证所得到的结果是最有效率的，公共选择理论中有以下两个主要的理论模型：</p><h5 id="成本模型">5.2.1 成本模型</h5><p>　　按照该模型，任何一个集体选择规则都存在着性质完全不同的两类成本：<strong>决策成本和外在成本</strong>。</p><p>　　<strong>决策成本</strong>：在该规则下通过某项集体行动方案所花费的时间和精力。</p><p>　　<strong>外在成本</strong>：在该规则下通过某项集体行动方案与某些参加者的意愿不一致而给他们带来的损失。</p><p>　　决策成本与外在成本之和为相互依赖成本。理性的经济人将按最低的相互依赖成本来决定集体选择的规则。</p><h5 id="概率模型">5.2.2 概率模型</h5><p>　　概率模型力图使集体决策的结果偏离个人意愿的可能性达到最小。最好的集体选择规则就是那种能使上述偏离可能性达到最小的规则。多数规则相对比较理想。</p><h4 id="政府官员制度的效率">5.3 政府官员制度的效率</h4><p>　　政府官员制度是指那种由通过选举所产生的、被任命的以及经过考试而录用的政府官员来管理政治事务的制度。</p><p>　　<strong>效率低的原因：</strong>缺乏竞争、机构庞大以及成本高昂。</p><p>　　<strong>解决办法：</strong>政府官员制度低效率的主要途径是引入竞争机制。</p><ul><li>使公共部门的权力分散化；</li><li>由私人部门承包公共服务的供给；</li><li>在公共部门和私人部门之间展开竞争；</li><li>加强地方政府之间的竞争。</li></ul><h1 id="五信息不完全与不对称">五、信息不完全与不对称</h1><h2 id="一含义与区分">（一）含义与区分</h2><p>　　<strong>信息不完全</strong>不仅是指那种绝对意义上的不完全，即由于认识能力的限制，人们不可能知道在任何时候、任何地方发生的或将要发生的任何情况，而且是指“相对”意义上的不完全，即市场经济本身不能够生产出足够的信息并有效地配置它们。</p><p>　　<strong>信息不对称</strong>是指市场上的某些参与者拥有，但另一些参与者不拥有的信息；或指一方掌握的信息多一些，另一方所掌握的信息少一些。</p><p>　　<strong>信息不完全和信息不对称并不相同。</strong></p><p>　　<strong>两者区别：</strong></p><ul><li>信息不完全是指经济行为主体在决策时面临信息不充分的约束；</li><li>信息不对称是指交易双方对于交易对象的信息掌握和了解程度不同；</li><li>信息不对称可以理解为一种特殊的信息不完全。</li></ul><h2id="二信息不完全与不对称引起的问题">（二）信息不完全与不对称引起的问题</h2><h3 id="信息与商品市场逆向选择">1. 信息与商品市场——逆向选择</h3><h4 id="逆向选择概念">1.1 逆向选择概念</h4><p>　　逆向选择是指在买卖双方信息非对称的情况下，差的商品总是将好的商品驱逐出市场；或者说拥有信息优势的一方，在交易中总是趋向于做出尽可能地有利于自己而不利于别人的选择。</p><p>　　逆向选择的存在使得市场价格不能真实地反映市场供求关系，导致市场资源配置的低效率。一般在商品市场上卖者关于产品的质量、保险市场上投保人关于自身的情况等等都有可能产生逆向选择问题。</p><p>　　美国经济学家阿克洛夫在论文《<strong>柠檬市场</strong>：质量的不确定与市场机制》中提出旧车市场模型。</p><p>　　<strong>逆向选择的过程</strong>：在价格 <spanclass="math inline">\(p\)</span> 给定后：<br /><span class="math display">\[\begin{align}&amp; 好车逐渐退出市场 \ \Longrightarrow \ 买主出价越来越低 \\Longrightarrow \\   \notag&amp; 次好车又进一步退出市场\  \Longrightarrow \ 买主出价更低 \\Longrightarrow \\    \notag&amp; 二手车平均质量更低 \ \Longrightarrow \ \ ...  \ \\Longrightarrow  \ p=0, q=0   \notag\end{align}\]</span></p><p>　　<strong>均衡结果：最后没有交易，市场彻底萎缩。</strong></p><p>　　解决逆向选择问题的方法主要有：<strong>政府对市场进行必要的干预和利用市场信号</strong>。</p><h4 id="例子-1">1.2 例子</h4><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220512014243-vb6n15k.png" style="height:300px" alt="价格—质量曲线" /></p><p>　　如上图所示，<span class="math inline">\(qc\)</span>为价格—质量曲线，向上凸出，与横轴的交点大于零。每单位价格上的质量 <spanclass="math inline">\(q/P\)</span>称为商品的“价值”，一开始时随着价格的上升而上升，上升到最高点 <spanclass="math inline">\(P^*\)</span> 之后，再随着价格的上升而下降。</p><p>　　由此可得需求曲线，如下图所示：当供给曲线为 <spanclass="math inline">\(S_2\)</span> 时，供求均衡价格 <spanclass="math inline">\(P_2\)</span> 不是最优的价格；当价格为 <spanclass="math inline">\(P^*\)</span> 时，产量为 <spanclass="math inline">\(Q_d\)</span>，社会的边际收益大于社会的边际成本，消费者在产品质量上的信息不完全导致了生产过低的产量。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220512014355-2zxa2lq.png" style="height:300px" alt="不完全信息与市场失灵" /></p><h3 id="信息与保险市场道德风险">2. 信息与保险市场——道德风险</h3><h4 id="概念">2.1 概念</h4><p>　　道德风险（moral hazard）又被称作隐藏行动问题，是指交易双方在签订交易合约后，信息占优势的一方为了最大化自己的收益而损坏另一方，同时也不承担后果的一种行为，即是市场的一方不能查知另一方的行动一种情形。道德风险的存在不仅使得处于信息劣势的一方受到损失，而且会破坏原有的市场均衡，导致资源配置的低效率。</p><p>　　道德风险分析的应用领域主要是保险市场。解决道德风险的主要方法是风险分担。</p><h4 id="案例">2.2 案例</h4><p>　　在信贷市场上，一般来说，利率越高，银行进行放贷的供给数额也就越多，但这并不总是“铁律”。图描绘了两者之间一种U型关系，请说明其存在的原因。此外，当对信贷的需求为何种情况时，会出现“信贷配给”的现象，请试画图说明。</p><p>　　<strong>解答</strong>：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220512015223-iqvc1sm.png" style="height:200px" alt="利率与贷款额的关系" /></p><p>　　（1）在信贷市场上存在着信息不对称，这种信息不对称表现在信贷市场上借款者拥有自己用贷风险程度和能否按期还贷的私人信息，借款者如果不对银行如实报告其贷款投资的情况，银行在面对按期还款不同的众多借款者时，难以从借款者过去的违约情况、资产状况和贷款用途的资料中，在事先就确定借款者的违约风险；贷款事后，银行无法完全控制借款者的用贷和还贷行为，借款者有可能采取风险行动，银行面临着违约的贷款风险。当银行不能观察到借款者的投资行为时，提高利率反而会使低风险者退出信贷市场（逆向选择行为），或者诱使借款者选择风险更高的项目进行投资（道德风险行为），从而使银行贷款的平均风险上升，预期收益降低。</p><p>　　这里的原因是：那些愿意支付较高利息的借款者正是那些预期还款可能性低的借款者，结果，贷款利率的升高可能不能增加银行的预期收益，从而银行会在较高的利率水平上拒绝一部分贷款，不愿意选择在高利率水平上满足所有借款者的贷款申请。因此，当利率达到一定高度时，银行信贷供给曲线向后弯曲。</p><p>　　（2）信贷配给是指在固定利率条件下，面对超额的资金需求，银行因无法或不愿提高利率，而采取一些非利率的贷款条件，使部分资金需求者退出银行借款市场，以消除超额需求而达到平衡。在信息不对称的环境中，信贷配给主要来自两个原因：一是随着利率的上升，贷款申请人的结构发生了逆向改变，低风险的企业退出市场，高风险的企业留在市场。二是随着利率的提高，从事低风险项目的企业，为了要偿还高额利率，也会转而从事更具风险的项目，从而增加违约风险。当银行通过信贷配给使信贷市场达到均衡时，市场利率通常小于使市场出清的均衡利率，此时利率不再是反映信贷市场供求状况的指标，这是中央银行在将利率作为中间目标时需考虑的一个重要因素。</p><h3 id="信息不完全和激励机制委托代理问题">3.信息不完全和激励机制：委托—代理问题</h3><h4 id="信息与劳动市场">3.1 信息与劳动市场</h4><h5 id="效率工资理论">3.1.1 效率工资理论</h5><p>　　斯蒂格利茨与夏皮罗创立了被称之为效率工资的劳动市场模型，以期在信息经济学的基础上解释非自愿失业。</p><p>　　效率工资理论的假设前提是，员工在组织中发挥出来的劳动力，总是比在劳动力市场上成交时的劳动力要少，因而需要监督，而监督是需要成本的。为了追求利润最大化，雇主便把工资定在高于市场平均工资率的水平上，用这种高工资来刺激员工的工作效率。高于工作效率水平的工资，就称为效率工资。由于较高的工资水平和较高的失业率，都会增加员工失业的机会成本，因而员工会自觉地积极工作以防失业。</p><h5 id="偷懒模型">3.1.2 偷懒模型</h5><p>　　如果厂商向工人提供高于市场出清的工资，工人就可能因偷懒而被解雇，再次就业的工人会面临市场出清这样一个较低的工资。所有厂商都面临偷懒问题，这意味着所有厂商都提供高于市场出清的工资，这就导致失业，这就是说，被一家企业解雇的工人将面临一段时间的失业，工人被解雇的成本越高，偷懒所冒的风险越大。为了避免失业，工人将会进行有效率的工作。所以，支付效率工资对企业是有利的。</p><h4 id="委托代理问题">3.2 委托—代理问题</h4><p>　　由于信息的不完全性，委托人往往不知道代理人要采取什么行动或者即使知道代理人采取某种行动，也不能观察和测度代理人从事这一行动时的努力程度，同时两者之间存在的利益分割关系，通常会使得代理人不完全按照委托人的意图行事，这在经济学上被称为委托—代理问题。</p><p>　　一旦企业出现委托—代理问题，其后果不仅使企业所有者的利润受损，也使社会资源配置的效率受损，因为在不发生委托—代理问题的情况下，社会将生产出较高质量的产品。</p><p>　　由委托—代理问题而导致的效率损失不可能通过政府的干预解决，而需要通过设计有效的激励措施加以解决。解决委托—代理问题最有效的办法是实施一种最优合约。最优合约是委托人花费最低限度的成本而使得代理人采取有效率的行动实现委托人目标的合约。</p><h2 id="二信誉和信息调控">（二）信誉和信息调控</h2><p>　　作为解决信息不完全和不对称问题的方法：</p><ul><li>市场机制本身</li><li>信誉</li><li>信息调控</li></ul><p>　　通过市场机制本身来解决信息不完全和不对称问题的一个方法是建立“信誉”。信誉，可以看成是消费者对企业行为的一种主观评价。消费者根据自己购买和消费某种产品的亲身体验以及来自其他消费者的“忠告”或别的因素，对生产和销售该产品的企业的诚信（或欺瞒）程度作出判断，并根据这种判断来决定以后是否会购买该企业的产品。<br />市场机制并不能够解决所有的信息不完全和不对称问题。在这种情况下，政府就有必要在信息方面进行调控。信息调控的目的主要是保证消费者和生产者能够得到充分和正确的市场信息，即增加市场的“透明度”，以便他们能够做出正确的选择。</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜第10章：博弈论</title>
      <link href="/posts/7010/"/>
      <url>/posts/7010/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/35116/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一博弈论和策略行为">一、博弈论和策略行为</h1><p>　　博弈论（gametheory）是研究在策略性环境中如何进行策略性决策和采取策略性行动的科学。</p><p>　　博弈的三个基本要素：</p><ul><li>参与人</li><li>参与人的策略</li><li>参与人的支付</li></ul><p>　　博弈的分类：</p><ul><li>根据参与人的数量：二人博弈、多人博弈；</li><li>根据参与人拥有的策略的数量：有限博弈、无限博弈；</li><li>根据参与人的支付情况：零和博弈、非零和博弈；</li><li>根据参与人是否能够达成有效的协议：合作博弈、非合作博弈；</li><li>根据参与人是否了解有关博弈的所有信息：完全信息博弈、不完全信息博弈；</li><li>根据参与人在策略的实施上是否具有“同时性”：静态博弈（或同时博弈）、动态博弈（或序贯博弈）。</li></ul><h1id="二完全信息静态博弈纯策略均衡">二、完全信息静态博弈：纯策略均衡</h1><h2 id="一支付矩阵">（一）支付矩阵</h2><p>　　二人同时博弈可以用支付矩阵来描述和分析，如下表所示。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511220011-5hcn8t6.png" style="width:600px" alt="支付矩阵" /></p><h2 id="二条件策略和条件策略组合">（二）条件策略和条件策略组合</h2><p>　　把甲厂商在乙厂商选择策略条件下的最优策略称为甲厂商的条件策略；把与甲厂商的条件策略相联系的策略组合称为甲厂商的条件策略组合。</p><h2 id="三纳什均衡">（三）纳什均衡</h2><h3 id="概念">1. 概念</h3><p>　　纳什均衡，指的是参与人的这样一种策略组合。在该策略组合上，任何参与人单独改变策略都不会得到好处。如果在一个策略组合中，当所有其他人都不改变策略时，没有人会改变自己的策略，则该策略组合就是一个纳什均衡。</p><p>　　在纳什均衡的定义中，有两个问题需要注意：</p><ul><li>“单独改变策略”是指任何一个参与人在所有其他人都不改变策略的情况下改变自己的策略。</li><li>“不会得到好处”是指任何一个参与人在单独改变策略之后自己的支付不会增加。</li></ul><h3 id="纳什均衡的确定条件策略下划线法">2.纳什均衡的确定（条件策略下划线法）</h3><ul><li>把整个博弈的支付矩阵分解为两个参与人的支付矩阵。</li><li>在第一个（即位于整个博弈矩阵左方的）参与人的支付矩阵中，找出每一列的最大者，并在其下划线。</li><li>在第二个（即位于整个博弈矩阵上方的）参与人的支付矩阵中，找出每一行的最大者，并在其下划线。</li><li>将已经划好线的两个参与人的支付矩阵再合并起来，得到带有下划线的整个博弈的支付矩阵。</li><li>在带有下划线的整个的支付矩阵中，找到两个数字之下均划有线的支付组合。由该支付组合代表的策略组合就是博弈的纳什均衡。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511220301-c784t4t.png" style="width:600px" alt="寡头博弈：合作与不合作" /></p><p>　　利用下划线法得出，纳什均衡是（不合作，不合作）。</p><h3 id="纳什均衡的存在性唯一性稳定性和最优性">3.纳什均衡的存在性、唯一性、稳定性和最优性</h3><h4 id="存在性">3.1 存在性</h4><p>　　在完全信息的静态博弈中，（纯策略的）纳什均衡既可能存在，也可能不存在。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511220406-dhtb77d.png" style="width:600px" alt="没有纳什均衡的完全信息静态博弈" /></p><h4 id="唯一性">3.2 唯一性</h4><p>　　在完全信息的静态博弈中，如果纳什均衡存在，既可能是唯一的，也可能是不唯一的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511220437-t5ta0ga.png" style="width:600px" alt="存在多重纳什均衡的完全信息静态博弈" /></p><h4 id="稳定性">3.3 稳定性</h4><p>　　在完全信息的静态博弈中，如果纳什均衡存在，既可能是稳定的，也可能是不稳定的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511220511-h92uhi2.png" style="width:600px" alt="稳定和不稳定的纳什均衡" /></p><h4 id="最优性">3.4 最优性</h4><p>　　在完全信息的静态博弈中，如果纳什均衡存在，既可能是最优的，也可能不是最优的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511220437-t5ta0ga.png" style="width:600px" alt="纳什均衡是否最优性" /></p><h3 id="纳什均衡和社会福利">4. 纳什均衡和社会福利</h3><h4 id="囚徒困境模型">4.1 囚徒困境模型</h4><p>　　通过分析可以看出，张三和李四的决策都是坦白。但是，如果两人都选择不坦白，则都可以获得最好的结局。很清楚，囚徒困境反映了一个矛盾：即个人理性和团体理性的冲突。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511220632-p6jzz5o.png" style="width:600px" alt="囚徒困境" /></p><h4 id="广告大战">4.2 广告大战</h4><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511220719-i713swa.png" style="width:600px" alt="广告博弈" /></p><p>　　纳什均衡（做广告，做广告）不仅对参与人不是最优的，且对整个社会也不是最优的。</p><h1id="三完全信息静态博弈混合策略均衡">三、完全信息静态博弈：混合策略均衡</h1><p>　　即使纯策略的纳什均衡不存在，相应的混合策略纳什均衡却总会存在。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511220818-kfifw1a.png" style="width:600px" alt="不存在纯策略纳什均衡的混合策略模型" /></p><p>　　和纯策略组合不同，混合策略组合是一个概率向量组合，每一个概率向量是相应参与人的一个混合策略。</p><p>　　甲厂商的期望支付为：<spanclass="math inline">\(E_甲=p_1(7-10q_1)+5q_1+2\)</span>，那么甲厂商条件混合策略为：</p><p><span class="math display">\[x =   \left \{\begin {align}&amp; 1  &amp; if \ \ q_1  \lt 0.7    \notag \\&amp; [0,1] &amp; if \ \  q_1=0.7     \notag \\&amp; 0  &amp;if \ \  q_1\gt 0.7      \notag \\\end {align}\right.\]</span></p><p>　　乙厂商的期望支付为：<spanclass="math inline">\(E_乙=5p_1(2q_1-1)-7q_1+8\)</span>，那么乙厂商条件混合策略为：</p><p><span class="math display">\[x =   \left \{\begin {align}&amp; 1  &amp; if \ \ q_1  \lt 0.5    \notag \\&amp; [0,1] &amp; if \ \  q_1=0.5   \notag \\&amp; 0  &amp;if \ \  q_1\gt 0.5     \notag \\\end {align}\right.\]</span></p><p>　　借用条件混合策略可确定混合策略的纳什均衡。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511222425-vth28lz.png" style="height:300px" alt="不存在纯策略均衡时的混合策略均衡" /></p><h1 id="四完全信息动态博弈">四、完全信息动态博弈</h1><p>　　在完全信息动态博弈中，参与人的决策有先有后，特别是，后行动的参与人可以观察到先行动的参与人已经采取了的策略。</p><h2 id="一博弈树">（一）博弈树</h2><p>　　例子：竞争者—垄断者博弈</p><p>　　描述序贯博弈的工具是“博弈树”，由“点”（包括“起点”“中间点”“终点”）、连接点的“线段”以及标在这些点和线段旁边的文字和数字组成。</p><p>　　以博弈树来描述的完全信息的动态博弈称为扩展型博弈。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511222551-egdruno.png" style="width:400px" alt="竞争者—垄断者博弈" /></p><h2 id="二纳什均衡的求解">（二）纳什均衡的求解</h2><p>　　竞争者—垄断者博弈中，纳什均衡为（进入，容忍）。如下图博弈中，两个纳什均衡：（足球，足球）、（芭蕾、芭蕾）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511222704-opf2y8r.png" style="width:400px" alt="情侣博弈" /></p><h2id="三纳什均衡的精炼逆向归纳法">（三）纳什均衡的精炼：逆向归纳法</h2><h3 id="逆向归纳法">1. 逆向归纳法</h3><p>　　对纳什均衡的“精炼”，即从众多的纳什均衡中进一步确定“更好”的纳什均衡。纳什均衡的精炼方法通常是使用“逆向归纳法”。</p><p>　　（1）先从博弈的最后阶段的每一个决策点开始，确定相应参与人此时所选择的策略，并把参与人所放弃的其他策略删除，从而得到原博弈的一个简化博弈。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511222747-prl4umh.png" style="width:400px" alt="简化的情侣博弈 (1)" /></p><p>　　（2）再对简化博弈重复步骤一的程序，直到最后，得到原博弈的一个最简博弈。这个最简博弈就是原博弈的解；而在存在多重纳什均衡时，它就是对纳什均衡的精炼。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511222829-qywyiqr.png" style="width:400px" alt="简化的情侣博弈 (2)" /></p><h3 id="精炼的纳什均衡与效率">2. 精炼的纳什均衡与效率</h3><p>　　对参与人来说，由逆向归纳法“精炼”出来的完全信息动态博弈的纳什均衡也不一定是有效率的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511223010-63gbcjk.png" style="width:600px" alt="蜈蚣博弈" /></p><p>　　该博弈在一开始时就会以 A决定卖而结束，相应的支付组合为（1,0），即 A 得到净收益 1，B 得到净收益0。</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a>　　‍</li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜第9章：一般均衡论与福利经济学</title>
      <link href="/posts/20587/"/>
      <url>/posts/20587/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/35116/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一一般均衡论">一、一般均衡论</h1><h2 id="一局部均衡和一般均衡">（一）局部均衡和一般均衡</h2><h3 id="局部均衡">1. 局部均衡</h3><p>　　局部均衡是指在假设其他市场不变的情况下，某一特定产品或要素的市场均衡。局部均衡分析研究的是单个（产品或要素）市场，其研究方法是把所考虑的某个市场从相互联系的整个经济体系的市场全体中“取出”来单独加以研究。</p><h3 id="一般均衡">2. 一般均衡</h3><p>　　一般均衡是指在一个经济体系中，所有市场的供给和需求同时达到均衡的状态。一般均衡论所考察的问题是：在社会上各种产品的交易市场是相互联系、相互影响的背景下，最后各种自发的经济活动是否趋于供求均衡？</p><h2 id="二一般均衡的存在性">（二）一般均衡的存在性</h2><p>　　研究证明，在一定的假设条件全部得到满足时，一般均衡体系就有均衡解存在。</p><h2 id="三一般均衡的实现试探过程">（三）一般均衡的实现“试探过程”</h2><p>　　关于论证一般均衡的实现，瓦尔拉斯假设采用的是“试错法”，即在市场中存在一个自由拍卖人，其任务就是寻找并确定能与市场供求一致的均衡价格。</p><h1 id="二经济效率">二、经济效率</h1><h2 id="一实证经济学和规范经济学">（一）实证经济学和规范经济学</h2><p>　　实证经济学（PositiveEconomics）回答“是什么”、“为什么”和“会如何”的问题，研究实际经济体系是怎样运行的。它对经济行为作出有关的假设，根据假设分析和陈述经济行为及其后果，并试图对结论进行检验。</p><p>　　规范经济学（Normative Economics）回答“应当是什么”的问题，根据一定的社会价值判断标准，对一个经济体系的运行进行评价，并进一步说明一个经济体系应当怎样运行，以及为此提出相应的经济政策。</p><p>　　比如，尽管知道存在一般均衡，但这种一般均衡状态是否对整个社会是“最优”的呢？</p><p>　　（传送门：<ahref="siyuan://blocks/20220430015825-kh9qftn">"规范分析和实证分析"</a>）</p><h2 id="二福利经济学">（二）福利经济学</h2><p>　　福利经济学是在一定的社会价值判断标准条件下，研究整个经济的资源配置与个人福利的关系，特别是市场经济体系的资源配置与福利的关系，以及与此有关的各种政策问题。</p><h2 id="三帕累托最优状态经济效率">（三）帕累托最优状态：经济效率</h2><p>　　福利经济学采用帕累托最优标准来衡量资源配置的最优配置。</p><p>　　帕累托最优状态（Paretoefficiency）是这样一种状态：任何改变都不可能使一个人的境况变好，而又不使别人的境况变坏。当经济系统达到帕累托最优状态时，经济运行是有效率的；反之，不满足帕累托最优状态的经济运行结果就是缺乏效率的。</p><p>　　如果对既定资源配置的状态予以改变，而这种改变使得至少有一个人的境况变好，同时其他人的境况没有因此变坏，则认为这种变化增加了社会福利，或称帕累托改进。</p><h1 id="三帕累托最优条件">三、帕累托最优条件</h1><h2 id="一交换的帕累托最优条件">（一）交换的帕累托最优条件</h2><p>　　交换的一般均衡（general equilibrium ofexchange）是指在社会生产产量状况和收入分配状况既定条件下，通过产品的交换使得交换者达到效用之和最大化的均衡状态，此时实现交换的帕累托最优。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511205954-fqm9pb6.png" style="width:400px" alt="交换的帕累托最优" /></p><p>　　如图所示，任何一点，如 <span class="math inline">\(a\)</span>点，对应于消费者 <span class="math inline">\(A\)</span> 的消费量 <spanclass="math inline">\((X_A ,Y_A)\)</span> 和消费者 <spanclass="math inline">\(B\)</span> 的消费量 <spanclass="math inline">\((X_B , Y_B )\)</span>，都有下式成立：</p><p><span class="math display">\[\begin {align}X_A+X_B=\overline X     \\Y_A+Y_B=\overline Y\end {align}\]</span></p><p>　　即埃奇渥斯盒状图中的任意一点都表示两种商品在消费者 <spanclass="math inline">\(A\)</span> 和 <spanclass="math inline">\(B\)</span> 之间的分配。</p><ul><li>埃奇渥斯盒状图中的任意一点要么处于 <spanclass="math inline">\(A\)</span> 和 <spanclass="math inline">\(B\)</span>的无差异曲线的交点上，要么处于他们的切点上。</li><li>上图中， <span class="math inline">\(a\)</span>点不能代表帕累托最优状态，因为存在帕累托改进。当然，这种改进的途径不是唯一的。</li><li><span class="math inline">\(e\)</span> 点、<spanclass="math inline">\(c\)</span> 点和 <spanclass="math inline">\(b\)</span>点等类似的点都是帕累托最优状态的点。</li><li>把代表帕累托最优状态的点连接起来，就成了交换的契约曲线，在图中用<span class="math inline">\(VV&#39;\)</span> 表示。当然， <spanclass="math inline">\(VV&#39;\)</span> 曲线上任一点，比如 <spanclass="math inline">\(b\)</span> 点和 <spanclass="math inline">\(c\)</span> 点，无法按照帕累托标准予以比较，只能根据社会分配的偏好选择其中的某些状态。</li><li>由此可得<ahref="siyuan://blocks/20220507012141-plhfifa">"商品交换的帕累托最优条件"</a>：两种商品的边际替代率相等，即<span class="math inline">\(MRS_{XY}^A = MRS_{XY}^B\)</span></li></ul><h2 id="二生产的帕累托最优条件">（二）生产的帕累托最优条件</h2><p>　　生产的一般均衡（general equilibrium ofproduction）是指在技术与社会生产资源总量既定的情况下，社会对于资源的配置使得产品产量达到最大的均衡状况，即实现生产的帕累托最优。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511211102-dzsirle.png" style="width:400px" alt="生产的帕累托最优" /></p><ul><li>类似交换中的分析，这里仍采用埃奇渥斯盒状图，只是这里不用无差异曲线，而是引用等产量曲线；作为分配的商品，这里改为生产要素。</li><li>诸如 <span class="math inline">\(e&#39;\)</span>、 <spanclass="math inline">\(c&#39;\)</span> 和 <spanclass="math inline">\(b&#39;\)</span>等满足帕累托最优的点组成的轨迹，称为“生产的契约曲线（或效率曲线）”，在图中用<span class="math inline">\(qq&#39;\)</span> 表示。</li><li><ahref="siyuan://blocks/20220507012138-lzgz3cn">"生产(要素配置)的帕累托最优条件"</a>的公式：<spanclass="math inline">\(MRTS_{LK}^C  =  MRTS_{LK}^D\)</span>，即任何两种生产要素之间的边际技术替代率对任何使用这两种生产要素的两个生产者来说都必须相等。</li></ul><h2id="三交换和生产的帕累托最优条件">（三）交换和生产的帕累托最优条件</h2><h3 id="从生产契约曲线到生产可能性曲线">1.从生产契约曲线到生产可能性曲线</h3><p>　　生产契约曲线上的每一点表示了一定量投入要素在最优配置时所能生产的一对最优的产出，从而代表了两种产品的产量。因而，生产契约曲线上的每一点便与生产可能性边界上的每一点对应。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511211829-uh2a0qn.png" style="width:600px" alt="生产契约曲线与生产可能性曲线" /></p><h3 id="生产可能性曲线">2. 生产可能性曲线</h3><p>　　生产可能性曲线又称之为生产可能性边界（production-possibilityfrontier），也称之为产品转换曲线，是指在其他条件（如技术、要素供给等）不变情况下，一个社会用其全部资源所能生产的各种产品的最大数量的组合。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511211905-dqrtz0v.png" style="width:400px" alt="生产可能性曲线" /></p><h4 id="生产可能性曲线的特点">2.1 生产可能性曲线的特点</h4><p>　　第一，生产可能性曲线的斜率为负，向右下方倾斜。生产可能性曲线斜率的极限可定义为X 商品对 Y 商品的边际转换率（marginal rate oftransformation），即生产可能性边界上每一点斜率的量值，故有：</p><p><span class="math display">\[\begin {align}MRT_{XY} = \lim_{\Delta X \to 0}  \left | \frac {\Delta Y} {\DeltaX}  \right| = \left|  \frac {dX}  {dY}  \right|\end{align}\]</span></p><p>　　第二，生产可能性曲线凹向原点，凸向右上方，即边际转换率 MRT是递增的。 MRT递增的原因是要素的边际报酬递减规律。这一原因，可从如下公式看出：</p><p><span class="math display">\[\begin {align}MRT_{XY} = \left|  \frac {dY}  {dX}  \right| = \left | \frac {d Y}{d(L+K)}  \cdot   \frac {d(L+K)} {dX} \right| = \left | \frac { {d Y}/{d(L+K)} }  { {dX} /{d(L+K)}} \right|\end{align}\]</span></p><p>　　第三，边际转换率 <span class="math inline">\(MRT_{XY}\)</span>等于两种产品的边际成本之比，即有：</p><p><span class="math display">\[\begin {align}MRT_{XY} =  \left|  \frac {dY}  {dX}  \right|  = \frac {MC_X}  {MC_Y}\end {align}\]</span></p><blockquote><p><strong>补充：</strong></p><p>上面计算中跳过了一个步骤，商品供给量<spanclass="math inline">\(Y\)</span>与要素供给量<spanclass="math inline">\((L+K)\)</span>不能直接构建联系：</p><p><span class="math display">\[\begin{align}\frac {dY} {d(L+K)} = \frac {dY} {d TC } \cdot \frac {d TC } {d(L+K)}=\frac 1 {MC_Y} \cdot  \frac {d TC } {d(L+K)}\end{align}\]</span></p><p>同理，商品供给量<spanclass="math inline">\(X\)</span>于要素供给量<spanclass="math inline">\((L+K)\)</span>也不能直接构建起联系。多出的<spanclass="math inline">\(\frac {d TC }{d(L+K)}\)</span>在计算过程中被消除了。</p></blockquote><h4 id="生产可能性曲线的变动">2.2 生产可能性曲线的变动</h4><p>　　如果投入要素数量或者技术状况发生了改变，则生产可能性曲线的位置就可能发生变化。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511212710-f3y9znj.png" style="width:350px" alt="生产可能性曲线的变动" /></p><h3 id="生产和交换的帕累托最优条件">3. 生产和交换的帕累托最优条件</h3><p>　　交换和生产的一般均衡（general equilibrium of exchange andproduction）是指社会生产和交换同时达到均衡的状况，即实现了交换和生产的帕累托最优状况。</p><p>　　生产达到均衡并不能保证交换同时达到均衡；交换达到均衡也不能保证生产同时达到均衡。要使交换和生产同时达到均衡必须具备的条件：任意两种商品的边际替代率必须等于它们的边际转换率。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511212759-vi52i3q.png" style="width:450px" alt="生产和交换的最优" /></p><p>　　因此，<ahref="siyuan://blocks/20220507012143-oxhquwh">"生产与交换的帕累托最优条件"</a>为：<spanclass="math inline">\(MRS_{XY}=MRS_{XY}^A = MRS_{XY}^B\)</span>，此时达到了生产与交换的一般均衡。</p><p>　　原因：只有符合这一条件，才能使生产满足消费者的需要，又使资源达到有效配置。</p><h1 id="四完全竞争和帕累托最优状态">四、完全竞争和帕累托最优状态</h1><h2 id="一交换的最优条件">（一）交换的最优条件</h2><p>　　从交换的最优条件来看，在完全竞争市场条件下，单个消费者都是价格的接受者，每个消费者都会调整对商品的需求以满足<span class="math inline">\(MRS_{XY} =\frac {P_X }{P_Y}\)</span>，从而实现效用最大化。既然各消费者都是价格的接受者，那么各消费者购买任意两种商品的数量必使其边际替代率等于全体消费者所面对的共同的价格比率。因此，任何两种商品的边际替代率对所有的消费者都相等。</p><h2 id="二生产的最优条件">（二）生产的最优条件</h2><p>　　从生产的最优条件来看，在完全竞争市场条件下，单个生产者都是要素价格的接受者，每个生产者都会调整要素的需求以满足<span class="math inline">\(MRTS_{LK} = \frac {P_L}{P_K}\)</span>，从而实现利润最大化。既然各生产者都是要素价格的接受者，那么各生产者购买并使用的任意两种要素的数量必使其边际技术替代率等于全体生产者所面对的共同的要素价格比。因此，任何两种要素的边际技术替代率对所有生产者都相等。</p><h2 id="三生产和交换的最优条件">（三）生产和交换的最优条件</h2><p>　　ƒ从生产和交换的最优条件来看，任何两种产品生产的边际转换率即为两种商品的边际成本之比，每一消费者对任何两种商品的边际替代率等于其价格比。在完全竞争条件下，任何产品的价格等于边际成本，因此，任何两种产品的边际替代率等于它们的边际转换率。</p><h1 id="五社会福利函数">五、社会福利函数</h1><h2 id="一效用可能性曲线">（一）效用可能性曲线</h2><p>　　双方的无差异曲线的切点代表所能得到的最高效用水平。如果把这些点在横轴表示消费者A 的效用水平，纵轴表示消费者 B的效用水平的坐标系中表现出来，就可以得到下图中的效用可能性曲线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511213336-2s0hppp.png" style="height:300px" alt="效用可能性曲线" /></p><p>　　由于在最优效用水平组合中，两个消费者的效用水平反方向变化，故对应的效用可能性曲线向右下方倾斜。但是，由于效用水平的高低本来就是一个序数概念，效用可能性曲线的位置及凹凸性等无法得知。</p><h2 id="二社会福利函数">（二）社会福利函数</h2><p>　　假定存在某种社会福利函数（social welfare function），该社会福利函数是个人效用函数的函数，即：</p><p><span class="math display">\[\begin {align}W=W \big(U_1,U_2,\dots,U_n \big)\end {align}\]</span></p><p>　　该社会福利函数是个人效用函数的增函数，即满足：</p><p><span class="math display">\[\begin {align}\frac {\partial W} {\partial U_i }\gt 0\end {align}\]</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511213704-k9mevlf.png" style="height:300px" alt="最大社会福利" /></p><p>　　如图所示，有三条社会无差异曲线：<spanclass="math inline">\(W_1\)</span>、<spanclass="math inline">\(W_2\)</span>、<spanclass="math inline">\(W_3\)</span>，这种曲线不计算社会福利的大小，但能比较社会福利的高低，位置越高的社会无差异曲线代表的社会福利越大。<span class="math inline">\(UU&#39;\)</span>是总效用可能曲线，它类似于消费者行为理论中的收入约束线。同样的道理，最大的社会福利只会出现在总效用可能线<span class="math inline">\(UU&#39;\)</span> 和社会无差异线 <spanclass="math inline">\(W_2\)</span>的切点上，这一点称为“限制社会下的最大满足点”。这是能导致最大社会福利的生产、交换和分配的唯一一点。</p><p>　　按照这种分析方法，只要给定个人效用函数，在个人效用函数基础之上的社会福利函数以及转换函数，通过求个人效用最大化可以导出帕累托最优状态。由此可见，彻底解决资源配置问题的关键在于社会福利函数。</p><h2 id="三阿罗不可能定理">（三）阿罗不可能定理</h2><p>　　社会福利函数的形成，就是在已知社会所有成员的个人偏好次序的情况下通过一定的程序，把各种各样的个人偏好次序归结为单一的社会偏好次序。偏好的“加总”是指在所有经济行为人的偏好给定的情况下，通过一定的方法用这些信息来描述社会对各种配置的偏好顺序即社会偏好。显然，这种排列还依赖于将众多消费者的偏好进行“加总”的方法。多数人投票的方法得到的社会偏好并不是形状良好的，因为这些偏好具有不传递性。</p><table><thead><tr><th>行为人 1</th><th>行为人 2</th><th>行为人 3</th></tr></thead><tbody><tr><td><span class="math inline">\(x\)</span></td><td><span class="math inline">\(y\)</span></td><td><span class="math inline">\(z\)</span></td></tr><tr><td><span class="math inline">\(y\)</span></td><td><span class="math inline">\(x\)</span></td><td><span class="math inline">\(x\)</span></td></tr><tr><td><span class="math inline">\(z\)</span></td><td><span class="math inline">\(z\)</span></td><td><span class="math inline">\(y\)</span></td></tr></tbody></table><p>　　如上表所示，改变投票表决顺序，将得出完全不同的选择结果，即可以通过改变投票表决顺序来操纵投票结果。</p><p>　　<strong>阿罗不可能定理：</strong>用投票的方式不可能把个人的偏好集中起来，形成合乎理性的社会偏好。即在非独裁（即社会偏好不能以一个人或少数人的偏好决定）的情况下，不可能存在有适用于所有个人偏好类型的社会福利函数。</p><h2id="四不同的社会福利函数与均衡的多样性">（四）不同的社会福利函数与均衡的多样性</h2><p>　　不同的经济学家从不同的角度，采用不同的社会福利函数，从而得出对社会福利的不同观点。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511214456-22sroo2.png" style="width:700px" alt="各种社会福利函数和社会无差异曲线" /></p><h3 id="加法型社会福利函数功利主义社会福利函数">1.加法型社会福利函数（功利主义社会福利函数）</h3><p>　　如果一个社会强调的是所有成员的效用总和（而非其分配），则它的社会福利函数就可以写成如下的加法形式：</p><p><span class="math display">\[\begin {align}W(x)= U_A(x)+U_B(x)\end {align}\]</span></p><p>　　功利主义社会福利函数赋予每个人的效用同样的权数，并随之将社会所有成员的总效用最大化。</p><p>　　加法型社会福利函数或直线型社会无差异曲线意味着，社会福利的大小只取决于社会成员的效用总和，而与其分配无关。换句话说，无论是穷人还是富人，其效用的增加对社会福利的贡献都是一样的。</p><h3 id="乘法型社会福利函数">2. 乘法型社会福利函数</h3><p>　　如果一个社会比功利主义更加重视收入的分配和平等问题，则它的社会福利函数就可能具有如下的乘法形式：</p><p><span class="math display">\[\begin {align}W(x)= U_A(x) \cdot U_B(x)\end {align}\]</span></p><p>　　乘法型社会福利函数或双曲线型社会无差异曲线意味着，当社会成员的效用总量给定时，分配越是平等，社会福利就越大，反之，分配越不平等，社会福利就越小。</p><h3 id="罗尔斯社会福利函数">3. 罗尔斯社会福利函数</h3><p>　　罗尔斯社会福利函数更加重视提高社会上状况最差的那些人的生活水平。它可以写成：</p><p><span class="math display">\[\begin {align}W(x)=\min \left \{ U_A(x), U_B(x) \right \}\end {align}\]</span></p><h3 id="社会公平">4. 社会公平</h3><p>　　从最平均到最不平均：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230314194449-qk9em3o.png" style="width:600px" /></p><h1 id="六效率与公平">六、效率与公平</h1><h2 id="一效率与公平的矛盾">（一）效率与公平的矛盾</h2><p>　　缺乏公平的效率提高；缺乏效率的公平增进。</p><h2 id="二效率优先和兼顾公平">（二）“效率优先”和“兼顾公平”</h2><p>　　所谓效率优先就是在决定收入分配的问题上，首先考虑效率，把效率当作决定收入分配的第一位因素。经济效率高，所得到的收入也高；反之情况相反。只有在保证效率的基础上，再考虑兼顾公平的问题。</p><p>　　兼顾公平不是必须要平等。可以从以下几个方面做到效率优先、兼顾公平：</p><ul><li>减少和消除不合理的收入；</li><li>促进机会均等；</li><li>限制某些行业、某些个人的垄断性收入；</li><li>实现生存权利和消灭贫穷。</li></ul><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜第8章：要素市场理论—生产要素的价格决定</title>
      <link href="/posts/17352/"/>
      <url>/posts/17352/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/35116/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一产品市场与要素市场">一、产品市场与要素市场</h1><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511150420-8djoa3c.png" style="width:600px" alt="产品市场和要素市场的关系" /></p><blockquote><p><strong>补充：</strong></p><ul><li>消费者：产品市场-商品需求主体，要素市场-要素供给主体</li><li>厂商：产品市场-商品供给主体，要素市场-要素需求主体</li></ul></blockquote><h1 id="二生产要素的需求">二、生产要素的需求</h1><h2 id="一引致需求与联合需求">（一）引致需求与联合需求</h2><h3 id="引致需求">1. 引致需求</h3><p>　　对生产要素的需求产生于对利润最大化的需求；</p><p>　　对生产要素的需求受到消费者对产品需求的影响。</p><p>　　具体来看：</p><ul><li>第一，在生产要素市场上，需求不是来自消费者，而是来自厂商。从这个意义上来说，对生产要素的需求不是直接需求，而是“间接”需求。</li><li>第二，厂商通过购买生产要素进行生产并从中获得收益，部分地要取决于消费者对其所生产的产品的需求。从这个意义上说，生产要素的需求又是所谓“派生”需求或“引致”需求。</li><li>第三，对生产要素的需求还有个特点，就是所谓“共同性”，即对生产要素的需求是共同的、相互依赖的需求。</li></ul><h3 id="联合需求">2. 联合需求</h3><p>　　对生产要素的需求是共同的、相互依赖的；</p><p>　　对生产要素的需求往往取决于多种生产要素的价格。</p><h2id="二生产要素价格决定的需求方面">（二）生产要素价格决定的需求方面</h2><h3 id="厂商要素需求一般原则">1. 厂商要素需求一般原则</h3><h4 id="主要假定">1.1 主要假定</h4><p>　　假定：每个厂商使用一种生产要素，生产单一产品，追求最大限度的利润。</p><h4 id="边际收益产品-边际要素收益">1.2 边际收益产品 (边际要素收益)</h4><p>　　设厂商只使用一种可变要素 <span class="math inline">\(X\)</span>。若增加的要素量为 <span class="math inline">\(\DeltaX\)</span>，由此带来的收益增量为 <span class="math inline">\(\DeltaR\)</span>，得要素的边际收益产品 <spanclass="math inline">\(MRP\)</span> (marginal revenue product) 为：</p><p><span class="math display">\[\begin {align}\frac {dR} {dX}=\lim_{\Delta X \to 0} \frac {\Delta  R } {\Delta X}\end {align}\]</span></p><p>　　<strong>要素的边际收益产品等于要素的边际产品和产品的边际收益的乘积</strong>，即：</p><p><span class="math display">\[\begin {align}\frac {dR} {dX}=\frac {dR} {dQ} \cdot \frac {dQ} {dX}\end {align}\]</span></p><p>　　或者表示为：</p><p><span class="math display">\[\begin {align}MRP=MR \cdot MP\end {align}\]</span></p><h4 id="边际要素成本">1.3 边际要素成本</h4><p>　　用 <span class="math inline">\(\Delta  X\)</span>表示要素增量，由此引起的成本增量用 <spanclass="math inline">\(\Delta  C\)</span> 表示，那么边际要素成本 <spanclass="math inline">\(MFC\)</span> 为：</p><p><span class="math display">\[\begin {align}\frac {dC} {dX}=\lim_{\Delta X \to 0} \frac {\Delta  C } {\Delta X}\end {align}\]</span></p><p>　　类似于产品市场，要素价格是要素供给量的函数，用 <spanclass="math inline">\(W\)</span> 表示要素价格，那么要素供给函数为 <spanclass="math inline">\(W(X)\)</span>，则成本函数为 <spanclass="math inline">\(W(X) \cdot X\)</span>，于是边际要素成本为：</p><p><span class="math display">\[MFC=\frac {d \big[W(X) \cdot X \big]} {dX}=W(X)+X \cdot \frac {d\big[W(X)  \big]} {dX}\]</span></p><p>　　边际要素成本还可以写成：</p><p><span class="math display">\[\begin {align}MFC=MC \cdot MP\end {align}\]</span></p><blockquote><p><strong>数学补充：</strong></p><p><span class="math display">\[\begin{align}MFC&amp;  =\frac {d \big[W X \big]} {dX}= \frac {d \big[W X \big]} {dQ} \cdot \frac {d Q} {dX}   \notag \\&amp;  = MC \cdot MP  \end{align}\]</span></p><p>其中：<span class="math inline">\(\frac {d Q} {dX}\)</span>为要素的边际产出 <span class="math inline">\(MP\)</span>；<spanclass="math inline">\(\frac {d \big[W X \big]} {dQ}\)</span>为成本函数对产量的导数，即为边际成本 <spanclass="math inline">\(MC\)</span>。</p><p><strong>经济含义：</strong>边际要素成本表示在其他要素投入不变的前提下，某一要素的投入量发生变化带来的成本增量。考虑到要素投入是用于生产，这部分成本可以分解为要素的边际产出<span class="math inline">\(MP\)</span> 与生产商品的边际成本 <spanclass="math inline">\(MC\)</span>两个部分，即增加某一要素投入导致的边际产出发生变动，这部分产出变动对应的边际成本（相乘）就是增加要素投入的边际成本<span class="math inline">\(MFC\)</span>。</p></blockquote><h4 id="一种可变要素情况下要素需求原则">1.4一种可变要素情况下要素需求原则</h4><p>　　厂商使用要素的原则是要素的边际收益产品等于边际要素成本，即：<spanclass="math inline">\(MRP=MFC\)</span>，即要素投入的边际成本等于其带来的边际收益。</p><p>　　利润函数为：<span class="math inline">\(\pi (X)=R \big[Q(X)\big]-C \big[Q(X) \big]\)</span></p><p>　　利润最大化条件为：</p><p><span class="math display">\[\begin {align}\frac {d \pi (X)} {d X} = \frac {dR} {dQ} \cdot \frac {dQ}{dX}  -  \frac {dC} {dQ} \cdot \frac {dQ} {dX} =0\end {align}\]</span></p><p>　　即：<span class="math inline">\(MR \cdot MP=MC \cdot MP  \ \\  \Longrightarrow  \ \ \   MR=MC\)</span></p><p>　　由此可见，厂商使用要素的原则与利润最大化产量的条件实质上是一回事。</p><h4 id="延伸关于-mrp-与-vmp">1.5 延伸：关于 MRP 与 VMP</h4><h5 id="概念">1.5.1 概念：</h5><p>　　边际收益产品 <spanclass="math inline">\(MRP\)</span>：增加一单位要素使用所增加的总收益。</p><p><span class="math display">\[\begin {align}MRP_L=\frac {\Delta TR } {\Delta L } = MR \times MP_L\end {align}\]</span></p><p>　　边际产品价值 <spanclass="math inline">\(VMP\)</span>：增加一单位要素使用所增加的产品的市场价值。</p><p><span class="math display">\[\begin {align}VMP_L=\frac {\Delta V} {\Delta L } = P \times MP_L\end {align}\]</span></p><h5 id="产品价格变动的影响">1.5.2 产品价格变动的影响</h5><p>　　（1）若产品价格是不变的（产品市场完全竞争），则：<spanclass="math inline">\(MRP=VMP\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511154634-rpwo3pb.png" style="height:250px" alt="产品价格不变: MRP 与 VMP 重合" /></p><p>　　（2）若产品价格随着销量的增加而下降（产品市场不完全竞争），则：<spanclass="math inline">\(MRP&lt;VMP\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/WeChat34d807b1e7b99226d2de917bd00edf48-20220511161425-vbr9tni.png" style="height:250px" alt="产品价格变化: MRP 与 VMP 不重合" /></p><h5 id="要素价格变动以劳动市场为例">1.5.3要素价格变动（以劳动市场为例）</h5><p>　　（1）要素价格是不变的（要素市场完全竞争），则：<spanclass="math inline">\(MFC=W\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/WeChat0fa9ecba6ef61b26a3af408de927b80e-20220511170759-rxzbiqj.png" style="width:500px" alt="要素价格不变: MFC 与 W 重合" /></p><p>　　（2）要素价格随使用量增加而增加（要素市场不完全竞争），则：<spanclass="math inline">\(MFC&gt;W\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/WeChat15ca7f30a018e941caa794915249507c-20220511170933-ur3xmke.png" style="width:450px" alt="要素价格变化: MFC 与 W 不重合" /></p><h3 id="厂商要素需求原则的简化">2. 厂商要素需求原则的简化</h3><p>　　厂商使用生产要素，遵循<strong>增加单位要素使用所增加的总收益等于所增加的成本</strong>，即：</p><p><span class="math display">\[\begin {align}MRP=MFC\end {align}\]</span></p><p>　　<strong>三种情况：</strong></p><ul><li>对于<strong>完全竞争厂商</strong>，要素需求原则为：<spanclass="math inline">\(P \cdot MP=W\)</span></li><li>对于<strong>卖方垄断厂商</strong>，要素需求原则为：<spanclass="math inline">\(MR \cdot MP=W\)</span></li><li>对于<strong>买方垄断厂商</strong>，要素需求原则为：<spanclass="math inline">\(P \cdot MP = MC \cdot MP\)</span></li></ul><h3 id="完全竞争卖方垄断买方垄断厂商要素需求原则比较">3.完全竞争、卖方垄断、买方垄断厂商要素需求原则比较</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230314193358-o7xyakx.png" style="width:750px" alt="要素需求原则" /></p><blockquote><p><strong>补充：</strong></p><ul><li><ahref="siyuan://blocks/20220511153936-231vdyw">"完全竞争厂商"</a>：<spanclass="math inline">\(VMP=MRP\)</span>、<spanclass="math inline">\(MFC=W\)</span></li><li><ahref="siyuan://blocks/20220511155234-q2uent5">"卖方垄断厂商"</a>：<spanclass="math inline">\(VMP&gt;MRP\)</span>、<spanclass="math inline">\(MFC=W\)</span>（要素供给垄断）</li><li><ahref="siyuan://blocks/20220511181846-bvsohe3">"买方垄断厂商"</a>：<spanclass="math inline">\(VMP=MRP\)</span>、<spanclass="math inline">\(MFC&gt;W\)</span>（要素需求垄断）</li><li><ahref="siyuan://blocks/20220511183104-kxzkf9z">"买卖垄断厂商"</a>：<spanclass="math inline">\(VMP&gt;MRP\)</span>、<spanclass="math inline">\(MFC&gt;W\)</span>（要素供需垄断）</li></ul><p><strong>==上面表格的第二列存在疑问==</strong></p></blockquote><h2 id="三完全竞争厂商的要素需求">（三）完全竞争厂商的要素需求</h2><p>　　<strong>产品市场与要素市场都是完全竞争的</strong>，此时：<spanclass="math inline">\(MRP=VMP\)</span>，<spanclass="math inline">\(MFC=W\)</span></p><h3 id="完全竞争要素市场的构成条件">1. 完全竞争要素市场的构成条件</h3><ul><li>要素的供求双方的数量很多（都是价格接受者）;</li><li>生产要素之间没有区别（可替代性）；</li><li>要素可以自由流动。</li></ul><p>　　类比：<ahref="siyuan://blocks/20220428234059-1ze6nv5">"产品市场完全竞争的条件"</a></p><p>　　<span class="math inline">\(\Longrightarrow  \ \ \MFC=AFC=W\)</span></p><h3 id="竞争性厂商要素需求原则的数学推导">2.竞争性厂商要素需求原则的数学推导</h3><p>　　完全竞争厂商利润函数为：<span class="math inline">\(\pi (L)=P\cdot Q(L) - W \cdot L\)</span></p><p>　　利润最大化一阶条件为：<span class="math inline">\(\frac {d \pi(L)} {d L} = P \cdot \frac {dQ(L)} {dL} -  W=0\)</span></p><p>　　即：<span class="math inline">\(P \cdot  MP_L -  W=0   \ \\  \Longrightarrow \ \ \  VMP=W\)</span></p><h3 id="完全竞争厂商对生产要素的需求曲线">3.完全竞争厂商对生产要素的需求曲线</h3><p>　　完全竞争厂商对生产要素 <span class="math inline">\(L\)</span>的需求函数反映的是：在其他条件不变时，完全竞争厂商对要素 <spanclass="math inline">\(L\)</span> 的需求量与要素价格 <spanclass="math inline">\(W\)</span> 之间的关系。要素需求函数可表示为：</p><p><span class="math display">\[\begin {align}P \cdot  MP_L = W\end {align}\]</span></p><p>　　上式确定了从要素价格 <span class="math inline">\(W\)</span>到要素使用量 <span class="math inline">\(L\)</span>的一个函数关系，即确定了完全竞争厂商对要素的一个需求函数。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511174334-3qv0s3h.png" style="width:450px" alt="完全竞争厂商的要素需求" /></p><p>　　如图所示，在完全竞争的产品市场与要素市场中，由 <spanclass="math inline">\(VMP=W\)</span> 可以确定在工资水平 <spanclass="math inline">\(W_1\)</span> 下的劳动供需均衡点为 <spanclass="math inline">\(A\)</span> 点，当劳动价格（工资水平）由 <spanclass="math inline">\(W_1\)</span> 下降至 <spanclass="math inline">\(W_2\)</span> 时，厂商若仍然雇佣 <spanclass="math inline">\(L_1\)</span> 数量的劳动，边际产品价值 <spanclass="math inline">\(VMP&gt;W_2\)</span>，其差额 <spanclass="math inline">\(VMP-W_2\)</span>（图示红色箭头）为厂商使用的生产要素净利益，追求利润最大化的厂商会增加劳动雇佣数量至<span class="math inline">\(L_2\)</span>。</p><p>　　由于厂商的劳动雇佣增加，产出的产品数量也增加，对于同质化的其他完全竞争厂商也会增加劳动雇佣进而增加产出，因此市场产品总供给会上升，导致产品的市场价格由<span class="math inline">\(P_1\)</span> 下降至 <spanclass="math inline">\(P_2\)</span>，对于价格接受者的完全竞争厂商，其<span class="math inline">\(VMP=P \times MP_L\)</span> 也会由 <spanclass="math inline">\(VMP_1\)</span> 下降至 <spanclass="math inline">\(VMP_2\)</span>，与 <spanclass="math inline">\(W_2\)</span> 曲线相交于 <spanclass="math inline">\(B&#39;\)</span> 点，此时 <spanclass="math inline">\(L&#39;_2&lt;L_2\)</span>。</p><p>　　因此：</p><ul><li>若不考虑其他厂商反应：产品价格 <spanclass="math inline">\(P\)</span> 保持不变，<spanclass="math inline">\((L_1,W_1)   \ \ \to \ \ (L_2,W_2)\)</span></li><li>若考虑其他厂商反应：产品价格 <span class="math inline">\(P\)</span>随 <span class="math inline">\(W\)</span> 下降，<spanclass="math inline">\((L_1,W_1)   \ \ \to \ \(L&#39;_2,W_2)\)</span></li></ul><p>　　<strong>对于完全竞争厂商，真实的劳动力需求曲线是图中的</strong><span class="math inline">\(D_LDL﻿\)</span> <strong>曲线。</strong><spanclass="math inline">\(D_LDL﻿\)</span>市场需求曲线即为所有厂商 <spanclass="math inline">\(D_L\)</span> 曲线的加总。</p><p>　　根据边际生产力递减的性质，可得出以下结论：完全竞争厂商的要素需求曲线与边际产品价值曲线完全重合，向右下方倾斜。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511154634-rpwo3pb.png" style="width:400px" alt="完全竞争厂商的要素需求曲线" /></p><h3 id="市场需求曲线">4. 市场需求曲线</h3><p>　　为了得到总的市场需求曲线，必须首先决定每个行业对劳动的需求，然后水平地把行业的需求曲线（行业调整曲线）加总。核心在于第一步，即决定行业需求曲线，要考虑到随着投入要素价格的变动，厂商生产的产出水平及其产品价格的变动。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511154721-f6ev4ux.png" style="width:500px" alt="行业的劳动需求" /></p><h2 id="四卖方垄断厂商的要素需求">（四）卖方垄断厂商的要素需求</h2><p>　　<strong>卖方垄断厂商面临不完全竞争的产品市场、完全竞争的要素市场</strong>，此时：<spanclass="math inline">\(MRP&lt;VMP\)</span>，<spanclass="math inline">\(MFC=W\)</span>。</p><p>　　根据 <span class="math inline">\(MRP=MFC\)</span>的要素需求原则，厂商面临工资水平 <spanclass="math inline">\(W=W_1\)</span> 为常数，因此劳动雇佣数量为 <spanclass="math inline">\(L=L_2\)</span>，小于完全竞争市场的劳动雇佣数量<span class="math inline">\(L_1\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511181747-bepqr78.png" style="width:450px" alt="卖方垄断厂商的要素需求" /></p><h2 id="五买方垄断厂商的要素需求">（五）买方垄断厂商的要素需求</h2><p>　　<strong>买方垄断厂商面临完全竞争的产品市场、不完全竞争的要素市场</strong>，此时：<spanclass="math inline">\(MRP=VMP\)</span>，<spanclass="math inline">\(MFC&gt;W\)</span>。</p><h3 id="买方垄断的特点">1. 买方垄断的特点</h3><ul><li>厂商具有要素价格决定权；</li><li>厂商对要素价格的决定收到要素供给曲线的制约；</li><li>要素价格越高，要素供给量也越高；</li><li>边际要素成本大于要素价格：<spanclass="math inline">\(MFC&gt;W\)</span></li></ul><h3 id="买方垄断厂商的要素需求">2. 买方垄断厂商的要素需求</h3><p>　　如图所示，根据 <span class="math inline">\(MRP=MFC\)</span>的要素需求原则，厂商在 <span class="math inline">\(A\)</span>点雇佣劳动数量为 <spanclass="math inline">\(L_1\)</span>，此时工资水平为 <spanclass="math inline">\(W_1\)</span>。买方垄断（厂商垄断）要素市场时，厂商只支付劳动力最低能接受的工资水平<span class="math inline">\(W_1\)</span>（<spanclass="math inline">\(B\)</span> 点）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511182039-pzy61mp.png" style="width:450px" alt="买方垄断厂商的要素需求" /></p><h2id="六买卖垄断厂商使用的要素需求">（六）买卖垄断厂商使用的要素需求</h2><p>　　<strong>买卖垄断厂商面临不完全竞争的产品市场与要素市场</strong>，此时：<spanclass="math inline">\(MRP&lt;VMP\)</span>，<spanclass="math inline">\(MFC&gt;W\)</span>。</p><p>　　如图所示，根据 <span class="math inline">\(MRP=MFC\)</span>的要素需求原则，确定 <span class="math inline">\(A&#39;\)</span>点的劳动雇佣数量为 <spanclass="math inline">\(L_2\)</span>，此时工资水平为 <spanclass="math inline">\(W_2\)</span>。厂商垄断产品市场与要素市场时，只愿意支付最低能接受的工资水平<span class="math inline">\(W_2\)</span>（<spanclass="math inline">\(B&#39;\)</span> 点）。</p><p>　　与<ahref="siyuan://blocks/20220511154437-yk1ythx">"完全竞争厂商"</a>的均衡点<span class="math inline">\(A\)</span> 点 <spanclass="math inline">\(L_1\)</span> 的劳动雇佣数量与 <spanclass="math inline">\(W_1\)</span> 的工资水平相比，<spanclass="math inline">\(L_2  &lt;  L_1\)</span>，<spanclass="math inline">\(W_2  &lt;  W_1\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511181846-7h3eqe3.png" style="width:450px" alt="买卖垄断厂商的要素需求" /></p><h1 id="三生产要素的供给">三、生产要素的供给</h1><p>　　在此关于要素供给的讨论完全局限于要素所有者为消费者、其行为目的为效用最大化这一范围之内，即是从消费者的效用最大化行为出发来建立其要素供给量与要素价格之间关系的理论。</p><h2 id="一要素供给的特点与原则">（一）要素供给的特点与原则</h2><h3 id="要素供给的特点">1. 要素供给的特点</h3><ul><li>生产要素供给有限</li><li>供给量取决于机会成本</li></ul><h3 id="要素供给的原则效用最大化">2. 要素供给的原则：效用最大化</h3><h4 id="效用最大化">2.1 效用最大化</h4><p>　　在一定时期，要素的所有者所拥有的全部生产要素的数量是一定的，要素供给可以看成是“要素供给”和“保留自用”两种用途上进行分配以获得最大效用。要想效用最大化，就是使供给要素的边际效用和保留自用的边际效用相等。</p><h4 id="要素供给的边际效用">2.2 要素供给的边际效用</h4><p>　　生产要素对消费者的效用属于“间接效用”，它是通过收入而与效用相联系：</p><p><span class="math display">\[\begin {align}\frac {d U} {dL}=\frac {dU} {dY}   \cdot   \frac {dY} {\Delta L}\end {align}\]</span></p><p>　　考虑到完全竞争的要素市场，要素的边际收入等于要素的价格，因此：</p><p><span class="math display">\[\begin {align}\frac {d U} {dL}=\frac {dU} {dY}   \cdot  W\end {align}\]</span></p><h4 id="自用资源的边际效用">2.3 自用资源的边际效用</h4><p>　　为了使分析简单化，假定自用资源的效用都是直接的。若用 <spanclass="math inline">\(l\)</span>表示自用资源数量，则自用资源的边际效用为 <spanclass="math inline">\(\frac {d U}{dl}\)</span>，它表示增加一单位自用资源所带来的效用增量。</p><p>　　对于劳动力供给而言，如果劳动力在闲暇与工作之间分配劳动时间，那么：</p><ul><li>闲暇的边际效用：<span class="math inline">\(MU_H= \frac {\partial U}{\partial H}\)</span>，表示每增加一单位闲暇时间所增加的总效用；</li><li>工作的边际效用：<span class="math inline">\(MU_Y = \frac {\partialU} {\partial Y}\)</span>，表示每增加一单位工作时间所增加的总效用。</li></ul><h4 id="要素供给原则">2.4 要素供给原则</h4><p>　　对于消费者而言，要素供给的目的是实现效用最大化。</p><p>　　借助于要素供给的间接效用和自用资源的直接效用概念以及所谓“收入的价格”<spanclass="math inline">\(W_y\)</span>，效用最大化条件表示为：</p><p><span class="math display">\[\begin{align}\frac {dU/dl} {dU/dY}=\frac W {W_y}\end{align}\]</span></p><p>　　要素供给原则也可以用数学方法予以推导，约束条件为：</p><p><span class="math display">\[\begin{align}Y+W \cdot l = W \cdot {\overline L}\end{align}\]</span></p><p>　　效用函数为 <span class="math inline">\(U=U(Y,l)\)</span>最大化，可构造拉格朗日辅助函数为：</p><p><span class="math display">\[\begin{align}f = U(Y,l) + \lambda \big (Y+W \cdot l - W \cdot {\overline L} \big)\end{align}\]</span></p><h3 id="无差异曲线分析">3. 无差异曲线分析</h3><p>　　消费者现在的问题是：在预算约束之下选择最优（效用最大）的收入<span class="math inline">\(Y\)</span> 和自用资源 <spanclass="math inline">\(l\)</span>的组合。这个最优组合是预算线与无差异曲线 <spanclass="math inline">\(U_1\)</span> 的切点 <spanclass="math inline">\(G^*\)</span>，满足 <spanclass="math inline">\(\frac {dU}  {dl}=W\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511191936-agv07pp.png" style="width:400px" alt="要素供给的原则: 无差异曲线分析" /></p><h3 id="要素供给问题">4. 要素供给问题</h3><p>　　如下图所示，随着要素价格的变动，可得价格扩展线 <spanclass="math inline">\(PEP\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511192015-72iskzk.png" style="height:300px" alt="价格扩展线" /></p><p>　　由上图可以推导出下图的要素供给曲线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511192135-yxtlik0.png" style="width:450px" alt="要素供给曲线" /></p><p>　　一般情况下，要素供给曲线具有向右上方倾斜的正斜率性质。但是，并不是所有的要素供给曲线都总是向右上方倾斜的，要素供给曲线与要素的特点息息相关，呈现出不同的形状。</p><h2id="二劳动供给曲线和工资率的决定">（二）劳动供给曲线和工资率的决定</h2><h3 id="劳动供给曲线">1. 劳动供给曲线</h3><p>　　劳动供给曲线呈现向后弯曲的特点。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511192301-va9irlo.png" style="height:300px" alt="时间资源在闲暇和劳动供给之间的分配" /></p><p>　　让工资连续变化 <spanclass="math inline">\(W_0  \to  W_1  \to  W_2 \to …\)</span>，便得到下图的劳动供给曲线，具有向后弯曲的特点。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511192538-nomcp70.png" style="width:450px" alt="消费者的劳动供给曲线" /></p><h3 id="替代效应和收入效应">2. 替代效应和收入效应</h3><p>　　<strong>假定工资上涨：</strong></p><ul><li><strong>替代效应：</strong>由于工资上涨，闲暇变得更加“昂贵”，消费者会减少对它的“购买”，从而提供的劳动数量增加。</li><li><strong>收入效应：</strong>由于工资上涨，意味着实际收入上升。随着实际收入上升，消费者会增加对闲暇需求，从而提供的劳动数量减少。</li><li>当收入效应小于替代效应时，劳动供给则会随着工资率的提高而增加，劳动供给曲线向右上方倾斜，即曲线斜率为正值。当收入效应大于替代效应时，劳动供给量则可能随着工资率的提高而减少，劳动供给曲线向左上方倾斜，即曲线斜率为负值。</li><li>工资率较低时，替代效应大于收入效应；工资率很高时，收入效应大于替代效应。随着工资率的提高，劳动供给曲线会从向右上方倾斜转为向左上方倾斜。</li></ul><h3 id="劳动的市场供给曲线和均衡工资的决定">3.劳动的市场供给曲线和均衡工资的决定</h3><p>　　市场劳动供给曲线向右上方倾斜。向右下方倾斜的劳动需求曲线和向右上方倾斜的劳动供给曲线决定均衡工资水平。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511200656-r7jzwpl.png" style="height:270px" alt="均衡工资的决定" /></p><h2 id="三资本的供给曲线">（三）资本的供给曲线</h2><h3 id="资本供给曲线">1. 资本供给曲线</h3><p>　　资本的供给量指家庭储蓄的那部分资金。</p><p>　　资本的供给曲线是储蓄量与利率之间关系的曲线，随着利率的不断升高，资本供给量先升高后降低。</p><h3 id="形成原因">2. 形成原因</h3><p>　　消费者的跨期选择的结果</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511203229-6k7sa9n.png" style="width:450px" alt="资本供给与跨期选择" /></p><h3 id="利率对资本供给的影响">3. 利率对资本供给的影响</h3><p>　　上图的斜率为 <spanclass="math inline">\(k=1+r\)</span>，因此：</p><ul><li>当利率升高（<span class="math inline">\(A \toB\)</span>）时，本期消费 <span class="math inline">\(C_1\)</span>升高，未来消费（储蓄/资本供给）<span class="math inline">\(C_2\)</span>下降，但由于利率 <span class="math inline">\(r\)</span>升高，导致未来的实际消费会上升。</li><li>利率可以看作为现期消费的价格。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511203441-5ct5dfy.png" style="width:300px" alt="资本供给与利率的关系" /></p><h2id="四土地的供给曲线和地租的决定">（四）土地的供给曲线和地租的决定</h2><h3 id="土地供给曲线">1. 土地供给曲线</h3><p>　　与劳动力一样，土地所有者实际上是在土地供给所可能带来的收入与自用土地之间进行选择，其效用函数可以写为：<spanclass="math inline">\(U=U(Y,q)\)</span>。由于通常土地的消费性使用可以忽略不计，故效用只取决于土地收入而与自用土地数量大小无关。</p><p>　　因此，土地所有者为了获得最大效用就必须使土地收入达到最大，而要土地收入最大则必须要求尽可能地多供给土地。由于土地所有者拥有的土地为既定的，单个土地供给者提供的土地通常只有一种用途，从而土地供给无弹性，在图形中表现为一条垂直于横轴的直线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511200920-psyf9g9.png" style="width:350px" alt="土地的供给曲线" /></p><h3 id="地租的决定">2. 地租的决定</h3><p>　　向右下方倾斜的土地市场需求曲线与土地供给曲线结合起来可决定土地的均衡价格即地租。而且，地租完全由土地的需求曲线决定。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511200943-rqfsmgs.png" style="height:250px" alt="地租及决定因素" /></p><h2 id="五租金准租金和经济租金">（五）租金、准租金和经济租金</h2><p>　　（传送门：<ahref="siyuan://blocks/20220428210832-7wa1fsx">"不同成本、利润之间的关系"</a>）</p><h3 id="租金rent">1. 租金（Rent）</h3><p>　　供给数量同样固定不变的一般资源，如某些人的天赋才能，其服务价格称之为租金。换句话说，地租是当所考虑的资源为土地时的租金，而租金则是一般化的地租。</p><h3 id="准租金quasi-rent">2. 准租金（Quasi-rent）</h3><p>　　准租金是对供给量暂时固定的生产要素的支付，即固定生产要素的收益。因此，准租金属于短期分析。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511201230-v57d1xy.png" style="height:300px" alt="准租金" /></p><p>　　可变成本为面积 <spanclass="math inline">\(OGBQ_0\)</span>，它代表了厂商对为生产 <spanclass="math inline">\(Q_0\)</span>所需的可变生产要素量而必须作出的支付。固定要素得到的则是剩余部分 <spanclass="math inline">\(GP_0CB\)</span>。这就是准租金，等于总收益减去总可变成本。</p><p>　　如果从准租金 <span class="math inline">\(GP_0CB\)</span>中减去固定总成本 <spanclass="math inline">\(GDEB\)</span>，则得到经济利润 <spanclass="math inline">\(GP_0CE\)</span>。可见，准租金为固定总成本与经济利润之和。当经济利润为0时，准租金便等于固定总成本。当厂商有经济亏损时，准租金也可能小于固定总成本。准租金可表示为：（传送门：<ahref="siyuan://blocks/20220429005322-4fk6zlv">"生产者剩余"</a>）</p><p><span class="math display">\[\begin {align}TR-TVC=TFC+经济利润=TFC-经济损失\end{align}\]</span></p><h3 id="经济租金economic-rent">3. 经济租金（Economic Rent）</h3><p>　　相对而言，经济租金属于长期分析。如图所示，要素供给曲线 <spanclass="math inline">\(S\)</span> 以上、要素价格 <spanclass="math inline">\(R_0\)</span> 以下的阴影区域 <spanclass="math inline">\(AR_0E\)</span> 为经济租金。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511201753-yrmpbwx.png" style="height:300px" alt="经济租金" /></p><p>　　事实上，经济租金也可以这样来定义，即支付给生产要素的报酬超出为获得该要素而必须支付的最低报酬的部分。</p><p>　　可以发现，如果供给是完全有弹性的，经济租金将是零。只有在供给多少缺乏弹性时，经济租金才出现。在供给完全无弹性时，所有向生产要素支付的进入都是经济租金。因此，租金实际上是经济租金的一种特例。</p><h1 id="四洛伦兹曲线和基尼系数">四、洛伦兹曲线和基尼系数</h1><p>　　（传送门：<ahref="siyuan://blocks/20220428170703-g2aqz78">"收入-消费曲线和恩格尔系数"</a>）</p><h2 id="一洛伦兹曲线">（一）洛伦兹曲线</h2><p>　　将一国总人口按收入由低到高进行排序，考虑收入最低的任意百分比人口所得到的收入百分比，将人口累计百分比和收入累计百分比的对应关系描绘在图形上，就是洛伦兹曲线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220511204540-ec4g72h.png" style="height:250px" alt="洛伦兹曲线" /></p><p>　　洛伦兹曲线反映了收入分配的不平等程度。曲线弯曲程度越大，收入分配程度越不平等；反之亦然。</p><h2 id="二基尼系数">（二）基尼系数</h2><p>　　在洛伦兹曲线图中，不平等面积与完全不平等面积之比，称为基尼系数，是衡量一个国家贫富差距的标准。若设<span class="math inline">\(G\)</span> 为基尼系数，则：<spanclass="math inline">\(G= \frac A {A+B}\)</span> 。</p><p>　　显然，基尼系数不会大于 1， 也不会小于零，即有：<spanclass="math inline">\(0 \le G \le1\)</span>。</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜第7章：产品市场理论—不完全竞争市场</title>
      <link href="/posts/9426/"/>
      <url>/posts/9426/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/35116/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一垄断市场">一、垄断市场</h1><h2 id="一定义与形成的原因">（一）定义与形成的原因</h2><h3 id="定义">1. 定义</h3><p>　　垄断市场是指整个行业中只有唯一的一个厂商的市场组织。垄断厂商可以控制和操纵市场价格。</p><h3 id="结构特征">2. 结构特征：</h3><ul><li><strong>单个生产者</strong>：市场上只有唯一的一个厂商生产和销售商品；</li><li><strong>无替代品</strong>：该厂商生产和销售的商品没有任何相近的替代品；</li><li><strong>不存在潜在竞争者</strong>：其他任何厂商进入该行业都极为困难或不可能；</li><li><strong>可以决定价格</strong>：垄断地位的经济主体是市场价格的制定者，它能够自行决定价格，以实现自己的利润最大化；</li><li><strong>可以差别定价</strong>：垄断企业为实现利润最大化，可以在不同的销售条件下对产品制定不同的价格。</li></ul><h3 id="垄断形成的原因">3. 垄断形成的原因</h3><ul><li>独家厂商控制了生产某种商品的全部资源或基本资源供给；</li><li>独家厂商拥有生产某种商品的专利权；</li><li>政府的特许；</li><li>自然垄断：某些产品或服务由单个企业大规模生产经营，比多个企业同时生产经营更有效率。</li></ul><h2 id="二均衡条件">（二）均衡条件</h2><h3 id="需求曲线与收益曲线">1. 需求曲线与收益曲线</h3><p>　　（比较完全竞争厂商的<ahref="siyuan://blocks/20220429000544-1ozwlqz">"需求曲线"</a>与<ahref="siyuan://blocks/20220429001704-1mapmj3">"收益曲线"</a>）</p><p>　　厂商的平均收益曲线与需求曲线重叠，它们是同一条向右下方倾斜的曲线。这表明垄断厂商的销售量与市场价格呈反方向变动关系，垄断厂商可以通过改变销售量来控制市场价格。</p><p>　　厂商的边际收益曲线向右下方倾斜，且位于平均收益曲线的下方，这表示在每一个销售量上厂商的边际收益都小于平均收益。</p><p>　　厂商的总收益曲线是先上升，达到最高点以后再下降。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515165100-mcnv11s.png" style="width:300px" alt="垄断厂商的需求曲线和收益曲线" /></p><h3 id="需求价格弹性">2. 需求价格弹性</h3><p>　　假定反需求函数为 <spanclass="math inline">\(P=P(Q)\)</span>，则有：<spanclass="math inline">\(MR=\frac {dTR(Q)} {dQ}=P+\frac {dP} {dQ}\cdot Q=P\Big (1-\frac 1 {e_d} \Big)\)</span></p><blockquote><p><strong>补充：</strong></p><ul><li><ahref="siyuan://blocks/20220428010127-tsjpem0">"需求价格弹性"</a>：<spanclass="math inline">\(e_d= - \frac {d Q_d} {d P} \times \frac P{Q_d}\)</span></li></ul></blockquote><p>　　因此，在垄断市场中，可得以下三种情况：</p><ul><li>当 <span class="math inline">\(e_d&gt;1\)</span> 时，有 <spanclass="math inline">\(MR&gt;0\)</span>，增加产量可以提高总收益 <spanclass="math inline">\(TR\)</span>；</li><li>当 <span class="math inline">\(e_d&lt;1\)</span> 时，有 <spanclass="math inline">\(MR&lt;0\)</span>，减少产量可以提高总收益 <spanclass="math inline">\(TR\)</span>；</li><li>当 <span class="math inline">\(e_d=1\)</span> 时，有 <spanclass="math inline">\(MR=0\)</span>，总收益 <spanclass="math inline">\(TR\)</span> 达到最大。</li></ul><h3 id="垄断厂商的均衡">3. 垄断厂商的均衡</h3><blockquote><p><strong>补充：</strong></p><p>短期内，垄断厂商的经营决策依据：</p><ol type="1"><li>确定产量与价格：<span class="math inline">\(MR\)</span> 与 <spanclass="math inline">\(MC\)</span> 比较</li><li>是否盈利：<span class="math inline">\(AR\)</span> 与 <spanclass="math inline">\(AC\)</span> 比较</li></ol></blockquote><h4 id="利润最大化的图形分析">3.1 利润最大化的图形分析</h4><p>　　垄断厂商为了获得最大的利润，也必须遵循 <spanclass="math inline">\(MR = MC\)</span> 的原则，即 <spanclass="math inline">\(MC=MR=P \big (1-\frac 1 {e_d} \big)\)</span>，</p><ol type="1"><li>垄断厂商利润最大化的选择不可能出现在需求缺乏弹性的区域，只可能出现在需求富有弹性的地方。</li><li>由于 <span class="math inline">\(MR=P(q)  \big (1-\frac 1 {e_d}\big)\)</span>，只要 <spanclass="math inline">\(e_d&lt;\infty\)</span>，则 <spanclass="math inline">\(MR&lt;P(q)\)</span>，即边际收益总会小于价格，对应的边际收益曲线总是处于平均收益曲线的下方。</li></ol><h4 id="短期均衡">3.2 短期均衡</h4><p>　　与<ahref="siyuan://blocks/20220429003819-u48kuxt">"完全竞争厂商"</a>类似，在短期均衡时，垄断厂商由<span class="math inline">\(MC=MR\)</span> 确定产量，由平均成本 <spanclass="math inline">\(AC\)</span> 与平均收益 <spanclass="math inline">\(AR\)</span>（<spanclass="math inline">\(P=AR\)</span>）的大小比较确定是否盈利或亏损。</p><blockquote><p><strong>补充：</strong></p><p><ahref="siyuan://blocks/20220429003819-u48kuxt">"完全竞争市场"</a><strong>：</strong><spanclass="math inline">\(MR=P\)</span>，因为完全竞争厂商是价格接受者，<spanclass="math inline">\(P\)</span>与该厂商的产量无关，<spanclass="math inline">\(MR=\frac {\partial TR } {\partial Q} =\frac{\partial (P \cdot Q)  } {\partial Q} = P\)</span></p><p><strong>垄断竞争市场：</strong> <span class="math inline">\(MR=P \big(1-\frac 1 {e_d}\big)\)</span>，垄断厂商可以通过调整产量来操控价格，因此价格是产量的函数<spanclass="math inline">\(P(Q)\)</span>，<spanclass="math inline">\(MR=\frac {\partial TR } {\partial Q} =\frac{\partial (P \cdot Q)  } {\partial Q} = P+\frac {\partial P } {\partialQ} \cdot Q = P \big (1-\frac 1 {e_d} \big)\)</span></p></blockquote><h5 id="盈利">3.2.1 盈利</h5><p>　　如图所示，垄断厂商获得利润，总利润量矩形 <spanclass="math inline">\(P_1FGH\)</span> 的面积。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429184747-yn5nuz0.png" style="height:300px" alt="盈利情况" /></p><h5 id="亏损">3.2.2 亏损</h5><p>　　垄断厂商在短期内由于不能调整生产规模，并非总能获得利润。如图所示，垄断厂商是亏损的，亏损额相当于矩形<span class="math inline">\(P_1FGH\)</span> 的面积。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429185055-yjw9ktz.png" style="height:300px" alt="亏损情况" /></p><h4 id="长期均衡的条件">3.3 长期均衡的条件</h4><p>　　垄断厂商长期均衡的条件为：<spanclass="math inline">\(MR=LMC=SMC\)</span></p><p>　　垄断厂商之所以能在长期内获得更大的利润，其原因在于长期内企业的生产规模是可调整的，而且市场对新加入厂商是完全关闭的。</p><p>　　垄断厂商对生产调节的结果：</p><ul><li>垄断商场在短期内亏损，且在长期不存在一个可以使之获得利润（或至少使亏损为0）的最优生产规模，那么该厂商将退出生产。</li><li>垄断厂商在短期内亏损，但在长期内通过对最优生产规模的选择，摆脱亏损状况，甚至获得利润，此时厂商不退出生产。</li><li>垄断厂商在短期内利用既定生产规模获得了利润，在长期通过对生产规模调整，使自己获得更大的利润，此时厂商不退出生产。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429211534-v9p2e3g.png" style="height:300px" alt="垄断厂商的长期均衡" /></p><h4 id="供给曲线">3.4 供给曲线</h4><p>　　供给曲线表示在每一个价格水平生产者愿意而且能够提供的产品的数量，体现了产量和价格之间的一一对应关系。但是垄断厂商可以通过产量和价格的同时调整来实现利润最大化，所以垄断厂商的价格和产量之间不再必然存在一一对应的关系。（对比<ahref="siyuan://blocks/20220429010340-gzxf8hn">"完全竞争市场的长期供给曲线"</a>）</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429212235-p79tv25.png" style="width:600px" alt="垄断厂商不存在供给曲线" /></p><p>　　<strong>垄断厂商没有供给曲线，即无法得到如同完全竞争市场条件下的具有规律性的、可以表示产量与价格一一对应的短期供给曲线。</strong></p><p>　　==凡是在或多或少的程度上带有垄断因素的不完全竞争市场中（单个厂商对市场价格有一定的控制力量），即在单个厂商的需求曲线向右下方倾斜的市场中，不存在具有规律性厂商和行业的短期和长期供给曲线。==</p><h2 id="三价格歧视">（三）价格歧视</h2><p>　　<strong>以不同价格销售同一种产品，被称为价格歧视。</strong>价格歧视不只存在于垄断厂商，凡是厂商对其产品市场具有价格影响力或控制力者皆可采取价格歧视。</p><p>　　价格歧视要可行，必须满足两个基本条件：</p><ul><li>第一，市场的消费者具有不同的偏好，且这些不同的偏好可以被区分开；</li><li>第二，不同的消费者群体或不同的销售市场是相互隔离的。</li></ul><h3 id="一级价格歧视">1. 一级价格歧视</h3><p>　　<strong>一级价格歧视 / 完全价格歧视</strong>（perfect pricediscrimination），指厂商对每一单位产品都按消费者所愿意支付的最高价格出售（每一单位的产品价格都不相同）。</p><p>　　如图所示，当消费者欲购买 <span class="math inline">\(q_0\)</span>的数量时，其实际支出的金额为 <spanclass="math inline">\(Oq_0BA\)</span>，恰好等于其所愿意支出的最大金额。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429213030-gpmlo31.png" style="height:250px" alt="一级价格歧视" /></p><p>　　一级价格歧视是一种罕见的价格歧视情况。实际上，只有当垄断厂商确切了解每个消费者对其产品的需求曲线时，一级价格歧视才可能发生。</p><p>　　<strong>实行一级价格歧视的垄断厂商，可以榨取所有的消费者剩余</strong>（<spanclass="math inline">\(CS=0\)</span>）。</p><h3 id="二级价格歧视数量歧视">2. 二级价格歧视（数量歧视）</h3><p>　　<strong>二级价格歧视 / 非线性定价</strong>（non linearpricing），是指厂商对不同的消费数量段规定不同的价格。购买相同数量的消费者支付相同的价格，不同消费数量之间存在价格歧视。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429213234-6lloeho.png" style="height:300px" alt="二级价格歧视" /></p><p>　　实行二级价格歧视的垄断厂商利润会增加，部分消费者剩余被垄断者占有，且垄断者会达到或接近<span class="math inline">\(P =MC\)</span>的有效率的资源配置的产量。</p><p>　　二级价格歧视更多用于社会公用事业中，其产品必须是易于度量与记录并且成批出售。</p><p>　　一级价格歧视与二级价格歧视的区别：</p><ul><li>一级价格歧视实质是逐个出售，二级价格歧视是分批定价、分批出售；</li><li>一级价格歧视对每个消费者收取不同的价格，二级价格歧视的价目表面对所有买主。</li></ul><h3 id="三级价格歧视">3. 三级价格歧视</h3><p>　　三级价格歧视是指厂商对同一种产品在不同的市场上（或对不同的消费群）收取不同的价格。</p><p>　　实施三级价格歧视，需要满足 2 个<strong>条件</strong>：</p><ul><li>垄断厂商能对不同的消费者进行有效隔离</li><li>消费者的自我选择</li></ul><p>　　<strong>举例：</strong></p><ul><li>富人区和贫民区的价格不同（地域因素）</li><li>学生于非学生价格不同（身份因素）</li><li>黄金时间段和非黄金时间段收费不同（时间因素）</li></ul><p>　　三级价格歧视的<strong>特点</strong>：</p><ul><li>产量决策原则：<spanclass="math inline">\(MR_1=MR_2=MC\)</span>，垄断商场根据 <spanclass="math inline">\(MC=MR\)</span>确定产量水平，主要根据地理差别、产品用途、时间、消费者收入等将同一产品分配在不同的市场上。</li><li>价格决策原则：需求价格弹性 <span class="math inline">\(e_d\)</span>小的市场价格高，需求价格弹性 <span class="math inline">\(e_d\)</span>大的市场价格低；</li><li>三级价格歧视的利润高于统一定价。</li></ul><blockquote><p><strong>证明过程补充：</strong></p><p>假设存在两个不同的市场（或两种不同的消费人群），厂商采取三级价格歧视，即对两个市场采取区别定价，因此两个市场的因此边际收益<span class="math inline">\(MR\)</span> 不同，但提供的产品相同，边际成本<span class="math inline">\(MC\)</span>相同，此时垄断厂商利润最大化的条件为：<spanclass="math inline">\(MR_1=MR_2=MC\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515170809-vqbznaa.png"  alt="三级价格歧视" /></p><p>在两个市场中，分别有：</p><p><span class="math display">\[\begin {align}MR_1 = P_1 \Big (1-\frac 1 {e_{d,1}} \Big)   \\MR_2 = P_2 \Big (1-\frac 1 {e_{d,2}} \Big)\end {align}\]</span></p><p>因此，根据厂商利润最大化条件 <span class="math inline">\(MC = MR_1 =MR_2\)</span>，可以计算出：</p><p><span class="math display">\[\begin {align}\frac {P_1} {P_2}=\frac {1- 1 /{e_{d,2}}} {1- 1 /{e_{d,1}}}\end {align}\]</span></p></blockquote><h3 id="小结">4. 小结</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230314163738-y47medo.png"  alt="三种价格歧视的比较" /></p><h3 id="垄断厂商其他定价策略">5. 垄断厂商其他定价策略</h3><h4 id="两部收费制">5.1 <strong>两部收费制</strong></h4><p>对一种商品或服务收取两次价格（入门费 + 使用费）。</p><p>特点：</p><ul><li>剥夺消费者剩余</li><li>利润取决于使用费和入门费</li><li>适用于消费需求近似的商品</li></ul><p>例如：园中园收费、会员制收费、固定电话收取月租费</p><h4 id="时期间价格歧视">5.2 <strong>时期间价格歧视</strong></h4><p>根据销售的不同时间收取不同的价格（三级价格歧视的一种）。</p><p>特点：</p><ul><li>用时间作为区分消费者的手段</li><li>根据弹性不同定价</li></ul><p>例如：季节性打折、电影放映的定价</p><h4 id="高峰价格">5.3 <strong>高峰价格</strong></h4><p>根据消费时段不同，周期性地采取不同的价格。</p><p>特点：</p><ul><li>需求价格弹性具有明显的周期性</li><li>供给相对稳定</li></ul><p>例如：旅游旺季价与淡季价、用电分时定价</p><h4 id="搭售">5.4 <strong>搭售</strong></h4><p>两种或更多商品作为一组商品定价。</p><p>特点：</p><ul><li>剥夺消费者剩余</li><li>适用于消费上负相关的商品</li><li>纯搭售与混合搭售</li></ul><p>例如：快餐套餐、有线电视频道组合</p><h1 id="二垄断竞争市场">二、垄断竞争市场</h1><h2 id="一概念与形成条件">（一）概念与形成条件</h2><p>　　垄断竞争市场：一个市场中有许多厂商生产和销售<strong>有差别</strong>的同种产品的市场组织（垄断竞争：monopolisticcompetition）。</p><p>　　生产集团：市场上大量的生产非常接近的同种产品的厂商的总和。</p><p>　　垄断竞争市场的条件：</p><ul><li>在生产集团中有大量的企业生产有差别的同种产品，这些产品彼此之间都是非常接近的替代品（如：不同品牌的香烟、方便面、饮料）；</li><li>一个生产集团中的企业数量非常多，以至于每个厂商都认为自己的行为的影响很小，不会引起竞争对手的注意和反应，因而自己也不会受到竞争对手的任何报复措施的影响（如：盒饭、理发业）；</li><li>厂商的生产规模比较小，进入和退出一个生产集团比较容易（如：轻工业、修理业、零售业）。</li></ul><h2 id="二需求曲线">（二）需求曲线</h2><h3 id="需求曲线的形状">1. 需求曲线的形状</h3><p>　　由于垄断竞争厂商可以<strong>在一定程度上控制自己产品的价格</strong>，垄断竞争厂商所面临的需求曲线也是向右下方倾斜的。市场中的竞争因素又使得垄断竞争厂商面临的需求曲线具有较大的弹性。因此，垄断竞争厂商向右下方倾斜的需求曲线是比较平坦的，相对地比较接近<ahref="siyuan://blocks/20220429000544-1ozwlqz">"完全竞争厂商的水平形状需求曲线"</a>。</p><h3 id="需求曲线的种类">2. 需求曲线的种类</h3><p>　　<strong>主观需求曲线 </strong>/ <spanclass="math inline">\(dd﻿\)</span><strong>需求曲线</strong>：在垄断竞争生产集团中的某个厂商改变产品价格，而其他厂商的产品价格都保持不变时，该厂商的产品价格和销售量之间的关系。</p><p>　　<strong>客观需求曲线 </strong>/ <spanclass="math inline">\(DD﻿\)</span><strong>需求曲线</strong>：在垄断竞争生产集团的某个厂商改变产品价格，而且集团内的其他所有厂商也使产品价格发生相同变化时，该厂商的产品价格和销售量之间的关系。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429220206-kuov38c.png" style="height:300px" alt="垄断竞争厂商的需求曲线" /></p><p>　　<strong>主观需求曲线和客观需求曲线的关系</strong>：</p><ul><li>当垄断竞争生产集团内的所有厂商都以相同方式改变产品价格时，整个市场价格的变化会使得单个垄断竞争厂商的主观需求曲线的位置沿着客观需求曲线上下平移。如果市场价格下跌，则主观需求曲线沿着客观需求曲线向下平移，如果市场价格上升，则主观需求曲线沿着客观需求曲线向上平移。</li><li>由于主观需求曲线表示单个垄断竞争厂商单独改变价格时所预期的产量，客观需求曲线表示每个垄断竞争厂商在每一市场价格水平实际面临的市场需求量，因此，主观需求曲线和客观需求曲线相交意味着垄断竞争市场的供求相等状态。</li><li>主观需求曲线的弹性大于客观需求曲线，即主观需求曲线更加平坦。</li></ul><h2 id="三短期均衡与长期均衡">（三）短期均衡与长期均衡</h2><h3 id="短期均衡-1">1. 短期均衡</h3><p>　　在短期内，垄断竞争厂商是在现有的生产规模下通过对产量和价格的调整，来实现<span class="math inline">\(MR=SMC\)</span>的均衡条件。在短期均衡的产量上，一定存在着一个主观需求曲线和客观需求曲线的交点，这意味着市场上的供求是相等的。同样在短期均衡时，垄断竞争性厂商可能获得最大的利润，也可能利润为零，也可能蒙受最小损失。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429223022-76n0sv1.png" style="width:600px" alt="垄断竞争市场代表性企业的短期均衡" /></p><p>　　主观需求曲线和客观需求曲线相交点对应的产量和价格恰好是 <spanclass="math inline">\(MR=SMC\)</span> 时的均衡点 <spanclass="math inline">\(E\)</span>所要求的产量和价格。此时，企业便实现了短期均衡。</p><h3 id="长期均衡">2. 长期均衡</h3><p>　　垄断竞争厂商的长期均衡条件为：<spanclass="math inline">\(MR=LMC=SMC\)</span>，<spanclass="math inline">\(AR=LAC=SAC\)</span>，即边际收益等于边际成本，平均收益等于平均成本。这一条件表明：<strong>垄断竞争厂商在长期均衡时的利润必定为零</strong>，即在垄断竞争厂商的长期均衡点上，主观需求曲线必定与<span class="math inline">\(LAC\)</span> 曲线相切。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429223258-ff5cvbv.png" style="width:600px" alt="垄断竞争市场代表性企业的长期均衡" /></p><h2 id="四效率损失与非价格竞争">（四）效率损失与非价格竞争</h2><h3 id="垄断竞争的效率损失多余生产能力">1.垄断竞争的效率损失：多余生产能力</h3><p>　　一般把完全竞争企业在长期平均成本 <spanclass="math inline">\(LAC\)</span>曲线最低点上的产量称作理想的产量，把实际产量与理想产量之间的差额称作多余的生产能力。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429223336-ycl9ivy.png" style="height:250px" alt="垄断竞争和多余的生产能力" /></p><p>　　如图所示，垄断竞争厂商的长期均衡产量 <spanclass="math inline">\(Q_A\)</span> 小于理想的产量 <spanclass="math inline">\(Q_C\)</span>，多余的生产能力为 <spanclass="math inline">\(Q_C-Q_A\)</span>。</p><p>　　张伯伦（垄断竞争理论创始人之一）认为：多余的生产能力可以代表由于想得到产品的多样化而付出的代价。</p><p>　　也有经济学家认为，多余的生产能力反映在现实经济生活中时生产某些相似产品的小规模企业过于拥挤，垄断竞争生产集团内的商场数量过多。如果减少厂商的数量，单个厂商的生产能力扩大，生产的平均总成本就会下降。</p><h3 id="非价格竞争">2. 非价格竞争</h3><p>　　在完全竞争市场上不存在非价格竞争（因为产品完全同质）。</p><p>　　垄断竞争厂商往往通过改进产品品质、精心设计商标和包装，改善售后服务以及广告宣传等手段来扩大自己产品的市场销售份额，这就是非价格竞争。</p><p>　　<strong>非价格竞争的原因</strong>：价格竞争虽然能使一部分厂商得到好处，但从长期看，价格竞争会导致产品价格持续下降，最终厂商的超额利润消失。</p><p>　　<strong>非价格竞争的基本原则</strong>：非价格竞争也需要付出成本，因此需要遵循<span class="math inline">\(MC=MR\)</span> 的利润最大化原则。</p><p>　　<strong>非价格竞争的作用</strong>：</p><ul><li>强化市场的竞争程度，也满足了消费者的多样化商品与服务的需求。</li><li>增强了消费者对某些产品的依赖程度，使厂商加强了对自己产品的垄断程度。</li></ul><p>　　<strong>对广告的评价</strong>：</p><ul><li>广告分为信息性广告与劝说性广告。</li><li>信息性广告有利于消费者作出最佳的购买决策，节约消费者的搜寻成本。信息性广告之间的相互竞争，有利于经济资源的合理配置；</li><li>劝说性广告很少提供对消费者来说真正想获得的信息，虽然可以增加厂商的销售量，但被诱导的消费者往往不能买到自己实际上需要且真正满意的商品。</li></ul><h3 id="为何垄断竞争厂商之间倾向于非价格竞争">3.为何垄断竞争厂商之间倾向于非价格竞争？</h3><ul><li>垄断竞争厂商的产品之间有较大的替代性，因而其需求价格弹性较高，需求曲线接近于水平线。根据斯威齐模型可知，当垄断竞争厂商提高价格时，如其他厂商不跟着提价，他的销售市场会大幅度缩小，使利润反而减少；反之，当垄断竞争厂商降价时，其他厂商也跟着降价，他的销售量只会稍有增加，因此，垄断竞争厂商之间一般不愿意进行价格竞争，而宁可进行非价格竞争。</li><li>价格竞争虽然能使一部分厂商得到好处，但从长期看，价格竞争会导致产品价格持续下降，最终使厂商的利润消失。另外，政府可能会通过法律或管制的手段来对价格竞争进行干预。</li><li>非价格竞争指在垄断竞争市场上，由于每一个厂商生产的产品都是有差别的，垄断竞争厂商往往通过改进产品品质、精心设计商标和包装、改善售后服务以及广告宣传等手段，增加消费者对其产品的依赖程度，加强了产品的垄断程度，扩大产品的市场销售份额，获得最大的利润。</li></ul><p>　　非价格竞争的内容要比价格竞争广泛和复杂得多，在采用非价格竞争中，在取得效果与采取行动之间有一个时滞，不会迅速收到效果，作用也不太猛烈，竞争对手对这种竞争方式也不宜觉察到。因此，一个企业一旦通过非价格竞争取得一定效果，其对手就很难再回复到原有的市场份额，要改变这种不利局面，需要花费更多时间和更多资金。</p><h1 id="三寡头垄断市场">三、寡头垄断市场</h1><h2 id="一概念与分类">（一）概念与分类</h2><h3 id="概念特征与原因">1. 概念、特征与原因</h3><h4 id="概念">1.1 概念</h4><p>　　<strong>寡头市场</strong>/<strong>寡头垄断市场</strong>：指由少数几家厂商控制整个市场的产品生产和销售的这样一种市场组织。这几家厂商的产量在该行业总产量中各占较大的份额，市场上每个厂商都有举足轻重的作用。</p><h4 id="特征">1.2 特征</h4><ul><li>厂商数量极少，新的厂商进入或退出市场比较困难；</li><li>从事同质产品或差别产品的生产与销售，厂商之间存在激烈竞争；</li><li>寡头厂商之间的行为相互依存、相互制约；</li><li>由于寡头厂商之间的相互依存关系，寡头厂商产品的需求曲线就难以确定，厂商行为具有不确定性；</li><li>除价格竞争外，更经常的是<ahref="siyuan://blocks/20220429223522-uilw4ru">"非价格竞争"</a>。</li></ul><h4 id="形成原因">1.3 形成原因</h4><ul><li>规模经济</li><li>对关键生产资源供给的控制</li><li>专利或专有技术</li><li>政府特许</li></ul><h3 id="分类">2. 分类</h3><p>　　根据产品特征：纯粹寡头与差别寡头</p><p>　　根据厂商行动方式：有勾结行为（合作）与无勾结行为（不合作）</p><p>　　根据厂商数量：双头寡头、三头寡头、多头寡头</p><h3 id="种类">3. 种类</h3><p>　　垄断竞争模型可以分为两类：</p><ul><li><strong>猜测产量模型</strong>：<ahref="siyuan://blocks/20220429225601-lu6ierd">"古诺模型"</a>、<ahref="siyuan://blocks/20220429230937-h7hm2qp">"斯塔克伯格模型"</a></li><li><strong>猜测价格模型</strong>：<ahref="siyuan://blocks/20220429231011-56veo53">"价格领导模型"</a>、<ahref="siyuan://blocks/20220429231024-yr2xrzn">"斯威齐模型"</a></li></ul><h2 id="二古诺模型双头模型">（二）古诺模型（双头模型）</h2><p>　　古诺模型（Cournot model）是由法国经济学家奥古斯汀·古诺在 1838年发表的《对财富理论的数学原理的研究》中提出。</p><h3 id="经典的古诺模型">1. 经典的古诺模型</h3><p>　　<strong>假设条件：</strong></p><ul><li>市场价格与需求总量之间存在线性关系 <spanclass="math inline">\(P=a-bQ\)</span>；</li><li>市场中两个厂商<strong>同时决定</strong>利润最大化时的<strong>产量</strong>；</li><li>单个厂商的产量决策以其他竞争对手产量不变为前提；</li><li>生产相同的商品，且生产成本为零</li></ul><p>　　具体假设：市场上只有 A、B两个厂商生产和销售相同的产品，它们的生产成本为零；它们共同面临的市场的需求曲线是线性的，A、B 两个厂商都准确地了解市场的需求曲线；A、B两个厂商都是在已知对方产量的情况下，各自确定能够给自己带来最大利润的产量，即每一个厂商都是消极地以自己的产量去适应对方已确定的产量。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429225719-2y9j5k7.png" style="height:250px" alt="古诺模型" /></p><p>　　当生产成本为零，寡头厂商数量为 <spanclass="math inline">\(m\)</span>，结论为：</p><p>　　每个寡头厂商的均衡产量：<spanclass="math inline">\(均衡产量=市场总容量 \times \frac  1{m+1}\)</span></p><p>　　行业的均衡总产量：<span class="math inline">\(总产量=市场总容量\times \frac  m {m+1}\)</span></p><h3 id="求解过程">2. 求解过程</h3><h4 id="市场结构">2.1 市场结构</h4><p>　　市场上只有两个厂商生产和销售安全相同的产品，企业决策变量为产量。假定两个企业同时生产，这时市场上的价格<span class="math inline">\(P\)</span>是两个企业产量之和的函数，即需求函数为：<spanclass="math inline">\(P=P(q_1 + q_2)\)</span>，其中，<spanclass="math inline">\(q_1\)</span>、<spanclass="math inline">\(q_2\)</span> 分别是企业 1 与企业 2 的产量。</p><p>　　从企业 1 出发进行分析，它估计企业 2 的产量为 <spanclass="math inline">\(q_2^e\)</span>，若企业 1 决定生产 <spanclass="math inline">\(q_1\)</span>，则市场上供给的产量为 <spanclass="math inline">\(q_1+q_2^e\)</span>，相应的市场价格为：<spanclass="math inline">\(P(q)=P(q_1 + q_2^e)\)</span>，企业 1的利润最大化问题可以写成：</p><p>$$<br /><br />$$</p><h4 id="反应函数">2.2 反应函数</h4><p>　　结合企业 1 的利润函数可以看出，企业 1 的最佳产出量 <spanclass="math inline">\(q_1\)</span> 是其对于企业 2的产量预期的函数，即：</p><p>$$<br /><br />$$</p><p>　　上式为企业 1 对企业 2 产量的“反应函数”（reactionfunction），同理，企业 2 也对企业 1 的产量 <spanclass="math inline">\(q_1\)</span> 进行估计，在给定企业 1 的产量预期<span class="math inline">\(q_1^e\)</span> 的前提下，能得出企业 2的反应函数为：</p><p>$$<br /><br />$$</p><h4 id="古诺均衡">2.3 古诺均衡</h4><p>　　古诺均衡指产量 <span class="math display">\[(q_1^ *,q_2^*)\]</span> 满足：</p><p>$$<br /><br />$$</p><p>　　因此，古诺均衡有以下含义：</p><ul><li><strong>市场供求相等</strong>；</li><li><strong>利润最大化</strong>：给定对于另一个企业的产量预期，每一个企业都做出了自己最优的产量选择，使自己利润最大化；</li><li><strong>理性预期</strong>：每一个企业对对方企业的产量预期正确，即<span class="math display">\[q_1^e=q_1^ * \]</span>，<spanclass="math display">\[q_2^*=q_2^e\]</span>，厂商不可能通过改变产量来增加利润；</li><li><strong>古诺均衡是纳什均衡</strong>。</li></ul><h3 id="例子">3. 例子</h3><p>　　考虑以下古诺竞争模型。市场中有 <spanclass="math inline">\(N\)</span>个企业，生产相同的产品，均没有生产成本。市场需求函数为 <spanclass="math inline">\(P=a-bQ\)</span>，其中 <spanclass="math inline">\(a,b&gt;0\)</span>，<spanclass="math inline">\(Q\)</span>为行业总产量。如果企业同时展开产量竞争，那么：</p><p>　　（1）均衡时价格是多少？</p><p>　　（2）此时消费者剩余是多少？</p><p>　　解答：（1）代表性企业 <span class="math inline">\(i\)</span>的利润函数为：</p><p><span class="math display">\[\begin {align}\pi_i=P q_i =\Bigg [ a-b\sum_{n=1}^N  q_n \Bigg] q_i\end {align}\]</span></p><p>　　利润最大化的一阶条件是：</p><p><span class="math display">\[\begin {align}\frac {\partial \pi_i}  {\partial q_i}= a-b\sum_{n=1}^N  q_n   - b q_i =0\end {align}\]</span></p><p>　　整理可得：</p><p><span class="math display">\[\begin {align}b q_i= a-b \sum_{n=1}^N  q_n\end {align}\]</span></p><p>　　古诺竞争时生产相同产品的各企业的产量相等，即：<spanclass="math inline">\(\sum_{n=1}^N  q_n =Nq_i\)</span>，联立上式，可以解出各企业的产量为：</p><p><span class="math display">\[\begin {align}q_i=\frac a {b(N+1)}\end {align}\]</span></p><p>　　行业总产量为：<span class="math inline">\(Q=Nq_i=\frac {aN}{b(N+1)}\)</span></p><p>　　将行业总产量代入需求函数可得：<span class="math inline">\(P=\fraca {N+1}\)</span></p><p>　　（2）此时，消费者剩余为：<span class="math inline">\(CS=\frac 1 2\times \Big (a-\frac a {N+1} \Big ) \times \frac {aN} {b(N+1)}=\frac{a^2N^2} {2b(N+1)^2}\)</span></p><h2id="三斯塔克伯格模型产量领导模型">（三）斯塔克伯格模型（产量领导模型）</h2><h3 id="假设与分析思路">1. 假设与分析思路</h3><p>　　斯塔克伯格（Stackelberg）模型通常用于描述这样一个产业：z在该产业中存在着一个支配企业，除此之外，该产业中还有若干小企业，那些小企业经常是等待支配企业宣布其产量计划，然后再相应调整自己的产量。因此，斯塔克伯格模型也被称之为“领导者一追随者”模型。</p><p>　　<strong>（1）假设条件：</strong></p><ul><li><p>产量领袖模型——顺序决策</p></li><li><p>其他假设与<ahref="siyuan://blocks/20220429232654-3b7ywta">"古诺模型"</a>相同：</p><ul><li>市场价格与需求总量之间存在线性关系 <spanclass="math inline">\(P=a-bQ\)</span>；</li><li>市场中两个厂商<strong>同时决定</strong>利润最大化时的<strong>产量</strong>；</li><li>单个厂商的产量决策以其他竞争对手产量不变为前提；</li><li>生产相同的商品，且生产成本为零。</li></ul></li></ul><p>　　<strong>（2）分析思路：</strong></p><ul><li>先分析追随型企业的选择（反应函数）；</li><li>再分析主导企业/领袖企业的选择：将反应函数纳入领导型企业的决策过程，得出领导型企业的最优产量决策。</li></ul><p>　　具体来看：</p><p>　　① 追随者利润最大化：</p><p><span class="math display">\[\begin {align}\max _{q_2} P(q_1+q_2) \cdot  q_2 - C_2(q_2)\end {align}\]</span></p><p>　　从其中求解追随者的反应函数：<span class="math inline">\(q_2 =f_2(q_1)\)</span></p><p>　　② 领导者的利润最大化：</p><p>　　将厂商 2 的反应函数代入领导者利润函数，可得利润函数：</p><p><span class="math display">\[\begin {align}\pi_1 = P \big [q_1+f_2(q_2) \big ] \cdot  q_1 - C_1(q_1)\end {align}\]</span></p><p>　　得领导者最大化利润的产量选择 <span class="math display">\[q_1 ^ *\]</span>，再代入追随者的反应函数可得追随者的产量选择 <spanclass="math display">\[q_2 ^ * \]</span>，此时市场价格为 <spanclass="math display">\[P^ *(q_1 ^ * + q_2^ * )\]</span>，最后市场均衡为<span class="math display">\[q_1 ^ * + q_2 ^ * \]</span>。</p><p>　　<strong>（3）结论：</strong>先行者得利</p><h3 id="例子-1">2. 例子</h3><p>　　若寡头市场的需求曲线为 <spanclass="math inline">\(P=30-Q\)</span>，两个寡头厂商的边际成本相等，均为<span class="math inline">\(MC=3\)</span>，无固定成本。</p><p>　　（1）若厂商 1 是产量领导，每个厂商的产量与利润是多少？</p><p>　　（2）若两个厂商串谋，每个厂商的产量与利润是多少？</p><p>　　（3）串谋能否实现？</p><p>　　解答：（1）<span class="math inline">\(P=30-Q\)</span>，<spanclass="math inline">\(MC_1=MC_2=3\)</span></p><p>　　追随者厂商 2 的利润：<span class="math inline">\(\pi _2=TR_2-TC_2=[30-(q_1+q_2)]\cdot q_2-3q_2=-q_2^2+(27-q_1)q_2\)</span></p><p>　　厂商 2 利润最大化决策：<span class="math inline">\(\frac {d\pi_2} {d q_2} = -2q_2+27-q_1=0\)</span>，即反应函数为：<spanclass="math inline">\(q_2=13.5-0.5q_1\)</span></p><p>　　将反应函数代入厂商 1 的利润函数：</p><p><span class="math display">\[\begin {align}\pi _1 &amp; = TR_1-TC_1=[30-(q_1+q_2)]\cdot q_1-3q_1      \notag \\          &amp; = [ 30-(q_1+(13.5-0.5q_1) ) ] \cdot q_1-3q_1    \notag\\          &amp; = (13.5-0.5 q_1) q_1\end {align}\]</span></p><p>　　厂商 1 利润最大化条件：<span class="math inline">\(\frac {d\pi_2} {d q_2} = -q_1 + 13.5 = 0\)</span>，即可解得：<spanclass="math inline">\(q_1=13.5\)</span>，<spanclass="math inline">\(q_2= 6.75\)</span></p><p>　　厂商 1 的利润：<spanclass="math inline">\(\pi_1=91.125\)</span>，厂商 2 的利润：<spanclass="math inline">\(\pi_2=45.5625\)</span>，此时 <spanclass="math inline">\(\pi_1&gt;\pi_2\)</span></p><p>　　（2）若两个厂商串谋，则可以将两个厂商看作一个整体，其利润函数为：</p><p><span class="math display">\[\begin {align}\pi=PQ-TC=(30-Q)Q-3Q=-Q^2+27Q\end {align}\]</span></p><p>　　利润最大化时：<span class="math inline">\(\frac {d\pi}{dQ}=-2Q+27=0\)</span>，解得 <spanclass="math inline">\(Q=13.5\)</span>，此时价格为 <spanclass="math inline">\(P=16.5\)</span>，<spanclass="math inline">\(q_1=q_2=6.75\)</span></p><p>　　厂商 1 与厂商 2 的利润均为：<spanclass="math inline">\(\pi_1=\pi_2=91.125\)</span></p><p>　　（3）厂商 1 为实现利润最大化，当厂商 2 生产 <spanclass="math inline">\(q_2=6.75\)</span> 单位产品时：</p><p>　　如果厂商 1 按照串谋只生产 <spanclass="math inline">\(q_1=6.75\)</span>，利润为：<spanclass="math inline">\(\pi_1=91.125\)</span>；</p><p>　　如果厂商 1 破坏协议，此时厂商 1 已知厂商 2 的产量，厂商 1的反应函数为 <span class="math inline">\(q_1=13.5-0.5q_2\)</span>，即<span class="math inline">\(q_1=10.125\)</span>，此时总产量 <spanclass="math inline">\(Q=16.875\)</span>，价格为 <spanclass="math inline">\(P=13.125\)</span>，此时，厂商 1 利润为 <spanclass="math inline">\(\pi_1=102.52\)</span>，厂商 2 利润为 <spanclass="math inline">\(\pi_2=68.34\)</span>。</p><p>　　也就是说，厂商 1 破坏协议可以获得更高的利润，此时厂商 2的利润将会降低。</p><p>　　当没有破坏协议的惩罚措施时，厂商 2不会遵守协议，串谋无法实现。</p><p>　　因此：两个寡头厂商达成卡特尔联盟（松散的价格协议），其结果也是松散的（分分合合）。</p><p>　　<strong>卡特尔悖论：</strong></p><ul><li>有串谋协议时：遵守协议比不遵守协议更好（串谋 &gt; 古诺均衡）</li><li>无串谋协议时：不遵守协议比遵守协议更好（古诺均衡 &gt; 串谋）</li></ul><h2 id="四价格领导模型">（四）价格领导模型</h2><p>　　价格领导模型与古诺模型和斯塔克伯格模型关键不同的是，它选择价格作为决策变量。</p><p>　　<strong>假设：</strong>领导者确定的价格是 <spanclass="math inline">\(p\)</span>，追随者把 <spanclass="math inline">\(p\)</span>作为既定价格接受，然后选择它的利润最大化产量，领导者根据追随者的选择再做出产量选择。</p><p>　　<strong>结论：</strong>在均衡状态，两家厂商销售同一产品，追随者总是确定与领导者相同的价格。</p><p>　　<strong>分析思路：</strong></p><p>　　（1）追随者利润最大化：</p><p><span class="math display">\[\begin {align}\max _{q_2} p q_2 - C_2(q_2)\end {align}\]</span></p><p>　　从而得出追随者的供给函数 <spanclass="math inline">\(S(p)\)</span>。</p><p>　　（2）领导者利润最大化：</p><p>　　领导者认识到在其定价 <span class="math inline">\(p\)</span>时，追随者会供给 <spanclass="math inline">\(S(p)\)</span>，则它可以出售的产量是 <spanclass="math inline">\(R(p)=D(p)-S(p)\)</span>，即整个需求在除去追随者供给产量之后的数量。假定领导者有不变的边际生产成本<span class="math inline">\(c\)</span>，则对于任意价格 <spanclass="math inline">\(p\)</span>，领导者的利润为：</p><p><span class="math display">\[\begin {align}\pi_1 (p)= (p-c)[D(p)-S(p)]= (p-c)R(p)\end {align}\]</span></p><p>　　为使利润最大化，领导者要选择利润最大化 <spanclass="math inline">\(MC=MR\)</span> 的价格和产量组合。</p><h2 id="五斯威齐模型">（五）斯威齐模型</h2><p>　　斯威齐模型 / 弯折的需求曲线模型（Kinked Demand CurveModel），由美国经济学家斯威齐（P.M. Sweezy）于 1939年提出来，被用来解释一些寡头市场上的<strong>价格刚性</strong>现象。寡头垄断厂商推测其他厂商对自己价格的态度时“<strong>跟跌不跟涨</strong>”。该模型的基本假设条件是：如果一个寡头厂商提高价格，行业中的其他寡头厂商都不会跟着改变自己的价格，因而提价的寡头厂商的销售量的减少是很多的；如果一个寡头厂商降低价格，行业中的其他寡头厂商会将价格下降到相同的水平，以避免销售份额的减少，因而该寡头厂商的销售量的增加是很有限的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220430005415-nrz9cp3.png" style="height:300px" alt="弯折的需求曲线模型" /></p><p>　　根据这样的假定，寡头厂商的产品需求曲线是弯折的，拐点以上的需求曲线比拐点一下的需求曲线更平坦。弹性不同的拐折需求曲线会形成两条<span class="math inline">\(MR﻿\)</span> 曲线，这两条 <spanclass="math inline">\(MR\)</span>曲线在拐折点相关的产量上会出现不连续的空隙。不连续部分的长度取决于拐点上两条需求曲线弹性的差异程度。边际成本在<span class="math inline">\(MR\)</span>的不连续区域变动，不影响均衡价格与均衡产量。只要去喜爱呢与 <spanclass="math inline">\(MR\)</span> 曲线相交于 <spanclass="math inline">\(MR\)</span>曲线的不连续区域，寡头厂商都能达到均衡，使产量的变动达到利润极大化。</p><h1 id="四不同市场的比较">四、不同市场的比较</h1><h2 id="一不同市场的长期均衡与条件">（一）不同市场的长期均衡与条件</h2><h3 id="经济效率">1. 经济效率</h3><p>　　经济效率指利用经济资源的有效性。</p><p>　　不同市场结构的经济效率是不同的。市场结构直接影响经济效率的高低。完全竞争市场效率最高，垄断竞争市场较高，寡头市场较低，完全垄断市场最低。可见，市场的竞争程度越高，则经济效率越高。</p><p>　　完全竞争市场是经济效率最高的市场。因为当完全竞争场达到长期均衡时该厂商不仅在长期平均成本最低点生产，而且在短期也是平均成本最低点生产。这说明，在完全竞争情况下的生产规模和产量都是适度的，短期平均成本也是最小的。厂商在这种状态下从事生产活动，垄断利润为零。因而社会资源能够得到最佳配置和获得最充分的利用。另外，由于完全竞争的作用，可以使均衡价格降低到最低点，从而消费者也可以从中获得福利，所以完全竞争市场模型被认为是一种理想的经济模型。</p><p>　　<strong>完全竞争市场 &gt; 垄断竞争市场 &gt; 寡头市场 &gt;垄断市场</strong></p><h3 id="产量与价格">2. 产量与价格</h3><p>　　在不完全竞争市场条件下，厂商的需求曲线是向右下方倾斜的，厂商的垄断程度越高，需求曲线越陡峭。垄断程度越低，需求曲线越平坦。在垄断竞争市场上，厂商长期利润为零，所以在垄断竞争厂商的长期均衡时，厂商需求曲线是向右下方倾斜的，相对比较平坦的需求曲线相切于长期平均成本曲线的最低点左边，产品的均衡价格比较低，但厂商仍存在剩余的生产力。</p><p>　　在垄断市场上，厂商长期内获得利润，所以在垄断厂商的长期均衡时，厂商需求曲线向右下方倾斜的。相对比较陡峭的需求曲线与长期平均成本相交，产品的均衡价格最高，且大于生产的平均成本；产品的均衡数量低，垄断厂商若肯放弃一些利润，价格就可以下降一些，产量就可以增加一些。</p><p>　　在寡头市场上，厂商的需求曲线不太确定，一般认为，寡头市场是与垄断市场是比较相似的市场组织。在长期均衡时，均衡价格比较高，均衡产量比较低。</p><h3 id="关于-plmc-的条件">3. 关于 P=LMC 的条件</h3><p>　　<spanclass="math inline">\(P=LMC\)</span>：资源得到最有效配置（如完全竞争市场）</p><p>　　<spanclass="math inline">\(P&gt;LMC\)</span>：资源配置不当（如不完全竞争市场）</p><p>　　（传送门：<ahref="siyuan://blocks/20220505185244-sicdo1r">"四种市场的特征比较"</a>）</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230314163057-vu0krhx.png" alt="不同市场的比较" /></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230301180608-o14w1ha.png" style="width:800px" alt="" /></p><blockquote><p><strong>补充：</strong></p><p>厂商的经营决策依据：</p><ol type="1"><li>确定产量：<span class="math inline">\(MR\)</span> 与 <spanclass="math inline">\(MC\)</span> 比较</li><li>是否盈利：<span class="math inline">\(AR\)</span> 与 <spanclass="math inline">\(AC\)</span> 比较</li></ol></blockquote><h2 id="二垄断与经济">（二）垄断与经济</h2><h3 id="垄断市场与技术进步两种观点">1.垄断市场与技术进步（两种观点）</h3><h4 id="垄断阻碍技术进步">1.1 垄断阻碍技术进步</h4><p>　　垄断利润的长期性导致垄断厂商缺乏技术创新的动力。为了防止潜在竞争对手的新技术和新产品对其垄断地位造成威胁，垄断厂商有可能通过各种方式去阻碍技术进步。</p><h4 id="垄断有利于技术进步">1.2 垄断有利于技术进步</h4><p>　　垄断厂商利用高额利润所形成的雄厚经济实力，有条件进行各种科学研究和重大的技术创新。垄断厂商可以利用垄断地位，在长期内保持由于技术进步而带来的更高利润。</p><h3 id="规模经济">2. 规模经济</h3><p>　　对不少行业而言，只有大规模的生产，才能获得规模经济的好处，而这往往只有在寡头市场与垄断市场条件下才能做到（如：钢铁与铁路运输）。</p><h3 id="产品差别">3. 产品差别</h3><p>　　在完全竞争市场条件下，所有厂商的产品都是完全相同的，无法满足消费者的各种偏好。</p><p>　　在垄断竞争的市场条件下，众多厂商之间的产品有差别，多样化的产品使消费者有更多的选择自由，可满足不同的需要。但是，产品的一些虚假的非真实性的差别，也会给消费者带来损失。</p><h3 id="广告支出">4. 广告支出</h3><p>　　一方面，垄断竞争市场与产品差别寡头市场的大量广告位消费者提供了信息。</p><p>　　另一方面，过于庞大的广告支出会造成资源浪费与销售价格的抬高，再加上某些广告内容的夸张和诱导，对消费者是不利的。</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜第6章：产品市场理论—完全竞争市场</title>
      <link href="/posts/22302/"/>
      <url>/posts/22302/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/35116/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一市场类型的划分">一、市场类型的划分</h1><p>　　在经济分析中，根据不同的市场结构的特征，市场可分为<ahref="siyuan://blocks/20220427235357-lfq0d02">"完全竞争市场"</a>、<ahref="siyuan://blocks/20220429215507-dbkojqn">"垄断竞争市场"</a>、<ahref="siyuan://blocks/20220429224806-v2zbd13">"寡头垄断市场"</a>和<ahref="siyuan://blocks/20220429172816-02k26ox">"垄断市场"</a>四种类型。</p><p>　　市场划分依据：</p><ul><li>市场上厂商数量；</li><li>商场生产产品的差别程度；</li><li>单个厂商对价格的控制程度；</li><li>厂商进入或退出行业的难易程度。</li></ul><p>　　四种市场的特征比较（传送门：<ahref="siyuan://blocks/20220430005818-1bcpo2v">"不同市场的比较"</a>）：</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230314163057-vu0krhx.png" alt="不同市场的比较" /></p><h1 id="二厂商的收益与利润">二、厂商的收益与利润</h1><h2 id="一厂商的收益">（一）厂商的收益</h2><p>　　厂商的收益是厂商的销售收入：</p><p>　　<strong>总收益</strong>（<spanclass="math inline">\(TR\)</span>）：厂商按一定价格出售一定数量产品时获得的全部收入。<spanclass="math inline">\(TR(Q)=P \cdot Q\)</span></p><p>　　<strong>平均收益</strong>（<spanclass="math inline">\(AR\)</span>）：厂商在平均每一单位产品销售上所获得的收入。<spanclass="math inline">\(AR(Q)=\frac {TR(Q)} Q\)</span></p><p>　　<strong>边际收益</strong>（<spanclass="math inline">\(MR\)</span>）：厂商增加一单位产品销售所获得的总收入的增量。<spanclass="math inline">\(MR(Q)=\frac {\Delta TR(Q)}  {\Delta Q} = \frac {dTR(Q)}  {dQ}\)</span></p><h2 id="二利润函数与利润最大化条件">（二）利润函数与利润最大化条件</h2><p>　　利润函数：<span class="math inline">\(\pi(Q)=TR(Q)-TC(Q)\)</span></p><p>　　不论对哪种类型的厂商，利润最大化的条件都是 <spanclass="math inline">\(MR=MC\)</span>。在短期生产中：</p><ul><li>只要 <spanclass="math inline">\(MR&gt;MC\)</span>，厂商扩大生产就有利可图，会选择增加产量；</li><li>只要 <spanclass="math inline">\(MR&lt;MC\)</span>，厂商扩大生产就会减少利润，会选择减少产量；</li><li>当 <span class="math inline">\(MR=MC\)</span>时，厂商的利润达到最大（或亏损最小），不会选择增加或减少产量。</li></ul><blockquote><p><strong>数学补充：</strong></p><p>证明：厂商的利润最大化条件是 <spanclass="math inline">\(MR=MC\)</span></p><p>利润函数：<span class="math inline">\(\pi(Q)=TR(Q)-TC(Q)\)</span></p><p>将上式两边对产量 <span class="math inline">\(Q\)</span>求导数，可得一阶条件：<span class="math inline">\(\frac {d \pi (Q)}{dQ}=\frac {d TR(Q) } {dQ}- \frac {d TC(Q)}{dQ}=MR(Q)-MC(Q)\)</span></p><p>当 <span class="math inline">\(\frac {d \pi (Q)} {dQ}=0\)</span>时，厂商的利润最大，或亏损最小，此时：<spanclass="math inline">\(MR(Q)=MC(Q)\)</span></p><p>二阶条件即充分条件为：<span class="math inline">\(\frac {d \pi ^2(Q)} {dQ^2} = {MR}&#39;(Q)-{MC}&#39;(Q) &lt; 0\)</span>，即 <spanclass="math inline">\({MR}&#39;(Q)&lt;{MC}&#39;(Q)\)</span></p><p>注：当 <span class="math inline">\(MR=MC\)</span>时，厂商不一定能获得利润，而是保证厂商处于由既定的成本状况与收益状况所决定的最好情况之中，此时厂商的可以获得最大利润或最小亏损。</p></blockquote><h1 id="三完全竞争市场">三、完全竞争市场</h1><h2 id="一完全竞争市场的条件">（一）完全竞争市场的条件</h2><ul><li><strong>厂商没有定价权</strong>：市场上有大量的买者和卖者，买者和卖者都是价格的接受者，单个买者与卖者不能影响市场交易价格与交易数量；</li><li><strong>商品无差异</strong>：市场上每一个厂商提供的商品都是完全同质的，所有厂商提供的同类产品完全可替代；</li><li><strong>产品与要素自由流通</strong>：所有的资源具有完全的流动性</li><li><strong>完全信息</strong>：不存在信息不对称或信息不完全，每个消费者与生产者掌握所有与自己的经济决策相关的信息。</li></ul><h2 id="二完全竞争厂商的需求曲线">（二）完全竞争厂商的需求曲线</h2><p>　　市场需求曲线是一条向右下方倾斜的曲线，单个企业所面临的需求曲线是一条由既定市场价格水平出发的水平线。</p><p>　　完全竞争市场的需求与供给决定价格，厂商根据价格作出生产决策（决定生产数量）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429000557-2a2tbzg.png" style="height:300px" alt="完全竞争厂商的需求曲线" /></p><p>　　<strong>消费者收入变化</strong>、<strong>新技术推广应用</strong>、<strong>政府相关政策</strong>等会影响完全竞争市场的供需关系，进而影响市场价格与厂商的生产决策。</p><p>　　完全竞争市场的需求曲线为该行业所有厂商的需求曲线之和。</p><h2 id="三完全竞争厂商的收益曲线">（三）完全竞争厂商的收益曲线</h2><h3 id="完全竞争厂商的收益曲线">1. 完全竞争厂商的收益曲线</h3><p>　　总收益 <spanclass="math inline">\(TR\)</span>，当价格对于单个企业为常数（他是价格接受者）时，<spanclass="math inline">\(MR=\frac {dTR} {dQ}=\frac {d(P\cdot Q)}{dQ}=P\)</span></p><p>　　对于任何一个厂商来说，平均收益总是等于价格。因此，完全竞争厂商的需求曲线、平均收益和边际收益曲线三线合一，即<span class="math inline">\(AR=MR=P\)</span>，都从同一价格水平出发。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429001302-qewojid.png" style="height:300px" alt="完全竞争厂商的各条收益曲线" /></p><p>　　<span class="math inline">\(AR=P\)</span>在任何市场中都存在，但由于 <span class="math inline">\(MR=AR\)</span>仅有在完全竞争市场才可以成立，因此 <spanclass="math inline">\(AR=MR=P\)</span>三线合一仅有在完全竞争市场才会出现。</p><h3 id="利润最大化的短期均衡条件">2. 利润最大化的短期均衡条件</h3><p>　　厂商的<ahref="siyuan://blocks/20220428234412-ih4t97y">"利润最大化条件"</a>（短期均衡）为<span class="math inline">\(MC=MR\)</span>，由于完全竞争厂商 <spanclass="math inline">\(AR=MR=P\)</span>，因此，短期内 <spanclass="math inline">\(P=MC(Q)\)</span>。</p><p>　　对于完全竞争厂商来说，市场价格水平是给定的，单个厂商只能通过调整自身产量，使自身实现利润最大化。</p><h3 id="短期均衡的几种情况">3. 短期均衡的几种情况</h3><p>　　在短期内，<span class="math inline">\(K=\overlineK\)</span>，生产规模固定不变，因此厂商通过调整产量实现 <spanclass="math inline">\(MR=SMC\)</span> 的利润最大化均衡条件。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429002206-y6tr0iz.png" style="height:300px" alt="完全竞争厂商短期均衡的各种情况" /></p><p>　　<strong>情况 1：经济利润大于零的短期均衡。</strong>价格为 <spanclass="math inline">\(P_1\)</span> 时，<spanclass="math inline">\(MR\)</span> 与 <spanclass="math inline">\(MC\)</span> 相交于 <spanclass="math inline">\(A\)</span> 点，此时 <spanclass="math inline">\(P_1&gt;AC\)</span>，若按照产量 <spanclass="math inline">\(Q_1\)</span> 生产，厂商可以获得矩形 <spanclass="math inline">\(ABP_1G\)</span> 的超额利润。</p><p>　　<strong>情况 2：经济利润等于零的短期均衡。</strong>价格为 <spanclass="math inline">\(P_2\)</span> 时，<spanclass="math inline">\(MR\)</span> 与 <spanclass="math inline">\(MC\)</span> 相交于 <spanclass="math inline">\(C\)</span> 点，由于 <spanclass="math inline">\(C\)</span> 点恰好是厂商 <spanclass="math inline">\(MC\)</span> 与 <spanclass="math inline">\(AC\)</span> 的交点，此时 <spanclass="math inline">\(P_2=AC\)</span>，若按照产量 <spanclass="math inline">\(Q_2\)</span>生产，厂商不能获得超额利润，但可以获得<ahref="siyuan://blocks/20220428210832-7wa1fsx">"正常利润"</a>。</p><p>　　<strong>情况 3：亏损但继续生产经营的短期均衡。</strong>价格为<span class="math inline">\(P_3\)</span> 时，<spanclass="math inline">\(MR\)</span> 与 <spanclass="math inline">\(MC\)</span> 相交于 <spanclass="math inline">\(D\)</span> 点，由于 <spanclass="math inline">\(D\)</span> 点处 <spanclass="math inline">\(P_3=MR&lt;AC\)</span>，若按照产量 <spanclass="math inline">\(Q_3\)</span> 生产，厂商将会亏损，但由于 <spanclass="math inline">\(P_3&gt;AVC\)</span>，此时继续生产可以在支付可变成本的同时收回部分固定成本，可以减少亏损的金额（若不生产，将会亏损所有的固定成本），因此厂商会按照产量<span class="math inline">\(Q_3\)</span>进行生产，此时厂商亏损最小。</p><p>　　<strong>情况4：亏损并停止生产经营的短期均衡（停止营业点）。</strong>价格为 <spanclass="math inline">\(P_4\)</span> 时，<spanclass="math inline">\(MR\)</span> 与 <spanclass="math inline">\(MC\)</span> 相交于 <spanclass="math inline">\(E\)</span> 点，此时 <spanclass="math inline">\(E\)</span> 点处 <spanclass="math inline">\(P_4=MR=AVC&lt;AC\)</span>，厂商如果不生产，会亏损掉所有的固定成本，如果生产，按照产量<span class="math inline">\(Q_4\)</span>生产的亏损最小，亏损额也是固定成本。因此厂商生产或不生产的亏损额度相同，厂商可以选择停止生产。</p><p>　　<strong>情况 5：停止生产经营的短期均衡。</strong>价格低于 <spanclass="math inline">\(P_4\)</span> 时，厂商进行生产的 <spanclass="math inline">\(MR&lt;AVC\)</span>，此时厂商如果选择不生产，将会亏损掉所有固定成本，如果生产，最小的亏损额度也超过固定成本。为追求亏损最少，厂商会选择不生产。</p><p>　　由此可以见，对于完全竞争厂商，<spanclass="math inline">\(MR=P\)</span>，完全竞争厂商生产由 <spanclass="math inline">\(MC=MR\)</span>确定的产量，是否有经济利润取决于平均成本 <spanclass="math inline">\(AC\)</span> 与平均收益 <spanclass="math inline">\(AR\)</span>（<spanclass="math inline">\(P=AR\)</span>）的大小比较；厂商是否选择停产，取决于生产的最小亏损是否小于固定成本，即价格<span class="math inline">\(P\)</span> 是否低于平均可变成本 <spanclass="math inline">\(AVC\)</span>。</p><blockquote><p><strong>补充：</strong></p><p>短期内，完全竞争厂商的经营决策依据：</p><ol type="1"><li>确定产量：<span class="math inline">\(MR\)</span> 与 <spanclass="math inline">\(MC\)</span> 比较</li><li>是否盈利：<span class="math inline">\(AR\)</span> 与 <spanclass="math inline">\(AC\)</span> 比较</li><li>停产决策：<span class="math inline">\(MR\)</span> 与 <spanclass="math inline">\(AVC\)</span> 比较</li></ol></blockquote><h2 id="四短期供给与短期均衡">（四）短期供给与短期均衡</h2><h3 id="完全竞争厂商的短期供给曲线">1. 完全竞争厂商的短期供给曲线</h3><p>　　根据上面 5 中情况的分析，可以推导出完全竞争厂商的短期供给曲线，为SMC 曲线上大于和等于 AVC 曲线最低点的部分，即用 SMC曲线大于和等于停止营业点的部分来表示。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429004706-dmllz9i.png" style="height:300px" alt="完全竞争厂商的短期供给曲线" /></p><p>　　完全竞争厂商的短期供给曲线是向右上方倾斜的，它表示了商品的价格和供给量之间同方向变化的关系。==<strong>完全竞争厂商的短期供给曲线表示厂商在每一个价格水平的供给量都是能够给他带来最大利润或最小亏损的最优产量。</strong>==</p><h3 id="完全竞争市场的短期供给曲线">2. 完全竞争市场的短期供给曲线</h3><p>　　一个行业的短期供给曲线由该行业内所有厂商的短期供给曲线的水平加总而得到。行业的短期供给曲线也是向右上方倾斜的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429005004-mny1jee.png" style="height:300px" alt="完全竞争行业的短期供给曲线" /></p><p>　　厂商的短期供给函数和行业的短期供给函数之间的关系用公式表示为：</p><p>$$<br /><br />$$</p><h3 id="短期生产者剩余">3. 短期生产者剩余</h3><h4 id="厂商的短期生产者剩余">3.1 厂商的短期生产者剩余</h4><p>　　在短期，厂商的生产者剩余指厂商在提供一定数量的某种产品时实际接受的总支付和愿意接受的最小总支付之间的差额。它通常用市场价格线以下、SMC曲线以上的面积来表示。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429005253-zt50ri1.png" style="height:300px" alt="生产者剩余" /></p><p>　　令反供给函数 <spanclass="math inline">\(P^S=f(Q)\)</span>，价格为 <spanclass="math inline">\(P_0\)</span> 时厂商的供给量为 <spanclass="math inline">\(Q_0\)</span>，则厂商的短期生产者剩余为：</p><p><span class="math display">\[\begin{align}PS=P_0 \cdot Q_0  -  \int^{Q_0} _0f(Q)dQ\end{align}\]</span></p><p>　　==厂商的生产者剩余为图中的矩形 ====<spanclass="math inline">\(EFGP_0\)</span>====。==原因在于：只要总收益大于总可变成本，厂商进行生产就是有利的（有正利润或减少固定投入的亏损），就能得到生产者剩余。生产者剩余<spanclass="math inline">\(PS\)</span>可以表示为经济利润<spanclass="math inline">\(\pi\)</span>与固定总成本<spanclass="math inline">\(TFC\)</span>之和，即：<spanclass="math inline">\(PS=\pi +TFC\)</span>。（传送门：<ahref="siyuan://blocks/20220511201356-lslzkyg">"准租金"</a>）</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230219233057-7saribr.png" style="height:250px" alt="生产者剩余构成" /></p><h4 id="市场的短期生产者剩余">3.2 市场的短期生产者剩余</h4><p>　　市场的生产者剩余是市场上所有厂商的生产者剩余的加总，用市场价格线以下、行业的短期供给曲线以上的面积来表示。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429005847-qzes5pp.png" style="height:300px" alt="市场的短期生产者剩余" /></p><h2 id="五长期供给与长期均衡">（五）长期供给与长期均衡</h2><h3 id="完全竞争厂商的长期均衡">1. 完全竞争厂商的长期均衡</h3><p>　　在长期中，所有的生产要素投入量都是可变的，完全竞争厂商通过对全部生产要素投入量的调整来实现利润最大化。在完全竞争市场价格给定的条件下，厂商在长期生产中对全部生产要素的调整可以表现为两个方面，一方面表现为对最优的生产规模的选择，另一方面表现为进入或退出一个行业的决策。</p><h4 id="厂商对最优生产规模的选择">1.1 厂商对最优生产规模的选择</h4><p>　　在长期，厂商通过对最优生产规模的选择（调整资本<spanclass="math inline">\(K\)</span>），使自己的状况得到改善，从而获得了比在短期内所能获得的更大的利润。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429010216-0qd03f0.png" style="height:300px" alt="长期生产中厂商对最优生产规模的选择" /></p><h4 id="厂商进出一个行业">1.2 厂商进出一个行业</h4><p>　　完全竞争厂商的长期均衡出现在 LAC曲线的最低点。完全竞争厂商的长期均衡条件为：</p><p><span class="math display">\[\begin {align}MR=LMC=SMC=LAC=SAC\end {align}\]</span></p><p>　　其中，<spanclass="math inline">\(MR=AR=P\)</span>，此时，单个厂商的利润为零。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429010315-qmhgizz.png" style="height:300px" alt="厂商进入或退出行业" /></p><ul><li>当价格为<spanclass="math inline">\(P_1\)</span>时，由于经济利润<spanclass="math inline">\(\pi&gt;0\)</span>，会有新厂商加入，市场供给量提高，会导致价格下降；</li><li>当价格为<spanclass="math inline">\(P_2\)</span>时，由于经济利润<spanclass="math inline">\(\pi=0\)</span>，此时加入与退出的厂商的生产能力保持一致，供给量稳定在<spanclass="math inline">\(Q_2\)</span>，买个稳定在<spanclass="math inline">\(P_2\)</span>，为均衡状态；</li><li>当价格为<spanclass="math inline">\(P_3\)</span>时，由于经济利润<spanclass="math inline">\(\pi&lt;0\)</span>，此时，会有厂商选择退出，市场供给量下降导致价格升高。</li></ul><h3 id="完全竞争行业的长期供给曲线">2. 完全竞争行业的长期供给曲线</h3><p>　　前面分析假定要素价格不变，但这种假定在长期显然不合理。当厂商进入或退出行业时，可能对市场需求产生影响，从而影响要素价格。根据行业产量变化对生产要素价格所可能产生的影响，完全竞争行业可区分为成本不变行业、成本递增行业和成本递减行业。</p><h4 id="成本不变行业">2.1 成本不变行业</h4><p>　　成本不变行业是这样一种行业，该行业的产量变化所引起的生产要素需求的变化，不对生产要素的价格发生影响。成本不变行业的长期供给曲线是一条水平线，其原因在于成本不变行业的长期平均成本是不变的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429151021-8z3joh6.png" style="height:300px" alt="成本不变行业的长期供给曲线" /></p><h4 id="成本递增行业">2.2 成本递增行业</h4><p>　　成本递增行业是这样一种行业，该行业产量增加所引起的生产要素需求的增加，会导致生产要素价格的上升。成本递增行业的长期供给曲线是向右上方倾斜的，其原因在于成本递增行业的长期平均成本是递增的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429151138-gi2cxz6.png" style="height:300px" alt="成本递增行业的长期供给曲线" /></p><h4 id="成本递减行业">2.3 成本递减行业</h4><p>　　成本递减行业是这样一种行业，该行业产量增加所引起的生产要素需求的增加，反而使生产要素的价格下降了。成本递减行业的长期供给曲线是向右下方倾斜的，其原因在于成本递减行业的长期平均成本是递减的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429151223-mjkpuew.png" style="height:300px" alt="成本递减行业的长期供给曲线" /></p><h3 id="长期生产者剩余">3. 长期生产者剩余</h3><p>　　市场的长期生产者剩余可以用市场价格线以下、行业长期供给曲线以上的部分来表示。只有在成本递增行业的长期供给曲线斜率为正的情况下，才会产生市场的长期生产者剩余。市场的长期生产者剩余也可以被理解为：要素投入者所获得的比在行业不生产时所能赚取的更高收益。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429005847-qzes5pp.png" style="height:250px" alt="市场的长期生产者剩余" /></p><h1 id="四完全竞争市场的福利">四、完全竞争市场的福利</h1><h2 id="一完全竞争市场的福利最大化">（一）完全竞争市场的福利最大化</h2><p>　　<span class="math inline">\(E\)</span>点是完全竞争市场的均衡点，均衡价格和均衡数量分别为 $P^* $ 和 $Q^*$。如图所示，市场的消费者剩余为浅色的阴影部分面积，市场的生产者剩余为深色的阴影部分面积，市场的总剩余为消费者剩余和生产者剩余之和，实现了福利最大化。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220430020541-oafpo57.png" style="height:300px" alt="完全竞争市场的总剩余" /></p><h2 id="二价格管制">（二）价格管制</h2><h3 id="最高限价">1. 最高限价</h3><p>　　假定政府规定最高限价为 <spanclass="math inline">\(P_0\)</span>，由于最高限价低于均衡价格，会出现商品短缺<spanclass="math inline">\(Q_2-Q_1\)</span>。实行最高限价，市场上消费者剩余的变化量为<span class="math inline">\(A-B\)</span>，生产者剩余的变化量为 <spanclass="math inline">\(-A-C\)</span>，市场总剩余损失为 <spanclass="math inline">\(-B-C\)</span>，此即为最高限价造成的无谓损失。（联系<ahref="siyuan://blocks/20220428004905-wprj59t">"限制价格"</a>）</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220430020239-8wt3ong.png" style="height:300px" alt="最高限价" /></p><h3 id="最低限价">2. 最低限价</h3><p>　　假定政府实行最低限价政策，将价格由均衡价格水平 $P^* $ 提高到<spanclass="math inline">\(P_0\)</span>。实行最低限价，总的消费者剩余变化为<span class="math inline">\(-A-B\)</span>，总的生产者剩余变化为 <spanclass="math inline">\(A-C\)</span>，因此市场总剩余的变化为 <spanclass="math inline">\((-A-B)+(A-C)=-B-C\)</span>，此即为最低限价造成的无谓损失。（联系<ahref="siyuan://blocks/20220428004857-0dy050r">"支持价格/最低限价"</a>）</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220430020300-mmfp0dq.png" style="height:300px" alt="最低限价" /></p><h3 id="销售税">3. 销售税</h3><h4 id="政府征税">3.1 政府征税</h4><h5 id="对厂商征税">3.1.1 对厂商征税</h5><p>　　假设政府对厂商征收税额为 <span class="math inline">\(t\)</span>的税，将使得厂商的生产成本增加。生产成本增加会导致供给减少，供给曲线向左移动。征税后，供给曲线由<span class="math inline">\(S\)</span> 左移至 <spanclass="math inline">\(S&#39;\)</span>。均衡条件为供给价格 <spanclass="math inline">\(P_s(Q^*)\)</span> 加上税收 <spanclass="math inline">\(t\)</span> 等于需求价格 <spanclass="math inline">\(P_d(Q^*)\)</span>，即：<spanclass="math inline">\(P_d(Q^*)=P_s(Q^*)+t\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220430020045-4yosiek.png" style="height:300px" alt="对厂商征税" /></p><h5 id="对消费者征税">3.1.2 对消费者征税</h5><p>　　假设政府对消费者征收税额为 <span class="math inline">\(t\)</span>的税，将使得消费者的实际收入（或实际购买力）下降。消费者的实际购买力下降会导致需求减少，需求曲线向左移动。征税后，需求曲线由<span class="math inline">\(D\)</span> 左移至 <spanclass="math inline">\(D&#39;\)</span>。均衡条件为需求价格 <spanclass="math inline">\(P_d(Q^*)\)</span> 减去税收 <spanclass="math inline">\(t\)</span> 等于供给价格 <spanclass="math inline">\(P_s(Q^*)\)</span>，即：<spanclass="math inline">\(P_d(Q^*)-t=P_s(Q^*)\)</span></p><p>　　‍</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220430020105-qn58war.png" style="height:300px" alt="对消费者征税" /></p><h4 id="销售税的福利效应">3.2 销售税的福利效应</h4><p>　　假设政府对消费者征收 t元的从量税，在消费者的需求曲线和生产者的供给曲线之间打进了一个垂直的“楔子”，其高度为单位商品的从量税额t 。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220430020346-alpp6ie.png" style="height:300px" alt="销售税的福利效应" /></p><p>　　由于销售税导致的价格上升，以及需求量及供给量的减少，使得消费者剩余和生产者剩余都减少：消费者剩余的损失为$P_dFEP^* $ 的面积，生产者剩余的损失为 $P_sHEP^* $的面积，政府获得财政收入为 <span class="math inline">\(P_dFHP_s\)</span>的面积，总的福利损失为 <span class="math inline">\(\DeltaEFH\)</span>，此即为征税所带来的无谓损失。</p><h4 id="销售税的税费负担">3.3 销售税的税费负担</h4><p>　　假设在完全竞争市场上，有 <span class="math inline">\(n\)</span>个相同的厂商与 <span class="math inline">\(m\)</span>个相同的消费者，且厂商生产函数与消费者需求函数均为线性函数，分别为 <spanclass="math inline">\(Q_s=a+bP\)</span>，<spanclass="math inline">\(Q_d=c-dP\)</span>。若政府对每件商品征收 <spanclass="math inline">\(t\)</span>元的销售税，计算消费者与生产者各自承担的税费金额、政府收到的税款金额，并计算此时的消费者剩余损失、生产者剩余损失与无谓损失。</p><p><strong>解答</strong>：市场供给曲线：<spanclass="math inline">\(S=nQ_s=(a+bP)n\)</span>，市场需求曲线：<spanclass="math inline">\(D=mQ_d=(c-dP)m\)</span>，</p><p>在征税前，市场达到均衡时 <spanclass="math inline">\(S=D\)</span>，可以解得：<spanclass="math inline">\(P^*=\frac {cm-an} {bn+dm}\)</span></p><p>在此价格下，厂商的产量为：<span class="math inline">\(Q_s^*= \frac{(ad+bc)m} {bn+dm}\)</span>，消费者需求量为：<spanclass="math inline">\(Q_d^*= \frac {(ad+bc)n} {bn+dm}\)</span></p><p>市场的供给量与需求量为：<span class="math inline">\(S^*=D^*=\frac{(ad+bc)nm} {bn+dm}\)</span></p><p>在征税后，需求价格与供给价格有 <spanclass="math inline">\(P_d=P_s+t\)</span> 的关系，因此：</p><p><span class="math display">\[\begin {cases}Q_s=a+bP_s  \\Q_d=c-dP_d  \\P_d=P_s+t   \\nQ_s=mQ_d   \\  \notag\end{cases}\]</span></p><p>解得：<span class="math inline">\(P_s^*=\frac {cm-dmt-an}{bn+dm}\)</span>，<span class="math inline">\(P_d^*=\frac {cm+bnt-an}{bn+dm}\)</span></p><p>此时，厂商的产量为：<span class="math inline">\({Q&#39;}_s^*=\frac{(ad+bc-bdt)m} {bn+dm}\)</span>，消费者需求量为：<spanclass="math inline">\({Q&#39;}_d^*=\frac {(ad+bc-bdt)n}{bn+dm}\)</span></p><p>市场的供给量与需求量为：<spanclass="math inline">\({S&#39;}^*={D&#39;}^*=\frac {(ad+bc-bdt)nm}{bn+dm}\)</span></p><p>消费者的税费负担为：<span class="math inline">\(P_d^*-P^*=\frac {bnt}{bn+dm}\)</span></p><p>生产者的税费负担为：<span class="math inline">\(P^*-P_s^*=\frac {dmt}{bn+dm}\)</span></p><p>此时，消费者剩余损失、生产者剩余损失的几何形状为梯形：</p><p>市场的消费者剩余损失为：<span class="math inline">\(\frac{({S&#39;}^*+S^*) \times (P_d^*-P^*)} 2=\frac {(2ad+2bc-bdt)bn^2mt}{2(bn+dm)^2}\)</span></p><p>市场的生产者剩余损失为：<span class="math inline">\(\frac{({S&#39;}^*+S^*) \times (P^*-P_s^*)} 2=\frac {(2ad+2bc-bdt)dnm^2t}{2(bn+dm)^2}\)</span></p><p>政府税收为：<span class="math inline">\((P_d-P_s){S&#39;}^*=t \times{S&#39;}^*=\frac {(ad+bc-bdt)nmt} {bn+dm}\)</span></p><p>无谓损失为：<span class="math inline">\(\frac {t(S^*-{S&#39;}^*)}2=\frac {bdnmt^2} {2(bn+dm)}\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220429172523-toyh9n8.png" style="height:300px" alt="销售税、税费负担与福利损失" /></p><blockquote><p><strong>思路补充：</strong></p><ol type="1"><li>绘制示意图</li><li>计算未征税时的市场均衡价格$P<sup>* <spanclass="math inline">\(、商品量\)</span>Q</sup>* $</li><li>计算征收后的供给量<spanclass="math inline">\(Q_s\)</span>、需求量<spanclass="math inline">\(Q_d\)</span>、供给价格<spanclass="math inline">\(P_s\)</span>、需求价格<spanclass="math inline">\(P_d\)</span></li><li>基于示意图，计算生产者剩余与消费者剩余的损失，计算无谓损失。</li></ol></blockquote><h4 id="向消费者征收消费税与所得税">向消费者征收消费税与所得税</h4><p>向消费者征收相同的税收，征收所得税比征收消费税更优。</p><p><strong>分析过程：</strong></p><p>假设初始预算约束为：</p><p><span class="math display">\[\begin{align}p_1x_1+p_2x_2=m\end {align}\]</span></p><p>按照税率<spanclass="math inline">\(t\)</span>对商品1进行征税，相当于商品1的价格上涨了<spanclass="math inline">\(t\)</span>。此时新的预算约束为：</p><p><span class="math display">\[\begin{align}(p_1+t) x_1^*+p_2 x_2^*=m\end {align}\]</span></p><p>通过征税，政府收入增加$R^* = t x_1^* $</p><p>如果政府征收相同的所得税，此时预算约束为：</p><p><span class="math display">\[\begin{align}p_1x_1+p_2x_2= m - R^* = m-t x_1^*\end {align}\]</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230314164752-up36ny9.png" style="height:350px" alt="所得税与从量税" /></p><p>如上图所示，征收所得税的预算约束线斜率与不征税时的预算约束线斜率相同，且经过点<spanclass="math inline">\((x_1^*,x_2^*)\)</span>，在该点处的边际替代率为<spanclass="math inline">\(-\frac {(p_1+t)} {p_2}\)</span>。</p><p>在征收所得税时，在该点处边际替代率为<spanclass="math inline">\(-\frac {p_1}{p_2}\)</span>，预算约束线与无差异曲线相交于点<spanclass="math inline">\((x_1^*,x_2^*)\)</span>，因此预算约束线上存在一些点比点<spanclass="math inline">\((x_1^*,x_2^*)\)</span>处更受到消费者的偏好。</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜第5章：厂商理论—成本理论</title>
      <link href="/posts/34942/"/>
      <url>/posts/34942/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/35116/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一成本与利润">一、成本与利润</h1><p>　　在经济分析中，成本（cost）被看成是企业对所购买的生产要素的货币支出。</p><h2 id="一成本">（一）成本</h2><h3 id="机会成本">1. 机会成本</h3><p>　　<strong>机会成本</strong>：生产一单位的某种商品的机会成本是指生产者所放弃的使用相同的生产要素在其他生产用途中所能获得的最高收入。</p><p>　　使用资源的机会成本：资源在其他用途中可能得到的最大收益。</p><p>　　<strong>理解机会成本：</strong></p><ul><li>机会成本不等于实际成本，是一种观念上的成本或损失；</li><li>机会成本是作出一种选择时所放弃的其他若干种可能的选择中最好的一种，是用于其他选择所能得到的最高收入；</li><li>机会成本并不全是由个人选择所引起的。</li></ul><p>　　<strong>机会成本的存在需要三个前提条件：</strong></p><ul><li>资源是稀缺的；</li><li>资源具有多种生产用途；</li><li>资源的投向不受限制。</li></ul><h3 id="显成本与隐成本">2. 显成本与隐成本</h3><p>　　<strong>显成本</strong>是指厂商在生产要素市场上购买或租用他人所拥有的生产要素的实际支出（有支付行为），通常包括：雇佣工人、贷款、租用土地的费用等。</p><p>　　<strong>隐成本</strong>是指厂商本身自己所拥有的且被用于该企业生产过程的那些生产要素的总价格（无支付行为），通常包括：亲自管理企业、使用自己的资金、使用自己的土地等的成本。</p><p>　　在经济学中考察生产成本时，应将隐成本包括在内。企业的所有的显成本和隐成本之和构成总成本。</p><h2 id="二利润">（二）利润</h2><p>　　经济学上的利润指的是<strong>经济利润</strong>（economicprofit）或称<strong>超额利润</strong>，等于总收益减总成本（含显成本和隐成本）。</p><p>　　正常利润（normalprofit）是指厂商对自己所提供的企业家才能的报酬支付，包含在隐成本中。</p><p>　　会计利润（accountingprofit）是指厂商的总收益减去显成本以后的余额。</p><h2 id="三不同成本利润之间的关系">（三）不同成本、利润之间的关系</h2><ul><li>显成本=会计成本</li><li>隐成本包含正常利润</li><li>经济成本=机会成本=显成本 + 隐成本</li><li>经济利润=总收益-经济成本=总收益-机会成本=总收益-（显成本 +隐成本）</li><li>会计利润=总收益-显成本</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428211801-t4vst21.png" style="height:220px" alt="相互关系" /></p><blockquote><p><strong>补充：</strong></p><ul><li>在通常情况下，除企业家才能外，企业的其他生产要素都从市场上购买。此时，正常利润=隐成本。</li><li>当存在除企业家才能外的自有生产要素时，正常利润 &lt; 隐成本。</li></ul></blockquote><h1 id="二成本曲线">二、成本曲线</h1><h2 id="一等成本线">（一）等成本线</h2><p>　　等成本线（Equal-CostLines）是在既定的成本和既定生产要素价格条件下，生产者可以购买到的两种生产要素的各种不同数量组合的轨迹。</p><p>　　成本方程：<span class="math inline">\(C=wL+rK\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428212812-ehibqbe.png" style="height:250px" alt="等成本线" /></p><blockquote><p><strong>理解补充：</strong></p><p>类比<ahref="siyuan://blocks/20220428162942-r85vsbm">"预算约束线"</a>，等成本线两侧表示不同的含义：</p><ul><li>等成本线内（例如 <span class="math inline">\(A\)</span>点）：要素组合的可行域</li><li>等成本线外（例如 <span class="math inline">\(B\)</span>点）：企业无法或不愿意负担的要素组合。</li></ul></blockquote><h2 id="二最优要素比例的决定">（二）最优要素比例的决定</h2><p>　　与消费者理论中的<ahref="siyuan://blocks/20220428165120-ttt6e4t">"消费者均衡"</a>类似，厂商理论中也有生产者均衡，目标函数为收益最大化，约束条件为成本约束。</p><p>　　<strong>在完全竞争市场中，厂商的</strong><u><strong>利润最大化问题</strong></u><strong>等效于</strong><ahref="siyuan://blocks/20220428212904-wm21raw">"既定产量的成本最小化"</a><strong>或</strong><ahref="siyuan://blocks/20220428212934-lrr1kux">"既定成本的产量最大化"</a><strong>问题。</strong></p><h3 id="既定产量条件下的成本最小化">1. 既定产量条件下的成本最小化</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428212913-c12wt66.png" style="height:350px" alt="既定产量条件下成本最小的要素组合" /></p><p>　　成本最小化与产量约束：</p><p><span class="math display">\[\begin {align}&amp; \min_{L,K}  {\ TC(L,K)}=\min_{L,K}  {\ wL+rK}  \\&amp; s.t. \ f(L,K)=f_0\end {align}\]</span></p><p>　　构造拉格朗日函数：</p><p><span class="math display">\[\begin {align}\Lambda=wL+rK+\lambda \big [\ f(L,K)-f_0 \big]\end {align}\]</span></p><p>　　在生产均衡点 <span class="math inline">\(E\)</span> 有：<spanclass="math inline">\(MRTS_{LK}=  \frac {MP_L}  {MP_K} = \frac wr\)</span></p><blockquote><p><strong>理解补充：</strong></p><p>在不变的技术水平下，厂商有明确的产量目标，此时要实现成本最小化，最优生产要素投入为等产量线与等成本线的切点<span class="math inline">\(E\)</span>。</p><ul><li>技术水平不变：多条等成本线平行；</li><li>既定产量：仅有一条等产量线 <spanclass="math inline">\(Q\)</span>；</li><li>成本最小化：在多条等成本线中，选择与等产量线相切的等成本线 <spanclass="math inline">\(A&#39;B&#39;\)</span>。</li></ul></blockquote><h3 id="既定成本条件下的产量最大化">2. 既定成本条件下的产量最大化</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428213020-4ktdysk.png" style="height:300px" alt="既定成本条件下产量最大的要素组合" /></p><p>　　产量最大化与成本约束：</p><p><span class="math display">\[\begin {align}&amp; \max_{L,K}  \ f(L,K)  \\&amp; s.t. \ wL+rK=C\end {align}\]</span></p><p>　　构造拉格朗日函数：</p><p><span class="math display">\[\begin {align}\Lambda=f(L,K)+\lambda(C-wL-rK)\end {align}\]</span></p><p>　　由此可以解得：<span class="math inline">\(MRTS_{LK}=  \frac{MP_L}  {MP_K} = \frac w r\)</span></p><blockquote><p><strong>理解补充：</strong></p><p>在不变的技术水平下，厂商有明确的成本约束，此时要实现产量最大化，最优生产要素投入为等产量线与等成本线的切点<span class="math inline">\(E\)</span>。</p><ul><li>既定成本：仅有一条等成本线 <spanclass="math inline">\(AB\)</span>；</li><li>产量最大化：在多条等产量线中，选择与等成本线相切的等产量线 <spanclass="math inline">\(Q_2\)</span>。</li></ul></blockquote><h3 id="小结">3. 小结</h3><p>　　不论是既定产量条件下的成本最小化，还是既定成本条件下的产量最大化，在厂商大到均衡时，均有：</p><p><span class="math display">\[MRTS_{LK}=  \frac {MP_L}  {MP_K} = \frac w r\]</span></p><p>　　因此，<strong>在完全竞争市场中，厂商的</strong><u><strong>利润最大化问题</strong></u><strong>等效于</strong><u><strong>既定产量的成本最小化</strong></u><strong>或</strong><u><strong>既定成本的产量最大化</strong></u><strong>问题。</strong></p><h2 id="二扩展性和生产总成本">（二）扩展性和生产总成本</h2><h3 id="扩展线">1. 扩展线</h3><p>　　在生产要素的价格、生产技术和其他条件不变时，如果企业改变成本，等成本线就会发生平移；如果企业改变产量，等产量曲线就会发生平移。这些不同的等产量曲线将与不同的等成本线相切，形成一系列不同的生产均衡点。这些生产均衡点的轨迹就是<ahref="siyuan://blocks/20220428202253-91hyt8b">"扩展线"</a>（expansionpath）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428214307-tzk2dc6.png" style="height:300px" alt="扩展线" /></p><p>　　扩展线表示在要素价格不变，技术水平不变的条件下，厂商在长期中，为扩大规模，所可能使用的最佳要素组合所形成的轨迹。</p><p>　　扩展线概念的注意事项：</p><ul><li>扩展线上所有的点均是生产要素最优组合点，即必须满足 <spanclass="math inline">\(\frac {MP_L}  {MP_K} = \frac w r\)</span>条件；</li><li>扩展线的形状取决于生产函数的形式，不同的生产函数有不同的扩展线。</li></ul><h3 id="利润最大化和扩展性">2. 利润最大化和扩展性</h3><p>　　在完全竞争条件下，厂商在追求最大利润的过程中，可以实现扩展性这一长期生产的最优路径的。</p><p>　　在完全竞争条件下，厂商的利润函数为：<spanclass="math inline">\(\pi (L,K)= P \cdot f(L,K)-(wL+rK)\)</span></p><p>　　利润最大化时，一阶条件为：</p><p><span class="math display">\[\left \{\begin {align}\frac {\partial \pi} {\partial L}=P \cdot \frac {\partial f} {\partialL}-w=0      \notag \\\frac {\partial \pi} {\partial K}=P \cdot \frac {\partial f} {\partialK}-r=0   \notag\end {align}\right.\]</span></p><p>　　可以解得：<span class="math inline">\(\frac {\partial \pi/\partial L}  {\partial \pi /\partial K}  = \frac {MP_L}  {MP_K} = \fracw r\)</span></p><h3 id="扩展性与总成本">3. 扩展性与总成本</h3><p>　　长期总成本表示在每一个产量水平上的最小的生产成本。</p><p>　　利用扩展性可以推导得出短期生产总成本。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428215727-thb7lv2.png" style="height:300px" alt="扩展性和短期总成本" /></p><h2 id="三短期成本">（三）短期成本</h2><h3 id="由短期生产函数到短期总成本函数">1.由短期生产函数到短期总成本函数</h3><p>　　短期总成本函数为：<span class="math inline">\(STC(Q)= w \cdotL(Q) + r\cdot \overline K\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428220110-pdg038g.png" style="height:300px" alt="短期总成本曲线" /></p><h3 id="短期成本的分类">2. 短期成本的分类</h3><p>　　在短期，厂商的成本有不变成本部分和可变成本部分之分，具体而言，短期成本有七种。其中，最重要的是边际成本<span class="math inline">\(MC\)</span>，因为其他成本曲线的形状都是由<span class="math inline">\(MC\)</span> 曲线形状来决定的。</p><p>　　<strong>总固定成本</strong>（<spanclass="math inline">\(TFC\)</span>）：厂商在短期内为生产一定数量的产品对不变生产要素所支付的总成本。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428220323-3anf46r.png" style="height:200px" alt="总固定成本曲线" /></p><p>　　<strong>总可变成本</strong>（<spanclass="math inline">\(TVC\)</span>）：厂商在短期内生产一定数量的产品对可变生产要素支付的总成本。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428220510-dh4n0jc.png" style="height:200px" alt="总可变成本曲线" /></p><p>　　<strong>总成本</strong>（<spanclass="math inline">\(TC\)</span>）：厂商在短期内为生产一定数量的产品对全部生产要素所支出的总成本。<spanclass="math inline">\(TC=TFC+TVC\)</span>，总成本曲线是从纵轴上相当于总固定成本TFC 高度的点出发的一条向右上方倾斜的曲线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428220525-awiw9pi.png" style="height:200px" alt="总成本曲线" /></p><p>　　<strong>平均固定成本</strong>（<spanclass="math inline">\(AFC\)</span>）：是厂商在短期内平均每生产一单位产品所消耗的不变成本。平均固定成本曲线表示在总固定成本不变的前提下，随着产量的增加，平均固定成本会越来越小。<spanclass="math inline">\(AFC=\frac {TFC} Q\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428220647-wxx7cnu.png" style="height:200px" alt="平均固定成本曲线" /></p><p>　　<strong>平均可变成本</strong>（<spanclass="math inline">\(AVC\)</span>）：厂商在短期内平均每生产一单位产品所消耗的可变成本。<spanclass="math inline">\(AVC=\frac {TVC(Q)} Q\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428220747-3qxr0hp.png" style="height:200px" alt="平均可变成本曲线" /></p><p>　　<strong>平均总成本</strong>（<spanclass="math inline">\(AC\)</span>）：厂商在短期内平均每生产一单位产品所消耗的全部成本，等于平均不变成本和平均可变成本之和。<spanclass="math inline">\(AC(Q)=\frac {TC(Q)} Q=AVC(Q)+AFC(Q)\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428221127-sqfljru.png" style="height:200px" alt="平均总成本曲线" /></p><p>　　<strong>边际成本</strong>（<spanclass="math inline">\(MC\)</span>）：厂商在短期内增加一单位产量时所增加的总成本。在每一个产量水平上的边际成本MC值就是相应的总成本曲线的斜率。边际成本曲线呈现出先下降后上升的特征。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428221200-lbbvncf.png" style="height:200px" alt="边际成本曲线" /></p><h3 id="短期成本曲线的综合图">3. 短期成本曲线的综合图</h3><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428221317-r1jqhht.png" style="height:500px" alt="短期成本曲线" /></p><blockquote><p><strong>绘图技巧：</strong></p><ol type="1"><li>先绘制边际成本曲线 <span class="math inline">\(MC\)</span>；</li><li>绘制平均成本 <span class="math inline">\(AC\)</span> 与平均可变成本<span class="math inline">\(AVC\)</span>，<spanclass="math inline">\(AC\)</span> 与 <spanclass="math inline">\(AVC\)</span> 最低点在边际成本 <spanclass="math inline">\(MC\)</span> 曲线上，且 <spanclass="math inline">\(AC \geq AVC\)</span>；</li><li>绘制呈递减趋势的平均固定成本 <spanclass="math inline">\(AFC\)</span>，且 <span class="math inline">\(AC&gt;AFC\)</span>。</li></ol></blockquote><h3 id="短期成本变动的决定因素边际报酬递减规律">4.短期成本变动的决定因素：边际报酬递减规律</h3><p>　　在短期生产中，边际产量的递增阶段对应的是边际成本的递减阶段，边际产量的递减阶段对应的是边际成本的递增阶段，与边际产量的最大值相对应的是边际成本的最小值。正因为如此，在边际报酬递减规律作用下的边际成本曲线表现出先降后升的<span class="math inline">\(U\)</span> 形特征，<spanclass="math inline">\(AVC\)</span> 曲线和 <spanclass="math inline">\(AC\)</span> 曲线也必定有先降后升的 <spanclass="math inline">\(U\)</span> 形特征。而且， <spanclass="math inline">\(MC\)</span> 曲线必定会分别与 <spanclass="math inline">\(AVC\)</span> 曲线相交于 <spanclass="math inline">\(AVC\)</span> 曲线的最低点，与 <spanclass="math inline">\(AC\)</span> 曲线相交于 <spanclass="math inline">\(AC\)</span> 曲线的最低点。</p><h4 id="边际产量和边际成本之间的关系">4.1边际产量和边际成本之间的关系</h4><p>　　短期生产函数：<span class="math inline">\(Q=f(L,\overlineK)\)</span></p><p>　　短期成本函数：<span class="math inline">\(STC(Q)=w \cdot L(Q) +TFC\)</span></p><p>　　因此：<span class="math inline">\(MC=\frac w { {MP} _L}\)</span>，即边际成本 <span class="math inline">\(MC\)</span>和边际产量 <span class="math inline">\({MP} _L\)</span>两者的变动方向是相反的。</p><blockquote><p><strong>数学补充：</strong></p><p>短期成本函数计算过程中涉及反函数的导数求解，反函数的导数是原函数导数的倒数（<ahref="https://blog.csdn.net/baishuiniyaonulia/article/details/79052350">链接</a>），因此：</p><p><span class="math display">\[\begin{align}SMC=\frac {\partial STC} {\partial Q}= w \cdot \frac {\partial L(Q)} {\partial Q}= w \cdot \Bigg[ \frac {\partial Q(L,\overline K)} {\partial L} \Bigg]^{-1}= \frac w { {MP} _L}\end{align}\]</span></p></blockquote><h4 id="平均产量和平均可变成本之间的关系">4.2平均产量和平均可变成本之间的关系</h4><p>　　短期成本函数：<span class="math inline">\(TVC(Q)=w \cdotL(Q)\)</span></p><p>　　平均可变成本函数：$AVC= {Q} = { {AP}_L} $</p><p>　　因此：</p><ul><li>平均可变成本 <span class="math inline">\(AVC\)</span> 和平均产量<span class="math inline">\(AP_L\)</span> 两者的变动方向是相反的。</li><li><span class="math inline">\(MC\)</span> 曲线和 <spanclass="math inline">\(AVC\)</span> 曲线的交点与 <spanclass="math inline">\(MP_L\)</span> 曲线和 <spanclass="math inline">\(AP_L\)</span> 曲线的交点是对应的。</li></ul><blockquote><p><strong>数学补充：</strong></p><p>平均产量<span class="math inline">\(AP_L\)</span>与平均可变成本<spanclass="math inline">\(AVC\)</span>关系的推导：</p><p><span class="math display">\[\begin{align}AVC=\frac {SVC} {Q}= \frac {SVC} {L}  \cdot \frac {L} {Q}= \frac w {AP_L}\end{align}\]</span></p><p>上式中，使用 <span class="math inline">\(AP_L = Q / L\)</span>进行了替换。</p><p>在短期内，资本 <span class="math inline">\(\overline K\)</span>为固定量，可变生产要素仅有劳动 <spanclass="math inline">\(L\)</span>，因此 <span class="math inline">\(SVC=w\cdot L\)</span>。</p></blockquote><h2 id="四长期成本">（四）长期成本</h2><h3 id="与短期成本函数的比较">1. 与短期成本函数的比较</h3><p>　　短期成本问题表述为：</p><p><span class="math display">\[\begin {align}STC(Q)=\min_{L} \ \{wL+r  \overline K\}\end {align}\]</span></p><p>　　短期生产函数为：<span class="math inline">\(Q=f(L, \overlineK)\)</span>，要素价格给定的情况下，成本是产量的函数。</p><p>　　此时短期利润为：<span class="math inline">\(\pi =PQ-STC(Q)\)</span>，厂商追求利润最大化，一阶条件为：</p><p><span class="math display">\[\begin{align}\frac {d\pi} {Q}=P-SMC(Q)=0\end{align}\]</span></p><p>　　也就是说，当 <span class="math inline">\(P=SMC(Q)\)</span>时，短期要素配置达到最优。</p><h3 id="长期成本函数">2. 长期成本函数</h3><p>　　长期成本问题表述为：</p><p>$$<br /><br />$$</p><p>　　长期生产函数为：<span class="math inline">\(Q=f(L,K)\)</span></p><p>　　可得最优要素组合条件为：<spanclass="math inline">\(L=L(w,r,Q)\)</span>；<spanclass="math inline">\(K=K(w,r,Q)\)</span></p><p>　　长期成本函数为：<spanclass="math inline">\(LTC=wL(w,r,Q)+rK(w,r,Q)\)</span></p><blockquote><p><strong>数学补充：</strong></p><p>长期边际成本 <span class="math inline">\(LMC\)</span> 为：</p><p><span class="math display">\[\begin{align}LMC &amp; = \frac {\partial LTC} {\partial Q}= w \frac {\partial L} {\partial Q} + r \frac  {\partial K} {\partialQ}  \notag \\&amp; = \frac w {MP_L} + \frac r {MP_K}\end{align}\]</span></p></blockquote><h3 id="长期成本曲线">3. 长期成本曲线</h3><p>　　长期总成本 <span class="math inline">\(LTC\)</span>是指厂商在长期中在每一个产量水平上通过选择最优的生产规模所能达到的最低总成本。</p><p>　　在要素价格给定的条件下，长期成本曲线为 <spanclass="math inline">\(LTC=LTC(Q)\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428224300-fe89hpf.png" style="height:250px" alt="最优生产规模的选择和长期总成本曲线" /></p><p>　　<strong>长期总成本曲线是无数条短期总成本曲线的包络线。</strong></p><p>　　长期总成本曲线的特征有：</p><ul><li>长期总成本曲线从原点出发向右上方倾斜。当产量为零时，长期总成本为零，以后随着产量的增加，长期总成本是增加的。</li><li>与短期总成本曲线相似的是，长期总成本曲线也是先以递减速率上升，经拐点后以递增的速率上升。</li></ul><h3 id="长期平均成本函数和长期平均成本曲线">4.长期平均成本函数和长期平均成本曲线</h3><p>　　长期平均成本 <span class="math inline">\(LAC\)</span>表示厂商在长期内按产量平均计算的最低总成本。它是厂商在长期内在每一个产量水平上可以实现的最小的平均成本。用数学公式表示为：<spanclass="math inline">\(LAC(Q)=\frac {LTC(Q)} {Q}\)</span></p><h4 id="长期平均成本曲线的形状">4.1 长期平均成本曲线的形状</h4><p>　　长期平均成本曲线是无数条短期平均成本曲线的包络线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428224615-h23j7xm.png" style="height:300px" alt="长期平均成本曲线" /></p><h4 id="规模经济与规模不经济">4.2 规模经济与规模不经济</h4><p>　　<strong>规模经济</strong>也被称作为<strong>内在经济</strong>，即在企业生产扩张的开始阶段，厂商由于扩大生产规模而使经济效益得到提高。或者说，厂商产量增加的倍数大于成本增加的倍数，为规模经济。产生规模经济的主要原因有劳动分工与专业化，以及技术因素。</p><p>　　<strong>规模不经济</strong>也被称作为<strong>内在不经济</strong>，即当生产扩张到一定的规模以后，厂商继续扩大生产规模，就会使经济效益下降。或者说，厂商产量增加的倍数小于成本增加的倍数，为规模不经济。</p><p>　　正是由于规模经济和规模不经济的作用，决定了长期平均成本曲线表现出先下降后上升的<span class="math inline">\(U\)</span> 形特征。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428225007-utlip0b.png" style="height:300px" alt="规模经济与规模不经济" /></p><h4 id="外在经济与外在不经济长期平均成本曲线的位置移动">4.3外在经济与外在不经济（长期平均成本曲线的位置移动）</h4><p>　　长期平均成本 <span class="math inline">\(LAC\)</span>曲线的位置的变化原因可以用企业的外在经济与外在不经济的概念来解释。</p><p>　　<strong>外在经济</strong>是由于厂商的生产活动所依赖的外界环境得到改善而产生的，<strong>外在不经济</strong>是由于厂商的生产活动所依赖的外界环境恶化而产生的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428225202-8uejps0.png" style="height:200px" alt="长期平均成本曲线的位置移动" /></p><h4 id="长期边际成本函数和长期边际成本曲线">4.4长期边际成本函数和长期边际成本曲线</h4><p>　　长期边际成本 <span class="math inline">\(LMC\)</span>表示厂商在长期内增加一单位产量所引起的最低总成本的增量。</p><p><span class="math display">\[\begin {align}LMC(Q)=\frac {\Delta LTC(Q)} {\Delta Q}=\frac {\partial LTC(Q)}{\partial Q}\end {align}\]</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428225408-m9gl7c8.png" style="height:300px" alt="长期边际成本曲线" /></p><p>　　长期边际成本曲线呈 <span class="math inline">\(U\)</span>形，它与长期平均成本曲线相交于长期平均成本曲线的最低点。</p><blockquote><p><strong>理解补充：</strong></p><ul><li><p>长期平均成本 <span class="math inline">\(LAC\)</span>是短期平均成本 <span class="math inline">\(SAC\)</span> 的包络线（<ahref="siyuan://blocks/20220428224614-9fl0s7p">"图示"</a>）；</p></li><li><p>不论是长期还是短期：</p><ul><li>平均成本 <span class="math inline">\(AC\)</span>均为先降低后升高；</li><li>边际成本 <span class="math inline">\(MC\)</span> 过平均成本 <spanclass="math inline">\(AC\)</span> 的最低点；</li></ul></li><li><p><span class="math inline">\(LAC\)</span>、<spanclass="math inline">\(LMC\)</span>、<spanclass="math inline">\(SMC\)</span>、<spanclass="math inline">\(SAC\)</span> 四条曲线相交于 <spanclass="math inline">\(LAC\)</span> 最低点。</p></li></ul></blockquote><h3 id="干中学降低长期成本">5. 干中学：降低长期成本</h3><h4 id="学习曲线">5.1 学习曲线</h4><p>　　学习曲线反映了工人经验对生产成本的影响，描绘了企业累积产出与企业生产单位产出所需投入数量之间的关系。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428225521-aen76de.png" style="height:250px" alt="学习曲线" /></p><p>　　学习曲线表示，随着累计的生产批次的增加，生产每批机器设备所投入的劳动量是递减的，即每批次生产的平均成本是下降的。</p><p>　　学习效应用公式表示为：<spanclass="math inline">\(L=A+BN^{-\beta}\)</span></p><h4 id="学习效应与规模效应">5.2 学习效应与规模效应</h4><p>　　当存在着规模经济时（<span class="math inline">\(LAC_1\)</span>曲线上由 A 到 B的移动），平均成本因销售量的增加而逐渐下降，或者平均成本由于学习曲线的存在而下降（由<spanclass="math inline">\(LAC_1\)</span>曲线上 B 点移动到<spanclass="math inline">\(LAC_2\)</span>曲线上 C 点）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428225833-10kp4b6.png" style="height:300px" alt="学习效应和规模经济" /></p><h2id="五短期成本曲线与长期成本曲线的关系">（五）短期成本曲线与长期成本曲线的关系</h2><p>　　规模经济或规模不经济的情况下，短期成本与长期成本在每一产量水平，都有以下特征：</p><ol type="1"><li>总成本：<span class="math inline">\(LTC\)</span>曲线与代表最优生产规模的唯一一条 <spanclass="math inline">\(STC\)</span> 曲线相切（<spanclass="math inline">\(R\)</span>点）；</li><li>平均成本：<span class="math inline">\(LAC\)</span>曲线与代表最优生产规模的唯一一条 <spanclass="math inline">\(SAC\)</span> 曲线相切（<spanclass="math inline">\(R\)</span>点）；</li><li>边际成本：<span class="math inline">\(LMC\)</span>曲线与代表最优生产规模的唯一一条 <spanclass="math inline">\(SMC\)</span> 曲线相交（<spanclass="math inline">\(R\)</span>点）；</li><li><span class="math inline">\(LTC\)</span> 曲线的拐点与 <spanclass="math inline">\(LMC\)</span> 曲线的最低点相对应；</li><li><span class="math inline">\(SMC\)</span> 曲线与 <spanclass="math inline">\(SAC\)</span> 曲线相交于 <spanclass="math inline">\(SAC\)</span> 曲线的最低点；</li><li><span class="math inline">\(LMC\)</span> 曲线与 <spanclass="math inline">\(LAC\)</span> 曲线相交于 <spanclass="math inline">\(LAC\)</span> 曲线的最低点；</li><li>存在一条从原点出发的直线与 <span class="math inline">\(LTC\)</span>曲线相切，其切点与 <span class="math inline">\(LAC\)</span>曲线的最低点相呼应（<ahref="siyuan://blocks/20230219222645-0qdgwxy">"数学证明"</a>）；</li><li>在 <span class="math inline">\(LAC\)</span> 曲线的最低点，<spanclass="math inline">\(LAC\)</span> 曲线与代表最优生产规模的 <spanclass="math inline">\(SAC\)</span> 曲线恰好相切于两者的最低点，<spanclass="math inline">\(LMC\)</span> 曲线与代表最优生产规模的 <spanclass="math inline">\(SMC\)</span> 曲线也恰好相交于这一点。</li></ol><blockquote><p><strong>数学补充：</strong></p><p><ahref="siyuan://blocks/20220428230610-pke55pj">"第7条"</a>的数学证明：</p><p>在长期总成本<spanclass="math inline">\(LTC\)</span>曲线中，过原点的直线与<spanclass="math inline">\(LTC\)</span>相切，因此在切点处，斜率相等：</p><p><span class="math display">\[\begin{align}\frac {LTC} {Q} = \frac {\partial LTC } {\partial Q}\end{align}\]</span></p><p>其中：左边为直线斜率，右边为长期总成本<spanclass="math inline">\(LTC\)</span>斜率。上式可以改写为：</p><p><span class="math display">\[\begin{align}LAC = LMC\end{align}\]</span></p><p>因此该点正好位于<span class="math inline">\(LAC\)</span>与<spanclass="math inline">\(LMC\)</span>的交点处，此时为<spanclass="math inline">\(LAC\)</span>的最低点。</p></blockquote><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428225408-m9gl7c8.png" style="height:300px" alt="长期边际成本曲线" /></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428224300-fe89hpf.png" style="height:250px" alt="最优生产规模的选择和长期总成本曲线" /></p><p>　　‍</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜第4章：厂商理论—生产函数</title>
      <link href="/posts/42354/"/>
      <url>/posts/42354/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/35116/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一厂商">一、厂商</h1><h2 id="一企业的性质">（一）企业的性质</h2><p>　　科斯在论文《企业的性质》中提出了“交易成本”概念。在科斯看来，企业和市场是两种不同的资源配置方式。在企业内，“权威”指导资源的配置；在市场上，价格配置资源。市场的运行是有成本的，通过形成一个组织，并允许某个权威（一个“企业家”）来支配资源，就能节约某些市场运行成本，即企业的性质是价格机制的替代物。</p><p>　　<strong>企业存在的理由：</strong></p><ul><li>交易活动内部化，降低交易成本；</li><li>带来规模经济；</li><li>促进劳动分工。</li></ul><h2 id="二厂商的目标">（二）厂商的目标：</h2><p>　　在微观经济学中，一般总是假定厂商的目标是利润最大化。这一基本假定是“经济人”假设在生产理论中的具体化。</p><p>　　在现代公司制度中，企业所有者与经营者相分离，这可能导致企业所有者与经营者目标分歧。在<strong>信息不对称</strong>和<strong>信息不完全</strong>的情况下，厂商可能追求个人目标最大化、销售收入最大化或市场销售份额最大化来替代利润最大化，这就偏离了利润最大化的目标。</p><blockquote><p><strong>补充：</strong>（<ahref="https://zhidao.baidu.com/question/125488927.html">网页链接</a>）</p><p>信息不完全：市场主体不拥有某种经济环境状态的全部知识，其获取的或掌握的信息不足以使市场主体作出理性判断或决策。</p><p>信息不对称：一些人比另外一些人具有更多的有关经济信息，可看作是信息不完全中的特殊情况。</p></blockquote><h1 id="二生产函数">二、生产函数</h1><h2 id="一生产要素">（一）生产要素</h2><h3 id="生产要素的概念">1. 生产要素的概念</h3><p>　　<strong>生产要素</strong>：在生产中投入的各种经济资源，包括劳动、土地和资本等。生产要素一般划分为劳动、土地、资本和企业家才能四种。</p><p>　　<strong>劳动</strong>：人类在生产过程中提供的体力和智力的总和。</p><p>　　<strong>土地</strong>：不仅指土地本身，而且包括地上与地下的一切自然资源。</p><p>　　<strong>资本</strong>：表现为实物形态（资本品或投资品）与货币形态。</p><p>　　<strong>企业家才能</strong>：企业家组织建立和经营管理企业的才能。</p><h3 id="生产函数">2. 生产函数</h3><h4 id="生产函数的概念">2.1 生产函数的概念</h4><p>　　<strong>生产函数</strong>：在一定时期内，在一定技术条件下，生产中所使用的各种生产要素的数量与所能生产的最大产量之间的关系。</p><p><span class="math display">\[\begin {align}Q=f(L,K)\end {align}\]</span></p><h4 id="短期生产与长期生产">2.2 短期生产与长期生产</h4><p>　　在微观经济学中，短期和长期的划分以生产者能否变动全部要素投入的数量作为标准。</p><p>　　<strong>短期</strong>（shortrun）指生产者来不及调整全部生产要素的数量，至少有一种生产要素的数量是固定不变的时间周期。</p><p>　　短期生产函数可写为：<span class="math inline">\(Q=f(L,\overlineK)=f(L)\)</span></p><p>　　<strong>长期</strong>（longrun）指生产者可以调整全部生产要素的数量的时间周期。</p><p>　　长期生产函数可表示为：<span class="math inline">\(Q=f(L,K)\)</span></p><h3 id="短期生产函数">3. 短期生产函数</h3><h4 id="总产量平均产量和边际产量">3.1 总产量、平均产量和边际产量</h4><p>　　<strong>劳动的总产量</strong> <spanclass="math inline">\(TP_L\)</span>指与一定的可变要素劳动的投入量相对应的最大产量，即 <spanclass="math inline">\(TP_L=f(L,\overline K)\)</span></p><p>　　<strong>劳动的平均产量</strong> <spanclass="math inline">\(AP_L\)</span>指平均每一单位可变要素劳动的投入量所生产的产量，即 <spanclass="math inline">\(AP_L=\frac {TP_L} L\)</span></p><p>　　<strong>劳动的边际产量</strong> <spanclass="math inline">\(MP_L\)</span>指增加一单位可变要素劳动投入量所增加的产量，即 <spanclass="math inline">\(MP_L= \frac {\Delta TP_L} {\Delta L} =  \frac{\partial TP_L} {\partial L}\)</span></p><h4 id="边际报酬递减规律">3.2 边际报酬递减规律</h4><p>　　在技术水平不变的条件下，在连续等量地把某一种可变生产要素增加到其他一种或几种数量不变的生产要素上去的过程中，当这种可变生产要素的投入量小于某一特定值时，增加该要素投入所带来的边际产量是递增的；当这种可变要素的投入量连续增加并超过这个特定值时，增加该要素投入所带来的边际产量是递减的。</p><p>　　边际报酬递减规律的三个方面注意事项：</p><ul><li>边际报酬递减规律是以技术不变为前提的，如果技术水平提高，边际报酬可以递增。</li><li>边际报酬递减规律是以其他要素不变为前提的。</li><li>它是在某种要素（如劳动）增加达到一定程度之后才出现的。</li></ul><p>　　从理论上讲，边际报酬递减规律成立的原因在于：对于任何产品的短期生产来说，可变要素投入和固定要素投入之间存在着一个最佳的数量组合比例。</p><h4 id="短期生产的三个阶段">3.3 短期生产的三个阶段</h4><ul><li><strong>第 Ⅰ 阶段</strong>（<span class="math inline">\(O\to  L_3\)</span>）：<strong>平均产量递增阶段</strong>。该阶段 <spanclass="math inline">\(MP_L&gt;AP_L&gt;0\)</span>，<spanclass="math inline">\(TP_L\)</span> 与 <spanclass="math inline">\(AP_L\)</span> 不断上升；</li><li><strong>第 Ⅱ 阶段</strong>（<span class="math inline">\(L_3 \toL_4\)</span>）：<strong>平均产量递减阶段</strong>。该阶段 <spanclass="math inline">\(AP_L \gt MP_L \gt 0\)</span>，<spanclass="math inline">\(TP_L\)</span> 不断上升，<spanclass="math inline">\(AP_L\)</span>逐渐下降（要素投入最佳区域/经济区域）；</li><li><strong>第 Ⅲ 阶段</strong>（<span class="math inline">\(L_4 \to\infty\)</span>）：<strong>边际产量为负阶段</strong>。该阶段 <spanclass="math inline">\(AP_L \gt 0 \gt MP_L\)</span>，<spanclass="math inline">\(TP_L\)</span> 与 <spanclass="math inline">\(AP_L\)</span> 逐渐下降。</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428190208-aycv2zx.png" style="height:300px" alt="总产量、平均产量与边际产量的相互关系" /></p><ul><li>B点处，<span class="math inline">\(MP_L\)</span>最大；</li><li>C点处，<span class="math inline">\(AP_L\)</span>最大；</li><li>D点处，<span class="math inline">\(TP_L\)</span>最大。</li></ul><h3 id="长期生产函数">4. 长期生产函数</h3><h4 id="等产量曲线">4.1 等产量曲线</h4><p>　　等产量曲线（isoquant）是在技术水平不变的条件下，生产同一产量的两种生产要素投入量的所有不同组合的轨迹。与等产量曲线相对应的生产函数为：<spanclass="math inline">\(Q=f(L,K)=Q^0\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428192833-05gangt.png" style="height:300px" alt="等产量曲线" /></p><p>　　等产量曲线的性质：</p><ul><li>表示某一生产函数的等产量曲线图中，可以画出无数条等产量曲线，并且任意两条等产量曲线不能相交；</li><li>由于边际技术替代率递减，因此等产量曲线一般都凸向原点。</li></ul><blockquote><p><strong>联系补充：</strong></p><ul><li><p>等产量曲线类似于<ahref="siyuan://blocks/20220428152953-040h84a">"无差异曲线"</a>。</p></li><li><p>两者区别：</p><ul><li>等产量曲线表示产量，无差异曲线表示效用；</li><li>等产量曲线是客观的，无差异曲线是主观的。</li></ul></li></ul></blockquote><h4 id="边际技术替代率">4.2 边际技术替代率</h4><p>　　在维持产量水平不变的条件下，增加一单位某种生产要素投入量时所减少的另一种要素的投入数量，被称为边际技术替代率（Marginal Rate of Technical Substitution，MRTS）。劳动对资本的边际替代率的定义公式为：</p><p><span class="math display">\[\begin {align}MRTS_{LK} = - \frac {\Delta K} {\Delta L}\end {align}\]</span></p><p>　　等产量曲线上某一点的边际技术替代率是等产量曲线在该点斜率的绝对值。边际技术替代率还可以表示为两种要素的边际产量之比，即<spanclass="math inline">\(MRTS_{LK} = - \frac {\Delta K} {\Delta L} = \frac{MP_L}  {MP_K}\)</span>，证明如下：</p><p>　　设生产函数为：<spanclass="math inline">\(Q=f(L,K)\)</span>，对生产函数两边都取全微分，有：<spanclass="math inline">\(dQ=\frac {\partial f} {\partial L} dL + \frac{\partial f} {\partial K} dK\)</span></p><p>　　等产量曲线上的产量相同，即<spanclass="math inline">\(dQ=0\)</span>，因此：<spanclass="math inline">\(MRTS_{LK} = - \frac {d K} {dL} = \frac {\partial f/ \partial L} {\partial f / \partial K} = \frac  {MP_L}{MP_K}\)</span></p><h4 id="边际技术替代率递减规律">4.3 边际技术替代率递减规律</h4><p>　　在维持产量不变的前提下，当一种生产要素的投入量不断增加时，每一单位的这种生产要素所能替代的另一种生产要素的数量是递减的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428194221-vqpwncx.png" style="height:300px" alt="边际技术替代率递减" /></p><p>　　边际技术替代率递减的主要原因在于：任何一种产品的生产技术都要求各要素投入之间有适当的比例，这意味着要素之间的替代是有限制的。</p><h3 id="等产量曲线的具体形状">5. 等产量曲线的具体形状</h3><h4 id="固定替代比例的生产函数线性生产函数">5.1固定替代比例的生产函数（线性生产函数）</h4><p>　　固定替代比例的生产函数表示在每一产量水平上任何两种生产要素之间的替代比例都是固定的。生产函数的通常形式为：<spanclass="math inline">\(Q=aL+bK\)</span>，相对应的等产量曲线是一条直线。（传送门：<ahref="siyuan://blocks/20220428161645-baztkph">"完全替代品"</a>）</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428194356-14t4go0.png" style="height:300px" alt="固定替代比例的生产函数" /></p><h4 id="固定投入比例的生产函数里昂惕夫生产函数">5.2固定投入比例的生产函数（里昂惕夫生产函数）</h4><p>　　固定投入比例生产函数表示在每一个产量水平上任何一对要素投入量之间的比例都是固定的。生产函数的通常形式为：<spanclass="math inline">\(Q=\min \left\{ \frac L u, \frac K v\right\}\)</span>，相对应的等产量曲线为 L 型，最优投入要素组合为 L型的拐点。（传送门：<ahref="siyuan://blocks/20220428161921-hkp8cs6">"完全互补品"</a>）</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428194751-83rju9k.png" style="height:300px" alt="固定投入比例的生产函数" /></p><h4 id="柯布-道格拉斯生产函数c-d-生产函数">5.3柯布-道格拉斯生产函数（C-D 生产函数）</h4><p>　　柯布-道格拉斯生产函数（C-D生产函数）是最常见的一种生产函数，其一般形式为：<spanclass="math inline">\(Q=AL^{\alpha} K^{\beta}\)</span></p><p>　　<strong>C-D生产函数的主要特征：</strong></p><p>　　<strong>第一</strong>，<spanclass="math inline">\(\alpha\)</span>和<spanclass="math inline">\(\beta\)</span>分别表示劳动和资本在生产过程中的相对重要性，或者说是表示劳动所得和资本所得在总产量中所占的份额。</p><p>　　<span class="math inline">\(L \cdot MP_L = L \cdot \alpha AL^{\alpha -1} K^{\beta}=\alpha AL^{\alpha} K^{\beta} = \alphaQ\)</span>，即<span class="math inline">\(\frac {L \cdot MP_L }{Q}=\alpha\)</span></p><p>　　<span class="math inline">\(K \cdot MP_K = K \cdot \beta AL^{\alpha } K^{\beta-1}=\beta AL^{\alpha} K^{\beta} = \betaQ\)</span>，即<span class="math inline">\(\frac {K \cdot MP_K}{Q}=\beta\)</span></p><p>　　<strong>第二</strong>，<span class="math inline">\(A(\lambdaL)^{\alpha} (\lambda K)^{\beta}=A \lambda^{\alpha + \beta} L^{\alpha}K^{\beta}\)</span>，<span class="math inline">\(\lambda \gt1\)</span>。</p><ul><li>若<span class="math inline">\(\alpha + \beta  \gt1\)</span>，为规模报酬递增；</li><li>若<span class="math inline">\(\alpha + \beta  \lt1\)</span>，为规模报酬递减；</li><li>若<span class="math inline">\(\alpha + \beta=1\)</span>，为规模报酬不变。</li></ul><h4 id="规模报酬">5.4 规模报酬</h4><h5 id="规模报酬变化的含义">5.4.1 规模报酬变化的含义</h5><p>　　规模报酬变化是指在其他条件不变的情况下，企业内部各种生产要素按相同比例变化时所带来的产量变化。</p><h5 id="规模报酬的三种类型">5.4.2 规模报酬的三种类型</h5><p>　　产量增加的比例大于各种生产要素增加的比例，称之为规模报酬递增，即<spanclass="math inline">\(f(\lambda L, \lambda K) \gt \lambdaf(L,K)\)</span>；</p><p>　　产量增加的比例等于各种生产要素增加的比例，称之为规模报酬不变，即<spanclass="math inline">\(f(\lambda L, \lambda K)=\lambdaf(L,K)\)</span>；</p><p>　　产量增加的比例小于各种生产要素增加的比例，称之为规模报酬递减，即<spanclass="math inline">\(f(\lambda L, \lambda K) \lt \lambdaf(L,K)\)</span>。</p><h5 id="等产量曲线与规模报酬">5.4.3 等产量曲线与规模报酬</h5><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230219144333-uebb583.png" style="height:500px" alt="三种规模报酬" /></p><blockquote><p><strong>补充：</strong></p><ul><li>规模报酬不变：从变动比例上看，<spanclass="math inline">\(要素投入=产出\)</span></li><li>规模报酬递减：从变动比例上看，<spanclass="math inline">\(要素投入&gt;产出\)</span></li><li>规模报酬递增：从变动比例上看，<spanclass="math inline">\(要素投入&lt;产出\)</span></li></ul></blockquote><h5 id="规模报酬变化的规律">5.4.4 规模报酬变化的规律</h5><p>　　当企业从最初的很小的生产规模开始逐步扩大的时候，企业面临的是规模报酬递增的阶段。在企业得到了由生产规模扩大所带来的产量递增的全部好处以后，一般会继续扩大生产规模将生产保持在规模报酬不变的阶段。这个阶段有可能比较长。在这以后，企业若继续扩大生产规模，就会进入一个规模报酬递减的阶段。</p><h4 id="扩大生产规模的最优路径">5.5 扩大生产规模的最优路径</h4><p>　　扩展线（expansion curve）——类比“<ahref="siyuan://blocks/20220428170703-g2aqz78">"收入—消费曲线"</a>”</p><p>　　扩展线是：</p><ol type="1"><li>不同生产规模下，生产要素最优组合点的轨迹；</li><li>生产规模扩大的最优路径。</li></ol><p>　　对于<strong>不同的等产量曲线与等成本线的切点的连线</strong>（例如：A、B、C），为扩大生产规模的最优路径。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428202225-orw6b0r.png" style="height:300px" alt="扩大生产规模的最优路径" /></p><p>　　‍</p><p>　　‍</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜第3章：消费者理论</title>
      <link href="/posts/62210/"/>
      <url>/posts/62210/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/35116/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一效用与效用论">一、效用与效用论</h1><h2 id="一效用的概念">（一）效用的概念</h2><p>　　效用是指商品满足人的欲望的能力评价，即消费者在消费商品时所感受到的满足程度。</p><h2 id="二基数效用论与序数效用论">（二）基数效用论与序数效用论</h2><p>　　效用可分为基数效用和序数效用：</p><ul><li><p>基数效用论：</p><ul><li>假设效用可以用基数数字来测量人们消费商品所获取的主观上的满足程度；</li><li>使用<ahref="siyuan://blocks/20220427235358-eejkdw1">"边际效用法分析"</a>；</li><li>均衡条件下满足：<span class="math inline">\(MU_i /P_i  =\lambda\)</span></li></ul></li><li><p>序数效用论：</p><ul><li>认为效用是无法以数字来测量的，只能根据满足程度的大小按顺序排列；</li><li>使用<ahref="siyuan://blocks/20220428152313-zfebt9y">"无差异曲线"</a>作为分析工具；</li><li>均衡条件下满足：$ MRS _ { XY } = { MU_ Y } = { P_ Y } <spanclass="math inline">\(，其中\)</span> MRS _ { XY } $是<u>边际替代率</u>（两种商品消费数量的替代关系）</li></ul></li></ul><h1 id="二基数效用论边际效用分析">二、基数效用论（边际效用分析）</h1><h2 id="一边际效用">（一）边际效用</h2><h3 id="定义">1. 定义</h3><p>　　<strong>边际效用</strong>：消费者在一定时间内增加一单位商品的消费所得到的效用量的增量。</p><p>　　定义总效用为：<spanclass="math inline">\(TU=f(Q)\)</span>，那么边际效用为：<spanclass="math inline">\(MU=\frac {dTU(Q)}  {dQ}\)</span></p><h3 id="边际效用递减规律">2. 边际效用递减规律</h3><p>　　在一定时间内，在其他商品的消费数量保持不变的条件下，随着消费者对某种商品消费量的增加，消费者从该商品连续增加的每一消费单位中所得到的效用增量即边际效用是递减的。</p><p>　　<strong>边际效用递减满足两个条件：</strong></p><ul><li>一阶条件：<span class="math inline">\(\frac {\partialTU(x)}  {\partial  x}&gt;0\)</span>，总效用是增函数</li><li>二阶条件：<span class="math inline">\(\frac {\partial^2TU(x)}  {\partial  x^2}&lt;0\)</span>，边际效用为减函数</li></ul><p>　　<strong>边际效用递减的原因：</strong></p><ul><li>一是因为生理或心理的原因，人的欲望虽然多种多样，永无止境，但生理等因素的限制，就每个具体的欲望满足来说则是有限的。</li><li>二是设想物品有多种多样的用途，并且各种用途的重要程度不同，人们总会把它先用于最重要用途，然后才是次要的用途，故后一单位的物品给消费者带来的满足或提供的效用一定小于前一单位。</li></ul><h3 id="货币的边际效用">3. 货币的边际效用</h3><p>　　基数效用论认为，货币如同商品，也具有效用，商品的边际效用递减规律对货币同样适用，但在分析消费者行为时，基数效用论通常假定货币的边际效用不变。</p><h3 id="消费者均衡">4. 消费者均衡</h3><h4 id="定义-1">4.1 定义</h4><p>　　消费者均衡是研究单个消费者如何把有限的货币收入分配在各种商品的购买中以获得最大的效用。消费者在实现最大化效用时，不想增加/减少任何商品购买数量的一种相对静止的状态。</p><h4 id="均衡条件">4.2 均衡条件</h4><p>　　最大化效用：<spanclass="math inline">\(\max  \  {U(x_i)}\)</span></p><p>　　约束条件（预算约束）：<span class="math inline">\(\sum P_i Q_i=I\)</span></p><p>　　使用拉格朗日法可以解出，消费者均衡条件为（假设 <spanclass="math inline">\(\lambda\)</span> 为不变的货币边际效用）：</p><p>$$<br /><br />$$</p><blockquote><p><strong>数学补充：</strong>拉格朗日乘子法计算过程</p><p>设 <span class="math inline">\(n\)</span> 种商品的效用函数为 $ U(Q_1,Q_2, ... , Q_n) $，预算约束为 $ ^n_{i=1} P_i Q_i = I $</p><p>令拉格朗日函数：$ (Q_1, Q_2, , Q_n, ) = U(Q_1, Q_2, , Q_n) + ( I -^n_{i=1} P_i Q_i ) $</p><p>因此，当效用最大化时，应当满足一下条件：</p><p><span class="math display">\[\begin{cases}\frac {\partial \Lambda} {\partial Q_1} = \frac {\partial U} {\partialQ_1} - \lambda P_1 = 0   \notag \\\frac {\partial \Lambda} {\partial Q_2} = \frac {\partial U} {\partialQ_2} - \lambda P_2 = 0   \notag \\\ \ \ \ \  \ \ \ \ \ \ \ \  \dots  \\\frac {\partial \Lambda} {\partial Q_n} = \frac {\partial U} {\partialQ_n} - \lambda P_n = 0   \notag \\\frac {\partial \Lambda} {\partial \lambda} = I - \sum^n_{i=1} P_i Q_i=0  \notag \\\end{cases}\]</span></p><p>其中 <span class="math inline">\(\frac {\partial U} {\partialQ_i}=MU_i\)</span>，因此可以解得：</p><p>$$<br /><br />$$</p></blockquote><h3 id="需求曲线推导">5. 需求曲线推导</h3><p>　　基数效用论者认为，商品的需求价格取决于商品的边际效用，消费者愿意支付的购买价格与商品的边际效用成正比关系。</p><p>　　购买某种商品的效用最大化条件：<span class="math inline">\(\frac{MU} {P} = \lambda\)</span>（<spanclass="math inline">\(\lambda\)</span> 为不变的货币边际效用）。</p><p>　　当消费量增加时，根据边际效用递减规律，所得到的边际效用 <spanclass="math inline">\(MU\)</span>不断递减，消费者愿意支付的价格即需求价格也是递减的。为保证均衡条件的实现，在货币边际效用<span class="math inline">\(\lambda\)</span>不变的前提下，商品的需求价格 <span class="math inline">\(P\)</span>与边际效用 <span class="math inline">\(MU\)</span>同比例递减，因此建立在边际效用递减规律上的需求曲线是向右下方倾斜的。</p><h1id="三序数效用论无差异曲线分析">三、序数效用论（无差异曲线分析）</h1><h2 id="一偏好">（一）偏好</h2><h3 id="偏好的假定">1. 偏好的假定</h3><p>　　偏好是指消费者对任意两个商品组合所做的一个排序。</p><p>　　序数效用论者提出了关于消费者偏好的以下五个基本的假定：</p><ul><li><strong>完全性</strong>：消费者总是可以比较和排列所给出的不同商品组合；</li><li><strong>可传递性</strong>：如果消费者对 A 的偏好大于 B，且对 B的偏好大于 C，那么对 A 的偏好就大于 C；</li><li><strong>局部非饱和性(局部非厌足性)</strong>：如果两个商品组合的区别仅在于其中一种商品的数量不同，则消费者总是偏好于含有这种商品数量较多的商品组合（<ahref="https://bbs.pinggu.org/thread-60497-1-1.html">网页链接</a>）；</li><li><strong>单调性</strong>：如果一个消费组合所包含的每种商品的数量至少同另一个消费组合一样多，那么这个消费组合至少同另一个消费组合一样好；</li><li><strong>凸性</strong>：无差异曲线凸向原点。（因为多数情况下各种商品是搭配消费的，消费者总是会愿意用一种商品去换取另外的商品，最终消费多样的商品，而非单独一种商品。）</li></ul><blockquote><p><strong>补充：</strong>经济学里曲线的凹凸性，参考数学分析中的函数凹凸性，而非高等数学的曲线凹凸性。</p><p>可以使用二次导数来判别凹函数与凸函数（<ahref="https://www.baike.com/wikiid/7306647361639485382?view_id=2e411lzs54ulfk">网页链接</a>）：</p><ul><li>凸函数：<spanclass="math inline">\(f&#39;&#39;(x)&gt;0\)</span></li><li>凹函数：<spanclass="math inline">\(f&#39;&#39;(x)&lt;0\)</span></li></ul></blockquote><p>　　偏好与偏好假定为借助无差异曲线分析消费者行为提供了条件。</p><h3 id="无差异曲线">2. 无差异曲线</h3><h4 id="含义">2.1 含义</h4><p>　　无差异曲线（Indifferencecurve）表示能够给消费者带来相同的效用水平或满足程度的两种商品的所有组合的曲线。在同一条无差异曲线上的点，代表消费者认为无差异的所有可能的消费组合。</p><p>　　与无差异曲线相对应的效用函数：<spanclass="math inline">\(U=f(X_1,X_2)=U_0\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428153029-iljki3m.png" style="height:300px" alt="无差异曲线" /></p><h4 id="无差异曲线的基本特征">2.2 无差异曲线的基本特征：</h4><ul><li>无差异曲线上的点代表的商品组合，给消费者带来的效用相同</li><li>在同一坐标平面上的任何两条无差异曲线之间可以有无数条无差异曲线（远离原点则效用越大）；</li><li>在同一坐标平面图上的任何两条无差异曲线不会相交；</li><li>无差异曲线凸向原点，体现了<ahref="siyuan://blocks/20220428155252-1qvtvsz">"边际替代率递减规律"</a>（斜率绝对值减小）。</li></ul><h4 id="无差异曲线的特殊情况">2.3 无差异曲线的特殊情况</h4><h5 id="情况一斜率不满足负数的特征">情况一：斜率不满足负数的特征</h5><p>　　如果不满足偏好的局部非饱和性，即 <spanclass="math inline">\(MU&gt;0\)</span>，那么无差异曲线的斜率可能是正数。例如：对于风险偏好者，利率越高（纵轴），风险往往越大（横轴），但风险偏好者的效用会更大。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428154743-1xchc6f.png"  style="height:300px" /></p><h5id="情况二两个不同消费者的无差异曲线可能相交">情况二：两个不同消费者的无差异曲线可能相交</h5><p>　　将两个不同消费者的无差异曲线放在同一坐标轴中，两条无差异曲线<strong>可能相交</strong>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428154105-qr50ga9.png" style="height:300px" alt="两个不同消费者的无差异曲线"/></p><p>　　<strong>无差异曲线越陡峭，表明消费者越喜欢横轴商品。</strong>如图，消费者1 更喜欢商品 <span class="math inline">\(X_1\)</span>，消费者 2更喜欢商品 <span class="math inline">\(X_2\)</span>。</p><blockquote><p><strong>理解补充：</strong></p><p>对于消费者 1，a 点于 d 点商品组合无差异；对于消费者 2，a 点于 c点商品组合无差异。两个消费者增加的商品 <spanclass="math inline">\(X_1\)</span> 数量相同，但消费者 2 减少的商品 <spanclass="math inline">\(X_2\)</span> 数量更少，表明与消费者 1 相比，消费者2 更偏好商品 <span class="math inline">\(X_2\)</span>。</p></blockquote><h4 id="边际替代率及其递减规律">3. 边际替代率及其递减规律</h4><h5 id="边际替代率">3.1 边际替代率</h5><p>　　商品的边际替代率（marginal rate ofsubstitution，MRS）是指在维持效用水平不变的前提下，消费者增加一单位某种商品的消费数量时所需要放弃的另一种商品的消费数量。商品1 对商品 2 的边际替代率的定义公式为：<spanclass="math inline">\(MRS_{XY} = - \frac {\Delta Y} {\Delta X} = \frac{MU_X}  {MU_Y}\)</span></p><p>　　证明过程：在无差异曲线上，效用不变，即 <spanclass="math inline">\(dU=0\)</span>，对效用函数进行全微分，可以得到：</p><p><span class="math display">\[\begin {align}dU= \frac {\partial U} {\partial X} \cdot dX +  \frac {\partial U}{\partial Y} \cdot dY=0\end{align}\]</span></p><p>　　因此：$ {MU_Y } = - {dX} $，即 $MRS_{XY } = {MU_Y } $</p><p>　　边际替代率为无差异曲线该点的斜率绝对值。</p><h5 id="边际替代率递减规律">3.2 边际替代率递减规律</h5><p>　　在维持效用水平不变的前提下，随着一种商品的消费数量的连续增加，消费者为得到每一单位的这种商品所需要放弃的另一种商品的消费数量是递减的。</p><p>　　边际替代率递减规律决定了无差异曲线的斜率的绝对值是递减的，即无差异曲线是凸向原点的。</p><h4 id="无差异曲线的特殊形状">4. 无差异曲线的特殊形状</h4><h5 id="完全替代品">4.1 完全替代品</h5><p>　　完全替代品指两种商品之间的替代比例是固定不变的情况。在完全替代的情况下，两种商品之间的边际替代率<span class="math inline">\(MRS_{12}\)</span>为常数，相应的无差异曲线是一条向下倾斜，斜率不变的直线。</p><p>　　此时，两种商品相应的效用函数为：<spanclass="math inline">\(U(x_1,x_2) = ax_1 + bx_2\)</span></p><p>　　对于完全替代品，边际替代率为：<spanclass="math inline">\(MRS_{12}=a\)</span>（<spanclass="math inline">\(a\)</span> 是常数）</p><p>　　例如：可口可乐与百事可乐，不同品牌的汽油</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230219011840-4y4933k.png" style="height:300px" alt="完全替代品" /></p><h5 id="完全互补品">4.2 完全互补品</h5><p>　　完全互补品指两种商品必须按固定不变的比例同时被使用的情况。在完全互补的情况下，相应的无差异曲线为直角形状，且最优消费点为拐点。两种商品相应的效用函数为：<spanclass="math inline">\(U(x_1,x_2) =\min(ax_1 , bx_2)\)</span></p><p>　　对于完全互补品，边际替代率为：$ MRS_{12} = { MRS_{21} } $</p><p>　　例如：眼镜片与眼镜架，左鞋与右鞋</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230219011744-5ip2rsj.png" style="height:300px" alt="完全互补品" /></p><h5 id="厌恶品">4.3 厌恶品</h5><p>　　厌恶品（Bads）就是消费者不喜欢的商品。假设消费者消费的两种商品，一个是喜欢的，一个是厌恶的，当消费者要增加对厌恶品的消费时，若要保持偏好不变，必须要增加对喜欢品的消费，即对消费者进行补偿。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428162336-4z8gv9g.png" style="height:250px" alt="厌恶品的无差异曲线" /></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230219012115-nl1nhtq.png" style="height:300px" alt="厌恶品例子" /></p><h5 id="中性商品">4.4 中性商品</h5><p>　　中性商品是消费者无论从哪方面说都不在乎的商品。中性商品的无差异曲线为垂直于横轴的直线。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428162517-tj36muv.png" style="height:250px" alt="中性商品的无差异曲线"/></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230219012229-xpjyg2v.png" style="height:300px" alt="中性商品例子"/></p><h1 id="四预算约束线">四、预算约束线</h1><h2 id="一概念">（一）概念</h2><p>　　预算约束线（budget line）又称为预算线、消费可能线和价格线，表示在消费者的收入和商品的价格给定的条件下，消费者的全部收入所能购买到的两种商品的各种组合。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428163017-5s74dk0.png" style="height:300px" alt="预算约束线"/></p><p>　　预算方程式为： $ P_1 X_1 + P_2 X_2 = I $</p><p>　　预算约束线以内的区域<span class="math inline">\(\Delta O Y_{max}X_{max}\)</span>为可行域（灰色部分），为消费者可以负担得起的消费集合。预算约束线外的区域是消费者无法负担的商品组合。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230219012638-oxhtbzs.png" style="height:300px" alt="预算约束线与可行域"/></p><h2 id="二预算线的变动">（二）预算线的变动</h2><h3 id="收入的变动图像平移变化">1. 收入的变动（图像平移变化）</h3><p>　　增加（减少）收入并不会使预算线的斜率发生变化，只会使预算线向外（内）平移。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428163216-6awa6km.png" style="height:300px" alt="收入变化对预算线的影响"/></p><h3 id="价格的变动图像旋转变化">2. 价格的变动（图像旋转变化）</h3><p>　　如果商品 1 的价格上升（下降），商品 2价格不变，纵截距不会发生变化，横截距会变小（变大），从而预算线变得更加陡峭（平坦）。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428163355-8zt4to8.png" style="height:300px" alt="商品 1 的价格变化对预算线的影响"/></p><p>　　如果消费者的收入、商品 1 与商品 2的价格发生同比例同方向的变动，预算约束线不发生变化，消费者花全部收入购买任何一种商品的数量未发生改变。</p><h1 id="五效用最大化与消费者选择">五、效用最大化与消费者选择</h1><h2 id="一消费者均衡">（一）消费者均衡</h2><p>　　在一定的预算约束下，为了实现最大的效用，消费者应该选择最优的商品组合，使得两种商品的边际替代率等于两种商品的价格之比。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428164039-gx45ed4.png" style="height:300px" alt="消费者选择" /></p><p>　　如图，直线 <span class="math inline">\(AB\)</span>为预算约束线，<span class="math inline">\(\Delta OAB\)</span>为可行消费束，直线 <span class="math inline">\(AB\)</span>上方为不可行的消费束；预算约束线 <span class="math inline">\(AB\)</span>与无差异曲线 <span class="math inline">\(U_2\)</span> 相切于 E 点，在 E点处达到消费者均衡（消费者效用最大化），<spanclass="math inline">\(U_2\)</span> 上方为更受偏好的消费束。</p><p>　　无差异曲线与预算线相切时（无差异曲线为标准形式），消费者实现效用最大化。在均衡点有：</p><p><span class="math display">\[\begin {align}MRS_{12}=- \frac {P_1} {P_2}\end {align}\]</span></p><p>　　等式左边表示消费者的替换意愿，等式右边表示市场的替换意愿。</p><blockquote><p><strong>数学补充：</strong></p><p>使用拉格朗日乘子法证明，过程如下：</p><p>第一步，将经济问题转化成数学模型，即：在约束条件 <spanclass="math inline">\(P_1 X_1 + P_2 X_2  = I\)</span> 下，求 <spanclass="math inline">\(U(x_1,x_2)\)</span> 的最大值。</p><p>第二步，数学求解。拉格朗日函数：<spanclass="math inline">\(\Lambda(x_1,x_2, \lambda) =U(x_1,x_2) + \lambda (I- P_1 X_1 - P_2 X_2 )\)</span>，根据一阶条件求解：</p><p><span class="math display">\[\begin {cases}\frac {\partial \Lambda} {\partial X_1} = \frac {\partial U(x_1,x_2) }{\partial X_1} - \lambda P_1=0     \\\frac {\partial \Lambda} {\partial X_2} = \frac {\partial U(x_1,x_2) }{\partial X_2} - \lambda P_2=0   \\\frac {\partial \Lambda} {\partial \lambda} = I - P_1 X_1 - P_2X_2=0    \\\end {cases}\]</span></p><p>可以解得：<span class="math inline">\(MRS_{12}=- \frac {P_1}{P_2}\)</span>，证毕。</p></blockquote><h2id="二价格与收入变化对消费者均衡的影响">（二）价格与收入变化对消费者均衡的影响</h2><h3 id="价格-消费曲线和需求曲线">1. 价格-消费曲线和需求曲线</h3><p>　　价格-消费曲线表示在消费者的偏好、收入以及其他商品价格不变的条件下，与某一种商品的不同价格水平相联系的消费者效用最大化的均衡点的轨迹。</p><p>　　需求曲线是描述商品的需求量和价格关系的曲线，为点 <spanclass="math inline">\((X_1 , P_1)\)</span> 的移动轨迹。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/未标题-1-20220428170625-yxyeb5y.png" style="height:750px" alt="价格—消费曲线和需求曲线" /></p><blockquote><p><strong>理解补充：</strong></p><p>商品<spanclass="math inline">\(X_1\)</span>价格变动会导致预算约束线<spanclass="math inline">\(AB\)</span>围绕<spanclass="math inline">\(A\)</span>点发生旋转变动，与不同无差异曲线<spanclass="math inline">\(U\)</span>的切点连成的曲线即为价格-消费曲线，表明商品<spanclass="math inline">\(X_1\)</span>的价格变动与消费量的关系，由此可以推导出消费者对商品<spanclass="math inline">\(X_1\)</span>的需求曲线。</p></blockquote><h3 id="收入-消费曲线和恩格尔曲线">2. 收入-消费曲线和恩格尔曲线</h3><p>　　收入-消费曲线是在消费者的偏好和商品的价格不变的条件下，与消费者的不同收入水平相联系的消费者效用最大化的均衡点的轨迹。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428170753-7l66mz7.png" style="height:300px" alt="收入—消费曲线"/></p><p>　　恩格尔曲线（Engelcurve）表示消费者在每一收入水平对某商品的需求量。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428170831-q7rz71t.png" style="height:300px" alt="恩格尔曲线"/></p><blockquote><p><strong>理解补充：</strong></p><p>消费者收入的变动会导致预算约束线<spanclass="math inline">\(AB\)</span>发生平移变化，与不同无差异曲线<spanclass="math inline">\(U\)</span>的切点连成的曲线即为收入-消费曲线，由此可以推导出消费者对商品<spanclass="math inline">\(X_1\)</span>的恩格尔曲线，反映收入变动与商品<spanclass="math inline">\(X_1\)</span>消费量的关系。</p></blockquote><p>　　如果将恩格尔曲线中的商品<spanclass="math inline">\(X_1\)</span>指定为食品，那么可以计算出恩格尔系数。</p><p>　　<strong>恩格尔系数：</strong>食品支出总额占个人消费支出总额的比重。</p><p>　　恩格尔系数含义（<ahref="http://intl.ce.cn/zhuanti/data/egl/">网页链接</a>）：</p><ul><li>对于家庭：家庭收入越低，家庭收入中（或总支出中）购买食物支出的占比（占家庭总收入/总支出的比例）往往越大；随着家庭收入的增加，食物支出占比则会下降。</li><li>对于国家：国家越穷，国民收入中用于食物支出的比重往往越大，随着国家的富裕，这个比例呈下降趋势。</li></ul><h1 id="六消费者剩余">六、消费者剩余</h1><h2 id="一概念-1">（一）概念</h2><p>　　消费者剩余是指消费者在购买一定数量的某种商品时愿意支付的最高总价格和实际支付的总价格之间的差额。</p><p>　　消费者剩余可以用消费者需求曲线以下、市场价格线之上的面积来表示（下图中的阴影部分面积）。</p><p>　　消费者剩余的数学表达：<span class="math inline">\(CS=\int_0^{Q_0} f(Q)dQ-P_0 Q_0\)</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428171007-dj8bkq1.png" style="height:300px" alt="消费者剩余"/></p><h2 id="二市场的消费者剩余">（二）市场的消费者剩余</h2><p>　　市场的消费者剩余可以用市场需求曲线以下，市场价格线以上的面积来表示。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428171216-gpmr41u.png" style="height:300px" alt="市场的消费者剩余"/></p><h1 id="七替代效应与收入效应">七、替代效应与收入效应</h1><h2 id="一概念-2">（一）概念</h2><p>　　一种商品价格变动会对消费者产生两方面的影响，一是使商品的相对价格发生变动，二是使消费者的收入相对于以前发生变动。</p><p>　　<strong>替代效应</strong>：由于一种商品价格变动而引起的商品的相对价格发生变动，从而导致消费者在保持效用不变的条件下对商品需求量的改变，称为价格变动的替代效应（substitute effect）。</p><p>　　<strong>收入效应</strong>：由于一种商品价格变动而引起的消费者实际收入发生变动，从而导致消费者对商品需求量的改变，称为价格变动的收入效应（incomeeffect）。</p><p>　　<spanclass="math inline">\(总效应=替代效应＋收入效应\)</span></p><p>　　其中，收入效应表示消费者的效用水平发生变化，替代效应则不改变消费者的效用水平。</p><h2id="二不同商品的替代效应与收入效应">（二）不同商品的替代效应与收入效应</h2><h3 id="正常品">1. 正常品</h3><p>　　对于正常品来说，替代效应与价格呈反方向的变动。收入效应也与价格呈反方向的变动，在它们的共同作用下，总效应必定与价格呈反方向的变动。正常品的需求曲线向右下方倾斜。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428171628-bw03ock.png" style="height:300px" alt="正常品的替代效应和收入效应"/></p><p>　　如果商品 <span class="math inline">\(X_1\)</span> 降价，商品<span class="math inline">\(X_2\)</span> 价格不变，此时替代效应 <spanclass="math inline">\(\Delta X_1&gt;0\)</span>，收入效应 <spanclass="math inline">\(\Delta X_2&gt;0\)</span>，因此总效应 <spanclass="math inline">\(\Delta X = \Delta X_1 + \DeltaX_2&gt;0\)</span>。</p><h3 id="劣等品">2. 劣等品</h3><p>　　对于劣等品来说，替代效应与价格呈反方向的变动，收入效应与价格呈同方向的变动，而且，在大多数的场合，收入效应的作用小于替代效应的作用，所以，总效应与价格呈反方向的变动，相应的需求曲线向右下方倾斜。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428171842-tabr73d.png" style="height:300px" alt="劣等品的替代效应和收入效应"/></p><p>　　如果商品 <span class="math inline">\(X_1\)</span> 降价，商品<span class="math inline">\(X_2\)</span> 价格不变，此时替代效应 <spanclass="math inline">\(\Delta X_1&gt;0\)</span>，收入效应 <spanclass="math inline">\(\Delta X_2&lt;0\)</span>，且 <spanclass="math inline">\(|\Delta X_1| &gt; |\DeltaX_2|\)</span>，因此总效应 <span class="math inline">\(\Delta X = \DeltaX_1 + \Delta X_2&gt;0\)</span>。</p><h3 id="吉芬商品">3. 吉芬商品</h3><p>　　19 世纪，英国统计学家罗伯特·吉芬发现一个现象， 1845年爱尔兰发生灾荒，导致土豆价格上升，但居民对土豆的需求量却反而增加了，而这无法用传统的经济学理论进行解释，故此现象称为“吉芬难题”，并将需求量与价格同方向变动的物品称之为“吉芬品”。</p><p>　　吉芬商品不符合<ahref="siyuan://blocks/20220428000713-pwnjg17">"需求定理"</a>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428172644-mku716l.png" style="height:300px" alt="吉芬品的替代效应和收入效应"/></p><p>　　<strong>吉芬商品是一种特殊的劣等品。</strong>作为劣等品，吉芬品的替代效应与价格呈反方向的变动，收入效应则与价格呈同方向的变动。吉芬品的特殊性就在于：它的收入效应的作用很大，以至于超过了替代效应的作用，从而使得总效应与价格呈同方向的变动。这也就是吉芬品的需求曲线呈现出向右上方倾斜的特殊形状的原因。</p><p>　　如果商品 <span class="math inline">\(X_1\)</span> 降价，商品<span class="math inline">\(X_2\)</span> 价格不变，此时替代效应 <spanclass="math inline">\(\Delta X_1&gt;0\)</span>，收入效应 <spanclass="math inline">\(\Delta X_2&lt;0\)</span>，且 <spanclass="math inline">\(|\Delta X_1| &lt; |\DeltaX_2|\)</span>，因此总效应 <span class="math inline">\(\Delta X = \DeltaX_1 + \Delta X_2&lt;0\)</span>。</p><h1id="八从单个消费者的需求曲线到市场需求曲线">八、从单个消费者的需求曲线到市场需求曲线</h1><p>　　一种商品的市场需求是指在一定时期内在各种不同的价格下市场中所有消费者对某种商品的需求数量。假定在某一商品市场上有n 个消费者，他们都具有不同的个人需求函数 $ Q_i^d =f_i(P) <spanclass="math inline">\(，则该商品市场的需求函数为：\)</span> Q^d = _{i=1}^ n f_i(P) = F(P) $</p><p>　　即一种商品的市场需求量是每一个价格水平上的该商品的所有个人需求量的水平加总。</p><p>　　由于市场需求曲线是所有消费者的需求曲线的加总，因此可能会出现弯折。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220515164837-gnmpm7i.png" style="height:300px" alt="从单个消费者的需求曲线到市场需求曲线" /></p><h1 id="九不确定性和选择">九、不确定性和选择</h1><h2 id="一不确定性与风险">（一）不确定性与风险</h2><p>　　<strong>不确定性</strong>：经济行为者在事先不能准确地知道自己的某种决策的结果。或者说，只要经济行为者的一种决策的可能结果不止一种，就会产生不确定性。</p><p>　　<strong>风险</strong>：在消费者知道自己某种行为决策的各种可能的结果同时，如果消费者还知道各种可能的结果发生的概率，则可以称这种不确定的情况为风险。</p><h2 id="二期望效用和期望值的效用">（二）期望效用和期望值的效用</h2><h3 id="期望效用函数">1. 期望效用函数</h3><p>　　从不确定性出发，考虑消费者的偏好与效用函数就得引进概率。含概率的效用函数表达式称之为期望效用函数。期望效用函数的形式为：</p><p><span class="math display">\[\begin {align}E[U(W_1,W_2)]=pU(W_1)+(1-p)U(W_2)\end {align}\]</span></p><p>　　将上述这种特殊形式的效用函数称为期望效用函数（expected utilityfunction），或称为冯·诺依曼-摩根斯顿效用函数（VNM）。</p><h3 id="期望值的效用">2. 期望值的效用</h3><p>　　对于一张彩票 <span class="math inline">\(L=L(p,W_1,W_2)\)</span>来说，期望值为：<span class="math inline">\(pW_1+(1-p)W_2\)</span></p><p>　　彩票期望值的效用为：<spanclass="math inline">\(U[pW_1+(1-p)W_2]\)</span></p><h3 id="消费者对风险的态度">3. 消费者对风险的态度</h3><p>　　根据个人面对风险的态度不同，把人们对风险的态度分为三类：风险回避者、风险爱好者和风险中立者。</p><h4 id="风险规避者">3.1 风险规避者</h4><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428182511-o2jzkcv.png" style="height:300px" alt="风险回避者的效用函数"/></p><p>　　风险规避者的效用函数是<strong>严格凹性</strong>的，用数学语言表示为：<spanclass="math inline">\(U&#39;(W)&gt;0\)</span>，<spanclass="math inline">\(U&#39;&#39;(W)&lt;0\)</span>，他们的财富的期望效用小于财富的期望值效用。</p><blockquote><p><strong>理解补充：</strong></p><p>风险规避者的效用曲线逐渐趋于平缓，这表明随着风险的升高，他们需要更多的风险补偿才能够让其效用水平有较大幅度的上升。当风险超过一定风险后，不论风险补偿的金额有多高（例如<spanclass="math inline">\(W_2\)</span>点以后），消费者的效用也不会有明显上升。</p></blockquote><h4 id="风险爱好者">3.2 风险爱好者</h4><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428154743-1xchc6f.png" style="height:300px" alt="风险爱好者的效用函数"/></p><p>　　风险爱好者的效用函数是<strong>严格凸性</strong>的，用数学语言表示为：<spanclass="math inline">\(U&#39;(W)&gt;0\)</span>，<spanclass="math inline">\(U&#39;&#39;(W)&gt;0\)</span>，他们的财富的期望效用大于财富的期望值效用。</p><blockquote><p><strong>理解补充：</strong></p><p>风险爱好者的效用曲线不断上升，这表明随着风险的升高，他们仅需要增加一点风险补偿，就可以让其效用水平有较大幅度的上升。考虑到曲线的斜率不断变大，风险带来的效用会来越大。</p></blockquote><h4 id="风险中立者">3.3 风险中立者</h4><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428182855-zl73fsq.png" style="height:300px" alt="风险中立者的效用函数"/></p><p>　　风险中立者的效用函数是<strong>线性</strong>的，用数学语言表示为：<spanclass="math inline">\(U&#39;(W)&gt;0\)</span>，<spanclass="math inline">\(U&#39;&#39;(W)=0\)</span>，他们的财富的期望效用等于财富的期望值效用。</p><blockquote><p><strong>理解补充：</strong></p><p>风险中立者的效用曲线为一条直线，这表明对风险是完全理性的，风险补偿的提高可以使得他们的效用按照线性增加。</p></blockquote><h3 id="降低风险的方式">4. 降低风险的方式</h3><ul><li><strong>多样化选择</strong>：消费者在计划未来一段时间内的某项带有风险的经济活动时，可以采取多样化的行动，以降低风险。</li><li><strong>风险分散</strong>：投资者通过投资许多项目或者持有许多公司的股票而分散风险以这种一多种形式持有资产的方式，可以一定程度避免持有单一资产而发生的风险，投资报酬会更加确定。</li><li><strong>保险</strong>：在消费者面临风险时，风险规避者会愿意放弃一部分收入去购买保险。如果保险的价格等于预期损失，风险规避者会购买足够的保险，以使他们从任何可能遭受的损失中得到全额补偿，与存在无损失时高收入、有损失时低收入的情况相比，确定收入给他们带来的效用更高。</li><li>此外，消费者可以自保，一是采取祖产多元化组合，如购买共同互助基金；二是向某些基金存放资金，以抵消未来损失或收入降低。</li></ul><p>　　‍</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜第2章：均衡价格理论（局部均衡）</title>
      <link href="/posts/11172/"/>
      <url>/posts/11172/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/35116/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一需求理论与供给理论">一、需求理论与供给理论</h1><h2 id="一需求理论">（一）需求理论</h2><h3 id="需求量与需求定理">1. 需求量与需求定理</h3><p>　　<strong>需求量</strong>：<strong>在给定价格水平下</strong>，<strong>愿意</strong>并<strong>能够购买</strong>的该商品数量。</p><p>　　<strong>需求定理</strong>：其他因素不变时，需求量随价格反方向变动。</p><h3 id="需求与影响因素">2. 需求与影响因素</h3><p>　　<strong>需求</strong>：消费者在一定时期内<u>在各种可能的价格水平下</u><strong>愿意</strong>而且<strong>能够购买</strong>的该商品数量。==&gt;有效需求：有购买意愿且有支付能力</p><p>　　需求的影响因素：</p><ul><li>该商品的价格</li><li>消费者收入</li><li>其他相关商品价格</li><li>消费者偏好</li><li>预期的未来价格</li></ul><h3 id="需求函数与需求曲线">3. 需求函数与需求曲线</h3><p>　　需求函数：<spanclass="math inline">\(Q_d=f(p_d,p_o,I,p_e,p_r)\)</span></p><p>　　<span class="math inline">\(p_d\)</span>：该商品的价格</p><p>　　<span class="math inline">\(p_o\)</span>：其他相关商品价格</p><p>　　<span class="math inline">\(I\)</span>：消费者收入</p><p>　　<span class="math inline">\(p_e\)</span>：消费者预期未来价格</p><p>　　<span class="math inline">\(p_r\)</span>：消费者偏好</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428001925-hy2scmf.png" style="height:300px" alt="需求曲线" /></p><h3 id="需求需求量的变动">4. 需求/需求量的变动</h3><p>　　<strong>需求的变动</strong>：非价格因素（<spanclass="math inline">\(p_0,I,p_e,p_r\)</span>）导致的变动，体现为需求曲线的水平移动，如<span class="math inline">\(D_1\)</span> 曲线移动至 <spanclass="math inline">\(D_2\)</span> 或者 <spanclass="math inline">\(D_3\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428002020-2xv82kd.png" style="height:300px" alt="需求的变动" /></p><p>　　<strong>需求量的变动</strong>：该商品价格变化导致的变化，体现为点在需求曲线上的移动，即<span class="math inline">\(Q_d=f(p_d)\)</span>，如 <spanclass="math inline">\(A\)</span> 点移动到 <spanclass="math inline">\(B\)</span> 点。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428002322-ogoyk8m.png" style="height:300px" alt="需求量的变动" /></p><h2 id="二供给理论">（二）供给理论</h2><h3 id="供给量与供给定理">1. 供给量与供给定理</h3><p>　　<strong>供给量</strong>：在给定价格水平下，愿意而且能够生产的产品数量。</p><p>　　<strong>供给定理</strong>：其他不变时，供给量随价格同方向变动。</p><h3 id="供给与影响因素">2. 供给与影响因素</h3><p>　　<strong>供给</strong>：生产者在一定时期内在各种可能的价格下愿意而且能够提供出售的该种商品数量。==&gt;有效供给：有生产欲望且有供给能力</p><p>　　供给的影响因素：</p><ul><li>该商品的价格</li><li>生产成本</li><li>生产技术水平</li><li>其他相关商品价格</li><li>生产者对未来的预期</li></ul><h3 id="供给函数与供给曲线">3. 供给函数与供给曲线</h3><p>　　供给函数：<spanclass="math inline">\(Q_s=f(p_s,T,p_o,p_e,w,r,...)\)</span></p><p>　　<span class="math inline">\(p_s\)</span>：该商品的价格</p><p>　　<span class="math inline">\(T\)</span>：生产技术水平</p><p>　　<span class="math inline">\(p_o\)</span>：其他相关商品价格</p><p>　　<span class="math inline">\(p_e\)</span>：生产者预期未来价格</p><p>　　<span class="math inline">\(w\)</span>：工人工资</p><p>　　<span class="math inline">\(r\)</span>：利率</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230303194337-zxcbzbd.png" style="height:300px" alt="供给曲线" /></p><h3 id="供给供给量的变动">4. 供给/供给量的变动</h3><p>　　供给<strong>的变动</strong>：非价格因素（<spanclass="math inline">\(T,p_o,p_e,w,r,...\)</span>）导致的变动，体现为供给曲线的水平移动，如<span class="math inline">\(S_1\)</span> 曲线移动至 <spanclass="math inline">\(S_2\)</span> 或者 <spanclass="math inline">\(S_3\)</span>。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428003843-cljzscv.png" style="height:300px" alt="供给的变动" /></p><p>　　<strong>供给量的变动</strong>：该商品价格变化导致的变化，体现为点在供给曲线上的移动，即<span class="math inline">\(Q_s=f(p_s)\)</span>，如 <spanclass="math inline">\(A\)</span> 点移动到 <spanclass="math inline">\(B\)</span> 点。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428003732-1bc4v0m.png" style="height:300px" alt="供给量的变动" /></p><h1 id="二均衡价格与弹性理论">二、均衡价格与弹性理论</h1><h2 id="一均衡价格">（一）均衡价格</h2><h3 id="含义">1. 含义</h3><p>　　均衡价格为需求量与供给量相等时的价格水平。假设需求量为 <spanclass="math inline">\(Q_d=-\alpha+\beta P\)</span>，供给量为 <spanclass="math inline">\(Q_s=-\delta+\gamma P\)</span>，那么由 <spanclass="math inline">\(Q_d=Q_s\)</span> 可以计算出均衡价格。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428004732-8og5fdq.png" style="height:400px" alt="均衡价格的决定" /></p><h3 id="应用">2. 应用</h3><h4 id="支持价格最低限价">2.1 支持价格/最低限价</h4><p>　　定义：政府为了扶持某一行业的生产而规定的该行业产品的最低价格。支持价格一般高于市场决定的均衡价格。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428021306-13olgyn.png" style="height:300px" alt="最低限价示意图" /></p><p>　　目的：通常是为了扶持某些行业的发展（如农业）。</p><p>　　为维持支持价格可以采取的措施：</p><ul><li>收购过剩商品</li><li>对该商品的生产实行产量限制</li><li>对购买者给予补贴</li></ul><h4 id="限制价格">2.2 限制价格</h4><p>　　定义：政府为了限制某些商品的价格而规定的低于市场均衡价格的最高价格。（<strong>传送门：</strong><ahref="siyuan://blocks/20220429151934-zv54fas">"最高限价的无谓损失"</a>）</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428021522-6j4594k.png" style="height:300px" alt="限制价格示意图" /></p><p>　　<strong>目的：</strong>抑制某些产品的价格上涨，尤其是为了应对通货膨胀。</p><p>　　不良影响：</p><ul><li>供不应求会导致消费者排队抢购和黑市交易盛行；</li><li>生产者可能粗制滥造，降低产品质量。</li></ul><p>　　为限制价格政府需要采取的措施：</p><ul><li>通过配给制等方式控制需求量（如：生产配额）</li><li>限定消费者购买数量（如：粮票、肉票、布票）</li></ul><h4 id="谷贱伤农的经济学解释">2.3 “谷贱伤农”的经济学解释</h4><p>　　在农业生产活动中，存在着一种经济现象：在丰收的年份，农民的收入反而减少了，这种现象在我国民间被形象地概括为“谷贱伤农”。</p><p>　　造成“谷贱伤农”这种经济现象的根本原因在于：农产品的需求量变动带来的收入增加无法弥补价格下降导致的收入减少损失，其需求价格弹性往往小于1 。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428021651-fs1e1h4.png" style="height:300px" alt="缺乏弹性的需求曲线与谷贱伤农" /></p><h2 id="二弹性理论">（二）弹性理论</h2><h3 id="弹性的含义">1. 弹性的含义</h3><p>　　因变量对自变量变动的反应程度/敏感程度，一般可以定义为：</p><p><span class="math display">\[\begin{align}弹性系数=\frac {因变量的变动比例} {自变量的变动比例}\end{align}\]</span></p><p>　　也可以写作：</p><p><span class="math display">\[\begin {align}e=\frac {\Delta Y /Y} {\Delta X /X}  =\frac {\Delta Y} {\Delta X}\times  \frac X Y\end {align}\]</span></p><p>　　弧弹性的公式：<span class="math inline">\(e  =\frac {\Delta Y}{\Delta X} \times  \frac X Y\)</span></p><p>　　弧弹性的中点公式：<span class="math inline">\(e  =\frac {\DeltaY} {\Delta X} \times  \frac {(X_1 + X_2)/2}  {(Y_1 +Y_2)/2}\)</span>（使用中点值替代端点值）</p><p>　　点弹性的公式：<span class="math inline">\(e =\frac {d Y} {d X}\times  \frac X Y\)</span></p><h3 id="需求价格弹性">2. 需求价格弹性</h3><h4 id="计算方法">2.1 计算方法</h4><p>　　需求量与价格之间往往呈反比关系，因此在需求价格弹性取了负号。</p><p>　　需求价格弧弹性：<span class="math inline">\(e_d  =- \frac {\DeltaQ_d} {\Delta P} \times  \frac {(P_1 + P_2)/2}  {(Q_{d1} +Q_{d2})/2}\)</span></p><p>　　需求价格点弹性：<span class="math inline">\(e_d =- \frac {d Q_d}{d P} \times  \frac P {Q_d}\)</span></p><h4 id="需求价格弧弹性的分类">2.2 需求价格弧弹性的分类</h4><p>　　根据弧弹性的大小，可以将商品的需求量与价格的关系分为以下 5类：</p><ul><li>富有弹性：<spanclass="math inline">\(|e_d|&gt;1\)</span>，需求量变化的幅度比价格变化的幅度更大，需求弹性比较平缓</li><li>单位弹性：<spanclass="math inline">\(|e_d|=1\)</span>，需求曲线为双曲线 <spanclass="math inline">\(Q=\frac a P\)</span>的情况下，弧弹性处处相等且均为 1</li><li>缺乏弹性：<spanclass="math inline">\(0&lt;|e_d|&lt;1\)</span>，需求量变化的幅度比价格变化的幅度更小，需求曲线比较陡峭</li><li>完全弹性：<span class="math inline">\(|e_d|=  \infty\)</span>，在给定价格下，需求量源源不断</li><li>完全无弹性：<span class="math inline">\(|e_d| =0\)</span>，价格变动对需求量没有影响</li></ul><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428010826-8ak3sea.png" style="width:700px" alt="需求价格弧弹性的 5 种类型" /></p><h4 id="线性需求曲线的需求价格弹性">2.3 线性需求曲线的需求价格弹性</h4><p>　　假设线性需求函数为：<spanclass="math inline">\(Q_d=a-bP\)</span>，那么需求曲线的斜率为 <spanclass="math inline">\(-\frac 1 b\)</span>。</p><p>　　我们关注需求价格弹性的绝对数值，因此不再考虑负号（区别于<ahref="siyuan://blocks/20220428013453-tu8nt27">"需求收入弹性"</a>），上述线性需求函数的需求价格点弹性为：</p><p><span class="math display">\[\begin {align}e_d= b \times \frac P Q= \frac {bP }   {a-bP}\end {align}\]</span></p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428011904-4t2mxog.png" style="width:400px" alt="线性需求函数点弹性的 5 种类型" /></p><p>　　当 <span class="math inline">\(e_d=1\)</span> 时，<spanclass="math inline">\(bP=a-bP\)</span>，可以算出此时 <spanclass="math inline">\(P=\frac a {2b},Q=\frac a 2\)</span>，即需求函数的<span class="math inline">\(C\)</span> 点为单位弹性，也就是说：</p><ul><li>在中点 <span class="math inline">\(C\)</span>点（线段中点）处，需求价格弹性为 <spanclass="math inline">\(e_d=1\)</span>；</li><li>在中点 <span class="math inline">\(C\)</span> 点的下方，<spanclass="math inline">\(A\)</span> 点与 <spanclass="math inline">\(B\)</span> 点的需求价格弹性 <spanclass="math inline">\(e_d&lt;1\)</span>；</li><li>在中点 <span class="math inline">\(C\)</span> 点的上方，<spanclass="math inline">\(D\)</span> 点与 <spanclass="math inline">\(E\)</span> 点的需求价格弹性 <spanclass="math inline">\(e_d&gt;1\)</span>。</li></ul><blockquote><p><strong>理解补充：</strong></p><p>在线性需求函数中，可以从以下方面理解点的位置与点弹性大小的关系：</p><ul><li>线性需求函数上，价格和需求量呈线性变化关系。</li><li>线段 <span class="math inline">\(AC\)</span>：价格 <spanclass="math inline">\(P\)</span> 较小，需求量 <spanclass="math inline">\(Q\)</span> 较大，此时价格下降 1单位，价格变动的比例相对较大，需求量变动比例相对较小（即弹性公式 <spanclass="math inline">\(e=\frac {\Delta Q / Q} {\Delta P /P}\)</span>的<u>分母更大</u>），因此弹性小于 1；</li><li>线段 <span class="math inline">\(CE\)</span>：价格 <spanclass="math inline">\(P\)</span> 较大，需求量 <spanclass="math inline">\(Q\)</span> 较小，此时价格下降 1单位，价格变动的比例相对较小，需求量变动比例相对较大（即弹性公式 <spanclass="math inline">\(e=\frac {\Delta Q / Q} {\Delta P /P}\)</span>的<u>分子更大</u>），因此弹性大于 1。</li></ul></blockquote><h4 id="需求价格弹性的影响因素">2.4 需求价格弹性的影响因素</h4><ul><li>商品的可替代性</li><li>商品用途的广泛性</li><li>商品对消费者生活的重要程度</li><li>商品的消费支出在消费者预算总支出中所占的比重</li><li>所考察的消费者调节需求量的时间</li></ul><h3 id="需求收入弹性">3. 需求收入弹性</h3><h4 id="计算方法-1">3.1 计算方法</h4><p>　　需求量与收入之间一般呈正相关系，因此不取负号（区别于<ahref="siyuan://blocks/20220428012305-prfkm1q">"需求价格弹性"</a>）。</p><p>　　需求收入弹性的计算方式：<span class="math inline">\(e_M=\frac{\Delta Q} {\Delta M} \times  \frac M Q\)</span>，或者写成点弹性：<spanclass="math inline">\(e_M =\frac {d Q} {d M} \times  \frac  MQ\)</span></p><h4 id="商品分类">3.2 商品分类</h4><ul><li><p><strong>正常品</strong>：<spanclass="math inline">\(e_M&gt;0\)</span>，随着收入的增加，消费者对正常商品的需求量会上升</p><ul><li><strong>奢侈品/高档品</strong>：<spanclass="math inline">\(e_M&gt;1\)</span>，属于<strong>富有弹性</strong>（需求收入弹性）的商品</li><li><strong>必需品</strong>：<spanclass="math inline">\(0&lt;e_M&lt;1\)</span>，属于<strong>缺乏弹性</strong>（需求收入弹性）的商品，如食品消费</li></ul></li><li><p><strong>劣等品</strong>：<spanclass="math inline">\(e_M&lt;0\)</span>，随着收入的增加，消费者对劣等商品的需求量会下降</p></li></ul><p>　　<strong>恩格尔定律</strong>：在一个家庭或一个国家中，食品支出在收入中所占的比例随着收入的上升而下降，即国家或家庭越富裕，食品支出的收入弹性就越小。</p><h3 id="需求交叉弹性">4. 需求交叉弹性</h3><h4 id="定义与计算方法">4.1 定义与计算方法</h4><p>　　定义：在一定时期内，一种商品的需求量变动对于它的相关商品的价格变动的反应程度。</p><p>　　商品 X 的需求量与商品 Y 的价格相关，设 <spanclass="math inline">\(Q_X=f(P_Y)\)</span>，那么：</p><p>　　需求交叉价格的弧弹性公式：<spanclass="math inline">\(e_{XY}=\frac {\Delta Q_X} {\Delta P_Y}\times  \frac  {P_Y} {Q_X}\)</span></p><p>　　需求交叉价格的点弹性公式：<spanclass="math inline">\(e_{XY}=\frac {d Q_X} {d P_Y} \times  \frac  {P_Y}{Q_X}\)</span></p><h4 id="需求交叉弹性与商品分类">4.2 需求交叉弹性与商品分类</h4><p>　　根据需求交叉弹性，两种商品的关系可以分为以下三种类型：</p><ul><li><strong>替代品</strong>：<spanclass="math inline">\(e_{XY}&gt;0\)</span>，表示提高商品 Y的价格能提高商品 X 的需求量，<spanclass="math inline">\(|e_{XY}|\)</span> 越大，替代性越强；</li><li><strong>互补品</strong>：<spanclass="math inline">\(e_{XY}&lt;0\)</span>，表示提高商品 Y的价格会降低商品 X 的需求量，<spanclass="math inline">\(|e_{XY}|\)</span> 越大，互补性越强；</li><li><strong>不相关商品</strong>：<spanclass="math inline">\(e_{XY}=0\)</span>，表示商品 X、商品 Y是相对独立的两种商品。</li></ul><h3 id="供给价格弹性">5. 供给价格弹性</h3><h4 id="计算方法-2">5.1 计算方法</h4><p>　　供给量与价格之间往往呈正比关系。</p><p>　　供给价格弧弹性：<span class="math inline">\(e_s  =\frac {\DeltaQ_s} {\Delta P} \times  \frac P  {Q_s}\)</span></p><p>　　供给价格点弹性：<span class="math inline">\(e_s = \frac {d Q_s}{d P} \times  \frac P {Q_s}\)</span></p><h4 id="供给价格弹性的分类">5.2 供给价格弹性的分类</h4><p>　　根据供给价格弹性的大小，可以将商品的供给量与价格的关系分为以下 5类：</p><ul><li>富有弹性：<spanclass="math inline">\(e_s&gt;1\)</span>，供给量变化的幅度比价格变化的幅度更大</li><li>缺乏弹性：<spanclass="math inline">\(0&lt;e_s&lt;1\)</span>，供给量变化的幅度比价格变化的幅度更小</li><li>单位弹性：<spanclass="math inline">\(e_s=1\)</span>，供给量变化幅度与价格变动程度相等，是一种<u>极端情况</u></li><li>完全弹性：<span class="math inline">\(e_s=  \infty\)</span>，供给曲线为一条水平线，这是<u>商品出现严重过剩</u>时的情况</li><li>完全无弹性：<span class="math inline">\(e_s =0\)</span>，供给曲线为一条垂直线，价格变动对供给量没有影响，一般是<u>极其稀缺、珍贵或无法复制的商品</u>。</li></ul><h4 id="供给价格弹性的影响因素">5.3 供给价格弹性的影响因素</h4><ul><li>生产的难易程度</li><li>生产规模与规模变化的难易程度</li><li>成本的变化</li><li>时间的差异、厂商的生产能力、对未来价格的预期</li></ul><h3 id="蛛网模型">6. 蛛网模型</h3><h4 id="简介">6.1 简介</h4><p>　　蛛网模型运用弹性原理解释某些生产周期较长的商品在失去均衡时发生的不同波动情况的一种动态分析理论。</p><p>　　<strong>基本假设：</strong></p><ul><li><strong>供给有时滞</strong>：商品的本期产量取决于前一期的价格，即供给函数为：<spanclass="math inline">\(Q_t^s=f(P_{t-1})\)</span></li><li><strong>需求无时滞</strong>：商品本期的需求量取决于本期的价格，即供给函数为：<spanclass="math inline">\(Q_t^d=f(P_{t})\)</span></li></ul><p>　　使用方程表示：</p><ul><li><p>供给有时滞：<span class="math inline">\(Q_t^s=-\delta+\gammaP_{t-1}\)</span></p></li><li><p>需求无时滞：<span class="math inline">\(Q_t^d=\alpha-\betaP_t\)</span></p></li><li><p>本期供需均衡：<spanclass="math inline">\(Q_t^s=Q_t^d\)</span></p></li></ul><p>　　因此，可以求得 <span class="math inline">\(P_t\)</span> 与 <spanclass="math inline">\(P_{t-1}\)</span> 的关系：</p><p><span class="math display">\[\begin{align}P_t = - \frac \gamma \beta  P_{t-1}    +   \frac { \alpha + \delta }{\beta}\end{align}\]</span></p><p>　　令期初价格为 <span class="math inline">\(P_0\)</span>，那么：</p><p><span class="math display">\[\begin {equation}\begin {split}P_t &amp; = \left( - \frac {\gamma} {\beta }  \right) ^ t  \cdot  P_0  +\left\{ \frac { \alpha + \delta } {\beta} \left[ 1+ \left(- \frac{\gamma} {\beta } \right)^1 + \left(- \frac {\gamma} {\beta } \right)^2+...+\left(- \frac {\gamma} {\beta } \right)^{t-1} \right] \right\} \\\\    &amp; = \left( - \frac {\gamma} {\beta }  \right) ^ t  \cdot  P_0  +f\end {split}\end {equation}\]</span></p><p>　　我们将上式花括号设为 <span class="math inline">\(f\)</span>单独计算。其中，方括号内为一个首项为 <spanclass="math inline">\(a_0=1\)</span>、公比为 <spanclass="math inline">\(q=- \frac {\gamma} {\beta}\)</span>的等比数列，可以使用等比数列的求和公式求解。</p><blockquote><p><strong>数学补充：等比数列求和公式</strong></p><p>假设一个等比数列 <span class="math inline">\(A_n\)</span> 的公比为<span class="math inline">\(\frac {a_n} { a_{n-1} }=q\)</span>，如果<span class="math inline">\(a_n \neq 0\)</span> 且 <spanclass="math inline">\(q \neq 1\)</span>，则其前 <spanclass="math inline">\(n\)</span> 项之和为：</p><p><span class="math display">\[S_n=a_1 \cdot \frac {1-q^n} {1-q}\]</span></p></blockquote><p>　　因此上式第一行花括号内的式子可以写作：</p><p><span class="math display">\[\begin{align}\begin {split}f &amp; =  \frac { \alpha + \delta } {\beta} \left[ 1+ \left(- \frac{\gamma} {\beta } \right)^1 + \left(- \frac {\gamma} {\beta } \right)^2+...+\left(- \frac {\gamma} {\beta } \right)^{t-1} \right]   \\  &amp; =  \frac { \alpha + \delta } {\beta} \left [ 1 \cdot \frac {1-(-\frac {\gamma} {\beta} )^t} {1- (-\frac {\gamma} {\beta} )}\right]      \\  &amp; =  \frac { \alpha + \delta } {\beta} \cdot \frac {1- (-\frac{\gamma} {\beta} )^t} {(\gamma + \beta) / {\beta} }     \\  &amp; =  \frac { \alpha + \delta } {\gamma + \beta}  \left[ 1-\left(-\frac {\gamma} {\beta} \right)^t \right]  \end{split}\end{align}\]</span></p><p>　　计算过程中上式的第四行分母消去了 <spanclass="math inline">\(\beta\)</span>。因此，<ahref="siyuan://blocks/20220428023010-g9dbkq4">"原式"</a>的 <spanclass="math inline">\(P_t\)</span> 即可表示为：</p><p><span class="math display">\[\begin {align}P_t &amp; = \left( - \frac {\gamma} {\beta }  \right) ^ t  \cdot  P_0  +f  \notag \\      &amp; =  \left( - \frac {\gamma} {\beta }  \right) ^t  \cdot  P_0  + \frac { \alpha + \delta } {\gamma + \beta}  \left[ 1-(-\frac {\gamma} {\beta} )^t \right]   \notag \\     &amp; = \left( P_0 - \frac { \alpha + \delta } {\gamma +\beta}  \right ) \cdot  \left ( - \frac {\gamma} {\beta }  \right) ^t  + \frac { \alpha + \delta } {\gamma + \beta}    \notag \\\end {align}\]</span></p><p>　　考虑到均衡价格为 <span class="math inline">\(P_e = P_t =P_{t-1}\)</span>，因此 <span class="math inline">\(P_e=\frac {\alpha +\delta}  {\beta + \gamma}\)</span>，代入上式可得：</p><p><span class="math display">\[\begin {align}P_t=(P_0- P_e)   \left (- \frac \gamma \beta \right)^t  +  P_e\end {align}\]</span></p><p>　　因此，蛛网模型主要包括三种情况。</p><h4 id="蛛网模型的-3-种情况">6.2 蛛网模型的 3 种情况</h4><p>　　对于某一种商品，供给价格弹性与需求价格弹性的相对大小关系不同，商品的价格均衡情况会有所不同。</p><h5 id="收敛型蛛网供给弹性小于需求弹性">6.2.1收敛型蛛网：供给弹性小于需求弹性</h5><p>　　当 <span class="math inline">\(t \to \infty\)</span>，如果 <spanclass="math inline">\(\frac \gamma \beta&lt;1\)</span>，那么 <spanclass="math inline">\(P_t \to P_e\)</span>，也就是说随着时间 <spanclass="math inline">\(t\)</span> 的增加，若 <spanclass="math inline">\(\gamma &lt;\beta\)</span>，供给曲线比需求曲线更陡峭（斜率更大），供给弹性小于需求弹性。此时，供给变动对价格变动的反应程度小于需求变动对价格变动的反应程度，此时，价格最后自发地趋向于均衡水平。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230218235841-4cd0hy2.png" style="height:300px" alt="收敛型蛛网" /></p><blockquote><p><strong>理解补充：</strong></p><ul><li><p>需求价格弹性：<span class="math inline">\(e_d =- \frac {d Q_d} {dP} \times  \frac P {Q_d}\)</span></p></li><li><p>供给价格弹性：<span class="math inline">\(e_s = \frac {d Q_s} {dP} \times  \frac P {Q_s}\)</span></p></li><li><p>斜率公式：<span class="math inline">\(k=\frac {dP}{dQ}\)</span>，需求曲线斜率为<span class="math inline">\(k_d=\frac {dP}{dQ_d}\)</span>，供给曲线斜率为<span class="math inline">\(k_s=\frac{dP} {dQ_s}\)</span></p></li><li><p>需求价格弹性与供给价格弹性都与曲线斜率绝对值呈负相关，因此<spanclass="math inline">\(e_s &lt;e_d\)</span>意味着供给函数曲线更加陡峭；</p></li><li><p>画图方向：逆时针旋转，箭头方向为时间变化方向表明供给有时滞，需求无时滞。</p><ul><li>在<spanclass="math inline">\(t=1\)</span>时期，企业供给按照价格<spanclass="math inline">\(P_0\)</span>供给商品<spanclass="math inline">\(Q_1\)</span>，市场实际价格为<spanclass="math inline">\(P_1\)</span>；</li><li>在<spanclass="math inline">\(t=2\)</span>时期，企业按照上一期价格<spanclass="math inline">\(P_1\)</span>供给商品<spanclass="math inline">\(Q_2\)</span>，市场实际价格为<spanclass="math inline">\(P_2\)</span>；</li><li>...</li><li>企业生产决策的价格与市场实际价格的差异越来越小，最终向市场均衡价格<spanclass="math inline">\(P_e\)</span>收敛。</li></ul></li></ul></blockquote><h5 id="发散型蛛网供给弹性大于需求弹性">6.2.2发散型蛛网：供给弹性大于需求弹性</h5><p>　　当 <span class="math inline">\(t \to \infty\)</span>，如果 <spanclass="math inline">\(\frac \gamma \beta&gt;1\)</span>，那么 <spanclass="math inline">\(P_t \to  \infty\)</span>，也就是说随着时间 <spanclass="math inline">\(t\)</span> 的增加，若 <spanclass="math inline">\(\gamma &gt;\beta\)</span>，供给曲线比需求曲线更平坦（斜率更小），供给弹性大于需求弹性。此时，供给变动对价格变动的反应程度要大于需求变动对价格变动的反应程度，此时，价格波动对产量的影响越来越强，最后离均衡越来越远。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230219000711-mxvo1g6.png" style="height:300px" alt="发散型蛛网" /></p><blockquote><p><strong>理解补充：</strong></p><ul><li><p><span class="math inline">\(e_s &gt;e_d\)</span>，意味着供给函数曲线更加平坦，需求曲线更加陡峭；</p></li><li><p>画图方向：逆时针旋转，箭头方向为时间变化方向表明供给有时滞，需求无时滞。</p><ul><li>在<spanclass="math inline">\(t=1\)</span>时期，企业供给按照价格<spanclass="math inline">\(P_0\)</span>供给商品<spanclass="math inline">\(Q_1\)</span>，市场实际价格为<spanclass="math inline">\(P_1\)</span>；</li><li>在<spanclass="math inline">\(t=2\)</span>时期，企业按照上一期价格<spanclass="math inline">\(P_1\)</span>供给商品<spanclass="math inline">\(Q_2\)</span>，市场实际价格为<spanclass="math inline">\(P_2\)</span>；</li><li>...</li><li>企业生产决策的价格与市场实际价格的差异越来越大，最终会偏离市场均衡价格<spanclass="math inline">\(P_e\)</span>越来越远。</li></ul></li></ul></blockquote><h5 id="封闭型蛛网供给弹性等于需求弹性">6.2.3封闭型蛛网：供给弹性等于需求弹性</h5><p>　　当 <span class="math inline">\(t \to \infty\)</span>，如果 <spanclass="math inline">\(\frac \gamma \beta =1\)</span>，那么 <spanclass="math inline">\(P_t\)</span> 为一个常数，也就是说随着时间 <spanclass="math inline">\(t\)</span> 的增加，若 <spanclass="math inline">\(\gamma =\beta\)</span>，供给曲线与需求曲线斜率相等，供给弹性等于需求弹性。此时，供给变动对价格变动的反应程度与需求变动对价格变动的反应程度相等，即价格与产量的波动始终保持相同的程度。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220428023350-fxpa7fm.png" style="height:300px" alt="封闭型蛛网" /></p><blockquote><p><strong>理解补充：</strong></p><ul><li><p><span class="math inline">\(e_s =e_d\)</span>，意味着供给函数与需求函数的曲线一样平坦；</p></li><li><p>画图方向：逆时针旋转，箭头方向为时间变化方向表明供给有时滞，需求无时滞。</p><ul><li>在<spanclass="math inline">\(t=1\)</span>时期，企业供给按照价格<spanclass="math inline">\(P_0=P_2\)</span>供给商品<spanclass="math inline">\(Q_1\)</span>，市场实际价格为<spanclass="math inline">\(P_1\)</span>；</li><li>在<spanclass="math inline">\(t=2\)</span>时期，企业按照上一期价格<spanclass="math inline">\(P_1\)</span>供给商品<spanclass="math inline">\(Q_2\)</span>，市场实际价格为<spanclass="math inline">\(P_2\)</span>；</li><li>...</li><li>企业生产决策的价格只会在<spanclass="math inline">\(P_2\)</span>、<spanclass="math inline">\(P_1\)</span>之间变化，市场无法自发达到均衡，也不会偏离均衡。</li></ul></li></ul></blockquote><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>微观｜第1章：绪论</title>
      <link href="/posts/25608/"/>
      <url>/posts/25608/</url>
      
        <content type="html"><![CDATA[<p>【<ahref="https://fgzfgz.github.io/posts/35116/">内容速查与目录</a>】</p><p>【<a href="https://fgzfgz.github.io/posts/55131/">笔记下载</a>】</p><hr /><h1 id="一什么是经济学">一、什么是经济学</h1><h2 id="一经济学的定义">（一）经济学的定义</h2><p>　　经济学是研究人们为了对付稀缺性而如何做出选择的一门社会科学。</p><p>　　微观经济学又称为价格理论，以单个经济单位（家庭、企业和单个产品市场）为考察对象，运用个量分析方法，研究单个经济单位的经济行为以及相应的经济变量如何决定，分析的是资源配置问题。</p><p>　　宏观经济学又称为国民收入决定理论，以整个国民经济活动作为考察对象，运用总量分析方法，研究资源利用问题以及用什么政策改善资源的利用。</p><h3 id="稀缺">1. 稀缺</h3><p>　　经济学所说的稀缺是指在给定的时间内，相对于人的需求（欲望）而言，经济资源的供给总是不足的。一方面，人类对经济物品的欲望是无限的；另一方面，用来满足人类欲望的经济物品是有限的。因此，现实生活中便存在着资源的有限性和人类欲望与需求的无限性之间的矛盾。</p><h3 id="资源的有效配置">2. 资源的有效配置</h3><p>　　资源的稀缺性决定了任何一个经济社会都必须采用一定的方式对资源进行有效的配置，以实现资源的最优利用。从资源稀缺性的角度出发，经济学的研究对象或者说研究任务是：研究人们如何进行选择来使稀缺的或有限的资源生产各种商品和服务并把它们分配给不同的社会成员提供消费。</p><h3 id="经济学的基本问题">3. 经济学的基本问题</h3><p>　　为了有效率地使用稀缺资源，以满足人们的各种欲望和需求，任何社会或国家都必须解决以下四个基本经济问题：</p><ul><li>生产什么产品，各生产多少？面对稀缺的经济资源，人类需要权衡各种需求的轻重缓急，确定生产什么产品，生产多少，以满足比较强烈的需求。</li><li>用什么方法去生产？由于各种生产要素一般都有很多用途，各种生产要素之间也大多存在一定的替代关系，所以同一种产品的生产往往可以采用很多方法，但它们的生产效率却不尽相同。经济社会必须在各种可供选择的资源组合中，确定哪一种组合是成本最低、效率最高的生产方法。</li><li>生产出来的产品如何在社会成员之间进行分配？因为资源存在稀缺性，没有人能获得他想要的一切，因此每个社会都必须建立某种机制来分配产品。</li><li>何时生产？何时生产是指资源利用的时间配置，即发展计划。正因为资源的稀缺性，所以必须做好动态规划，以达到可持续发展的目的。</li></ul><p>　　这四个问题被称为资源配置问题。不同的社会经济制度解决这四个基本经济问题的方式是不同的。</p><h1 id="二经济学的分析方法">二、经济学的分析方法</h1><h2 id="一规范分析和实证分析">（一）规范分析和实证分析</h2><p>　　实证分析研究实际经济体系是怎样运行的，它对经济行为做出有关的假设，根据假设分析和陈述经济行为及其后果，并试图对结论进行检验。简言之，实证经济学回答了“是什么”的问题。</p><p>　　规范分析是从一定的社会价值判断标准出发，根据这些标准，对一个经济体系的运行进行评价，并进一步说明一个经济体系应当怎样运行，以及为此提出相应的经济政策。简言之，规范经济学回答了“应当是什么”的问题。</p><h2id="二静态分析比较静态分析和动态分析">（二）静态分析、比较静态分析和动态分析</h2><p>　　静态分析：在均衡分析中，一般假定自变量是已知和固定的，来考察因变量达到均衡状态的条件和在均衡状态下的情况。</p><p>　　比较静态分析：对变化前后自变量条件下的因变量进行比较，但不考察从原均衡状态到新均衡状态的变化过程。</p><p>　　动态分析：在引进时间变化序列的基础上，研究不同时点上的变量的相互作用在均衡状态的形成和变化过程中所起的作用，考察在时间变化过程中均衡状态的实际变化过程。</p><h2 id="三均衡分析与边际分析">（三）均衡分析与边际分析</h2><p>　　在经济分析中，均衡指的是这样一种状态：各个经济决策主体（如消费者、厂商等）所做出的决策正好相容，并且在外界条件不变的情况下，每个人都不愿意再调整自己的决策，从而不再改变其经济行为。均衡分析包括局部均衡分析和一般均衡分析。在均衡状态下，当事人决策的最优化是通过边际分析实现的。</p><p><img src="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220430014958-3gckjgn.png" style="width:600px" alt="" /></p><h1 id="三微观经济学与宏观经济学">三、微观经济学与宏观经济学</h1><h2 id="一微观经济学的研究对象">（一）微观经济学的研究对象</h2><p>　　微观经济学是经济学的一个重要分支，又被称为“小经济学”。它以单个经济单位（居民户、厂商及单个产品市场等）为研究对象，研究单个经济单位的经济行为，以及相应的经济变量的单项数值如何决定。微观经济学的核心问题是价格问题，主要内容包括价格理论、消费者行为理论、生产理论、成本理论、厂商均衡理论、收入分配理论、福利经济学以及一般均衡理论等。</p><p>　　微观经济学对个体经济单位的考察，是在三个逐步深入的层次上进行的。第一个层次是分析单个消费者和单个生产者的经济行为。它分析单个消费者如何进行最优的消费决策以获得最大的效用，单个生产者如何进行最优的生产决策以取得最大的利润。第二个层次是分析单个市场的价格决定。这种单个市场价格的决定，是作为单个市场中所有消费者和所有生产者的最优经济行为的共同作用的结果而出现的。第三个层次是分析所有单个市场价格的同时决定，这种决定是作为所有单个市场相互作用的结果而出现的。</p><p>　　显然，微观经济分析所涉及的经济变量都是个量，也正是从这个意义上，它才被称为微观经济学或个量分析。</p><h2 id="二宏观经济学的研究对象">（二）宏观经济学的研究对象</h2><p>　　宏观经济学是经济学的另一个重要分支，又被称为“大经济学”。如果说微观经济学研究的是森林中的树木，那么宏观经济学研究的就是森林整体，而不是其中的树木。宏观经济学以整个国民经济活动作为考察对象，研究社会总体经济问题以及相应的经济变量的总量是如何决定及其相互关系。宏观经济学的中心和基础是总供给—总需求模型，具体来说主要包括总需求理论、总供给理论、失业与通货膨胀理论、经济周期与经济增长理论、开放经济理论以及宏观经济政策等内容。</p><p>　　宏观经济学对总体经济单位的考察，需要解决三个问题：一是已经配置到各个生产部门和企业的经济资源总量的使用情况是如何决定着一国的总产量（国民收入）或就业量；二是产品市场和货币市场的总供求是如何决定着一国的国民收入水平和一般物价水平；三是国民收入水平和一般物价水平的变动与经济周期及经济增长的关系。因此，宏观经济学又被称为国民收入决定论或收入分析。</p><h2id="三微观经济学与宏观经济学的联系和区别">（三）微观经济学与宏观经济学的联系和区别</h2><p>　　微观经济学采取个量分析的方法，它假定资源利用已解决，以经济资源的最佳配置为目标；宏观经济学则采取总量分析的方法，假定资源配置已经解决，以经济资源的有效利用为目标。</p><p>　　微观经济学和宏观经济学是互为前提、彼此补充的两个分支学科。它们互相把对方所考察的对象作为自己的理论前提，互相把对方的理论前提作为自己的研究对象。同时它们又存在紧密联系：一方面，总量是由个量构成的，微观经济学是宏观经济学的基础；另一方面，个量总是在一定的总量中运行的，只有了解了宏观经济学，才能更深刻地理解微观经济学。</p><p>　　微观经济学与宏观经济学两个分支共同构成了现代经济学。这两个领域一度界限分明。但近来，这两个子学科逐渐融合起来，很多经济学家已经运用微观经济学的工具来分析诸如失业和通货膨胀这类属于宏观经济学领域的问题。</p><hr /><p><strong>相关资源：</strong></p><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>《微观经济学》内容速查与笔记目录</title>
      <link href="/posts/35116/"/>
      <url>/posts/35116/</url>
      
        <content type="html"><![CDATA[<p><strong>参考高鸿业《西方经济学（微观部分）》</strong></p><p><strong>均衡条件或最优条件（帕累托最优）</strong>：</p><ul><li>要素配置最优条件：<spanclass="math inline">\({MRTS}_{LK}^X  =  {MRTS}_{LK}^Y\)</span></li><li>商品交换最优条件：<span class="math inline">\({MRS}_{XY}^A ={MRS}_{XY}^B\)</span>（消费者 A 与 B 之间不再进行交换）</li><li>生产与交换的均衡：<spanclass="math inline">\({MRS}_{XY}={MRT}_{XY}\)</span>（其中 <spanclass="math inline">\({MRS}_{XY}={MRS}_{XY}^A ={MRS}_{XY}^B\)</span>）</li></ul><p>‍</p><p>MRS：Marginal Rate of Substitution</p><p>MRS：<ahref="siyuan://blocks/20220428155111-07ec2ez">边际替代率</a>，无差异曲线斜率（消费理论）<spanclass="math inline">\(\to\)</span> 商品消费数量的替代关系</p><p><span class="math inline">\({MRS}_{XY} = - \frac {\Delta Y} {\DeltaX} = \frac {MU_X}  {MU_Y} =\frac {P_X } {P_Y}\)</span></p><p>‍</p><p>MRTS：Marginal Rate of Technical Substitution</p><p>MRTS：<ahref="siyuan://blocks/20220428193209-9t1lmgg">边际技术替代率</a>，等产量线斜率（生产理论）<spanclass="math inline">\(\to\)</span> 投入要素的替代关系</p><p><span class="math inline">\({MRTS}_{LK} = - \frac {\Delta K} {\DeltaL} = \frac {MP_L}  {MP_K} =\frac w r\)</span></p><p><span class="math inline">\({MRTS}_{LK} = - \frac {\Delta K} {\DeltaL} = \frac {MP_L}  {MP_K} = \frac w r\)</span></p><p>‍</p><p>MRT：Marginal Rate of Transformation</p><p>MRT：<ahref="siyuan://blocks/20220511211937-q6kddms">边际转换率</a>，生产可能性曲线斜率（生产理论）<span class="math inline">\(\to\)</span> 生产产品数量的替代关系</p><p><span class="math inline">\({MRT}_{XY} = - \frac {\Delta Y} {\DeltaX} = \frac {MC_X}  {MC_Y}\)</span></p><hr /><h3 id="目-录">目 录</h3><p><a href="https://fgzfgz.github.io/posts/25608/">第1章：绪论</a></p><p><ahref="https://fgzfgz.github.io/posts/11172/">第2章：均衡价格理论（局部均衡）</a></p><p><ahref="https://fgzfgz.github.io/posts/62210/">第3章：消费者理论</a></p><p><ahref="https://fgzfgz.github.io/posts/42354/">第4章：厂商理论—生产函数</a></p><p><ahref="https://fgzfgz.github.io/posts/34942/">第5章：厂商理论—成本理论</a></p><p><ahref="https://fgzfgz.github.io/posts/22302/">第6章：产品市场理论—完全竞争市场</a></p><p><ahref="https://fgzfgz.github.io/posts/9426/">第7章：产品市场理论—不完全竞争市场</a></p><p><ahref="https://fgzfgz.github.io/posts/17352/">第8章：要素市场理论—生产要素的价格决定</a></p><p><ahref="https://fgzfgz.github.io/posts/20587/">第9章：一般均衡论与福利经济学</a></p><p><a href="https://fgzfgz.github.io/posts/7010/">第10章：博弈论</a></p><p><ahref="https://fgzfgz.github.io/posts/54164/">第11章：市场失灵和微观经济政策</a></p><hr /><h3 id="相关内容">相关内容</h3><p><ahref="https://fgzfgz.github.io/posts/38574/">消费理论与生产理论的对称性问题</a></p><p><ahref="https://fgzfgz.github.io/posts/59745/">成本理论中可变成本与固定成本</a></p><hr /><h3 id="相关资源">相关资源：</h3><ol type="1"><li><ahref="https://fgzfgz.github.io/posts/55131/">经济学笔记下载</a></li><li><ahref="https://fgzfgz.github.io/posts/35116/">《微观经济学》内容速查与笔记目录</a></li><li><ahref="https://fgzfgz.github.io/posts/44205/">《宏观经济学》内容速查与笔记目录</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> 经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 高鸿业 </tag>
            
            <tag> 经济学笔记 </tag>
            
            <tag> 微观经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>资源分享｜经济学笔记</title>
      <link href="/posts/55131/"/>
      <url>/posts/55131/</url>
      
        <content type="html"><![CDATA[<h2 id="markdown-格式">Markdown 格式</h2><h3 id="简介">简介</h3><p>Markdown 格式的笔记是个人主页的发布版本，在思源笔记的桌面版 app中整理，导出为 markdown格式，并对部分表格和图片做了调整。其中部分内容涉及到思源笔记内的双向链接，在markdown 中无法跳转。</p><p><strong>更新日期</strong>：<strong><u>2023 年 7 月 1日</u></strong></p><p><strong>更新内容</strong>：（与 PDF 格式相比）</p><ul><li>优化公式显示格式；</li><li>调整网址链接；</li><li>设置网络图床；</li><li>优化 Markdown 的图片显示比例，将 markdown 语法的图片插入方式调整为html 方式</li></ul><h3 id="下载链接">下载链接</h3><p><strong>微观经济学（Markdown Version）</strong></p><ul><li>下载链接：<ahref="https://pan.baidu.com/s/1Gjx_-gA2mrHr73W7-mzVqg?pwd=y41h">百度网盘</a></li><li>提取码：y41h</li></ul><p><strong>宏观经济学（Markdown Version）</strong></p><ul><li>下载链接：<ahref="https://pan.baidu.com/s/1BDvuMQv4rqjcKX2qyzqtrw?pwd=8q7i">百度网盘</a></li><li>提取码：8q7i</li></ul><h3 id="打开方式">打开方式</h3><p><strong><u>推荐使用 Typora、Mwebpro等专业的Markdown编辑器打开。</u>笔记内含有大量 LaTex公式、表格、部署在图床上的图片与网页代码，使用其他编辑器或阅读器打开可能无法正确显示笔记内容。</strong></p><hr /><h2 id="pdf-格式">PDF 格式</h2><h3 id="简介-1">简介</h3><p>本笔记使用「思源笔记」桌面端整理。为方便大家使用，下面提供 PDF格式的笔记，导出基准字号14磅，字体STZhogsong。</p><p><strong>更新日期</strong>：<strong><u>2023 年 7 月 1日</u></strong></p><p><strong>更新内容</strong>：</p><ul><li>调整图片显示，避免图片过大占据整个页面</li><li>调整由 Markdown 导出为 PDF 后，部分表格不能正常显示的问题</li><li>修正部分内容错误</li></ul><p><imgsrc="https://pica.zhimg.com/80/v2-653fbd09453e37245a577b064490865b_1440w.png?source=d16d100b"title="微观经济学" /></p><p><imgsrc="https://pic1.zhimg.com/80/v2-2473c77b4e3e8b02aacd555ad5d4f381_1440w.png?source=d16d100b"title="宏观经济学" /></p><h3 id="下载链接-1">下载链接</h3><p><strong>微观经济学</strong></p><ul><li>下载链接：<ahref="https://pan.baidu.com/s/1tquUUAlX0nZFrN0MboLWRw?pwd=4hvj">百度网盘</a></li><li>提取码：4hvj</li></ul><p><strong>宏观经济学</strong></p><ul><li>下载链接：<ahref="https://pan.baidu.com/s/1yhhTeLHOHbO9zgMro1TrLQ?pwd=kaeb">百度网盘</a></li><li>提取码：kaeb</li></ul><hr /><h3 id="更新日志">更新日志：</h3><ul><li>20230701-更新PDF版笔记</li><li>20230701-Markdown版错误纠正：宏观第二章，消费和储蓄的关系、开放经济乘数与封闭经济乘数的比较</li><li>20230406-纠正错误与错别字、添加数学补充</li><li>20230305-添加大量的图形几何意义解释、模型推导</li></ul>]]></content>
      
      
      <categories>
          
          <category> 资源共享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 宏观经济学 </tag>
            
            <tag> 微观经济学 </tag>
            
            <tag> 资源分享 </tag>
            
            <tag> 经济学 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜工具变量</title>
      <link href="/posts/15538/"/>
      <url>/posts/15538/</url>
      
        <content type="html"><![CDATA[<p>　　<strong>工具变量需要满足两个条件：</strong></p><ul><li>相关性：<span class="math inline">\(Cov(D_i, Z_i) \ne0\)</span>，即工具变量 <span class="math inline">\(Z\)</span>与核心解释变量 <span class="math inline">\(D\)</span> 相关</li><li>外生性：<span class="math inline">\(Cov(\eta_i, Z_i) =0\)</span>，即工具变量与 <span class="math inline">\(Z\)</span>与包含混杂因素 <span class="math inline">\(A\)</span> 的残差项 <spanclass="math inline">\(\eta\)</span> 不相关，其中 <spanclass="math inline">\(\eta_i = A^{&#39;}_i \gamma +v_i\)</span>。( <ahref="https://www.lianxh.cn/news/541a6992f92b0.html"title="工具变量的外部有效性">工具变量的外部有效性</a> )</li></ul><p>　　可以参考赵西亮老师的《基本有用的计量经济学》，里面的有相无环图很好的解释了工具变量的原理。</p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-421dcf5a985f1c47d967446eb3c7a5d7_1440w.jpg?source=d16d100b" /></p><p>　　<imgsrc="https://pic2.zhimg.com/80/v2-f2418c880db6531014a22980e0d7466b_1440w.jpg?source=d16d100b" /></p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-16c9e1223de08b90a49e0b38afb3af7b_1440w.jpg?source=d16d100b" /></p><p>　　<imgsrc="https://pic3.zhimg.com/80/v2-e23cdc61f799e0c8d960460e249212e4_1440w.jpg?source=d16d100b" /></p><p>　　<imgsrc="https://pic3.zhimg.com/80/v2-1636755b2544b056ff7499fcd6087ac5_1440w.jpg?source=d16d100b" /></p><p>　　<strong>相关性一般比较好证明，实证检验工具变量Z与核心解释变量D的关系即可。</strong></p><p>　　<strong>那么，如何检验外生性？</strong></p><p>　　<strong>回答：工具变量Z只通过核心解释变量D影响Y，而不能直接影响Y</strong></p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-bc9153259ffcb6570f3bdba2c8f72a41_1440w.jpg?source=d16d100b" /></p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-b9f1a155fa84ad14fad5281b84b89f5d_1440w.jpg?source=d16d100b" /></p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-dec2100294f8fb15e80b8adec042ad1e_1440w.jpg?source=d16d100b" /></p><hr /><h4 id="相关问题">相关问题：</h4><p><strong>工具变量的外生性检验：</strong></p><p>　　在一些情况下，工具变量的外生性可以使用以下方式检验：（出处：赵西亮《基本有用的计量经济学》第7章）</p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230315214640-4fv54v9.png"alt="image" /></p><hr /><p><strong>工具变量相关扩展：</strong></p><ul><li><a href="https://www.lianxh.cn/news/c45f6113e2c2a.html">连享会 -IV：可以用内生变量的滞后项做工具变量吗？</a></li><li><a href="https://www.lianxh.cn/details/1351.html">连享会 -IV的标准动作：工具变量法实用指南</a></li><li><a href="https://www.lianxh.cn/details/1346.html">连享会 -csa2sls：诸多工具变量的应对方法</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 模型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜双重差分 (DID) 的四个假设</title>
      <link href="/posts/21172/"/>
      <url>/posts/21172/</url>
      
        <content type="html"><![CDATA[<p>　　从理论上来说，满足严格的DID的各种假设后，使用DID是可以消除内生性的。遗漏变量对政策前后的影响通过“共同趋势检验”来完成。</p><p>　　要保证 DID 的估计结果是真是的因果关系，需要了解在政策研究中，满足DID 的四个假设（以下内容来自赵西亮老师的《基本有用的计量经济学》）</p><h3 id="共同趋势假设">1. 共同趋势假设</h3><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-60a61a1e1e6dace9a463e522e7d54bdc_1440w.jpg?source=d16d100b" /></p><p>　　<imgsrc="https://pica.zhimg.com/80/v2-e3bbed641ddb68bf21138b18cc3bafcd_1440w.jpg?source=d16d100b" /></p><p>　　也就是说，未控制的变量不会对政策实施结果产生影响</p><h3 id="共同区间假设">2. 共同区间假设</h3><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-72fbfc5e3da7cc1f0c22880bbddc66c3_1440w.jpg?source=d16d100b" /></p><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-e8d6f0633debb94530077c8cf2e4b2e1_1440w.jpg?source=d16d100b" /></p><h3 id="外生性假设">3. 外生性假设</h3><p>　　<imgsrc="https://pic3.zhimg.com/80/v2-207e42d302145656e827a6a50a8e08fc_1440w.jpg?source=d16d100b" /></p><p>　　也就是说，控制的协变量不会影响政策的实施（相关质疑：中国的政策试点，跟经济发展水平、其他政策有巨大的关系，很多政策并不是随机的）</p><h3 id="政策影响无溢出效应与交互影响suvta">4.政策影响无溢出效应与交互影响（SUVTA）</h3><p>　　<imgsrc="https://pic1.zhimg.com/80/v2-dcfca9292627cc053dd59a66e6751103_1440w.jpg?source=d16d100b" /></p><p>　　也就是说，试点政策仅能影响试点城市，对没有试点的地方没有影响</p><p>​<strong>在上面四条假设的前提下，DID做出来的结果才是真实的政策影响结果。</strong></p><p>　　‍</p><p>　　‍</p><p>　　遗漏变量对政策影响前后是否有不同影响，就是第一个假设“共同趋势假设”的问题。</p><p>　　为解决遗漏变量的问题，可以通过以下两个方法解决：</p><ol type="1"><li>进行共同趋势检验，排除共同趋势的影响</li><li>尽可能多的加入变量，以控制遗漏变量。</li></ol><p>　　赵西亮老师在《基本有用的计量经济学》一书中也指出，尽可能多的加入变量，对估计结果是有好处的，具体体现在：</p><ol type="1"><li>可以避免因遗漏变量导致的估计偏误；</li><li>即便加入的是无关的变量，对回归结果与回归系数不会有较大的影响。</li></ol>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 模型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜数据匹配的组合命令</title>
      <link href="/posts/33566/"/>
      <url>/posts/33566/</url>
      
        <content type="html"><![CDATA[<p>将部分在家庭成员数据中计算好的变量，匹配到家庭数据中，由于一个家庭可能有多个家庭成员，而一个家庭成员仅可能在一个家庭中，因此使用<a href="">1:m</a> 匹配数据，并且要在匹配后，每个家庭仅留一条数据。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">** 1:m 匹配</span><br><span class="line">use &quot;家庭数据&quot;, clear</span><br><span class="line">merge 1:m FID using &quot;成员数据.dta&quot;</span><br><span class="line">drop if _merge==2</span><br><span class="line">drop _merge</span><br><span class="line"></span><br><span class="line">** 去除重复样本——每个家庭仅保留一条信息</span><br><span class="line">duplicates drop FID, force</span><br></pre></td></tr></table></figure><p>补充内容：</p><p><a href="https://fgzfgz.github.io/posts/19316/">merge命令用法</a></p><p>merge 与 duplicates 命令组合使用的综合案例：<ahref="https://fgzfgz.github.io/BiliBili/">视频、笔记与代码</a></p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> 组合命令 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜样本等分组</title>
      <link href="/posts/40668/"/>
      <url>/posts/40668/</url>
      
        <content type="html"><![CDATA[<h2 id="xtile-命令">1. <code>xtile</code> 命令</h2><p>使用 <code>xtile</code> 命令，可以对某一个变量数进行等分组。</p><p><code>dis_inc</code> 表示可支配收入，<code>inc_group</code>表示按照可支配收入分组，生成的收入组变量，取值是<code>1-5</code>，<code>1</code> 为低收入组 (20%)，<code>2</code>为中低收入组 (20%)，<code>3</code> 为中等收入组 (20%)，<code>4</code>为中高收入组 (20%)，<code>5</code> 为高收入组 (20%)。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 样本等分组（按样本数量分组）, n(5) 表示将样本等分为 5 份</span></span><br><span class="line"><span class="keyword">xtile</span> inc_group = dis_inc, <span class="keyword">n</span>(5)</span><br></pre></td></tr></table></figure><h2 id="组内样本等分组">2. 组内样本等分组</h2><p>先按照城乡、省份分组，然后每一组样本根据可支配收入，分为低收入组、中等偏下收入组、中等收入组、中等偏上收入组、高收入组等五组。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 生成收入组别变量type</span></span><br><span class="line"><span class="keyword">gen</span> inc_group=.</span><br><span class="line"><span class="comment">//分城乡、分省份划分五个收入组: CX表示城乡识别码(1=城市,2=乡村)，dis_inc表示人均可支配收入</span></span><br><span class="line"><span class="keyword">forvalues</span> j=1/2 &#123;</span><br><span class="line"><span class="keyword">egen</span> p0_<span class="symbol">`j&#x27;</span>=<span class="built_in">min</span>(dis_inc) <span class="keyword">if</span> CX==<span class="symbol">`j&#x27;</span>,<span class="keyword">by</span>(pcode)       <span class="comment">//0%分位数</span></span><br><span class="line"><span class="keyword">forvalues</span> i=20(20)80 &#123;</span><br><span class="line"><span class="keyword">egen</span> p<span class="symbol">`i&#x27;</span>_<span class="symbol">`j&#x27;</span>=<span class="keyword">pctile</span>(dis_inc) <span class="keyword">if</span> CX==<span class="symbol">`j&#x27;</span>,p(<span class="symbol">`i&#x27;</span>) <span class="keyword">by</span>(pcode)   <span class="comment">//20%、40%、60%、80%分位数</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">egen</span> p100_<span class="symbol">`j&#x27;</span>=<span class="built_in">max</span>(dis_inc) <span class="keyword">if</span> CX==<span class="symbol">`j&#x27;</span>,<span class="keyword">by</span>(pcode)     <span class="comment">//100%分位数</span></span><br><span class="line"><span class="comment">//分城乡确定收入组</span></span><br><span class="line"><span class="keyword">replace</span> inc_group=1 <span class="keyword">if</span> dis_inc&gt;=p0_<span class="symbol">`j&#x27;</span>  &amp; dis_inc&lt;p20_<span class="symbol">`j&#x27;</span>   <span class="comment">// 低收入组</span></span><br><span class="line"><span class="keyword">replace</span> inc_group=2 <span class="keyword">if</span> dis_inc&gt;=p20_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;p40_<span class="symbol">`j&#x27;</span>   <span class="comment">// 中低收入组</span></span><br><span class="line"><span class="keyword">replace</span> inc_group=3 <span class="keyword">if</span> dis_inc&gt;=p40_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;p60_<span class="symbol">`j&#x27;</span>   <span class="comment">// 中等收入组</span></span><br><span class="line"><span class="keyword">replace</span> inc_group=4 <span class="keyword">if</span> dis_inc&gt;=p60_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;p80_<span class="symbol">`j&#x27;</span>   <span class="comment">// 中高收入组</span></span><br><span class="line"><span class="keyword">replace</span> inc_group=5 <span class="keyword">if</span> dis_inc&gt;=p80_<span class="symbol">`j&#x27;</span> &amp; dis_inc&lt;=p100_<span class="symbol">`j&#x27;</span> <span class="comment">// 高收入组</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面是一种很符合直觉的做法，即先计算分段点百分位数处的取值，然后根据大小关系来确定分组。</p><p>但是，<strong>上面的做法太麻烦！</strong></p><p><code>egenmore</code> 提供的 <code>xtile</code>函数来计算，一行代码就就可以解决组内等分组的问题！</p><p><strong>首次使用前需要安装 <code>egenmore</code>提供的函数包</strong>。<u><code>egenmore</code>提供的函数包很多，安装等待较长时间是正常现象。</u></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 安装函数包 egenmore: 仅首次使用前需要安装</span></span><br><span class="line"><span class="keyword">ssc</span> install egenmore, <span class="keyword">replace</span></span><br></pre></td></tr></table></figure><p>上面代码的等效命令如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 等效命令</span></span><br><span class="line"><span class="keyword">egen</span> inc_group = <span class="keyword">xtile</span>(dis_inc), <span class="keyword">n</span>(5) <span class="keyword">by</span>(CX pcode)</span><br></pre></td></tr></table></figure><p>使用 <code>by()</code> 来指定分组的依据，使用 <code>n()</code>来指定组内等分组的数量。</p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
            <tag> 组合命令 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜样本计数</title>
      <link href="/posts/29163/"/>
      <url>/posts/29163/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">** 根据X1分类，生成每组样本数</span><br><span class="line">by X1: gen X2=_N           //包含缺失值</span><br><span class="line">by X1: gen X2=_N if X1!=.  //排除缺失值</span><br><span class="line"></span><br><span class="line">** count函数: 表达式exp计算结果不是缺失值的样本数</span><br><span class="line">egen newvar = count(exp), by(varlist)</span><br><span class="line"></span><br><span class="line">** total 函数: 表达式exp计算结果的样本数</span><br><span class="line">gen count=1</span><br><span class="line">egen count_num = total(exp), by(varlist)</span><br><span class="line"></span><br><span class="line">** seq 函数: 循环计数，生成数列 (每个数字计数两次，范围3～4，重复计数: 3,3,4,4, | 3,3,4,4, | 3,……)</span><br><span class="line">egen list=seq(), from(3) to(4) block(2) by(varlist)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜计算同侪效应</title>
      <link href="/posts/23887/"/>
      <url>/posts/23887/</url>
      
        <content type="html"><![CDATA[<p>　　在实证研究中，我们常会遇到一些关于同侪效应的研究，即同一组内其他样本的行为或状态可能会影响受访者的行为与状态。一些研究也将其称为同伴效应或伙伴效应。</p><p>　　衡量同侪效应的常见方式是组内其他样本的均值。其基本计算原理如下：</p><p>　　假设某一组内共有 <span class="math inline">\(m\)</span>个样本，对于受访者 <span class="math inline">\(i\)</span> ，其同侪效应<span class="math inline">\(X_p\)</span> (组内其他样本均值)可以表示为：</p><p><span class="math display">\[\begin {align}X_p= \frac {\sum _{j \ne i} X_j} {m-1}= \frac {\sum _{j =1}^n X_j \ - \ X_i} {m-1}\end{align}\]</span></p><p>　　因此，对于全体样本分出的每一组样本，我们可以分为三个步骤计算：</p><ul><li>计算组内样本数量 <span class="math inline">\(m\)</span></li><li>计算组内所有样本变量 <span class="math inline">\(X\)</span>的取值之和</li><li>代入上式计算同侪效应 <span class="math inline">\(X_p\)</span></li></ul><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 使用 count 和 total 函数:</span></span><br><span class="line"><span class="keyword">egen</span> count_num=<span class="keyword">count</span>(X), <span class="keyword">by</span>(CID)  <span class="comment">// 分组计算变量 X 的非缺失值样本数量</span></span><br><span class="line"><span class="keyword">egen</span> X_total=<span class="keyword">total</span>(X), <span class="keyword">by</span>(CID)      <span class="comment">// 对 X 的分组求和</span></span><br><span class="line"><span class="keyword">gen</span> X_p=(X_total-X)/(count_num-1)</span><br></pre></td></tr></table></figure><p>　　当然，上述计算过程比较麻烦，也有学者开发了 <code>peers</code>函数，可以等效替代上面的命令：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 使用 peers 函数: 以 CID 分组, 组内其他受访者的 X 均值</span></span><br><span class="line"><span class="keyword">ssc</span> install _peers, <span class="keyword">replace</span>       <span class="comment">//安装 peers 函数，仅首次使用需要安装</span></span><br><span class="line"><span class="keyword">egen</span> X_peers=peers(X),<span class="keyword">by</span>(CID)             <span class="comment">//CID 为分组变量, 包含 X 为缺失值的样本</span></span><br></pre></td></tr></table></figure><p>　　上面一行命令, 与使用 <code>count</code> 和 <code>total</code>函数计算的结果往往不同，原因是缺失值样本往往也会被计算在内。解决这一问题的办法是添加一个<code>if</code> 条件，即可与使用 <code>count</code> 和<code>total</code> 函数计算的结果相同。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> X_peers=peers(X) <span class="keyword">if</span> X!=. &amp; CID!=.,<span class="keyword">by</span>(CID)</span><br></pre></td></tr></table></figure><p>　　相关用法：<ahref="siyuan://blocks/20211020114552-ukzg52g">"egen"</a></p><p>　　一些研究中也将“同侪效用”用作工具变量。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 除受访样本外其他样本的均值</span></span><br><span class="line"><span class="keyword">gen</span> <span class="keyword">count</span>=1</span><br><span class="line"><span class="keyword">egen</span> count_num=<span class="keyword">total</span>(<span class="keyword">count</span>), <span class="keyword">by</span>(county)</span><br><span class="line"><span class="keyword">egen</span> treat_total=<span class="keyword">total</span>(treat), <span class="keyword">by</span>(county)</span><br><span class="line"><span class="keyword">gen</span> IV=(IV_total-treat)/(count_num-<span class="keyword">count</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">** 使用 peers 函数也可以达到上述效果</span></span><br><span class="line"><span class="keyword">egen</span> IV=peers(treat),<span class="keyword">by</span>(county)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜Stata 数据乱码问题</title>
      <link href="/posts/5022/"/>
      <url>/posts/5022/</url>
      
        <content type="html"><![CDATA[<p>在较新的 Stata上打开旧版的数据，可能会因中文字符编码问题导致乱码。</p><p><imgsrc="https://pic1.zhimg.com/80/v2-1f77c292490ecf24abe02ff6d9d66a4a_1440w.png?source=d16d100b" /></p><p>可以将待转码的数据复制到一个转码文件夹中，使用以下命令对数据进行转码：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">** 解决旧版stata数据中文乱码问题,星号表示通配符</span><br><span class="line">clear</span><br><span class="line">cd &quot;C:\Users\Desktop\转码&quot;    // 新建一个转码文件夹，然后修改自己的路径</span><br><span class="line">unicode encoding set gb18030</span><br><span class="line">unicode analyze *</span><br><span class="line">unicode translate *, invalid</span><br></pre></td></tr></table></figure><p>如果上述操作无法解决乱码问题，可以考虑将通配符改为具体的文件名。</p><p>例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">clear</span><br><span class="line">cd &quot;C:\Users\Desktop\转码&quot;    // 新建一个转码文件夹，然后修改自己的路径</span><br><span class="line">unicode encoding set gb18030</span><br><span class="line">unicode analyze 流动人口数据个人问卷2018.dta   // 文件名根据自己的数据进行调整</span><br><span class="line">unicode translate 流动人口数据个人问卷2018.dta, invalid   // 文件名根据自己的数据进行调整</span><br></pre></td></tr></table></figure><p>转码后结果如下：</p><p><imgsrc="https://picx.zhimg.com/80/v2-1239eda255ebacd72cb038903542efcb_1440w.png?source=d16d100b" /></p><h3 id="相关链接">相关链接：</h3><p>　　<a href="https://www.jianshu.com/p/77e9f2f24497">stata乱码解决方案说明 - 简书 (jianshu.com)</a>；<ahref="https://zhuanlan.zhihu.com/p/32174014">Stata15：一次性转码，解决中文乱码问题- 知乎 (zhihu.com)</a>；<ahref="http://www.360doc.com/content/20/0305/22/39103730_897100231.shtml">Stata中文乱码顽疾解决方法 (360doc.com)</a></p><hr /><p>　　以下数据转码命令来自计量经济圈的分享，不能保证可以解决问题。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">*******以下是 do 文档的方式***** </span></span><br><span class="line">unicode analyze *.<span class="keyword">do</span> </span><br><span class="line">unicode encoding <span class="keyword">set</span> gbk </span><br><span class="line">unicode <span class="keyword">translate</span> *.<span class="keyword">do</span></span><br><span class="line"><span class="comment">*******以下是 dta 文档的方式***** </span></span><br><span class="line"><span class="keyword">clear</span> </span><br><span class="line">unicode encoding <span class="keyword">set</span> GB2312 </span><br><span class="line">unicode analyze *.dta </span><br><span class="line">unicode encoding <span class="keyword">set</span> gbk </span><br><span class="line">unicode <span class="keyword">translate</span> *.dta</span><br><span class="line"></span><br><span class="line"><span class="comment">****** CFPS数据库乱码解决 ********</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:\Users\hp\Desktop\CFPS_2016_child_dta&quot;</span></span><br><span class="line">unicode analyze cfps2016child_201709.dta </span><br><span class="line">unicode encoding <span class="keyword">set</span> gb18030 </span><br><span class="line">unicode <span class="keyword">translate</span> cfps2016child_201709.dta</span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;cfps2016child_201709.dta&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"></span><br><span class="line"><span class="comment">*对变量名、变量标签、字符型变量取值转码</span></span><br><span class="line"><span class="keyword">foreach</span> v of <span class="keyword">varlist</span> _all &#123;</span><br><span class="line"><span class="comment">    * 对字符型变量取值进行转码</span></span><br><span class="line">    <span class="keyword">local</span> <span class="keyword">type</span>: <span class="keyword">type</span> <span class="symbol">`v&#x27;</span> <span class="comment">//将变量的类型放入宏 type 中</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">index</span>(<span class="string">&quot;`type&#x27;&quot;</span>, <span class="string">&quot;str&quot;</span>) &#123; <span class="comment">//如果变量是字符型变量，使用 ustrfrom() 函数进行转码</span></span><br><span class="line">    <span class="keyword">replace</span> <span class="symbol">`v&#x27;</span> = ustrfrom(<span class="symbol">`v&#x27;</span>, <span class="string">&quot;gb18030&quot;</span>, 1)</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">    * 对变量标签进行转码</span></span><br><span class="line">    <span class="keyword">local</span> lbl: <span class="keyword">var</span> <span class="keyword">label</span> <span class="symbol">`v&#x27;</span>   <span class="comment">//将变量的标签放入宏 lbl 中 </span></span><br><span class="line">    <span class="keyword">local</span> lbl = ustrfrom(<span class="string">&quot;`lbl&#x27;&quot;</span>, <span class="string">&quot;gb18030&quot;</span>, 1) <span class="comment">//使用 ustrfrom()函数对`lbl&#x27;转码 </span></span><br><span class="line">    <span class="keyword">label</span> <span class="keyword">var</span> <span class="symbol">`v&#x27;</span> <span class="string">`&quot;`lbl&#x27;&quot;&#x27;</span> <span class="comment">//将转码后的字符串作为变量的标签</span></span><br><span class="line"><span class="comment">    * 对变量名进行转码 </span></span><br><span class="line">    <span class="keyword">local</span> newname = ustrfrom(<span class="string">`&quot;`v&#x27;&quot;&#x27;</span>, <span class="string">&quot;gb18030&quot;</span>, 1) <span class="comment">//使用 ustrfrom()函数将变量名字符串进 行转码 </span></span><br><span class="line">    <span class="keyword">rename</span> <span class="symbol">`v&#x27;</span> <span class="symbol">`newname&#x27;</span> <span class="comment">//将转码后的字符串重命名为变量名 </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">*引用源自：以上(循环）命令截取自爬虫俱乐部腾讯课堂</span></span><br><span class="line"></span><br><span class="line"><span class="comment">****** CLDS数据库乱码解决 ********</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:\Users\hp\Desktop\CLDS\CLDS2012&quot;</span></span><br><span class="line">unicode analyze CLDS2012househould.dta   <span class="comment">/*替换 CLDS2012househould.dta 即可*/</span></span><br><span class="line">unicode encoding <span class="keyword">set</span> gb18030</span><br><span class="line">unicode <span class="keyword">translate</span> CLDS2012househould.dta</span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CLDS2012househould.dta&quot;</span>,<span class="keyword">clear</span>   <span class="comment">/*检查是否完成*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">**********标签解决****************</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">save</span> using cldslabel.<span class="keyword">do</span>, <span class="keyword">replace</span> </span><br><span class="line"><span class="comment">*引用其中的 cldslabel.do 即可</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜其他样本管理</title>
      <link href="/posts/64269/"/>
      <url>/posts/64269/</url>
      
        <content type="html"><![CDATA[<h2 id="一样本删除保留">一、样本删除、保留</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">if</span> jianyan==0     <span class="comment">//删除jianyan取值为0的样本</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> jianyan==1     <span class="comment">//保留jianyan取值为1的样本</span></span><br></pre></td></tr></table></figure><p>　　分层随机抽样:</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">根据city分层随机抽样20%的样本</span><br><span class="line"><span class="keyword">sample</span> 20, <span class="keyword">by</span>(city)</span><br></pre></td></tr></table></figure><h2 id="二_n-和-_n-用法">二、_n 和 _N 用法</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** _n 表示样本排序号</span></span><br><span class="line"><span class="keyword">gen</span> <span class="keyword">n</span>=_n</span><br><span class="line"><span class="comment">** 先按x排序，再生成排序号</span></span><br><span class="line"><span class="keyword">by</span> x,<span class="keyword">sort</span>: <span class="keyword">gen</span> <span class="keyword">n</span>=_n</span><br><span class="line"></span><br><span class="line"><span class="comment">** _N 表示总样本量</span></span><br><span class="line"><span class="keyword">gen</span> <span class="keyword">N</span>=_N</span><br></pre></td></tr></table></figure><p>　　相关链接：<a href="https://zhuanlan.zhihu.com/p/358021360">_n和_N 的定义、例示和 Stata 应用 - 知乎 (zhihu.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜缩尾与截尾</title>
      <link href="/posts/54421/"/>
      <url>/posts/54421/</url>
      
        <content type="html"><![CDATA[<p>　　在调查数据中，常常会遇到有极端值的情况，缩尾和结尾是两种最普遍的处理极端值的做法。以1%和99%双侧缩尾/截尾为例：</p><p>　　缩尾：将大于99%分位数的取值，替换为99%分位数取值；将小于1%分位数的取值，替换为1%分位数取值。</p><p>　　截尾：将大于99%分位数或小于1%分位数的取值，替换为缺失值。</p><p>　　使用缩尾还是截尾，应根据数据情况和研究的具体问题选择。</p><h2 id="一基本语法">一、基本语法</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">winsor2 <span class="keyword">varlist</span> [<span class="keyword">if</span>] [<span class="keyword">in</span>], [suffix(string) <span class="keyword">replace</span> <span class="keyword">trim</span> cuts(# #) <span class="keyword">by</span>(groupvar) <span class="keyword">label</span>]</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> suffix(string) 表示缩尾和截尾后生成新变量的后缀，默认是&quot;_w&quot;(缩尾)和&quot;_tr&quot;(截尾)；</span></span><br><span class="line"><span class="comment">         replace 表示不生成新变量，缩尾或截尾后的数值替换当前变量数值；</span></span><br><span class="line"><span class="comment">         trim 表示截尾，不添加该 option，则默认是缩尾；</span></span><br><span class="line"><span class="comment">         cut(# #) 表示缩尾或截尾的百分位数；</span></span><br><span class="line"><span class="comment">         by(groupvar) 表示分组变量；</span></span><br><span class="line"><span class="comment">         label 表示在变量标签中注明：(1)缩尾/截尾; (2)缩尾/截尾的百分位数。               */</span></span><br></pre></td></tr></table></figure><h2 id="二示例和图示">二、示例和图示</h2><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 1%、99%缩尾：将小于1%百分位数和大于99%百分位数的数值分别替换为1%、99%分位数数值</span></span><br><span class="line">winsor2 x,cut(1 99)          <span class="comment">//新变量名默认是x_w</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 1%、99%截尾：将小于1%百分位数和大于99%百分位数的数值分别替换缺失值&quot;.&quot;</span></span><br><span class="line">winsor2 x,cut(1 99) <span class="keyword">trim</span>     <span class="comment">//新变量名默认是x_tr</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* winsor2 图示：  </span></span><br><span class="line"><span class="comment">         +------------------+</span></span><br><span class="line"><span class="comment">  No     |  x    x_w   x_tr |</span></span><br><span class="line"><span class="comment">         |------------------|</span></span><br><span class="line"><span class="comment">   1     | .02   .33     .  |</span></span><br><span class="line"><span class="comment">   2     | .33   .33   .33  |</span></span><br><span class="line"><span class="comment">   3     | .64   .64   .64  |</span></span><br><span class="line"><span class="comment">   4     | 1.5   1.5   1.5  |</span></span><br><span class="line"><span class="comment">   …     |  …     …     …   |</span></span><br><span class="line"><span class="comment">  98     | 136   136   136  |</span></span><br><span class="line"><span class="comment">  99     | 321   321   321  |</span></span><br><span class="line"><span class="comment"> 100     | 450   450   450  |</span></span><br><span class="line"><span class="comment"> 101     | 687   450     .  |</span></span><br><span class="line"><span class="comment">         +------------------+            */</span></span><br></pre></td></tr></table></figure><p>　　‍</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 根据 Province 分组，在1%和99%分位数处双侧缩尾/截尾，并替换原来的变量(不生成新变量)</span></span><br><span class="line">winsor2 x,cut(1 99) <span class="keyword">by</span>(Province) <span class="keyword">replace</span>        <span class="comment">//缩尾</span></span><br><span class="line">winsor2 x,cut(1 99) <span class="keyword">by</span>(Province) <span class="keyword">trim</span> <span class="keyword">replace</span>   <span class="comment">//截尾</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜字符型变量运算</title>
      <link href="/posts/45943/"/>
      <url>/posts/45943/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://fgzfgz.github.io/BiliBili/">配套视频、笔记与代码</a></strong></p><h2 id="一字符简单运算">一、字符简单运算</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 生成文本型变量</span></span><br><span class="line"><span class="keyword">gen</span> var1=<span class="string">&quot;&quot;</span>    <span class="comment">//&quot;&quot;表示缺失值</span></span><br><span class="line"><span class="comment">** 文本型变量值替换</span></span><br><span class="line"><span class="keyword">replace</span> X1=<span class="string">&quot;&quot;</span> <span class="keyword">if</span> X1==<span class="string">&quot;NA&quot;</span>   <span class="comment">//文本运算需要加英文引号</span></span><br></pre></td></tr></table></figure><h2 id="二文本匹配">二、文本匹配</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 字符条件匹配</span></span><br><span class="line"><span class="keyword">replace</span> CITY_ID=1 <span class="keyword">if</span> V2==<span class="string">&quot;北京&quot;</span></span><br><span class="line"><span class="keyword">replace</span> CITY_ID=1 <span class="keyword">if</span> <span class="built_in">strmatch</span>(V2,<span class="string">&quot;*北京*&quot;</span>)    <span class="comment">//括号内变量名表示匹配的变量，星号&quot;*&quot;表示通配符</span></span><br></pre></td></tr></table></figure><h2 id="三文本提取">三、文本提取</h2><p>　　文本提取命令有 <code>substr</code> 和 <code>usubstr</code>，两个用法基本一致。但 <code>substr</code> 需要考虑编码，一个中文字符占3 个英文字符，<code>usubstr</code> 则不需要考虑编码问题。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 将地址前两个中文字符提取为省份名称</span></span><br><span class="line"><span class="keyword">gen</span> province =<span class="built_in">substr</span>(address,1,6)   <span class="comment">//提取2个中文字符: 从第1位开始提取，提取6位,一个中文字符占3个英文字符</span></span><br><span class="line"><span class="keyword">gen</span> birthyear=<span class="built_in">substr</span>(ID,7,4)        <span class="comment">//提取数字: 在身份证号ID中，从第7位开始提取4位数字，作为出生年份</span></span><br><span class="line"><span class="keyword">gen</span> city =<span class="built_in">substr</span>(address,-6,.)      <span class="comment">//提取最后6个字符: &quot;-6&quot;表示从右向左数6个字符，&quot;.&quot;表示提取至最后一位</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 效果同上</span></span><br><span class="line"><span class="keyword">gen</span> province =usubstr(address,1,2)</span><br><span class="line"><span class="keyword">gen</span> birthyear=usubstr(ID,7,4)</span><br><span class="line"><span class="keyword">gen</span> city =<span class="built_in">substr</span>(address,-2,.)</span><br></pre></td></tr></table></figure><h2 id="四变量分列">四、变量分列</h2><p>　　使用 <code>split</code> 命令可以实现字符型变量的分列。</p><h3 id="基础命令"><strong>基础命令：</strong></h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// strvar 表示字符型变量</span></span><br><span class="line"><span class="keyword">split</span> strvar [<span class="keyword">if</span>] [<span class="keyword">in</span>] [, options]</span><br><span class="line"><span class="comment">/* Options: </span></span><br><span class="line"><span class="comment">   Main Options: </span></span><br><span class="line"><span class="comment">      generate(stub): 新变量名开头为stub, 默认是原来的变量名strvar, 简写作gen(stub);</span></span><br><span class="line"><span class="comment">      parse(parse_strings): 指定分列的字符, 默认是空格;</span></span><br><span class="line"><span class="comment">      limit(#): 最多创建的变量个数;</span></span><br><span class="line"><span class="comment">      notrim: 不删除原始变量最前面和最后面的空格。</span></span><br><span class="line"><span class="comment">   Destring Options:</span></span><br><span class="line"><span class="comment">      destring 将 destring: 应用于新的字符串变量, 尽可能用数字变量替换初始字符串变量;</span></span><br><span class="line"><span class="comment">      ignore(&quot;chars&quot;): 删除指定的非数字字符;</span></span><br><span class="line"><span class="comment">      force: 将非数字字符串转换为缺失值;</span></span><br><span class="line"><span class="comment">      float: 指定新生成的数值变量为浮点型(float);</span></span><br><span class="line"><span class="comment">      percent: 将百分比变量转换为分数形式。          */</span></span><br></pre></td></tr></table></figure><p>　　使用 <code>destring</code>这一选项，可以将生成的变量转化为数值型变量。在使用 <code>destring</code>后，就可以使用剩下的 4 个 destring options。</p><h3 id="示例-1"><strong>示例 1：</strong></h3><p>　　1⃣️ 提取日期、时间等数据中的信息；2⃣️ 将百分数转化为分数。</p><h4 id="示范数据">示范数据：</h4><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 示范数据：</span></span><br><span class="line"><span class="comment">+---------------------------+</span></span><br><span class="line"><span class="comment">|     date       time    x1 |</span></span><br><span class="line"><span class="comment">|---------------------------|</span></span><br><span class="line"><span class="comment">|  22/1/17   09:45:32   55% |</span></span><br><span class="line"><span class="comment">|  22/1/17   14:39:36    6% |</span></span><br><span class="line"><span class="comment">|  22/1/17   15:42:45   11% |</span></span><br><span class="line"><span class="comment">|  22/1/17   08:52:09   10% |</span></span><br><span class="line"><span class="comment">| 21/12/24   15:51:33   300 |</span></span><br><span class="line"><span class="comment">+---------------------------+     */</span></span><br></pre></td></tr></table></figure><h4 id="命令">命令：</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 把从字符型的日期和时间中提取数据</span></span><br><span class="line"><span class="keyword">split</span> date, <span class="keyword">parse</span>(/) limit(3) <span class="keyword">destring</span></span><br><span class="line"><span class="keyword">split</span> time, <span class="keyword">parse</span>(:) limit(3) <span class="keyword">destring</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 将 x1 的百分号去掉，并转化为分数形式【注意:没有百分号的样本也会被当作百分数】 </span></span><br><span class="line"><span class="keyword">split</span> x1, <span class="keyword">gen</span>(new_x) <span class="keyword">destring</span> percent</span><br><span class="line"><span class="comment">// 上面的命令等价于:</span></span><br><span class="line"><span class="keyword">destring</span> x1,<span class="keyword">gen</span> (newvar) ignore(%) <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">gen</span> new_x1=newvar/100</span><br><span class="line"><span class="keyword">drop</span> newvar</span><br></pre></td></tr></table></figure><h4 id="结果展示">结果展示：</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 结果展示:</span></span><br><span class="line"><span class="comment">+-------------------------------------------------------------------+</span></span><br><span class="line"><span class="comment">|     date     time   x1 date1 date2 date3 time1 time2 time3 new_x1 |</span></span><br><span class="line"><span class="comment">|-------------------------------------------------------------------|</span></span><br><span class="line"><span class="comment">|  22/1/17 09:45:32  55%    22     1    17     9    45    32    .55 |</span></span><br><span class="line"><span class="comment">|  22/1/17 14:39:36   6%    22     1    17    14    39    36    .06 |</span></span><br><span class="line"><span class="comment">|  22/1/17 15:42:45  11%    22     1    17    15    42    45    .11 |</span></span><br><span class="line"><span class="comment">|  22/1/17 08:52:09  10%    22     1    17     8    52     9     .1 |</span></span><br><span class="line"><span class="comment">| 21/12/24 15:51:33  300    21    12    24    15    51    33      3 |</span></span><br><span class="line"><span class="comment">+-------------------------------------------------------------------+   </span></span><br><span class="line"><span class="comment">数据中：</span></span><br><span class="line"><span class="comment">    date1、date2、date3 分别为从date中提取出的年、月、日；</span></span><br><span class="line"><span class="comment">    time1、time2、time3 分别为从time中提取的时、分、秒；</span></span><br><span class="line"><span class="comment">    new_x1 为将百分数变量 x1 转化成的小数形式。           */</span></span><br></pre></td></tr></table></figure><h3 id="示例-2"><strong>示例 2：</strong></h3><p>　　提取省、市、县等地址信息</p><h4 id="命令-1">命令：</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 从地址中提取地理位置信息</span></span><br><span class="line"><span class="keyword">split</span> address, <span class="keyword">parse</span>(省 自治区 市 区 县) <span class="keyword">gen</span>(address) limit(3)</span><br></pre></td></tr></table></figure><h4 id="结果展示-1">结果展示：</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 结果展示:</span></span><br><span class="line"><span class="comment">+-------------------------------------------------------+</span></span><br><span class="line"><span class="comment">|                 address   address1  ddress2  address3 |</span></span><br><span class="line"><span class="comment">|-------------------------------------------------------|</span></span><br><span class="line"><span class="comment">|              北京市东城区       北京      东城           |</span></span><br><span class="line"><span class="comment">|              上海市奉贤区       上海      奉贤           |</span></span><br><span class="line"><span class="comment">|         江苏省南京市鼓楼区       江苏      南京       鼓楼 |</span></span><br><span class="line"><span class="comment">|         河南省郑州市中原区       河南      郑州       中原 |</span></span><br><span class="line"><span class="comment">| 内蒙古自治区呼和浩特市回民区     内蒙古   呼和浩特       回民 |</span></span><br><span class="line"><span class="comment">+-------------------------------------------------------+   */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> 在识别地址时, 北京、上海、重庆、天津四个直辖市的信息会从第一个变量 address 开始保存, 因此:</span></span><br><span class="line"><span class="comment">         如果需要的是省级行政区的信息，则不需要再做调整;</span></span><br><span class="line"><span class="comment">         如果需要将四个直辖市的信息保存至地级市的变量 address2 以后, 则可以用 replace 的方式替换。    */</span></span><br></pre></td></tr></table></figure><h4 id="进一步处理">进一步处理：</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 替换方法:</span></span><br><span class="line"><span class="keyword">replace</span> address3=address2 <span class="keyword">if</span> address1==<span class="string">&quot;北京&quot;</span> | address1==<span class="string">&quot;天津&quot;</span> | address1==<span class="string">&quot;上海&quot;</span> | address1==<span class="string">&quot;重庆&quot;</span></span><br><span class="line"><span class="keyword">replace</span> address2=address1 <span class="keyword">if</span> address1==<span class="string">&quot;北京&quot;</span> | address1==<span class="string">&quot;天津&quot;</span> | address1==<span class="string">&quot;上海&quot;</span> | address1==<span class="string">&quot;重庆&quot;</span></span><br><span class="line"><span class="keyword">replace</span> address1=<span class="string">&quot;&quot;</span> <span class="keyword">if</span> address1==<span class="string">&quot;北京&quot;</span> | address1==<span class="string">&quot;天津&quot;</span> | address1==<span class="string">&quot;上海&quot;</span> | address1==<span class="string">&quot;重庆&quot;</span></span><br><span class="line"><span class="comment">/* 结果展示:</span></span><br><span class="line"><span class="comment">+-------------------------------------------------------+</span></span><br><span class="line"><span class="comment">|                 address  address1  address2  address3 |</span></span><br><span class="line"><span class="comment">|-------------------------------------------------------|</span></span><br><span class="line"><span class="comment">|              北京市东城区               北京        东城 |</span></span><br><span class="line"><span class="comment">|              上海市奉贤区               上海        奉贤 |</span></span><br><span class="line"><span class="comment">|         江苏省南京市鼓楼区      江苏      南京        鼓楼 |</span></span><br><span class="line"><span class="comment">|         河南省郑州市中原区      河南      郑州        中原 |</span></span><br><span class="line"><span class="comment">| 内蒙古自治区呼和浩特市回民区    内蒙古   呼和浩特        回民 |</span></span><br><span class="line"><span class="comment">+-------------------------------------------------------+     */</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="五字符型变量函数">五、字符型变量函数</h1><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220909173920-0durub7.png"alt="image" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220909173938-veuxhtc.png"alt="image" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220909173958-t4hb1tg.png"alt="image" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220909174018-mscgan2.png"alt="image" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220909174038-apfbis8.png"alt="image" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220909174113-8oqxkdm.png"alt="image" /></p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜变量名、标签、排序、删除、保留</title>
      <link href="/posts/56307/"/>
      <url>/posts/56307/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://fgzfgz.github.io/BiliBili/">配套视频、笔记与代码</a></strong></p><h2 id="一变量名标签">一、变量名、标签</h2><h3 id="变量重命名">1. 变量重命名</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 单个变量:A1 --&gt; X1</span></span><br><span class="line"><span class="keyword">rename</span> A1 X1</span><br><span class="line"><span class="comment">** 组变量</span></span><br><span class="line"><span class="keyword">rename</span> (A1 A2 A3) (X1 X2 X3)</span><br><span class="line"><span class="keyword">rename</span> <span class="keyword">Var</span>* V*   <span class="comment">// 任意字符通配符</span></span><br><span class="line"><span class="keyword">rename</span> <span class="keyword">Var</span># =new <span class="comment">// 单个数字通配符: 0-9之间</span></span><br></pre></td></tr></table></figure><h3 id="标签">2. 标签</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 查看标签</span></span><br><span class="line"><span class="keyword">d</span>   <span class="comment">// describe 简写</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">dir</span>     <span class="comment">// 查看值标签列表</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">list</span> X  <span class="comment">// 值标签与变量取值对应关系</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 变量标签</span></span><br><span class="line"><span class="keyword">label</span> variable select <span class="string">&quot;选择变量&quot;</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">var</span> select <span class="string">&quot;选择变量&quot;</span>      <span class="comment">//上一条命令的简写</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 值标签</span></span><br><span class="line"><span class="comment">// 移除值标签</span></span><br><span class="line"><span class="keyword">label</span> <span class="keyword">drop</span> lblname    <span class="comment">// 数据层面: 删除 lblname 值标签</span></span><br><span class="line"><span class="keyword">label</span> values <span class="keyword">varlist</span>  <span class="comment">// 变量层面: 删除 varlist 的值标签</span></span><br><span class="line"><span class="comment">// 添加值标签</span></span><br><span class="line"><span class="keyword">label</span> define lblname # <span class="string">&quot;label&quot;</span> # <span class="string">&quot;label&quot;</span> ..., add | modify | <span class="keyword">replace</span>  <span class="comment">// 定义值标签</span></span><br><span class="line"><span class="keyword">label</span> values <span class="keyword">varlist</span> lblname   <span class="comment">// 将 varlist 使用值标签 lblname 进行标记</span></span><br></pre></td></tr></table></figure><h2 id="二排序">二、排序</h2><h3 id="样本排序">1. 样本排序</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sort</span> fid18           <span class="comment">//根据 fid18 排列，默认升序排列</span></span><br><span class="line"><span class="keyword">gsort</span> + fid18        <span class="comment">//根据 fid18 升序排列</span></span><br><span class="line"><span class="keyword">gsort</span> - fid18        <span class="comment">//根据 fid18 降序排列</span></span><br><span class="line"><span class="keyword">gsort</span> - fid18 - pid  <span class="comment">//根据 </span></span><br></pre></td></tr></table></figure><h3 id="变量排序">2. 变量排序</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 对Province、pcode、ID三个变量排序</span></span><br><span class="line"><span class="keyword">order</span> Province pcode ID           <span class="comment">//将三个变量按顺序放在数据最前面</span></span><br><span class="line"><span class="keyword">order</span> Province pcode ID, first    <span class="comment">//同上一条命令</span></span><br><span class="line"><span class="keyword">order</span> Province pcode ID, last     <span class="comment">//将三个变量按顺序放在数据最后面</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">order</span> Province pcode ID, before(name)   <span class="comment">//将三个变量按顺序放在变量 name 之前</span></span><br><span class="line"><span class="keyword">order</span> Province pcode ID, after(name)    <span class="comment">//将三个变量按顺序放在变量 name 之后</span></span><br></pre></td></tr></table></figure><h2 id="三变量删除保留">三、变量删除、保留</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 少数变量的删除、保留</span></span><br><span class="line"><span class="keyword">drop</span> _merge e11 e12   <span class="comment">//删除三个变量</span></span><br><span class="line"><span class="keyword">keep</span> city ID GDP      <span class="comment">//保留三个变量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 变量批量删除、保留</span></span><br><span class="line"><span class="keyword">drop</span> new_* NH4A_*      <span class="comment">//删除以&quot;new_&quot;和&quot;NH4A_&quot;开头的变量</span></span><br><span class="line"><span class="keyword">keep</span> new_* NH4A_*      <span class="comment">//保留以&quot;new_&quot;和&quot;NH4A_&quot;开头的变量</span></span><br><span class="line"><span class="keyword">keep</span> NH4A_1-NH4A_10    <span class="comment">//按当前变量顺序，保留某一个范围内的变量</span></span><br></pre></td></tr></table></figure><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜变量滞后与提前</title>
      <link href="/posts/17580/"/>
      <url>/posts/17580/</url>
      
        <content type="html"><![CDATA[<p>　　在面板数据中，如果当年数据存在缺失值，在下一年数据不是缺失值的情况下，使用下一年的数据补充。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &quot;F.&quot;表示提前一期数据，&quot;L.&quot;表示滞后一期数据</span></span><br><span class="line"><span class="keyword">xtset</span> id year </span><br><span class="line"><span class="keyword">gen</span> y1=F.y</span><br><span class="line"><span class="keyword">replace</span> y=y1 <span class="keyword">if</span> y==.</span><br><span class="line"><span class="keyword">drop</span> y1</span><br><span class="line"></span><br><span class="line"><span class="comment">// 效果和上面的相同</span></span><br><span class="line"><span class="keyword">sort</span> id year</span><br><span class="line"><span class="keyword">gen</span> y2=y</span><br><span class="line"><span class="keyword">bysort</span> id: <span class="keyword">replace</span> y=y[_n+1] <span class="keyword">if</span> <span class="built_in">missing</span>(y)</span><br><span class="line"><span class="keyword">drop</span> y2</span><br></pre></td></tr></table></figure><p>　　将数据滞后一期：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">xtset</span> id year </span><br><span class="line"><span class="keyword">gen</span> y1=<span class="keyword">L</span>.y</span><br><span class="line"></span><br><span class="line"><span class="comment">// 效果和上面的相同</span></span><br><span class="line"><span class="keyword">xtset</span> id year </span><br><span class="line"><span class="keyword">gen</span> y_1=y[_n-1]</span><br></pre></td></tr></table></figure><p>　　将数据滞后 2 期：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">gen</span> y_2=y[_n-2]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜为什么使用PSM消除样本选择偏差？</title>
      <link href="/posts/19130/"/>
      <url>/posts/19130/</url>
      
        <content type="html"><![CDATA[<p>　　<strong>要理解为什么用 psm 消除样本的选择偏误，先要理解 psm的原理。</strong></p><p>　　在研究一种干预措施的效果时，理想状态是进行随机化实验，也就是控制其他所有条件都相同，仅有是否采取干预措施这一点不同，这样就可以通过比较随机化实验中干预组与对照组的差异，了解干预措施的效果，为排除个体差异，通常使用干预组与对照组的效果的平均值差异来衡量，也就是许多实证研究中许多研究计算的平均处理效应。</p><p>　　然而，随机化实验往往在医学、生物学等领域更为常见，在经济学相关研究中，经济发展情况、社会制度、文化差异等各方面的不同之处决定了不能随意指定两类样本进行比较，以衡量干预措施的效果。更多的情况是干预措施的效果会受到两组样本之间其他差异的影响，这种情况下，无法准确判断两组之间的差异是不是由这一干预措施带来的，也就是无法准确判断干预措施与结果差异之间的“因果关系”。</p><p>　　因此，为了可以更准确估计来自干预措施的影响，更准确地识别这种“因果关系”，回归的方式最早被应用，常见的是线性回归。然而，使用回归方法判断的是两个变量之间的统计关系，在需要满足CIA（条件独立性假设）或CMI（条件均值独立性假设）的条件下，该统计关系才可以解释为干预措施的因果关系。</p><h2 id="什么是-cia-假设">什么是 CIA 假设？</h2><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220426014748-fjbac81.png"alt="image.png" /></p><p>　　（CIA 假设比 CMI假设更强，具体可以参见赵西亮老师的《基本有用的计量经济学》第 5 章第 2节）</p><p>　　然而，这种回归的方式也有缺陷。一是回归方式不能解决在样本抽样阶段造成的选择性偏误；二是由于数据的可得性，往往实证研究中并不能做到饱和回归，许多变量对结果的影响无法被观测到。因此，在实际上，回归的方式也难以满足CIA条件，难以得到准确的“因果效应”。</p><h2 id="什么是psm为什么psm">什么是PSM？为什么PSM？</h2><p>　　PSM是倾向得分匹配，其本质是构造一个倾向得分，通过比较倾向得分，匹配干预组与对照组，构造出一个“准自然实验”，因此，PSM在理论上比回归的方法更有可能满足CIA条件。</p><p>　　PSM的估计过程大体可以分为以下4个步骤（参考赵西亮老师的《基本有用的计量经济学》）：</p><h4 id="定义相似性">1. 定义相似性</h4><p>　　为了准确估计因果效应，需要找到其他条件都相似的干预组与对照组，因此需要定义相似性。相似性的定义，需要关注哪些变量应当作为定义相似性的依据，以及如何测度相似性。</p><p>　　<strong>对于变量的选择上</strong>，定义相似性的变量应当满足CIA条件，也就是控制了这些变量后，干预组与控制组不能有其他未观测到的差异。</p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220426020940-ao1iy17.png"alt="image.png" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220426020956-2vma08o.png"alt="image.png" /></p><p>　　<strong>对于如何测度相似性</strong>：一般采用马氏距离或欧氏距离</p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220426021120-xyruew0.png"alt="image.png" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220426021143-cjxmi6m.png"alt="image.png" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220426021220-5jqs4lw.png"alt="image.png" /></p><p>　　那么，就可以通过logit回归等方式估计需要的倾向得分：</p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220426021404-cyfpjtp.png"alt="image.png" /></p><h4 id="实施匹配">2. 实施匹配</h4><p>　　在实施匹配的方法上，主要有<strong>近邻匹配</strong>和<strong>分层匹配</strong>两种形式。</p><p>　　<strong>近邻匹配包括一对一匹配与一对多匹配。</strong></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220426021551-mjz9fdx.png"alt="image.png" /></p><p>　　<strong>而分层匹配则是根据倾向得分的取值，对样本进行分层，以减小每一层内的倾向得分的差距，获得更好的匹配效果。</strong></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220426021648-q3f91lq.png"alt="image.png" /></p><h4 id="匹配效果诊断">3. 匹配效果诊断</h4><p>　　匹配效果好不好，主要取决于干预组与对照组的控制变量差异是否得到了有效控制。在实证中，具体体现为控制变量的平衡性检验。</p><p>　　<strong>CIA假设是因果关系识别的关键。虽然CIA假设难以被验证成立，但证明CIA不成立却相对简单。</strong>如果实施匹配后控制变量的平衡性检验无法通过，则说明CIA不成立，使用当前匹配方法估计出的因果效应不是真实的干预措施因果效应的可能性较大。</p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220426021916-4uvzl0d.png"alt="image.png" /></p><h4 id="因果效应估计">4. 因果效应估计</h4><p>　　在通过了匹配效果的检验后，因果效应的估计才是可靠的。在最后一步，再估计干预措施的因果效应。</p><h2 id="当然psm也有问题">当然，PSM也有问题：</h2><p>　　基于几个控制变量测度出的倾向得分，难以包含不可测因素的影响，PSM难以避免不可测因素对结果的影响。在经济学相关的研究中，最常见的是讨论某个经济干预行为对另一个经济因素的影响，但由于制度因素相对更难度量，制度因素的缺失可能导致估计出的经济干预行为的效果有偏差。</p><p>　　为解决这一问题，也有使用工具变量法、使用面板数据等方式，更进一步进行估计。</p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> 模型 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜取对数问题</title>
      <link href="/posts/16760/"/>
      <url>/posts/16760/</url>
      
        <content type="html"><![CDATA[<h2 id="一什么时候应该取对数">一、什么时候应该取对数？</h2><p>　　满足以下两个条件之一，可以考虑取对数：</p><ol type="1"><li>被解释变量 Y 与核心解释变量 X 数据的数量级差距很大，例如 Y取值普遍小于 10，X 的取值一般在 100～1000 之间分布，就可以考虑对 X取对数，也可以更改 X 的单位；</li><li>某个变量取值差异极大，例如家庭的工资收入，最低的为 0，普遍为 2～4万，最高有上百万，这种情况下为避免极端值的影响，可以考虑取对数，同时为了避免工资收入为0 的家庭取对数后为缺失值（因为对 0 取对数没有意义），可以 +1元后再取对对数，可以在避免对收入数据造成较大影响的情况下，保留工资收入为0 的样本。</li></ol><p>　　<strong>但是，取对数的变量不应该有负数。</strong>如果一个变量取负数是合理的，取对数会造成样本的选择性偏差。例如可能由于经营企业等亏损，家庭总收入可能小于0，这是合理的，如果取对数，会造成使用家庭总收入的对数值进行计量时，家庭总收入小于0 的样本被忽略。</p><p>　　‍</p><h2id="二如何解释取对数后的偏回归系数">二、如何解释取对数后的偏回归系数？</h2><p>　　伍德里奇的《计量经济学导论》第二章，“对于线性模型中取对数后，如何解释片回归系数”这一问题做了很详细的说明。</p><p>　　在线性回归中，对数常应用于“常弹性模型”，因此被解释变量 Y取对数可以被解释为弹性（Y、X 都取对数）或半弹性（仅 Y 取对数）。</p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/net-img-v2-2ab8117dc07abb105f5b109d5cdf5e1c_1440w-20221217234402-guxz284.jpg" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/net-img-v2-56f40dcefae5411fbc126e6b905e8cdc_1440w-20221217234402-boyyb92.jpg" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/net-img-v2-9d912f2e02acdea412c354f01662eb60_1440w-20221217234402-yj1m8dn.jpg" /></p><p>　　【水平值-水平值】如果 X、Y 都是水平值，此时 <strong>Y 随 X发生数值变化</strong>，系数可以解释为 X 的数值变化 1 个单位，Y 平均变化<span class="math inline">\(\beta_1\)</span>。</p><p>　　【水平值-对数】如果只有 X 取对数，Y 是水平值，此时 <strong>Y 随 X发生数值变化</strong>，系数可以解释为 X 每变化 1%，Y 平均变化 <spanclass="math inline">\(\frac {\beta_1} {100}\)</span>。</p><p>　　【对数-水平值】如果只有 Y 取对数，X 是水平值，那就是半弹性，此时<strong>Y 随 X 发生比例变化</strong>，也就是说 X 地取值每变化 1个单位，Y 的取值平均变化 <spanclass="math inline">\(100\beta_1\)</span>%；</p><p>　　【对数-对数】如果 X 和 Y 都取对数，就可以解释为弹性，此时<strong>Y 随 X 发生比例变化</strong>，也就是 X 每变化 1%，Y 平均变化<span class="math inline">\(\beta_1\)</span>%；</p><p>　　<strong>注意：上述所有结论是对【线性回归】结果的解释。</strong></p><p>　　‍</p><hr /><p>　　‍</p><p>　　上面的分析里，伍德里奇的表述比较难理解。可以从以下逻辑理解该问题：</p><ul><li>在 X 与 Y 都不取对数时，X 与 Y 的关系是数值的变化关系，即 X的取值变化 1 单位（如取值增大 1），Y 的取值变化 <spanclass="math inline">\(β_1\)</span> 个单位（如均值增大 <spanclass="math inline">\(β_1\)</span> ）。</li><li><strong>当取对数时，这种数值变化会转变为比例变化。</strong><ul><li><strong>如果 X 取对数，那么就是 X 发生比例变化；</strong></li><li><strong>如果 Y 取对数，那么就是 Y 发生比例变化。</strong></li></ul></li><li>例如：表 2.3 中的情况 2，X 取对数，Y 不取对数，因此解释该系数是，X发生比例变化（变化 1%），Y 发生数值变化（变化 <spanclass="math inline">\(\frac {\beta_1} {100}\)</span>）。</li></ul><hr /><p><strong>相关链接：</strong></p><p><ahref="https://www.zhihu.com/question/330264127/answer/2118259043">线性回归模型，哪些变量取对数形式？-知乎</a></p><p><ahref="https://www.zhihu.com/question/580307807/answer/2881510215">如何解读stata 对于取对数的数据处理？- 知乎</a></p><p><ahref="https://mp.weixin.qq.com/s/r2zUkgprfv4mSe9vi_---Q">计量经济圈 -金融TOP3: log(1+Y)转换可能拒稿! (类)计数变量可以这么干！</a></p><p><a href="https://mp.weixin.qq.com/s/vEKwZZeUGDVHV3gPJEcI4w">连享会 -Stata：为什么计数类变量不宜采用log(1+y)的形式？-ppmlhdfe</a></p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> Stata </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜变量生成与替换</title>
      <link href="/posts/9680/"/>
      <url>/posts/9680/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://fgzfgz.github.io/BiliBili/">配套视频、笔记与代码</a></strong></p><h2 id="一gen-和-replace-用法">一、gen 和 replace 用法</h2><h3 id="基础用法">1. 基础用法</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 变量生成、数值替换</span></span><br><span class="line"><span class="keyword">gen</span> jianyan=.         <span class="comment">//e.g. 生成一个所有数值都是空缺值“.”的变量</span></span><br><span class="line"><span class="keyword">replace</span> jianyan=1     <span class="comment">//将 jianyan 变量的所有数值都替换为 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 或者可以写作：</span></span><br><span class="line"><span class="keyword">gen</span> jianyan=1</span><br><span class="line"><span class="comment">** 分组累计求和: 根据pcode分组，对CF_gini累计求和</span></span><br><span class="line"><span class="keyword">sort</span> pcode CF_gini</span><br><span class="line"><span class="keyword">by</span> pcode: <span class="keyword">gen</span> CF_gini_sum=<span class="built_in">sum</span>(CF_gini)</span><br></pre></td></tr></table></figure><h3 id="常见运算函数">2. 常见运算函数</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 四则运算、对数、指数、幂运算</span></span><br><span class="line"><span class="keyword">replace</span> X=X+1      <span class="comment">// 加法</span></span><br><span class="line"><span class="keyword">replace</span> X=X-1      <span class="comment">// 减法</span></span><br><span class="line"><span class="keyword">replace</span> X=X*3      <span class="comment">// 乘法</span></span><br><span class="line"><span class="keyword">replace</span> X=X/3      <span class="comment">// 除法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">replace</span> X=<span class="built_in">ln</span>(X)    <span class="comment">// 自然对数</span></span><br><span class="line"><span class="keyword">replace</span> X=<span class="built_in">log10</span>(X) <span class="comment">// 以10为底的对数</span></span><br><span class="line"><span class="keyword">replace</span> X=<span class="built_in">log</span>(X)   <span class="comment">// 同上: 以10为底的对数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">replace</span> X=3^X      <span class="comment">// 指数运算</span></span><br><span class="line"><span class="keyword">replace</span> X=<span class="built_in">exp</span>(X)   <span class="comment">// 自然指数</span></span><br><span class="line"><span class="keyword">replace</span> X=X^2      <span class="comment">// 幂运算</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 取整函数</span></span><br><span class="line"><span class="keyword">gen</span> inc_ceil=<span class="built_in">ceil</span>(income)   <span class="comment">// 大于或等于income取值的最小整数</span></span><br><span class="line"><span class="keyword">gen</span> inc_floor=<span class="built_in">floor</span>(income) <span class="comment">// 小于或等于income取值的最大整数</span></span><br><span class="line"><span class="keyword">gen</span> inc_int=int(income)     <span class="comment">// 取整函数: 个位、</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">gen</span> inc_round=<span class="built_in">round</span>(income) <span class="comment">// 取整函数: 个位</span></span><br><span class="line"><span class="keyword">gen</span> inc_round=<span class="built_in">round</span>(income,.01)  <span class="comment">// 取整函数: 百分位</span></span><br><span class="line"><span class="keyword">gen</span> inc_round=<span class="built_in">round</span>(income,7)    <span class="comment">// 取整函数: income取值最接近的7的整数倍</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 余数函数</span></span><br><span class="line"><span class="keyword">gen</span> inc_mod=<span class="built_in">mod</span>(income,2)  <span class="comment">// 余数函数: income除以2的余数</span></span><br></pre></td></tr></table></figure><h2 id="二egen-和-ereplace-用法">二、egen 和 ereplace 用法</h2><h3 id="基本语法">2.1 基本语法</h3><p>　　<code>egen</code> 可以实现许多无法通过 <code>gen</code>命令计算的内容，其基本语法如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> [<span class="keyword">type</span>] newvar = fcn(arguments) [<span class="keyword">if</span>] [<span class="keyword">in</span>] [, options]</span><br></pre></td></tr></table></figure><p>　　<code>egen</code> 命令中运算函数 <code>fcn</code> 运算对象<code>arguments</code> 根据使用频率可以分为三类：<strong>1.变量</strong> (<em>varlist</em>)；<strong>2. 表达式</strong>(<em>expression</em>)；<strong>3. 数列</strong> (<em>numlist</em>)。</p><p>　　其中，变量运算可以分为<strong>对多个样本进行运算的单变量运算函数</strong><strong>(varname)</strong>和<strong>对多个变量运算的多变量运算函数</strong><strong>(varlist)</strong>。表达式运算函数可以对单个变量进行运算，相当于 <spanclass="math inline">\(1\times varname\)</span>，多变量运算函数也大多可以支持单变量运算。</p><p>　　<code>by(varlist)</code> 选项可以根据 <code>varlist</code>对样本进行分组，在 <code>egen</code> 命令中，部分运算函数可以使用<code>by(varlist)</code> 选项对样本进行分组，在每组内进行运算。</p><h4 id="表达式运算函数">2.1.1 表达式运算函数</h4><p>　　表达式运算是对不同样本的某个表达式计算值进行运算。所有表达式运算函数支持<code>by</code> 选项。</p><p>　　<a href="siyuan://blocks/20211104115128-q9dguvn">"count"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"iqr"</a>、<ahref="siyuan://blocks/20211104173152-2pi7zh7">"kurt"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"mad"</a>、<ahref="siyuan://blocks/20211104115129-qcd69qx">"max"</a>、<ahref="siyuan://blocks/20211104115129-qcd69qx">"min"</a>、<ahref="siyuan://blocks/20211104115129-qcd69qx">"mean"</a>、<ahref="siyuan://blocks/20211104115129-qcd69qx">"sd"</a>、<ahref="siyuan://blocks/20211104115129-qcd69qx">"mdev"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"median"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"pctile"</a>、<ahref="siyuan://blocks/20211104134937-oyqeup9">"pc"</a>、rank、skew、std、<ahref="siyuan://blocks/20211104134937-oyqeup9">"total"</a></p><h4 id="单变量运算函数">2.1.2 单变量运算函数</h4><p>　　单变量运算是对不同样本进行运算，仅有 <code>mode</code> 支持<code>by</code> 选项。</p><p>　　<ahref="siyuan://blocks/20211104104152-45vn1jo">"anyvalue"</a>、cut、ends、mode</p><h4 id="多变量运算函数">2.1.3 多变量运算函数</h4><p>　　多变量运算是对不同变量进行运算，都不支持 <code>by</code>选项。</p><p>　　<ahref="siyuan://blocks/20211104104152-45vn1jo">"anycount"</a>、<ahref="siyuan://blocks/20211104104152-45vn1jo">"anymatch"</a>、<ahref="siyuan://blocks/20211104110140-sy9btim">"concat"</a>、diff、<ahref="siyuan://blocks/20211104134937-oyqeup9">"group"</a>、mtr、rowfirst、rowlast、<ahref="siyuan://blocks/20211104115129-gdoczuz">"rowmax"</a>、<ahref="siyuan://blocks/20211104115129-gdoczuz">"rowmin"</a>、<ahref="siyuan://blocks/20211104115129-gdoczuz">"rowmean"</a>、<ahref="siyuan://blocks/20211104115129-gdoczuz">"rowsd"</a>、<ahref="siyuan://blocks/20211104115128-q9dguvn">"rowmiss"</a>、<ahref="siyuan://blocks/20211104115128-q9dguvn">"rownonmiss"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"rowmedian"</a>、<ahref="siyuan://blocks/20211104135500-qur6orz">"rowpctile"</a>、<ahref="siyuan://blocks/20211104134937-oyqeup9">"rowtotal"</a>、tag</p><h4 id="数列运算函数">2.1.4 数列运算函数</h4><p>　　<code>fill</code> 不支持 <code>by</code> 选项，<code>seq</code>支持 <code>by</code> 选项。</p><p>　　fill、<ahref="siyuan://blocks/20211104160735-axd81cx">"seq"</a></p><h3 id="函数-function-和-选项-option">2.2 函数 function 和 选项option</h3><p>　　<kbd>egen</kbd>命令的运算函数很多，此处忽略了部分不常用的用法。完整使用方法请参考<kbd>egen</kbd> 的 HELP 文档。</p><h4 id="变量值匹配anycountanymatch-和-anyvalue">2.2.1变量值匹配：anycount、anymatch 和 anyvalue</h4><p>　　这三个运算不能与 <kbd>by</kbd> 组合使用</p><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** anycount: 变量列表varlist取值与整数列numlist取值匹配的变量个数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = anycount(<span class="keyword">varlist</span>), values(integer <span class="keyword">numlist</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">** anymatch: 变量列表varlist取值是否与整数列numlist取值匹配</span></span><br><span class="line"><span class="keyword">egen</span> newvar = anymatch(<span class="keyword">varlist</span>), values(integer <span class="keyword">numlist</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">** anyvalue: 变量varname的取值仅保留与整数列numlist匹配的取值，未匹配的改为缺失值</span></span><br><span class="line"><span class="keyword">egen</span> newvar = anyvalue(varname), values(integer <span class="keyword">numlist</span>)</span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** anycount</span></span><br><span class="line"><span class="keyword">egen</span> check = anycount(x1 x2 x3 x4), values(1 2 5 8)    <span class="comment">//固定取值的整数</span></span><br><span class="line"><span class="keyword">egen</span> check = anycount(x1 x2 x3 x4), values(1/10)       <span class="comment">//连续整数</span></span><br><span class="line"><span class="keyword">egen</span> check = anycount(x1 x2 x3 x4), values(0(2)10)     <span class="comment">//固定间隔整数(间隔为2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** anymatch</span></span><br><span class="line"><span class="keyword">egen</span> check = anymatch(x1 x2 x3 x4), values(1/10)</span><br><span class="line"></span><br><span class="line"><span class="comment">** anymatch</span></span><br><span class="line"><span class="keyword">egen</span> check = anymatch(x1), values(1/10)</span><br></pre></td></tr></table></figure><h4 id="连接-合并变量concat">2.2.2 连接 / 合并变量：concat</h4><p>　　该命令不能与 <code>by</code> 组合使用。按照 <code>varlist</code>的顺序连接各变量，可以生成以下变量：</p><ul><li>按照原样字符型变量；</li><li>在 <code>format(%fmt)</code> 选项下使用数字格式转换；</li><li>在 <code>decode</code> 选项下解码。</li></ul><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> strvar = concat(<span class="keyword">varlist</span>) [, <span class="keyword">format</span>(%fmt) <span class="keyword">decode</span> maxlength(#) punct(pchars)]</span><br></pre></td></tr></table></figure><p>　　<code>maxlength(#)</code> 表示控制最大标签长度</p><p>　　<code>punct(pchars)</code> 表示变量之间的分隔符号</p><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 按照x1、x3、x2的顺序连接变量</span></span><br><span class="line"><span class="keyword">egen</span> strvar = concat(x1 x3 x2)</span><br><span class="line"><span class="comment">** 使用空格作为分隔符</span></span><br><span class="line"><span class="keyword">egen</span> strvar = concat(x1 x3 x2),punct(<span class="string">&quot; &quot;</span>)</span><br><span class="line"><span class="comment">** 使用逗号作为分隔符</span></span><br><span class="line"><span class="keyword">egen</span> strvar = concat(x1 x3 x2),punct(,)</span><br></pre></td></tr></table></figure><h4 id="记数countrownonmiss-和-rowmiss">2.2.3 记数：count、rownonmiss 和rowmiss</h4><p>　　<code>count</code> 可以与 <code>by</code>组合使用，<code>rownonmiss</code> 和 <code>rowmiss</code> 不能与<code>by</code> 组合使用。</p><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** count: 表达式exp计算结果不是缺失值的样本数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = <span class="keyword">count</span>(exp)</span><br><span class="line"></span><br><span class="line"><span class="comment">** rownonmiss: 每个样本的变量列表varlist中非缺失值的变量数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = rownonmiss(<span class="keyword">varlist</span>) [, strok]    <span class="comment">//varlist中包含字符型变量，则需要使用strok选项</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** rowmiss: 每个样本的变量列表varlist中缺失值的变量数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = rowmiss(<span class="keyword">varlist</span>)       <span class="comment">//rowmiss不能使用strok选项</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** count: 按照diqu分组，计算x1和x2乘积不是缺失值的样本数</span></span><br><span class="line"><span class="keyword">egen</span> x3 = <span class="keyword">count</span>(x1*x2),<span class="keyword">by</span>(diqu)</span><br><span class="line"></span><br><span class="line"><span class="comment">** rownonmiss和rowmiss</span></span><br><span class="line"><span class="keyword">egen</span> checkmiss = rownonmiss(x1 x2 x3)    <span class="comment">//非缺失值数量，无字符型变量</span></span><br><span class="line"><span class="keyword">egen</span> checkmiss = rowmiss(x1 x2 x3)       <span class="comment">//缺失值数量</span></span><br><span class="line"><span class="comment">** 简写</span></span><br><span class="line"><span class="keyword">egen</span> checkmiss = rowmiss(x*)             <span class="comment">//所有以&quot;x&quot;开头的变量的缺失情况</span></span><br><span class="line"><span class="comment">** rownonmiss有字符型变量情况</span></span><br><span class="line"><span class="keyword">egen</span> checkmiss = rownonmiss(x*), strok</span><br></pre></td></tr></table></figure><h4 id="分组-求和-占比grouptotalrowtotalpc">2.2.4 分组 &amp; 求和 &amp;占比：group、total、rowtotal、pc</h4><p>　　<code>total</code> 可以与 <code>by</code>组合使用，<code>group</code> 和 <code>rowtotal</code> 不能与<code>by</code> 组合使用。</p><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** group: 依据字符型/数值型取值分组，可以是字符型、数值型的组合</span></span><br><span class="line"><span class="keyword">egen</span> newvar = <span class="built_in">group</span>(<span class="keyword">varlist</span>) [, missing <span class="keyword">label</span>[(lblname[, <span class="keyword">replace</span> truncate(#)])]]</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> option用法：</span></span><br><span class="line"><span class="comment">         missing: 将缺失值当作一个取值进行分类。若不使用missing选项，变量列表varlist中任意变量的取值是缺失值，生成的newvar就是缺失值。</span></span><br><span class="line"><span class="comment">         label[(lblname[, replace truncate(#)])]: 创建值标签。                                */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** total: 对多个样本取值进行加总</span></span><br><span class="line"><span class="keyword">egen</span> newvar = <span class="keyword">total</span>(exp) [, missing]</span><br><span class="line"><span class="comment">/* missing: </span></span><br><span class="line"><span class="comment">        若使用missing选项，当exp(某一组)全部都是缺失值时，该组加总值设置为缺失值；</span></span><br><span class="line"><span class="comment">        若不使用missing选项，当exp(某一组)全部都是缺失值时，该组加总值设置为0。        */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** rowtotal: 对多个变量取值进行加总</span></span><br><span class="line"><span class="keyword">egen</span> newvar = rowtotal(exp)</span><br><span class="line"></span><br><span class="line"><span class="comment">** pc: 每个样本的exp取值占exp加总值的比例</span></span><br><span class="line"><span class="keyword">egen</span> newvar = pc(exp) [, <span class="keyword">prop</span>]       <span class="comment">//prop选项：设置prop，取值范围在0～1之间；不设置prop，取值范围在0～100之间</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** group: 根据 county 生成分组变量 CID</span></span><br><span class="line"><span class="keyword">egen</span> CID = <span class="built_in">group</span>(county)</span><br><span class="line"></span><br><span class="line"><span class="comment">** 以CID为分组依据，对每一组内的样本的收入进行加总</span></span><br><span class="line"><span class="comment">//缺失值设为0: 一组样本 x1 所有取值都是缺失值，则该组的加总值为0</span></span><br><span class="line"><span class="keyword">egen</span> x1_total = <span class="keyword">total</span>(x1), <span class="keyword">by</span>(diqu)</span><br><span class="line"><span class="comment">//忽略缺失值: 一组样本 x1 所有取值都是缺失值，则该组的加总值也是缺失值</span></span><br><span class="line"><span class="keyword">egen</span> x1_total = <span class="keyword">total</span>(x1), <span class="keyword">by</span>(diqu) missing</span><br></pre></td></tr></table></figure><h4id="中位数-分位数与相关运算medianpctilemadiqrrowmedianrowpctile">2.2.5中位数 &amp;分位数与相关运算——median、pctile、mad、iqr、rowmedian、rowpctile</h4><p>　　<code>median</code>、<code>pctile</code>、<code>mad</code> 和<code>iqr</code> 可以与 <code>by</code> 组合使用，<code>rowmedian</code>和 <code>rowpctile</code> 不能与 <code>by</code> 组合使用。</p><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** median: 中位数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = <span class="keyword">median</span>(exp)</span><br><span class="line"></span><br><span class="line"><span class="comment">** pctile: 百分位数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = <span class="keyword">pctile</span>(exp) [, p(#)]   <span class="comment">//p(#)表示百分位数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** mad: exp 取值和中位数偏差的绝对值的中位数</span></span><br><span class="line"><span class="keyword">egen</span> newvar = mad(exp)</span><br><span class="line"></span><br><span class="line"><span class="comment">** iqr: 四分位数差距 —— 75%分位数和25%分位数的差值</span></span><br><span class="line"><span class="keyword">egen</span> newvar = iqr(exp)</span><br><span class="line"></span><br><span class="line"><span class="comment">** rowmedian: 每个样本的变量列表取值的中位数(忽略缺失值)</span></span><br><span class="line"><span class="keyword">egen</span> newvar = rowmedian(<span class="keyword">varlist</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">** rowpctile: 每个样本的变量列表取值的百分位数(忽略缺失值)</span></span><br><span class="line"><span class="keyword">egen</span> newvar = rowpctile(<span class="keyword">varlist</span>) [, p(#)]       <span class="comment">//p(#)表示百分位数</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** pctile: 按省分组统计x1的20%分位数</span></span><br><span class="line"><span class="keyword">egen</span> x1_p20 = <span class="keyword">pctile</span>(x1), p(20) <span class="keyword">by</span>(province)</span><br><span class="line"><span class="keyword">egen</span> x1_p20 = <span class="keyword">pctile</span>(x1), p(.2) <span class="keyword">by</span>(province)</span><br><span class="line"></span><br><span class="line"><span class="comment">** rowpctile: 20%分位数</span></span><br><span class="line"><span class="keyword">egen</span> p20 = <span class="keyword">pctile</span>(x1 x2 x3 x4 x5 x6 x7 x8 x9 x10), p(20)</span><br><span class="line"><span class="keyword">egen</span> p20 = <span class="keyword">pctile</span>(x1 x2 x3 x4 x5 x6 x7 x8 x9 x10), p(.2)</span><br><span class="line"><span class="keyword">egen</span> p20 = <span class="keyword">pctile</span>(x1-x10), p(.2)</span><br></pre></td></tr></table></figure><h4 id="样本均值标准差最值sdmeanminmaxmdev">2.2.6样本均值、标准差、最值：sd、mean、min、max、mdev</h4><p>　　该 5 个函数都可以与 <code>by</code> 组合使用。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> x1_sd = sd(x1)           <span class="comment">//x1 的标准差</span></span><br><span class="line"><span class="keyword">egen</span> x1_mean = <span class="keyword">mean</span>(x1)       <span class="comment">//x1 的有效均值(缺失值不进入平均运算)</span></span><br><span class="line"><span class="keyword">egen</span> x1_min = <span class="built_in">min</span>(x1)         <span class="comment">//x1 的最小值</span></span><br><span class="line"><span class="keyword">egen</span> x1_max = <span class="built_in">max</span>(x1)         <span class="comment">//x1 的最大值</span></span><br><span class="line"><span class="keyword">egen</span> x1_mdev = mdev(x1)       <span class="comment">//x1 取值和均值偏差的绝对值的均值</span></span><br></pre></td></tr></table></figure><h4 id="多变量均值标准差最值rowsdrowmeanrowminrowmax">2.2.7多变量均值、标准差、最值：rowsd、rowmean、rowmin、rowmax</h4><p>　　该 4 个函数都不能与 <code>by</code> 组合使用。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> xx_total = rowtotal(x1 x2 x3)   <span class="comment">//x1、x2、x3的加总值</span></span><br><span class="line"><span class="keyword">egen</span> xx_mean = rowmean(x1 x2 x3)     <span class="comment">//x1、x2、x3的有效均值(缺失值不进入平均运算)</span></span><br><span class="line"><span class="keyword">egen</span> xx_min = rowmin(x1 x2 x3)       <span class="comment">//x1、x2、x3的最小值</span></span><br><span class="line"><span class="keyword">egen</span> xx_max = rowmax(x1 x2 x3)       <span class="comment">//x1、x2、x3的最大值</span></span><br></pre></td></tr></table></figure><h4 id="数列seq">2.2.8 数列——seq</h4><p>　　该运算函数可以与 <code>by</code> 组合使用。</p><p>　　<strong>基础语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">egen</span> newvar = seq() [, from(#) to(#) block(#)]</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> from(#) 表示从 # 开始计数，默认为 1；</span></span><br><span class="line"><span class="comment">         to(#) 表示计数到 # 为止；</span></span><br><span class="line"><span class="comment">         block(#) 表示每个数字计数的次数。         */</span></span><br></pre></td></tr></table></figure><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 每个数字计数一次，范围1～4，重复计数: 1,2,3,4, | 1,2,3,4, | 1,……</span></span><br><span class="line"><span class="keyword">egen</span> <span class="keyword">list</span>=seq(), to(4)</span><br><span class="line"><span class="keyword">egen</span> <span class="keyword">list</span>=seq(), to(4) block(1)</span><br><span class="line"><span class="comment">** 每个数字计数两次，范围1～4，重复计数: 1,1,2,2,3,3,4,4, | 1,1,2,2,3,3,4,4, | 1,……</span></span><br><span class="line"><span class="keyword">egen</span> <span class="keyword">list</span>=seq(), to(4) block(2)</span><br><span class="line"><span class="comment">** 每个数字计数两次，范围3～4，重复计数: 3,3,4,4, | 3,3,4,4, | 3,……</span></span><br><span class="line"><span class="keyword">egen</span> <span class="keyword">list</span>=seq(), from(3) to(4) block(2)</span><br></pre></td></tr></table></figure><h4 id="其他kurt">2.2.9 其他——kurt、</h4><p>　　<code>kurt</code> 命令可以与 <code>by</code> 组合使用。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** kurt: 表达式exp的峰度</span></span><br><span class="line"><span class="keyword">egen</span> x1_kurt = kurt(x1), <span class="keyword">by</span>(PID)     <span class="comment">//根据PID分组计算变量x1的峰度</span></span><br></pre></td></tr></table></figure><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜相关性、共线性检验</title>
      <link href="/posts/1638/"/>
      <url>/posts/1638/</url>
      
        <content type="html"><![CDATA[<h2 id="一命令">一、命令</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 变量相关性，相关性小于 0.6</span></span><br><span class="line"><span class="keyword">corr</span>   x1 x2 x3 x4 x5 x6</span><br><span class="line"><span class="keyword">pwcorr</span> x1 x2 x3 x4 x5 x6</span><br><span class="line"></span><br><span class="line"><span class="comment">** 多重共线性</span></span><br><span class="line">coldiag2 x1 x2 x3 x4 x5 x6   <span class="comment">//条件数30</span></span><br><span class="line">collin   x1 x2 x3 x4 x5 x6   <span class="comment">//VIF值10，条件数30</span></span><br></pre></td></tr></table></figure><p>　　‍</p><p>　　在实证分析中，需要检验相关性和共线性的变量有核心解释变量、其他解释变量(控制变量)。</p><p>　　<code>corr</code> 或 <code>pwcorr</code>计算出来变量间的相关系数，如果其绝对值都小于0.3，则一般认为不存在相关性，或认为相关性很低。</p><p>　　也可以使用回归的的方法计算出 VIF值（出自陈强老师的《高级计量经济学(第二版)》第九章）：</p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220316140958-6dsln76.png"alt="image.png" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220316141035-6h6slfd.png"alt="image.png" /></p><p>　　‍</p><h2 id="二示例">二、示例</h2><p>　　以下使用美国女性工资的数据，使用 <code>webuse</code>命令调用即可。</p><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)　　‍</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 调用女性工资数据</span></span><br><span class="line"><span class="keyword">webuse</span> womenwk, <span class="keyword">clear</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 考察年龄、教育程度、婚姻和12岁以下孩子数量之间的相关性</span></span><br><span class="line"><span class="keyword">corr</span> age education married children</span><br><span class="line"></span><br><span class="line"><span class="comment">** 考察年龄、教育程度、婚姻和12岁以下孩子数量之间的多重共线性</span></span><br><span class="line">collin age education married children</span><br><span class="line"></span><br><span class="line"><span class="comment">********************* 结果展示 *********************</span></span><br><span class="line"><span class="comment">// 相关性</span></span><br><span class="line">· <span class="keyword">corr</span> age education married children</span><br><span class="line">             |      age educat~<span class="keyword">n</span>  married children</span><br><span class="line">-------------+------------------------------------</span><br><span class="line">         age |   1.0000</span><br><span class="line">   education |   0.2377   1.0000</span><br><span class="line">     married |   0.3459   0.2768   1.0000</span><br><span class="line">    children |   0.0343  -0.0344  -0.1052   1.0000</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多重共线性</span></span><br><span class="line">· collin age education married children</span><br><span class="line">  Collinearity Diagnostics</span><br><span class="line"></span><br><span class="line">                        SQRT                   R-</span><br><span class="line">  Variable      <span class="keyword">VIF</span>     <span class="keyword">VIF</span>    Tolerance    Squared</span><br><span class="line">----------------------------------------------------</span><br><span class="line">       age      1.17    1.08    0.8533      0.1467</span><br><span class="line"> education      1.11    1.05    0.9002      0.0998</span><br><span class="line">   married      1.21    1.10    0.8285      0.1715</span><br><span class="line">  children      1.02    1.01    0.9830      0.0170</span><br><span class="line">----------------------------------------------------</span><br><span class="line">  <span class="keyword">Mean</span> <span class="keyword">VIF</span>      1.13</span><br><span class="line"></span><br><span class="line">                           Cond</span><br><span class="line">        Eigenval          Index</span><br><span class="line">---------------------------------</span><br><span class="line">    1     4.3149          1.0000</span><br><span class="line">    2     0.4305          3.1659</span><br><span class="line">    3     0.1966          4.6848</span><br><span class="line">    4     0.0382         10.6266</span><br><span class="line">    5     0.0197         14.7850</span><br><span class="line">---------------------------------</span><br><span class="line"> Condition Number        14.7850 </span><br><span class="line"> Eigenvalues &amp; Cond Index computed from scaled raw sscp (w/ intercept)</span><br><span class="line"> <span class="built_in">Det</span>(correlation <span class="keyword">matrix</span>)    0.7792</span><br></pre></td></tr></table></figure><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> Stata </tag>
            
            <tag> 相关性 </tag>
            
            <tag> 多重共线性 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜数据格式转换</title>
      <link href="/posts/33587/"/>
      <url>/posts/33587/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://fgzfgz.github.io/BiliBili/">配套视频、笔记与代码</a></strong></p><h3 id="格式转换">1. 格式转换</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">**【字符型 --&gt; 数值型】</span></span><br><span class="line"><span class="comment">// 将e11、e12 改为数值型变量，并替换之前的变量</span></span><br><span class="line"><span class="keyword">destring</span> e11 e12, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">// 将e11、e12 改为数值型变量，忽略所有&quot;NA&quot;字符(NA 替换为缺失值)，并替换之前的变量</span></span><br><span class="line"><span class="keyword">destring</span> e11 e12,ignore(NA) <span class="keyword">replace</span></span><br><span class="line"><span class="comment">// 将e11 改为数值型变量，并生成一个新变量new_e11</span></span><br><span class="line"><span class="keyword">destring</span> e11, <span class="keyword">g</span>(new_e11)</span><br><span class="line"></span><br><span class="line"><span class="comment">**【数值型 --&gt; 字符型】将数值型变量 e11、e12 改为字符型变量，并替换之前的变量（replace 命令）</span></span><br><span class="line"><span class="keyword">tostring</span> e11 e12, <span class="keyword">replace</span></span><br></pre></td></tr></table></figure><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20220922144457-c3mwezc.png"alt="image" /></p><h3 id="数据存储格式变更">2. 数据存储格式变更</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 将字符型变量A的存储位数改为6位字符型变量</span></span><br><span class="line"><span class="keyword">recast</span> str6 A</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> 存储位数必须不能小于该变量的所有取值的最大位数。   */</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜长宽数据转换</title>
      <link href="/posts/2262/"/>
      <url>/posts/2262/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://fgzfgz.github.io/BiliBili/">配套视频、笔记与代码</a></strong></p><p>　　将竖向的列变为横向的行，即为“长转宽”；将横的行变为竖向的列，即为“宽转长”。在Stata 中，通过 <code>reshape</code> 命令可以实现长宽数据转换。</p><h2 id="一基本语法">一、基本语法</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 宽数据转化为长数据 (wide to long)</span></span><br><span class="line"><span class="keyword">reshape</span> long stubnames, <span class="built_in">i</span>(<span class="keyword">varlist</span>) [options]</span><br><span class="line"></span><br><span class="line"><span class="comment">** 长数据转化为宽数据 (long to wide)</span></span><br><span class="line"><span class="keyword">reshape</span> wide stubnames, <span class="built_in">i</span>(<span class="keyword">varlist</span>) [options]</span><br><span class="line"></span><br><span class="line"><span class="comment">** 长宽数据转换失败时，列出转换失败的样本</span></span><br><span class="line"><span class="keyword">reshape</span> <span class="keyword">error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> stubnames 表示变量前缀名；</span></span><br><span class="line"><span class="comment">         i(varlist): varlist 是宽数据中可以唯一识别每组样本的变量，如家庭数据中的家庭编码；</span></span><br><span class="line"><span class="comment">         j(varlist): varlist 是在长数据中，根据宽数据唯一识别码的分组后，每组中每个样本的识别码，如家庭成员数据中的成员顺序码；</span></span><br><span class="line"><span class="comment">         string: 长宽数据转换时，j(varlist) 中的 varlist 不是数值时，需要使用string；不特别指定，默认是数值。               */</span></span><br></pre></td></tr></table></figure><h2 id="二示例">二、示例</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** wide to long (宽数据转化为长数据)</span></span><br><span class="line"><span class="keyword">reshape</span> long X1 X2,<span class="built_in">i</span>(ID) <span class="built_in">j</span>(<span class="keyword">list</span>) string</span><br><span class="line"><span class="comment">** Note: 每个样本的唯一识别码是ID，需要转换的变量是X1*、X2*(星号表示通配符)，可将X1_1 X1_2转换为X1，并将&quot;_1&quot;和&quot;_2&quot;作为新生成变量list的值，list不是数值型，因此需要加上string选项</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** long to wide (长数据转化为宽数据)</span></span><br><span class="line"><span class="keyword">reshape</span> wide X1 X2,<span class="built_in">i</span>(ID) <span class="built_in">j</span>(<span class="keyword">list</span>) string</span><br><span class="line"><span class="comment">** Note: 转换为宽数据后，ID应作为唯一识别码，需要将X1、X2转换为X1*、X2*，其中*是对应list的取值。若list不是数值型，应当加上strin</span></span><br></pre></td></tr></table></figure><p>　　组合命令示例：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** wide to long</span></span><br><span class="line"><span class="keyword">reshape</span> long X1,<span class="built_in">i</span>(ID) <span class="built_in">j</span>(<span class="keyword">list</span>) string   <span class="comment">//将X1_1 ~ X1_5转化为长数据</span></span><br><span class="line"><span class="comment">** 将list转为数值型(方法一)</span></span><br><span class="line"><span class="keyword">forvalues</span> i=1/5 &#123;</span><br><span class="line">    <span class="keyword">replace</span> <span class="keyword">list</span>=<span class="string">&quot;`i&#x27;&quot;</span> <span class="keyword">if</span> <span class="keyword">list</span>==<span class="string">&quot;_`i&#x27;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">destring</span> <span class="keyword">list</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 将list转为数值型(方法二)</span></span><br><span class="line"><span class="keyword">destring</span> <span class="keyword">list</span>,<span class="built_in">i</span>(_) <span class="keyword">replace</span>    <span class="comment">//i(_)表示忽略下划线，将其他数字转换为数值型。</span></span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> 转换结果 —— X1，list取值为1～5。*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** long to wide</span></span><br><span class="line"><span class="comment">** 将list转为字符型</span></span><br><span class="line"><span class="keyword">tostring</span> <span class="keyword">list</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="keyword">forvalues</span> i=1/5 &#123;</span><br><span class="line">    <span class="keyword">replace</span> <span class="keyword">list</span>=<span class="string">&quot;`i&#x27;&quot;</span> <span class="keyword">if</span> <span class="keyword">list</span>==<span class="string">&quot;_`i&#x27;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">reshape</span> wide X1,<span class="built_in">i</span>(ID) <span class="built_in">j</span>(<span class="keyword">list</span>) string</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> 转换结果：X1_1 X1_2 X1_3 X1_4 X1_5。*/</span></span><br></pre></td></tr></table></figure><h2 id="三图示">三、图示</h2><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* reshape 示例：</span></span><br><span class="line"><span class="comment">         long data</span></span><br><span class="line"><span class="comment">        +------------+                  wide data</span></span><br><span class="line"><span class="comment">        | i  j    x  |                 +---------------------+</span></span><br><span class="line"><span class="comment">        |------------|                 | i    x1    x2   x3  |</span></span><br><span class="line"><span class="comment">        | 1  1   4.1 |     reshape     |---------------------|</span></span><br><span class="line"><span class="comment">        | 1  2   4.5 |   &lt;---------&gt;   | 1    4.1   4.5    . |</span></span><br><span class="line"><span class="comment">        | 2  1   3.3 |                 | 2    3.3   3.0  5.5 |</span></span><br><span class="line"><span class="comment">        | 2  2   3.0 |                 +---------------------+</span></span><br><span class="line"><span class="comment">        | 2  3   5.5 |          </span></span><br><span class="line"><span class="comment">        +------------+                                        */</span></span><br></pre></td></tr></table></figure><p>　　<strong>常见情况：</strong></p><p>　　家庭数据中，家庭编码 ID可以唯一识别每一个家庭样本，每个家庭成员在家庭内有唯一顺序码list，用家庭编码 ID 和家庭内顺序码 list 可以唯一识别每个家庭成员。</p><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜数据匹配、接驳</title>
      <link href="/posts/19316/"/>
      <url>/posts/19316/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://fgzfgz.github.io/BiliBili/">配套视频、笔记与代码</a></strong></p><p><strong>相关命令：</strong></p><ul><li><a href="siyuan://blocks/20211108140237-6a05rni">"append"</a>:数据纵向接驳</li><li><a href="siyuan://blocks/20211018171256-a7ehbk9">"merge"</a>:精确数据匹配</li><li>"reclink"](siyuan://blocks/20220406230229-pmnxtfx):模糊数据匹配</li><li><a href="siyuan://blocks/20220406230230-3g0oxen">"joinby"</a>:多对多的匹配</li><li><a href="siyuan://blocks/20220406230230-f70lxvt">"nearmrg"</a>:相似值的匹配</li></ul><p>其中，<code>reclink</code>、<code>joinby</code>、<code>nearmrg</code>的用法来自：</p><p><ahref="https://www.lianxh.cn/news/7f3598d66d286.html">Stata：数据合并与匹配-merge-reclink|连享会主页 (lianxh.cn)</a></p><p>　　‍</p><p>其他命令：</p><p><code>mergemany</code>、<code>mergeall</code></p><p><a href="https://www.jianshu.com/p/8d70fac20345">mergemany --一个灵活的命令来合并许多文件 - 简书 (jianshu.com)</a></p><p><a href="https://www.jianshu.com/p/932661ee84da">mergeall --合并多个文件的安全方法 - 简书 (jianshu.com)</a></p><p>　　‍</p><h2 id="一数据接驳-append">一、数据接驳: append</h2><p>　　数据接驳是数据集的<strong>纵向扩展</strong>，将不同的数据集纵向拼接在一起。</p><ul><li>数据匹配使用 <code>append</code> 命令。与 <code>merge</code>不同，数据接驳 <code>append</code> 命令不需要指定识别变量；</li><li>当前使用的数据是 master data，<code>append</code>命令可以生成一个结果变量注明样本的来源；</li><li>在接驳的数据集中，变量名相同的变量的值将保存在同一变量名下。</li></ul><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">append</span> using filename [filename ...] [, options]</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> filename 表示待接驳的外部数据，若不在当前工作路径下，可以使用cd命令变更工作路径，</span></span><br><span class="line"><span class="comment">         或者在filename处填写完整的数据存放路径；append命令一次可以接驳多条命令。    */</span></span><br></pre></td></tr></table></figure><p>　　<strong>所有选项 options：</strong></p><p>　　<code>append</code> 的选项大多与 <code>merge</code>命令相同。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Options: </span></span><br><span class="line"><span class="comment">    keep(varlist)：仅从其他数据集中接驳varlist变量到master data，简写作&quot;keep(varlist)&quot;；</span></span><br><span class="line"><span class="comment">    generate(newvar)：生成一个新变量标记样本的来源，简写作&quot;gen(newvar)&quot;；</span></span><br><span class="line"><span class="comment">    nolabel：在匹配完成后，去除using data匹配变量中的值标签，简写作&quot;nol&quot;；</span></span><br><span class="line"><span class="comment">    force：强制接驳配字符型与数值型变量。                                            */</span></span><br></pre></td></tr></table></figure><p>　　比较常用的 options 是<code>keepus(varlist)</code>、<code>gen(newvar)</code> 。</p><p>　　<strong>示例：</strong></p><p>(⚠️注意：不同设备的显示字体不同，可能会出现字符错位的现象。将错位的文本复制到其他文本编辑器/ Stata do 文件编辑器中，可以解决此问题。)</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="string">&quot;data1.dta&quot;</span></span><br><span class="line"><span class="keyword">append</span> using <span class="string">&quot;data2.dta&quot;</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;new_data.dta&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 接驳数据图示：</span></span><br><span class="line"><span class="comment">                                                               new_data</span></span><br><span class="line"><span class="comment">   data1                  data2                               +---------------------+</span></span><br><span class="line"><span class="comment">  +---------------+      +----------------+                   | i    x1   x2   x3   |</span></span><br><span class="line"><span class="comment">  | id   x1  x3   |      | id    x1    x2 |                   |---------------------|</span></span><br><span class="line"><span class="comment">  |---------------|      |----------------|      append       | 101   3   .    2    |</span></span><br><span class="line"><span class="comment">  | 101  3   2    |      | 103    1   3.3 |    ----------&gt;    | 102   5   .    1.1  |</span></span><br><span class="line"><span class="comment">  | 102  5   1.1  |      | 104    2   3.0 |                   | 103   1   3.3  .    |</span></span><br><span class="line"><span class="comment">  +---------------+      +----------------+                   | 104   2   3.0  .    |</span></span><br><span class="line"><span class="comment">                                                              +---------------------+      */</span></span><br></pre></td></tr></table></figure><p>　　‍</p><h2 id="二精确数据匹配-merge">二、精确数据匹配: merge</h2><p>　　数据匹配是数据集的<strong>横向扩展</strong>，通过识别某些变量在不同数据集中的对应关系，将其他数据集的一些变量匹配到当前数据中。</p><ul><li>数据匹配使用 <code>merge</code> 命令，当前打开的数据称为 masterdata，待匹配的数据称为 using data；</li><li>数据匹配包含 1:1，1:m，m:1，m:m 四种类型；</li><li>在匹配完成后，会生成一个显示匹配结果的变量，默认是“_merge”。</li></ul><p>　　<strong>基本语法：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">merge</span> X:X <span class="keyword">varlist</span> using filename [, options]</span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> X:X 表示匹配类型，可以是1:1，1:m，m:1，m:m；</span></span><br><span class="line"><span class="comment">         varlist 表示master data和using data之间匹配的识别变量，根据匹配的类型不同，varlist的要求也不同；</span></span><br><span class="line"><span class="comment">         filename 表示using data的名称，若不在当前工作路径下，可以使用cd命令变更工作路径，或者在filename处填写完整的数据存放路径。*/</span></span><br></pre></td></tr></table></figure><p>　　<strong>所有选项 options：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Options: </span></span><br><span class="line"><span class="comment">    keepusing(varlist)：仅从using data中匹配varlist变量到master data，简写作&quot;keepus(varlist)&quot;；</span></span><br><span class="line"><span class="comment">    generate(newvar)：定义匹配结果变量名，默认是&quot;_merge&quot;，简写作&quot;gen(newvar)&quot;；</span></span><br><span class="line"><span class="comment">    nogenerate：匹配完成后，不生成匹配结果变量&quot;_merge&quot;，简写作&quot;nogen&quot;，不能和gen(newvar)选项同时使用；</span></span><br><span class="line"><span class="comment">    nolabel：在匹配完成后，去除using data匹配变量中的值标签，简写作&quot;nol&quot;；</span></span><br><span class="line"><span class="comment">    update：更新同名变量数据，即使用using data中的非缺失值替换master data中同名变量的缺失值；</span></span><br><span class="line"><span class="comment">    replace：替换同名变量数据，即使用using data中的非缺失值替换master data中的所有同名变量的值；</span></span><br><span class="line"><span class="comment">    noreport：不汇报匹配结果；</span></span><br><span class="line"><span class="comment">    force：强制匹配字符型与数值型变量。                                                     */</span></span><br></pre></td></tr></table></figure><p>　　<code>merge</code> 命令一般使用 options 较少，比较常用的 options是 <code>keepus(varlist)</code>、<code>gen(newvar)</code>。</p><p>　　<strong>匹配结果：</strong></p><p>　　不论哪种匹配方式，生成的匹配结果变量会有三个固定的取值：</p><p>　　_merge=1：未匹配成功，该样本的数据仅来自 master data；</p><p>　　_merge=2：未匹配成功，该样本的数据仅来自 using data；</p><p>　　_merge=3：匹配成功，该样本的数据同时来自 master data 和 usingdata；</p><p>　　因此，可以根据匹配结果变量的取值，筛选出需要的样本：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 不删除任何样本，直接删除_merge变量</span></span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="comment">** 仅保留匹配成功的样本</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> _merge==3</span><br><span class="line"><span class="comment">** 仅保留来自master data相关的样本</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">if</span> _merge==2</span><br><span class="line"><span class="comment">** 删除master data中未匹配成功的样本</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">if</span> _merge==1</span><br></pre></td></tr></table></figure><h3 id="第一种one-to-one-merge">第一种：one-to-one merge</h3><p>　　<strong>使用 1:1 匹配的条件：</strong>用于匹配的 varlist 在master data 和 using data中可以<strong>唯一识别</strong>每一个样本。若某一个变量不能唯一识别每个样本，则要求通过多个变量可以唯一识别两套数据中的每一个样本。</p><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="string">&quot;master_data.dta&quot;</span></span><br><span class="line"><span class="keyword">merge</span> 1:1 id using <span class="string">&quot;using_data.dta&quot;</span></span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;new_data.dta&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 匹配结果展示</span></span><br><span class="line">    Result                      Number of obs</span><br><span class="line">    -----------------------------------------</span><br><span class="line">    Not matched                             2</span><br><span class="line">        from master                         1  (_merge==1)</span><br><span class="line">        from using                          1  (_merge==2)</span><br><span class="line"></span><br><span class="line">    Matched                                 3  (_merge==3)</span><br><span class="line">    -----------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 匹配结果图示：</span></span><br><span class="line"><span class="comment">   master_data           using_data                     new_data</span></span><br><span class="line"><span class="comment">  +--------------+      +------------+                 +---------------------------------------+</span></span><br><span class="line"><span class="comment">  | id   x1  x2  |      | id    x3   |                 | id    x1    x2   x3   _merge          | </span></span><br><span class="line"><span class="comment">  |--------------|      |------------|                 |---------------------------------------| </span></span><br><span class="line"><span class="comment">  | 101  1   4.1 |      | 101    2   |      merge      | 101    1   4.1   2    Matched (3)     | </span></span><br><span class="line"><span class="comment">  | 102  2   4.5 |      | 102    1.1 |    ---------&gt;   | 102    2   4.5   1.1  Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 103  3   3.3 |      | 103    5   |                 | 103    3   3.3   5    Matched (3)     | </span></span><br><span class="line"><span class="comment">  | 104  4   3.0 |      | 105    7   |                 | 104    4   3.0   .    Master only (1) |</span></span><br><span class="line"><span class="comment">  +--------------+      +------------+                 | 105    .   .     7    Using only (2)  | </span></span><br><span class="line"><span class="comment">                                                       +---------------------------------------+        */</span></span><br></pre></td></tr></table></figure><h3 id="第二种one-to-many-merge">第二种：one-to-many merge</h3><p>　　<strong>使用 1:m 匹配的条件：</strong>用于匹配的 varlist 在master data 中可以<strong>唯一识别</strong>每一个样本，且在 using data中对应多个样本。</p><p>　　<strong>常见使用场景：</strong></p><ul><li>master data 是家庭数据，using data是个体数据，一个家庭对应多个个体，使用家庭的编码进行识别；</li><li>master data 是省级数据，using data是地级市数据，一个省对应多个地级市，使用省份的编码进行识别。</li></ul><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="string">&quot;master_data.dta&quot;</span></span><br><span class="line"><span class="keyword">merge</span> 1:<span class="keyword">m</span> id using <span class="string">&quot;using_data.dta&quot;</span></span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;new_data.dta&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 匹配结果展示</span></span><br><span class="line"></span><br><span class="line">    Result                      Number of obs</span><br><span class="line">    -----------------------------------------</span><br><span class="line">    Not matched                             1</span><br><span class="line">        from master                         1  (_merge==1)</span><br><span class="line">        from using                          0  (_merge==2)</span><br><span class="line"></span><br><span class="line">    Matched                                 4  (_merge==3)</span><br><span class="line">    -----------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 匹配结果图示：</span></span><br><span class="line"><span class="comment">   master_data           using_data                     new_data</span></span><br><span class="line"><span class="comment">  +--------------+      +------------+                 +---------------------------------------+</span></span><br><span class="line"><span class="comment">  | id   x1  x2  |      | id    x3   |                 | id    x1    x2   x3   _merge          | </span></span><br><span class="line"><span class="comment">  |--------------|      |------------|                 |---------------------------------------| </span></span><br><span class="line"><span class="comment">  | 101  1   4.1 |      | 101    2   |      merge      | 101    1   4.1   2    Matched (3)     | </span></span><br><span class="line"><span class="comment">  | 102  2   4.5 |      | 102    1.1 |    ---------&gt;   | 102    2   4.5   1.1  Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 103  3   3.3 |      | 102    2.7 |                 | 102    2   4.5   2.7  Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 104  4   3.0 |      | 103    5   |                 | 103    3   3.3   5    Matched (3)     |</span></span><br><span class="line"><span class="comment">  +--------------+      +------------+                 | 104    4   3.0   .    Master only (1) |   </span></span><br><span class="line"><span class="comment">                                                       +---------------------------------------+     */</span></span><br></pre></td></tr></table></figure><h3 id="第三种many-to-one-merge">第三种：many-to-one merge</h3><p>　　将 1:m 匹配中的 master data 和 using data的数据特征互换时，就应该使用 m:1 匹配。</p><p>　　<strong>使用 m:1 匹配的条件：</strong>用于匹配的 varlist 在 usingdata 中可以<strong>唯一识别</strong>每一个样本，且在 master data中对应多个样本。</p><p>　　<strong>常见使用场景：</strong></p><ul><li>master data 是个体数据，using data是家庭数据，多个个体可以同时在一个家庭内，使用家庭的编码进行识别；</li><li>master data 是地级市数据，using data是省级数据，多个地级市同属于一个省份，使用省份的编码进行识别。</li></ul><p>　　<strong>示例：</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="string">&quot;master_data.dta&quot;</span></span><br><span class="line"><span class="keyword">merge</span> <span class="keyword">m</span>:1 id using <span class="string">&quot;using_data.dta&quot;</span></span><br><span class="line"><span class="keyword">drop</span> _merge</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;new_data.dta&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 匹配结果展示</span></span><br><span class="line"></span><br><span class="line">    Result                      Number of obs</span><br><span class="line">    -----------------------------------------</span><br><span class="line">    Not matched                             1</span><br><span class="line">        from master                         1  (_merge==1)</span><br><span class="line">        from using                          0  (_merge==2)</span><br><span class="line"></span><br><span class="line">    Matched                                 4  (_merge==3)</span><br><span class="line">    -----------------------------------------</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 匹配结果图示：</span></span><br><span class="line"><span class="comment">   master_data           using_data                     new_data</span></span><br><span class="line"><span class="comment">  +--------------+      +------------+                 +---------------------------------------+</span></span><br><span class="line"><span class="comment">  | id   x1  x2  |      | id    x3   |                 | id    x1    x2   x3   _merge          | </span></span><br><span class="line"><span class="comment">  |--------------|      |------------|                 |---------------------------------------| </span></span><br><span class="line"><span class="comment">  | 101  1   4.1 |      | 101    2   |      merge      | 101    1   4.1   2    Matched (3)     | </span></span><br><span class="line"><span class="comment">  | 102  2   4.5 |      | 102    1.1 |    ---------&gt;   | 102    2   4.5   1.1  Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 103  3   3.3 |      | 103    5   |                 | 103    3   3.3   5    Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 103  9   5.5 |      +------------+                 | 103    9   5.5   5    Matched (3)     |</span></span><br><span class="line"><span class="comment">  | 104  4   3.0 |                                     | 104    4   3.0   .    Master only (1) |   </span></span><br><span class="line"><span class="comment">  +--------------+                                     +---------------------------------------+        */</span></span><br></pre></td></tr></table></figure><h3 id="第四种many-to-many-merge">第四种：many-to-many merge</h3><p>　　<strong>m:m匹配不建议使用，因为其匹配结果是不确定的！</strong></p><p>　　在数据匹配时，多数情况使用 1:1、1:m、m:1已经可以解决问题。此处不再展示 m:m 的用法。</p><p>　　‍</p><h2 id="三模糊数据匹配-reclink-字符串的模糊匹配">三、模糊数据匹配:reclink (字符串的模糊匹配)</h2><p>　　在横向合并时，若匹配变量在内容上有些差别，如在第一份数据中为「PrincetonUniversity」，而在第二份数据中为「Princeton U」，我们可以通过<code>reclink</code>命令快速模糊匹配，以避免繁琐的人工识别。具体示例如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">*输入两份数据</span></span><br><span class="line"><span class="keyword">clear</span></span><br><span class="line"><span class="keyword">input</span> str13 name str14 city</span><br><span class="line"><span class="string">&quot;Zhang ziye&quot;</span>  <span class="string">&quot;Beijing&quot;</span></span><br><span class="line"><span class="string">&quot;Liu biqian&quot;</span>  <span class="string">&quot;Shanghai&quot;</span></span><br><span class="line"><span class="string">&quot;Hu,yi&quot;</span>       <span class="string">&quot;Guangzhou&quot;</span></span><br><span class="line"><span class="string">&quot;Yang,Zhou&quot;</span>   <span class="string">&quot;Hennan&quot;</span></span><br><span class="line">end</span><br><span class="line"><span class="keyword">gen</span> id1=_n</span><br><span class="line"><span class="keyword">save</span> file1.dta, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">clear</span></span><br><span class="line"><span class="keyword">input</span> str14 name str10 city</span><br><span class="line"><span class="string">&quot;Zhan, ziye&quot;</span>  <span class="string">&quot;beijing&quot;</span></span><br><span class="line"><span class="string">&quot;LIU Biqian&quot;</span>  <span class="string">&quot;Shaanghai&quot;</span></span><br><span class="line"><span class="string">&quot;huyi&quot;</span>        <span class="string">&quot;guangdong&quot;</span></span><br><span class="line"><span class="string">&quot;Zhou yang&quot;</span>   <span class="string">&quot;henan&quot;</span></span><br><span class="line">end</span><br><span class="line"><span class="keyword">gen</span> id2=_n</span><br><span class="line"><span class="keyword">save</span> file2.dta, <span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">*-模糊匹配</span></span><br><span class="line"><span class="keyword">use</span> file1.dta,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">reclink</span> name city using file2.dta, idmaster(id1) idusing(id2) <span class="keyword">gen</span>(matchscore)</span><br><span class="line"><span class="keyword">list</span>, clean noobs</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　模糊匹配后结果：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">      name        Uname        city     Ucity   id1   matchs~<span class="keyword">e</span>   id2   _merge</span><br><span class="line">Zhang ziye   Zhan, ziye     Beijing   beijing     1     0.9719     1        3</span><br><span class="line"> Yang,Zhou    Zhou yang      Hennan     henan     4     0.7797     4        3</span><br><span class="line">Liu biqian                 Shanghai               2          .     .        1</span><br><span class="line">     Hu,yi                Guangzhou               3          .     .        1</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　<code>reclink</code> <strong>命令注意事项</strong> ：</p><ul><li>两份数据中 <strong>id</strong> 名必须不同。如，在上述命令中<code>idmaster(id1)</code>、<code>idusing(id2)</code> 分别代表 masterdata 中的 <strong>id</strong> 和 using data 中的 <strong>id</strong>，结果第五列和第七列解读为 master data中的<strong>id1 = 1</strong> 和using data 中的 <strong>id2 = 1</strong> 匹配成功；</li><li>**_merge** 变量含义与前文类似；</li><li><code>reclink</code>命令可解决的匹配问题：大小写不同、部分字母缺漏或增加、以及顺序颠倒；</li><li><strong>matchscore</strong>变量为匹配分数，分数越高代表匹配效果越好。</li></ul><p>　　另外，<code>reclink</code>命令还允许对匹配变量设定不同权重。比如，在这个例子中，我们认为<strong>city</strong> 是最重要的，则仅需增加 <code>vmatch()</code>选项设定权重。具体示例如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> file1.dta,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">reclink</span> name city using file2.dta, idmaster(id1) idusing(id2) <span class="keyword">gen</span>(matchscore) wmatch(1 15)</span><br><span class="line"><span class="keyword">list</span>, clean noobs</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　模糊匹配后结果：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">      name        Uname        city       Ucity   id1   matchs~<span class="keyword">e</span>   id2   _merge</span><br><span class="line">Zhang ziye   Zhan, ziye     Beijing     beijing     1     0.9659     1        3</span><br><span class="line">Liu biqian   LIU Biqian    Shanghai   Shaanghai     2     0.9475     2        3</span><br><span class="line"> Yang,Zhou    Zhou yang      Hennan       henan     4     0.8129     4        3</span><br><span class="line">     Hu,yi                Guangzhou                 3          .     .        1</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　可以看出，该结果与前文结果具有一定差异。</p><p>　　当然，模糊匹配也可以使用 <code>matchit</code> 命令。更多有关<code>reclink</code> 与<code>matchit</code> 的介绍请参考<ahref="https://www.lianxh.cn/news/06cf887d0c850.html">「Stata：模糊匹配之matchit」</a>。</p><p>　　‍</p><h2 id="四多对多的匹配-joinby">四、多对多的匹配: joinby</h2><p>　　在进行多对多匹配时，我们可以使用 <code>merge</code> 或<code>joinby</code> 命令，但二者又具有哪些差别？具体示例如下：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">*输入数据</span></span><br><span class="line"><span class="keyword">clear</span></span><br><span class="line"><span class="keyword">input</span> group str3 x1</span><br><span class="line">      1  <span class="string">&quot;A&quot;</span></span><br><span class="line">      1  <span class="string">&quot;B&quot;</span></span><br><span class="line">      1  <span class="string">&quot;C&quot;</span></span><br><span class="line">      1  <span class="string">&quot;D&quot;</span></span><br><span class="line">end</span><br><span class="line"><span class="keyword">save</span> file1.dta,<span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">clear</span></span><br><span class="line"><span class="keyword">input</span> group str3 x2</span><br><span class="line">      1  <span class="string">&quot;M&quot;</span></span><br><span class="line">      1  <span class="string">&quot;N&quot;</span></span><br><span class="line">end</span><br><span class="line"><span class="keyword">save</span> file2.dta,<span class="keyword">replace</span></span><br><span class="line"></span><br><span class="line"><span class="comment">*merge 多对多匹配</span></span><br><span class="line"><span class="keyword">use</span> file1.dta,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">merge</span> <span class="keyword">m</span>:<span class="keyword">m</span> group using file2.dta</span><br><span class="line"><span class="keyword">list</span>, clean noobs</span><br><span class="line"></span><br><span class="line"><span class="comment">*joinby 多对多匹配</span></span><br><span class="line"><span class="keyword">use</span> file1.dta,<span class="keyword">clear</span></span><br><span class="line"><span class="keyword">joinby</span> group using file2.dta</span><br><span class="line"><span class="keyword">list</span>, clean noobs</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　<code>merge</code> 命令多对多匹配结果：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">group   x1   x2        _merge</span><br><span class="line">    1    A    <span class="keyword">M</span>   matched (3)</span><br><span class="line">    1    B    <span class="keyword">N</span>   matched (3)</span><br><span class="line">    1    C    <span class="keyword">N</span>   matched (3)</span><br><span class="line">    1    <span class="keyword">D</span>    <span class="keyword">N</span>   matched (3)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　可以看出，<code>merge</code>命令的多对多合并是有问题的，其会以较少数据文件的最后一行值 (比如这里的file2.dta 的最后一行数据「group1，x2=N」) 进行重复合并。</p><p>　　<code>joinby</code> 命令多对多匹配结果：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">group   x1   x2</span><br><span class="line">    1    A    <span class="keyword">N</span></span><br><span class="line">    1    A    <span class="keyword">M</span></span><br><span class="line">    1    B    <span class="keyword">M</span></span><br><span class="line">    1    B    <span class="keyword">N</span></span><br><span class="line">    1    C    <span class="keyword">N</span></span><br><span class="line">    1    C    <span class="keyword">M</span></span><br><span class="line">    1    <span class="keyword">D</span>    <span class="keyword">N</span></span><br><span class="line">    1    <span class="keyword">D</span>    <span class="keyword">M</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　可以看出，<code>joinby</code> 命令显然更符合我们的要求。关于<code>joinby</code> 命令更多详细介绍，请查看帮助文件<code>help joinby</code>。</p><p>　　‍</p><h2 id="五nearmrg-命令相似值的匹配">五、nearmrg 命令：相似值的匹配</h2><p>　　上文已经介绍了字符串模糊匹配命令<code>reclink</code>，这里再介绍一下数值模糊匹配命令<code>nearmrg</code>。关于该命令更多介绍，请查看帮助文件<code>help nearmrg</code>。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">*生成一份数据</span></span><br><span class="line"><span class="keyword">sysuse</span> auto.dta, <span class="keyword">clear</span></span><br><span class="line"><span class="keyword">keep</span> make price mpg</span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> make == <span class="string">&quot;Toyota Celica&quot;</span> |    <span class="comment">///</span></span><br><span class="line">        make == <span class="string">&quot;BMW 320i&quot;</span> |         <span class="comment">///</span></span><br><span class="line">make == <span class="string">&quot;Cad. Seville&quot;</span>  |    <span class="comment">///</span></span><br><span class="line">make == <span class="string">&quot;Pont. Grand Prix&quot;</span> | <span class="comment">///</span></span><br><span class="line">make == <span class="string">&quot;Datsun 210&quot;</span></span><br><span class="line"><span class="keyword">rename</span> make make2</span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;using.dta&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"><span class="keyword">list</span>, clean noobs</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　列出数据：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">make2               price   mpg</span><br><span class="line">Cad. Seville       15,906    21</span><br><span class="line">Pont. Grand Prix    5,222    19</span><br><span class="line">BMW 320i            9,735    25</span><br><span class="line">Datsun 210          4,589    35</span><br><span class="line">Toyota Celica       5,899    18</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　然后，我们将该数据与 auto.dta 进行合并，并找出 using.dta数据中价格浮动在 $50 上下的数据。</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sysuse</span> auto.dta, <span class="keyword">clear</span></span><br><span class="line">nearmrg  using <span class="string">&quot;using.dta&quot;</span>, upper nearvar(price) genmatch(usingmatch) limit(50)</span><br><span class="line"><span class="keyword">keep</span> make price mpg make2 _merge usingmatch</span><br><span class="line"><span class="keyword">list</span>, clean noobs</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">make                price   mpg   make2                   _merge   usingm~<span class="keyword">h</span></span><br><span class="line">Datsun 210          4,589    35   Datsun 210         matched (3)      4,589</span><br><span class="line">Buick Regal         5,189    20   Pont. Grand Prix   matched (3)      5,222</span><br><span class="line">Pont. Grand Prix    5,222    19   Pont. Grand Prix   matched (3)      5,222</span><br><span class="line">Olds Cutl Supr      5,172    19   Pont. Grand Prix   matched (3)      5,222</span><br><span class="line">Dodge Magnum        5,886    16   Toyota Celica      matched (3)      5,899</span><br><span class="line">Toyota Celica       5,899    18   Toyota Celica      matched (3)      5,899</span><br><span class="line">BMW 320i            9,735    25   BMW 320i           matched (3)      9,735</span><br><span class="line">Audi 5000           9,690    17   BMW 320i           matched (3)      9,735</span><br><span class="line">Cad. Seville       15,906    21   Cad. Seville       matched (3)     15,906</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>　　可以看出，using data 中原有 5 行数据，合并后变成了 9行数据。之所以如此，是因为 <strong>auto.dta</strong> 中价格浮动在 50之内的数据都被保留了下来。</p><p>　　‍</p><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜数据打开保存、导入导出、删除</title>
      <link href="/posts/50368/"/>
      <url>/posts/50368/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://fgzfgz.github.io/BiliBili/">配套视频、笔记与代码</a></strong></p><h2 id="一数据打开保存">一、数据打开、保存</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 定义工作路径</span></span><br><span class="line"><span class="keyword">cd</span> <span class="string">&quot;C:/Users/wugan/Desktop/演示/CLHLS-HF/Stata_data&quot;</span></span><br><span class="line"><span class="comment">** 打开数据</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">&quot;CLHLS-2014_2018.dta&quot;</span>,<span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 保存数据</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;CLHLS-2014_2018.dta&quot;</span>,<span class="keyword">replace</span></span><br><span class="line"><span class="keyword">save</span> <span class="string">&quot;演示数据.dta&quot;</span>,<span class="keyword">replace</span></span><br></pre></td></tr></table></figure><h2 id="二删除文件">二、删除文件</h2><p>　　使用 <code>erase</code> 和 <code>rm</code>命令可以删除文件，需要指定路径和准确的文件名。如果路径和文件名中没有空格，可以删除引号。</p><p>　　使用 <code>erase</code> 和 <code>rm</code>命令时，引号内需要注明：</p><ul><li>路径信息：绝对路径 / 相对路径</li><li>文件名</li><li>文件格式</li></ul><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">erase</span> <span class="string">&quot;~/Desktop/newdata.dta&quot;</span></span><br><span class="line"><span class="keyword">rm</span> <span class="string">&quot;~/Desktop/newdata.dta&quot;</span></span><br></pre></td></tr></table></figure><p>　　示例：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">rm</span> <span class="string">&quot;演示数据.dta&quot;</span></span><br></pre></td></tr></table></figure><h2 id="三导入导出数据">三、导入、导出数据</h2><h3 id="数据导入">1. 数据导入</h3><p>　　导入Excel数据：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 基础语法</span></span><br><span class="line"><span class="comment">** 基础语法</span></span><br><span class="line">import excel [using] filename [, options]</span><br><span class="line"><span class="comment">/* Options: 1) sheet 指定导入的工作表</span></span><br><span class="line"><span class="comment">    2) firstrow 将第一行作为变量名</span></span><br><span class="line"><span class="comment">    3) case 指定导入后变量名大小写</span></span><br><span class="line"><span class="comment">        4) clear 清除内存, 替换内存中的数据</span></span><br><span class="line"><span class="comment">    5) allstring 将所有变量以字符型数据导入 */</span></span><br><span class="line"><span class="comment">** 示例</span></span><br><span class="line">import excel <span class="string">&quot;数据导入表.xlsx&quot;</span>, sheet(<span class="string">&quot;Sheet1&quot;</span>) firstrow <span class="keyword">clear</span></span><br></pre></td></tr></table></figure><p>　　导入其他数据：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 导入逗号分隔符数据——CSV</span></span><br><span class="line">import delimited <span class="string">&quot;逗号分隔符数据.csv&quot;</span>, <span class="keyword">clear</span></span><br><span class="line"><span class="comment">** 导入SPSS数据</span></span><br><span class="line">import spss <span class="string">&quot;SPSSdata.sav&quot;</span>, <span class="keyword">clear</span></span><br></pre></td></tr></table></figure><p>　　<strong>导入 Excel 与 CSV 数据注意事项：</strong></p><ol type="1"><li><p>表头设置为一行</p></li><li><p>变量名命名规范：</p><ul><li>变量名不能重复</li><li>不能以数字/符号开头，必须以英文字母或汉字开头</li><li>不能有中文符号，可以有汉字</li><li>无特殊英文字符，所有中文符号、小数点、减号、乘号、空格、英文</li></ul></li></ol><h3 id="数据导出">2. 数据导出</h3><p>　　基础语法：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export excel [using] filename [<span class="keyword">if</span>] [<span class="keyword">in</span>] [, options]</span><br><span class="line"><span class="comment">/* Options: 1) sheet(&quot;Sheet1&quot;,modify|replace) 指定导出的工作表名称</span></span><br><span class="line"><span class="comment">       2) firstrow(variables|varlabels) 变量名或变量标签作为excel表的第一行,简写作first(var|varl)</span></span><br><span class="line"><span class="comment">    3) nolabel 导出变量数值而非变量值标签</span></span><br><span class="line"><span class="comment">    4) replace 替换excel文件</span></span><br><span class="line"><span class="comment">    5) missing(&quot;repval&quot;) 将缺失值替换为 repval  */</span> </span><br></pre></td></tr></table></figure><p>　　示例：</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 导出数据到Excel</span></span><br><span class="line">export excel using <span class="string">&quot;数据表.xlsx&quot;</span>, sheet(<span class="string">&quot;Sheet1&quot;</span>) firstrow(varlabels) <span class="keyword">replace</span>    <span class="comment">//替换Excel文件</span></span><br><span class="line">export excel using <span class="string">&quot;数据表.xlsx&quot;</span>, sheet(<span class="string">&quot;Sheet1&quot;</span>,<span class="keyword">replace</span>) firstrow(varlabels)    <span class="comment">//替换Sheet表格，firstrow(varlabels) 将变量标签作为表头</span></span><br><span class="line">export excel using <span class="string">&quot;数据表.xlsx&quot;</span>, sheet(<span class="string">&quot;Sheet1&quot;</span>,modify ) firstrow(variables)    <span class="comment">//替换Sheet表格中的指定列，firstrow(variables) 将变量名作为表头</span></span><br></pre></td></tr></table></figure><h2 id="四日志功能的使用">四、日志功能的使用</h2><p>　　查看 Stata 路径：<code>sysdir</code></p><p>　　使用 <code>log</code> 命令可以开启 Stata 的日志功能，记录 Stata运行的命令与结果。使用 <code>cmdlog</code> 命令可以开启 Stata的命令日志功能，记录 Stata 运行的命令，但不记录命令运行的结果。</p><h4 id="日志文件">日志文件：</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 汇报日志状态</span></span><br><span class="line"><span class="keyword">log</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">query</span></span><br><span class="line"><span class="comment">** 开启记录日志</span></span><br><span class="line"><span class="keyword">log</span> using filename [, <span class="keyword">append</span> <span class="keyword">replace</span> [text|smcl] name(logname) nomsg]</span><br><span class="line"><span class="comment">** 关闭记录日志</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">close</span> [logname | _all]</span><br><span class="line"><span class="comment">** 暂停/继续记录日志</span></span><br><span class="line"><span class="keyword">log</span> off [logname]  <span class="comment">//暂停记录</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">on</span> [logname]   <span class="comment">//继续记录</span></span><br></pre></td></tr></table></figure><h4 id="命令日志文件">命令日志文件：</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 汇报日志文件状态</span></span><br><span class="line"><span class="keyword">cmdlog</span></span><br><span class="line"><span class="comment">** 打开日志文件</span></span><br><span class="line"><span class="keyword">cmdlog</span> using filename [, <span class="keyword">append</span> <span class="keyword">replace</span>]</span><br><span class="line"><span class="comment">** 关闭日志文件/暂停日志/继续日志</span></span><br><span class="line"><span class="keyword">cmdlog</span> &#123;<span class="keyword">close</span>|off|<span class="keyword">on</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">** 设置默认日志格式</span></span><br><span class="line"><span class="keyword">set</span> logtype &#123;text|smcl&#125; [, permanently]</span><br><span class="line"><span class="keyword">set</span> logtype &#123;text|smcl&#125; [, perm]      <span class="comment">//简写</span></span><br><span class="line"><span class="comment">** 设定屏幕宽度</span></span><br><span class="line"><span class="keyword">set</span> linesize #</span><br></pre></td></tr></table></figure><h4 id="示例">示例：</h4><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 替换日志文件</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;~/Desktop/log.smcl&quot;</span>, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">** 暂停/继续记录日志</span></span><br><span class="line"><span class="keyword">log</span> off     <span class="comment">//暂停日志</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">on</span>      <span class="comment">//继续日志</span></span><br><span class="line"><span class="comment">** 关闭日志</span></span><br><span class="line"><span class="keyword">log</span> <span class="keyword">close</span></span><br><span class="line"><span class="comment">** 拼接到之前的日志文件上</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;~/Desktop/log.smcl&quot;</span>, <span class="keyword">append</span></span><br></pre></td></tr></table></figure><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 指定日志文件格式</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;~/Desktop/log.smcl&quot;</span>, <span class="keyword">replace</span> s  <span class="comment">// smcl简写</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;~/Desktop/log.log&quot;</span>,  <span class="keyword">replace</span> t  <span class="comment">// text简写</span></span><br><span class="line"><span class="keyword">log</span> using <span class="string">&quot;~/Desktop/log.txt&quot;</span>,  <span class="keyword">replace</span> t  <span class="comment">// text简写</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜If 条件使用</title>
      <link href="/posts/17772/"/>
      <url>/posts/17772/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://fgzfgz.github.io/BiliBili/">配套视频、笔记与代码</a></strong></p><h3 id="数值型变量">1. 数值型变量</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 大小关系比较</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> e11==5    <span class="comment">//等于号“==”</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> e11!=5    <span class="comment">//不等号“!=”，其中感叹号为英文符</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> e11&gt;=5    <span class="comment">//大于等于号“&gt;=”</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> e11&lt;=5    <span class="comment">//小于等于号“&lt;=”</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 集合关系运算</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span>  e11==5 |  e11==6     <span class="comment">//【或】关系：条件为 e11=5 或者 e11=6，select变量取值是 0</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span>  e11==5 &amp;  e11==6     <span class="comment">//【且】关系：条件为 e11=5 并且 e11=6，jianyan 变量取值是 0</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> (e11==5 &amp;  e11==6) | e12==5     <span class="comment">//先且后或</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span>  e11==5 &amp; (e12==5  | e12==6)    <span class="comment">//先或后且</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** inlist: 保留特定取值的样本</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> <span class="built_in">inlist</span>(x,1,0)</span><br><span class="line"></span><br><span class="line"><span class="comment">** inrange: 保留 x∈[1,10] 的样本</span></span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> <span class="built_in">inrange</span>(x,1,10)</span><br></pre></td></tr></table></figure><h3 id="字符型变量">2. 字符型变量</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 字符型变量</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> city==<span class="string">&quot;上海&quot;</span></span><br><span class="line"><span class="keyword">replace</span> select=0 <span class="keyword">if</span> <span class="built_in">strmatch</span>(address,<span class="string">&quot;*上海*&quot;</span>)</span><br><span class="line"><span class="keyword">keep</span> <span class="keyword">if</span> <span class="built_in">inlist</span>(x,<span class="string">&quot;是&quot;</span>,<span class="string">&quot;否&quot;</span>)</span><br></pre></td></tr></table></figure><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230117224204-o3rmbre.png"alt="image" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230117224235-qtkvrmh.png"alt="image" /></p><p>　　<imgsrc="https://assets.b3logfile.com/siyuan/1634272634187/assets/image-20230117224254-3cnjkj7.png"alt="image" /></p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>数据清洗｜命令安装、查询</title>
      <link href="/posts/15500/"/>
      <url>/posts/15500/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://fgzfgz.github.io/BiliBili/">配套视频、笔记与代码</a></strong></p><h2 id="一软件介绍">一、软件介绍</h2><p>　　Stata 版本：IC、BE、SE、MP</p><p>　　窗口设置：颜色与字体</p><p>　　窗口：命令窗口、数据浏览/编辑窗口、Do 文件编辑器窗口</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">webuse</span> womenwage.dta</span><br><span class="line"><span class="keyword">webuse</span> lifeexp, <span class="keyword">clear</span>   <span class="comment">// 1998年各国预期寿命数据</span></span><br></pre></td></tr></table></figure><p>　　颜色与含义</p><h2 id="二命令安装查询">二、命令安装、查询</h2><p>　　<strong>命令检索：</strong><code>help</code>、<code>findit</code>、<code>search</code></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 查找 Stata 命令</span></span><br><span class="line"><span class="keyword">findit</span> ivqreg2</span><br><span class="line"><span class="keyword">help</span> <span class="keyword">regress</span>     <span class="comment">//查看已安装命令regress的使用说明</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 在线安装 Stata 外部命令 ivqreg2</span></span><br><span class="line"><span class="keyword">ssc</span> install ivqreg2</span><br><span class="line"><span class="keyword">ssc</span> install ivqreg2, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> 若未安装，则安装该命令;</span></span><br><span class="line"><span class="comment">         若已安装，替换当前已有版本，可用于命令版本更新。 */</span></span><br></pre></td></tr></table></figure><p>　　<strong>命令安装：</strong>help、ssc install、下载后导入</p><p>　　<strong>外部命令导入位置：</strong>Stata 安装路径 — ado — base —首字母文件夹</p><p>　　Stata 路径查看：<code>sysdir</code></p><h2 id="二命令查找安装">二、命令查找、安装</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 查找 Stata 命令</span></span><br><span class="line"><span class="keyword">findit</span> ivqreg2</span><br><span class="line"><span class="keyword">help</span> <span class="keyword">regress</span>     <span class="comment">//查看已安装命令regress的使用说明</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 在线安装 Stata 外部命令 ivqreg2</span></span><br><span class="line"><span class="keyword">ssc</span> install ivqreg2</span><br><span class="line"><span class="keyword">ssc</span> install ivqreg2, <span class="keyword">replace</span></span><br><span class="line"><span class="comment">/* <span class="doctag">Note:</span> 若未安装，则安装该命令;</span></span><br><span class="line"><span class="comment">         若已安装，替换当前已有版本，可用于命令版本更新。 */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">** 使用 stata 命令说明 or 说明文件</span></span><br><span class="line"><span class="keyword">help</span> <span class="keyword">heckman</span>           <span class="comment">//查看 heckman 命令的 stata 说明\说明文件</span></span><br></pre></td></tr></table></figure><h2 id="三do-文件备注">三、Do 文件备注</h2><p>　　Do 文件内，备注方式包括三种：行备注、行内备注、跨行备注</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 行备注</span></span><br><span class="line"><span class="comment">// 行内备注</span></span><br><span class="line"><span class="comment">/* 跨行备注: 第1行</span></span><br><span class="line"><span class="comment">           第2行 */</span> </span><br><span class="line"></span><br><span class="line">命令分行 —— <span class="comment">///</span></span><br></pre></td></tr></table></figure><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 数据清洗 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Stata </tag>
            
            <tag> 命令 </tag>
            
            <tag> 数据清洗 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜主成分分析</title>
      <link href="/posts/25529/"/>
      <url>/posts/25529/</url>
      
        <content type="html"><![CDATA[<p>　　主成分分析的要点：</p><ul><li>区分正向指标与负向指标</li><li>累计贡献率最好大于 80%</li><li>特征根要大于 1</li></ul><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 已将负向指标正向化</span></span><br><span class="line"><span class="keyword">global</span> xlist <span class="string">&quot;X1 X2 X3 X4 X5 X6 X7 X8&quot;</span></span><br><span class="line"><span class="comment">** 权重确定与载核计算</span></span><br><span class="line"><span class="keyword">pca</span> <span class="variable">$xlist</span></span><br><span class="line"><span class="keyword">factor</span> <span class="variable">$xlist</span> , pcf</span><br><span class="line"><span class="comment">** 绘制随碎石图</span></span><br><span class="line"><span class="keyword">screeplot</span>, yline(1)   <span class="comment">//yline(1)表示绘制特征根为1的临界线</span></span><br><span class="line"><span class="comment">** 根据碎石图或载核表, 选取特征根大于1的主成分</span></span><br><span class="line"><span class="keyword">predict</span> f1 f2 f3   <span class="comment">// 假如有三个主成分的特征根大于1</span></span><br><span class="line"><span class="comment">** 生成综合指标: 前面的系数为「pca $xlist」命令运行后的「Proportion」列, 为各主成分的贡献率</span></span><br><span class="line"><span class="keyword">gen</span> X = a1*f1 + a2*f2 + a3*f3</span><br><span class="line"><span class="keyword">drop</span> f1-f3</span><br></pre></td></tr></table></figure><p>　　相关链接：<ahref="https://zhuanlan.zhihu.com/p/281278580">【Stata 写论文】PCA主成分分析和因子分析命令演示（附代码） - 知乎 (zhihu.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> Stata </tag>
            
            <tag> 主成分分析 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜熵权法</title>
      <link href="/posts/33541/"/>
      <url>/posts/33541/</url>
      
        <content type="html"><![CDATA[<p>　　熵权法的计算要点：</p><ul><li>区分正向指标与负向指标</li><li>权重的计算方法</li></ul><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 熵权法</span></span><br><span class="line"><span class="keyword">global</span> xlist1 <span class="string">&quot;X1 X2 X3 X4 X5 X6&quot;</span>   <span class="comment">// 正向指标</span></span><br><span class="line"><span class="keyword">global</span> xlist2 <span class="string">&quot;X7 X8&quot;</span>   <span class="comment">// 负向指标</span></span><br><span class="line"><span class="keyword">global</span> newvar <span class="string">&quot;newvarname&quot;</span>  <span class="comment">// 你需要生成的综合指标变量名</span></span><br><span class="line"><span class="keyword">global</span> xlist <span class="string">&quot;$xlist1 $xlist2&quot;</span></span><br><span class="line"><span class="comment">*** 正向指标</span></span><br><span class="line"><span class="keyword">foreach</span> v of <span class="keyword">global</span> xlist1 &#123;</span><br><span class="line"><span class="keyword">egen</span> min_<span class="symbol">`v&#x27;</span>= <span class="built_in">min</span>(<span class="symbol">`v&#x27;</span>)</span><br><span class="line"><span class="keyword">egen</span> max_<span class="symbol">`v&#x27;</span>= <span class="built_in">max</span>(<span class="symbol">`v&#x27;</span>)</span><br><span class="line"><span class="comment">//正向变量标归一化</span></span><br><span class="line"><span class="keyword">gen</span> <span class="symbol">`v&#x27;</span>_n = (<span class="symbol">`v&#x27;</span>-min_<span class="symbol">`v&#x27;</span>)/(max_<span class="symbol">`v&#x27;</span>-min_<span class="symbol">`v&#x27;</span>)</span><br><span class="line"><span class="keyword">egen</span> <span class="symbol">`v&#x27;</span>_sum = <span class="built_in">sum</span>(<span class="symbol">`v&#x27;</span>_n)</span><br><span class="line"><span class="comment">// 第j个指标中第i个样本所占的比重</span></span><br><span class="line"><span class="keyword">gen</span> p_<span class="symbol">`v&#x27;</span>= <span class="symbol">`v&#x27;</span>_n/<span class="symbol">`v&#x27;</span>_sum</span><br><span class="line"><span class="keyword">gen</span> k_<span class="symbol">`v&#x27;</span> = -(1/<span class="built_in">ln</span>(_N))</span><br><span class="line"><span class="keyword">egen</span> x_<span class="symbol">`v&#x27;</span> = <span class="built_in">sum</span>(p_<span class="symbol">`v&#x27;</span>*<span class="built_in">ln</span>(p_<span class="symbol">`v&#x27;</span>))  </span><br><span class="line"><span class="comment">//计算第j个指标的熵值</span></span><br><span class="line"><span class="keyword">gen</span> e_<span class="symbol">`v&#x27;</span>=k_<span class="symbol">`v&#x27;</span>*x_<span class="symbol">`v&#x27;</span></span><br><span class="line"><span class="comment">//计算差异系数，该系数越大指标越重要</span></span><br><span class="line"><span class="keyword">gen</span> g_<span class="symbol">`v&#x27;</span>=1-e_<span class="symbol">`v&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">*** 负向指标</span></span><br><span class="line"><span class="keyword">foreach</span> v of <span class="keyword">global</span> xlist2 &#123;</span><br><span class="line"><span class="keyword">egen</span> min_<span class="symbol">`v&#x27;</span>= <span class="built_in">min</span>(<span class="symbol">`v&#x27;</span>)</span><br><span class="line"><span class="keyword">egen</span> max_<span class="symbol">`v&#x27;</span>= <span class="built_in">max</span>(<span class="symbol">`v&#x27;</span>)</span><br><span class="line"><span class="comment">//负向变量归一化</span></span><br><span class="line"><span class="keyword">gen</span> <span class="symbol">`v&#x27;</span>_n = (max_<span class="symbol">`v&#x27;</span>-<span class="symbol">`v&#x27;</span>)/(max_<span class="symbol">`v&#x27;</span>-min_<span class="symbol">`v&#x27;</span>)</span><br><span class="line"><span class="keyword">egen</span> <span class="symbol">`v&#x27;</span>_sum = <span class="built_in">sum</span>(<span class="symbol">`v&#x27;</span>_n)</span><br><span class="line"><span class="comment">// 第j个指标中第i个样本所占的比重</span></span><br><span class="line"><span class="keyword">gen</span> p_<span class="symbol">`v&#x27;</span>= <span class="symbol">`v&#x27;</span>_n/<span class="symbol">`v&#x27;</span>_sum</span><br><span class="line"><span class="keyword">gen</span> k_<span class="symbol">`v&#x27;</span> = -(1/<span class="built_in">ln</span>(_N))</span><br><span class="line"><span class="keyword">egen</span> x_<span class="symbol">`v&#x27;</span> = <span class="built_in">sum</span>(p_<span class="symbol">`v&#x27;</span>*<span class="built_in">ln</span>(p_<span class="symbol">`v&#x27;</span>))  </span><br><span class="line"><span class="comment">//计算第j个指标的熵值</span></span><br><span class="line"><span class="keyword">gen</span> e_<span class="symbol">`v&#x27;</span>=k_<span class="symbol">`v&#x27;</span>*x_<span class="symbol">`v&#x27;</span></span><br><span class="line"><span class="comment">//计算差异系数，该系数越大指标越重要</span></span><br><span class="line"><span class="keyword">gen</span> g_<span class="symbol">`v&#x27;</span>=1-e_<span class="symbol">`v&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">egen</span> tmpvar_y =rowtotal(g_*),missing</span><br><span class="line"><span class="comment">*** 计算第j个指标的权重</span></span><br><span class="line"><span class="keyword">foreach</span> v of <span class="keyword">global</span> xlist &#123;</span><br><span class="line"><span class="keyword">gen</span> w_<span class="symbol">`v&#x27;</span>= g_<span class="symbol">`v&#x27;</span>/tmpvar_y</span><br><span class="line"><span class="keyword">gen</span> wn_<span class="symbol">`v&#x27;</span>=w_<span class="symbol">`v&#x27;</span>*<span class="symbol">`v&#x27;</span>_n</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">*** 使用熵权法计算综合指标</span></span><br><span class="line"><span class="keyword">egen</span> <span class="variable">$newvar</span> =rowtotal(wn_*),missing</span><br><span class="line"><span class="keyword">foreach</span> v of <span class="keyword">global</span> xlist &#123;</span><br><span class="line"><span class="keyword">replace</span> <span class="variable">$newvar</span> =. <span class="keyword">if</span> wn_<span class="symbol">`v&#x27;</span>==.</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 删除临时变量</span></span><br><span class="line"><span class="keyword">drop</span> min_* max_* *_n *_sum p_* k_* x_* e_* g_* w_* wn_* tmpvar_y</span><br></pre></td></tr></table></figure><p>　　相关链接：</p><p>　　<ahref="https://zhuanlan.zhihu.com/p/409618462">【知乎】面板数据熵权法的Stata程序</a></p><p>　　<ahref="https://bbs.pinggu.org/thread-10976172-1-1.html">【经管之家】stata熵权法命令分享</a></p><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> Stata </tag>
            
            <tag> 熵权法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>实证｜统计分析</title>
      <link href="/posts/15857/"/>
      <url>/posts/15857/</url>
      
        <content type="html"><![CDATA[<p><strong><ahref="https://fgzfgz.github.io/posts/39149/">配套视频、笔记与代码</a></strong></p><h2 id="一tab-和-tabstat-用法">一、<code>tab</code> 和<code>tabstat</code> 用法</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">** 【tab】查看【某一个】变量的数据分布和累积百分比</span></span><br><span class="line"><span class="keyword">tab</span> e11                 <span class="comment">//不带条件</span></span><br><span class="line"><span class="keyword">tab</span> e11 <span class="keyword">if</span> jianyan==1   <span class="comment">//带条件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">**【tabstat】</span></span><br><span class="line"><span class="comment">// 查看样本数、均值、最大值、最小值、标准差：根据 z13 变量进行分组，保留两位小数（2f）</span></span><br><span class="line"><span class="keyword">tabstat</span> b1a b1b, statistics(<span class="keyword">count</span> <span class="keyword">mean</span> min max sd) <span class="built_in">f</span>(%9.2f) <span class="keyword">by</span>(z13)</span><br><span class="line"><span class="keyword">tabstat</span> b1a b1b, statistics(<span class="keyword">n</span> <span class="keyword">mean</span> min max sd) <span class="built_in">f</span>(%9.2f) <span class="keyword">by</span>(z13)</span><br><span class="line"><span class="keyword">tabstat</span> b1a b1b, stat(<span class="keyword">n</span> <span class="keyword">mean</span> min max sd) <span class="built_in">f</span>(%9.2f) <span class="keyword">by</span>(z13)   <span class="comment">//同上一条命令(简写)</span></span><br><span class="line"><span class="comment">// 查看分位数：p表示百分位数，q表示四分位数(p25、p50、p75)</span></span><br><span class="line"><span class="keyword">tabstat</span> b1a b1b，stat(p5 p10 q p90 p95) </span><br></pre></td></tr></table></figure><h2 id="二summ-命令">二、<code>summ</code> 命令</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//查看变量的均值、最大值、最小值、样本数、标准差</span></span><br><span class="line"><span class="keyword">summ</span> e11 e12 e13                  <span class="comment">//查看所有样本</span></span><br><span class="line"><span class="keyword">summ</span> e11 e12 e13 <span class="keyword">if</span> jianyan==1    <span class="comment">//查看 jianyan 变量取值为 1 的样本的 e11,e12,e13 的均值、最大值、最小值、样本数、标准差</span></span><br></pre></td></tr></table></figure><p>　　‍</p>]]></content>
      
      
      <categories>
          
          <category> 实证分析 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 实证分析 </tag>
            
            <tag> Stata </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜附录C-土地产权制度选择理论（待更新）</title>
      <link href="/posts/64270/"/>
      <url>/posts/64270/</url>
      
        <content type="html"><![CDATA[<h2 id="待更新"><em>待更新</em></h2>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜附录B-消除外部性时征税等价于补贴的理论（待更新）</title>
      <link href="/posts/55471/"/>
      <url>/posts/55471/</url>
      
        <content type="html"><![CDATA[<h2 id="待更新"><em>待更新</em></h2>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜第8章：传统和现代化（待更新）</title>
      <link href="/posts/27109/"/>
      <url>/posts/27109/</url>
      
        <content type="html"><![CDATA[<h2 id="待更新"><em>待更新</em></h2>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜第7章：社区在经济发展中的作用（待更新）</title>
      <link href="/posts/56726/"/>
      <url>/posts/56726/</url>
      
        <content type="html"><![CDATA[<h2 id="待更新"><em>待更新</em></h2>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜第6章：市场与国家（待更新）</title>
      <link href="/posts/47543/"/>
      <url>/posts/47543/</url>
      
        <content type="html"><![CDATA[<h2 id="待更新"><em>待更新</em></h2>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>发展经济学｜第5章：收入分配、贫困与环境问题（待更新）</title>
      <link href="/posts/3771/"/>
      <url>/posts/3771/</url>
      
        <content type="html"><![CDATA[<h2 id="待更新"><em>待更新</em></h2>]]></content>
      
      
      <categories>
          
          <category> 发展经济学笔记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 发展经济学 </tag>
            
            <tag> 发展经济学笔记 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
